{"version":3,"sources":["../../src/startup/routes.js"],"names":["app","all","req","res","next","header","use","express","path","join","__dirname","json","websites","pages","users","auth","live","get","sendFile","error"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGe,kBAASA,GAAT,EAA4B;AACvCA,EAAAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAwBC,GAAxB,EAAwCC,IAAxC,EAA4D;AACrED,IAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,IAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,kBAA3C,EAFqE,CAGrE;;AACAD,IAAAA,IAAI;AACP,GALD;AAMAJ,EAAAA,GAAG,CAACM,GAAJ,CAAQC,8BAAeC,iBAAKC,IAAL,CAAUC,SAAV,EAAqB,kBAArB,CAAf,CAAR;AACAV,EAAAA,GAAG,CAACM,GAAJ,CAAQ,uBAAR;AACAN,EAAAA,GAAG,CAACM,GAAJ,CAAQC,oBAAQI,IAAR,EAAR;AACAX,EAAAA,GAAG,CAACM,GAAJ,CAAQ,eAAR,EAAyBM,oBAAzB;AACAZ,EAAAA,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsBO,iBAAtB;AACAb,EAAAA,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsBQ,iBAAtB;AACAd,EAAAA,GAAG,CAACM,GAAJ,CAAQ,WAAR,EAAqBS,gBAArB;AACAf,EAAAA,GAAG,CAACM,GAAJ,CAAQ,SAAR,EAAmBU,gBAAnB;AACAhB,EAAAA,GAAG,CAACiB,GAAJ,CAAQ,GAAR,EAAa,UAACf,GAAD,EAAgBC,GAAhB,EAAmC;AAC5CA,IAAAA,GAAG,CAACe,QAAJ,CAAaV,iBAAKC,IAAL,CAAUC,SAAS,GAAG,6BAAtB,CAAb;AACH,GAFD;AAGAV,EAAAA,GAAG,CAACM,GAAJ,CAAQa,iBAAR;AACH","sourcesContent":["import express from 'express'\nimport cors from 'cors'\nimport path from 'path'\n\nimport websites from '../routes/websites'\nimport pages from '../routes/pages'\nimport users from '../routes/users'\nimport live from '../routes/live'\nimport auth from '../routes/auth'\nimport error from '../middleware/error'\nimport type { $Application, $Response, $Request, NextFunction } from 'express'\n\nexport default function(app: $Application) {\n    app.all('/', function(req: $Request, res: $Response, next: NextFunction) {\n        res.header('Access-Control-Allow-Origin', '*')\n        res.header('Access-Control-Allow-Headers', 'X-Requested-With')\n        //res.header(\"Access-Control-Expose-Headers\", \"X-Auth-Token\");\n        next()\n    })\n    app.use(express.static(path.join(__dirname, '/../client/build')))\n    app.use(cors())\n    app.use(express.json())\n    app.use('/api/websites', websites)\n    app.use('/api/pages', pages)\n    app.use('/api/users', users)\n    app.use('/api/auth', auth)\n    app.use('/live/*', live)\n    app.get('*', (req: $Request, res: $Response) => {\n        res.sendFile(path.join(__dirname + '/../client/build/index.html'))\n    })\n    app.use(error)\n}\n"],"file":"routes.js"}