{"version":3,"sources":["components/UI/Overlay/Overlay.module.css","utils/tagItems.js","components/ElementsTreeAndProperties/ElementsTree/ItemRenderer.js","utils/getFileUrl.js","components/FilesTreeAndProperties/FilesTree/ItemRenderer.js","components/FilesTreeAndProperties/FilesTree/FilesTree.js","utils/copyToClipboard.js","components/UI/ValueInput/ValueInput.js","components/FilesTreeAndProperties/Properties/FileProperties.js","containers/AdvancedBar/Files/Files.js","components/ResourcesTree/ItemRenderer.js","components/ResourcesTree/ResourcesTree.js","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.js","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.js","components/ElementsTreeAndProperties/Properties/propertiesSuggestedList.js","components/HTMLEditor/HTMLEditor.js","components/ElementsTreeAndProperties/Properties/FileItems/ItemRenderer.js","components/ElementsTreeAndProperties/Properties/FileItems/FileItems.js","components/ElementsTreeAndProperties/Properties/Property pannels/CMSPannels.js","components/ElementsTreeAndProperties/Properties/Properties.js","containers/AdvancedBar/Plugins/Plugins.js","components/ElementsTreeAndProperties/PageProperties/PageProperties.js","containers/AdvancedBar/Pages/Pages.js","containers/AdvancedBar/Templates/Templates.js","containers/AdvancedBar/Account/Account.js","components/UI/TextInput/TextInput.js","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/WebsitesProperties.js","containers/AdvancedBar/Websites/Websites.js","containers/AdvancedBar/AdvancedBar.js","containers/SiteBuilder/Menu/MenuModule/utils/isMobile.js","containers/SiteBuilder/Menu/MenuModule/util.js","containers/SiteBuilder/Menu/MenuModule/placements.js","containers/SiteBuilder/Menu/MenuModule/SubMenu.js","containers/SiteBuilder/Menu/MenuModule/DOMWrap.js","containers/SiteBuilder/Menu/MenuModule/SubPopupMenu.js","containers/SiteBuilder/Menu/MenuModule/utils/legacyUtil.js","containers/SiteBuilder/Menu/MenuModule/Menu.js","containers/SiteBuilder/Menu/MenuModule/MenuItem.js","containers/SiteBuilder/Menu/MenuModule/MenuItemGroup.js","containers/SiteBuilder/Menu/MenuModule/Divider.js","containers/SiteBuilder/Menu/MenuModule/index.js","containers/SiteBuilder/Menu/Menu.js","containers/SiteBuilder/Menu/methods/buildItemsForMenu.js","containers/SiteBuilder/Drawer/Drawer.js","containers/SiteBuilder/BuilderElement/methods/useEffect.js","containers/SiteBuilder/BuilderElement/methods/refineProperties.js","containers/SiteBuilder/BuilderElement/methods/boxMethods.js","containers/SiteBuilder/BuilderElement/methods/tagsLibrary.js","containers/SiteBuilder/BuilderElement/BuilderElement.js","containers/SiteBuilder/HoveredBoxHighlight/HoveredBoxHighlight.js","containers/SiteBuilder/methods/refreshPageStructure.js","components/UI/Overlay/Overlay.js","containers/SiteBuilder/SiteBuilder.js","components/SiteBuilderLayout/SiteBuilderLayout.js","utils/checkUserRights.js","components/UI/Buttons/SmallButton/SmallButton.js","containers/AdvancedBar/AdvancedBar.module.css","containers/AdvancedBar/SizeDragController/SizeDragController.js","components/ResourcesTree/ResourcesTree.module.css","components/Editor/Editor.js","components/UI/Select/Select.js","utils/sortTreeMethods.js","components/UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging.js","components/UI/InspectorValue/InspectorValue.js","utils/pagesStructure.js","components/ElementsTreeAndProperties/Properties/Properties.module.css","components/FilesTreeAndProperties/FilesTree/FilesTree.module.css","components/UI/TreeSearch/TreeSearch.js","components/ElementsTreeAndProperties/ElementsTree/ElementsTree.js","utils/modulesIndex.js","components/ElementsTreeAndProperties/Properties/MenuItems/MenuItems.js","components/UI/Buttons/SmallButton/SmallButton.module.css","containers/SiteBuilder/Frame/Context.js","containers/AdvancedBar/SizeDragController/SizeDragController.module.css","components/UI/InspectorValue/InspectorValue.module.css","components/UI/TreeSearch/TreeSearch.module.css","components/FilesTreeAndProperties/Properties/FileProperties.module.css","components/UI/Select/Select.module.css","components/UI/ValueInput/ValueInput.module.css","components/ElementsTreeAndProperties/ElementsTree/methods/populateStructureWithPluginChildrenAndPropagating.js","components/ElementsTreeAndProperties/ElementsTree/methods/search.js","components/ElementsTreeAndProperties/ElementsTree/Buttons.js","components/ElementsTreeAndProperties/ElementsTree/methods/generateButtonRules.js","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.module.css","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.module.css","components/ElementsTreeAndProperties/Properties/MenuItems/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.js","containers/AdvancedBar/Websites/WebsitesTree/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.module.css","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.module.css","components/UI/TextInput/TextInput.module.css","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.module.css","containers/SiteBuilder/SiteBuilder.module.css","containers/SiteBuilder/Frame/index.js","containers/SiteBuilder/Frame/Frame.js","containers/SiteBuilder/Frame/Content.js"],"names":["module","exports","Overlay","tagItems","connect","state","props","currentNode","mD","resourceDraftIndex","mode","structure","find","item","id","node","isCurrentBox","currentBox","isFocused","activeContainer","currentNodeValues","values","currentResource","currentIndex","pluginsStructure","hoveredElementId","dispatch","chooseBox","type","actions","changeBoxPropertyInStructure","key","value","notForHistory","boxId","hoverBox","unhoverBox","checkUserRights","rights","addBox","deleteBox","withChildren","handle","_this$props","scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","didDrop","react_default","a","createElement","className","classes","isLandingPadActive","isDraggedDescendant","isDescendant","buttonStyle","left","_props$node","itemPath","_props$currentNode","tag","text","isChildren","isElementFromCMSVariable","childrenTo","isPropagatingItem","rowClasses","push","Object","assign","_extends","style","height","onMouseDown","children","length","e","stopPropagation","aria-label","expanded","onClick","width","join","_objectSpread","opacity","textContent","substr","Fragment","InspectorValue","readonly","items","map","abbr","name","blur","currentPlugin","alert","withState","maxLength","maxWidth","properties","concat","class","CMSVariableType","indexOf","SmallButton","inline","buttonClicked","icon","getFileUrl","noVersion","thumbnail","domain","file","relUrl","domainString","query","v","userId","filesStructure","currentWebsiteId","currentFileId","currentWebsiteObject","chooseResource","sendUpdate","newResource","wsActions","size","handleChoose","trim","newStructure","cloneDeep","element","handlePropertyChange","requiredRights","display","bytes","decimalPlaces","color","paddingLeft","lib_default","date","modifiedDate","position","right","top","overflow","background","border","boxSizing","lineHeight","textAlign","LazyLoad_default","src","maxHeight","verticalAlign","alt","Svg","currentResourcesStructureElement","currentFileItem","tooltipsOff","setActiveContainer","container","unsetActiveContainer","uploadFile","files","deleteFile","treeData","buildTree","handleCopyPath","str","el","document","setAttribute","body","appendChild","selected","getSelection","rangeCount","getRangeAt","selectedElement","activeElement","select","execCommand","removeChild","removeAllRanges","addRange","focus","copyToClipboard","createFile","File","_useState","useState","searchString","searchFocusIndex","searchFoundCount","searchStringHasBeenCleared","searchOpen","_useState2","slicedToArray","setState","setActiveAndKeyDown","code","ctrlKey","preventDefault","shiftKey","fileUploadRef","current","click","saveFile","objectSpread","useRef","tabIndex","onKeyDown","nativeEvent","onTouchStart","onFocus","onBlur","data-tip","buttonClasses","ref","onChange","target","dist_default","effect","multiline","place","delayShow","overridePosition","tooltipOverwritePositions","tooltip","index_esm","result","buildItems","isEqual","omit","buildRelUrls","nodeContentRenderer","ItemRenderer","isVirtualized","rowHeight","searchQuery","searchFocusOffset","searchFinishCallback","matches","searchMethod","_ref","flex","generateNodeProps","_ref2","OverlayOnSizeIsChanging","TreeSearch","ValueInput","Div","Inline","title","data-testid","datatestid","Input","parseInt","undefined","min","max","changed","FileProperties","forwardRef","useEffect","setLoaded","resolution","setResolution","_useState3","_useState4","fileSize","setFileSize","_useState5","_useState6","sourceDataUrl","setSourceDataUrl","handleChangeResolution","loadFileToDataUrl","url","callback","xhr","XMLHttpRequest","open","responseType","onload","fr","FileReader","this","readAsDataURL","response","send","toDataURL","dataUrl","setValue","loaded","UI_ValueInput_ValueInput","resizeImageFromSrcToSpecificSize","asyncToGenerator","regenerator_default","mark","_callee","data","wrap","_context","prev","next","urltoFile","sent","stop","_x","apply","arguments","toastui_react_image_editor_default","includeUI","loadImage","theme","menu","initMenu","uiSize","menuBarPosition","cssMaxHeight","cssMaxWidth","selectionStyle","cornerSize","rotatingPointOffset","usageStatistics","margin","createdDate","editorModeOptions","label","Select","options","default","findIndex","editorMode","setEditorMode","isClearable","Editor","currentElement","elementValue","handleChange","axios","get","then","barSizes","replace","handleSaveFile","fileId","content","toastEditorRef","getInstance","_x2","FilesTreeAndProperties_FilesTree_FilesTree","SizeDragController","addClass","startValue","Properties_FileProperties","newVersionResources","notSavedResources","resourcesObjects","currentPageId","currentTemplateId","currentPluginId","globalSettingsPageId","globalSettingsTemplateId","homepage","hidden","published","propagating","generalSettings","isGeneralSettings","toLowerCase","defineProperty","minWidth","includes","allowEmpty","structureIndex","isGlobalSettingsPage","resourceItemIndex","templatesStructure","revertResource","to","publishResource","addResource","deleteResource","resourceStructureAttributeChange","handleSaveResource","handlePublishRevert","revert","templateOptions","filter","requiredRightsIndex","add","home","window","confirm","option","template","_ref3","nextParent","nextPath","prevPath","_ref4","splitText","start","end","textToSpan","selectionStart","selectionEnd","editor","elementValues","handleSelectionChange","textMode","changeProperty","makeCodePrettier","onKeyUp","onMouseUp","parseHTML","editorValue","Properties_propertiesSuggestedList","websiterMenu","baseHtmlProps","Refresh","sizeIsChanging","box","setBox","flexDirection","HTMLEditor_Refresh","ts","apiKey","init","readOnly","plugins","toolbar","edit","view","insert","format","tools","table","help","menubar","image_advtab","classesFileTree","padding","treeDataSource","chosenFileItem","attrName","fileDetailesTable","classesAdvancedBar","width3","elementId","fileUrl","shouldCopyOnOutsideDrop","dndType","esm","selectedClassName","Checkbox","checked","attrThumb","_props$changeProperty","_props$changeProperty2","_props$changeProperty3","rangeInput","pannelClass","tabClass","propertiesSuggestedList","handlePropertiesChange","variableOptions","toConsumableArray","propagatingPlugins","selectedTabPanelClassName","CMSVariableSystemName","elementCurrentCursor","cursorPosition","suggestOptions","propertiesString","CMSVariableDescription","components_HTMLEditor_HTMLEditor","CMSVariableDefaultValue","getContent","MenuItems","defaultValue","step","toString","react_color_lib","colors","defaultColor","onChangeComplete","rgb","Properties_FileItems_FileItems","presetColors","disableAlpha","resourceDraft","plugin","obj","changes","JSON","parse","stringify","isPlugin","checkIfCapital","charAt","Properties_TextProperty_TextProperty","isCMSVariable","CMSPannels","Properties_ParseProperty_ParseProperty","slice","currentPluginDraftExists","currentPluginDraft","changeBoxPropertyInValues","components_ResourcesTree_ResourcesTree","width2","ElementsTree","ElementsTreeAndProperties_Properties_Properties","templateCMSElementValues","pageTemplateDraft","forPropagatingPlugin","_element$forPropagati","pluginId","variable","templateDraft","getCurrentResourceValue","currentPageDraftExists","currentPageDraft","memo","PageProperties","currentTemplateDraftExists","currentTemplateDraft","loading","maxStorage","deleteUser","logout","all","switchTooltips","userSelect","TextInput","wrong","Wrong","Right","saveDomainName","changeWebsiteProperty","verifyCustomDomain","websiteElement","setDomainValue","customDomain","setCustomDomainValue","domainValue","customDomainValue","website","domainHidden","domainNoIndex","UI_TextInput_TextInput","customDomainHidden","customDomainVerified","cname","_id","currentUserInWebsiteSharing","chooseUserInWebsiteSharing","addUserInWebsiteSharing","deleteUserInWebsiteSharing","user","sharingRightsChange","transferWebsite","isOwner","sharingItem","newSharing","sharing","ownerAccount","unshift","account","index","accountInfo","displayName","photos","backgroundImage","WebsitesProperties","WebsitesProperties_DomainsProperties_DomainsProperties","WebsitesProperties_SharingProperties_SharingProperties","websites","WebsitesTree","notVirtual","Websites_WebsitesProperties_WebsitesProperties","changeBarSize","initiator","toggleFindMode","savePropertiesOnLeave","tabClassSelected","useBeforeunload","setTimeout","vertical","selectedTabClassName","AdvancedBar_Pages_Pages","AdvancedBar_Templates_Templates","AdvancedBar_Plugins_Plugins","AdvancedBar_Files_Files","AdvancedBar_Websites_Websites","AdvancedBar_Account_Account","lib_esm","handleWidth","handleHeight","onResize","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_defineProperty","configurable","writable","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","call","_arr","_n","_d","_e","_s","_i","done","err","_iterableToArrayLimit","TypeError","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","match","regex","userAgent","test","isMobile","ua","navigator","tmp","split","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","defaultResult","source","forEach","getOwnPropertyDescriptors","defineProperties","_typeof","constructor","noop","getKeyFromChildrenIndex","child","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","cb","React","Children","c","isMenuItemGroup","c2","menuAllProps","getWidth","elem","getBoundingClientRect","toFixed","getPosition","rect","setStyle","styleProperty","isMobileDevice","autoAdjustOverflow","adjustX","adjustY","placements","topLeft","points","offset","bottomLeft","leftTop","rightTop","placementsRtl","_defineProperties","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","guid","popupPlacementMap","horizontal","vertical-left","vertical-right","updateDefaultActiveFirst","store","defaultActiveFirst","menuId","getState","SubMenu","_React$Component","_this","instance","Constructor","_classCallCheck","onDestroy","keyCode","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","visible","onMouseEnter","_this$props2","domEvent","onMouseLeave","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","addKeyPath","onSelect","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","openChange","trigger","mouseenterTimeout","isChildrenSelected","ret","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","ReactDOM","findDOMNode","offsetWidth","saveSubMenuTitle","getBaseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","internalMenuId","manualRef","itemIcon","expandIcon","direction","getMotion","haveRendered","_this$props6","leavedClassName","removeOnLeave","motionAppear","isRootMenu","protoProps","staticProps","subClass","superClass","create","_inherits","Component","componentDidUpdate","_this2","_this$props7","minWidthTimeout","_this$props8","clearTimeout","_this3","baseProps","mergedMotion","haveOpened","CSSMotion","mergedClassName","classNames","popupMenuBlockClasses","SubPopupMenu","_classNames2","isInlineMode","active","disabled","isSub","popupMenuItemClasses","topMenuItemClasses","mouseEvents","titleClickEvents","titleMouseEvents","paddingRight","ariaOwns","aria-owns","role","aria-expanded","aria-haspopup","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","popupClassName","placement","Trigger","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","forceRender","defaultProps","connected","activeKey","subMenuKey","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","ulSizes","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","getMenuItemNodesOver","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","_copy$props","propStyle","rest","visibility","k","setChildrenWidthAndResize","ulChildrenNodes","menuItemNodesOver","currentDisplayState","lastOverflowedIndicatorPlaceholder","menuItemNodes","overflowedIndicatorWidth","handleResize","liWidth","menuUl","ResizeObserver","entries","observe","MutationObserver","disconnect","attributes","childList","subTree","reduce","acc","childNode","overflowed","cloneElement","Tag","hasOwnProperty","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","getFlatInstanceArray","activeItem","selectInfo","len","reverse","activeIndex","every","ci","renderCommonMenuItem","extraProps","childProps","isActive","newChildProps","renderMenuItem","createChainedFunction","bind","nextProps","shallowEqual","topMenuBlockClasses","topMenuItemActiveClasses","popupMenuItemActiveClasses","prevProps","domProps","activeKeys","openAnimation","openTransitionName","warning","motionName","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","event","processSingle","oneChanged","splice","_selectedKeys2","getOpenTransitionName","transitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","0-menu-","updateMiniStore","updateClassesInMiniStore","Provider","MenuItem","isSelected","saveNode","callRef","scrollIntoView","scrollMode","boundary","block","_classNames","attrs","attribute","aria-disabled","aria-selected","mouseEvent","_possibleConstructorReturn","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","SubMenu1","esm_extends","MenuModule_SubMenu","pageInStructure","MenuModule_MenuItem","location","SubMenu2","pagesStructure","currentPageItem","getElementById","builtItems","menuItems","structureAfterVariables","generatedFrom","parentPluginProps","page","l","buildMenuItems","buildItemsForMenu","menuElements","console","log","Menu_SubMenu1","MenuModule","overflowIcon","Drawer","onSwitch","handler","rc_drawer_es","onClose","autoHandler","getContainer","onHandleClick","setBoxProperties","refinedProperties","removeAttribute","inheritedPropertyName","getInheritedPropertyName","attr","refineProperties","ownRefinedProperties","findMode","routePlugin","sourcePlugin","emptyTags","headTags","BuilderElement","sourceResource","saveHoveredElementRect","fromFrame","elementRef","newScript","_refineProperties","currentPath","getModulePropertiesNodes","nodes","possibleNodes","modulesPropertyNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","nodeItem","forModule","itemInn","pluginsPathArray","childrenForPlugin","_iterator","return","childrenMainElement","forPlugin","fromResource","isHead","parseText","sanitize","allowedTags","allowedAttributes","PluginElement","onMouseMove","SiteBuilder_Menu_Menu","SiteBuilder_Drawer_Drawer","originalClass","react_slick_lib_default","dots","infinite","speed","slidesToShow","slidesToScroll","original","pluginStructure","hoveredElementSize","hoverMode","iframe","scrollY","contentWindow","pageYOffset","scrollX","pageXOffset","parents","addHoverBoxes","parent","isEmpty","pointerEvents","zIndex","borderRadius","boxShadow","findParents","innerItem","methods_refreshPageStructure","pageDraft","globalSettings","templateId","currentId","_refreshPageStructure3","refreshPageStructure","arrayId","pageStructure","templateStructure","pageStructureWithoutPropagating","templateIds","pageIds","oldItem","newId","arrayIndex","propagatingPluginsVariablesIds","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","itemIdInTemplate","newValues","structureWithOldAndPropagating","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","itemValue","newItem","currentMenuItem","currentMenuId","childTemplateId","childTemplateDraft","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_loop2","innerChildPath","childrenOfItem","_refreshPageStructure","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop3","_refreshPageStructure2","_iterator6","_iterator3","draft","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","SiteBuilder","headValue","head","currentScroll","prod","process","isRefreshing","iframeElement","documentElement","scrollTop","scrollTo","newProps","refreshedGlobalStructure","saveElementsStructureFromBuilder","currentPageDraftStructure","pageTemplateDraftStructure","refreshedPageStructure","newHead","SiteBuilder_BuilderElement_BuilderElement","pageTemplateId","newHeadString","renderToString","es","shouldRefresh","markRefreshing","markShouldRefreshing","frame","zoom","bodyProps","bodyValues","bodyStyle","htmlProps","htmlValues","htmlStyle","StopRefresh","Frame_default","msZoom","MozTransform","MozTransformOrigin","OTransform","OTransformOrigin","WebkitTransform","WebkitTransformOrigin","base","initialContent","systemClassMenu","Frame","SiteBuilder_HoveredBoxHighlight_HoveredBoxHighlight","UI_Overlay_Overlay","mapStateToProps","addVariable","resourceVariable","templateItemId","itemValues","defaultMenuItems","defaultFileUrl","fileThumbnail","r","g","b","_ret","forPluginId","forPluginDraft","propagatingValue","propagatingItem","childVariables","refine","refinedPropertiesPage","currentPageFSBDraft","pageTemplateFSBDraft","pageTemplateFSBId","refinedPropertiesGlobal","globalSettingsPageDraft","globalSettingsTemplateDraft","refinePropertiesFromCMS","bodyRawValues","htmlRawValues","element_1","element_01","currentPageDraftStructureGlobalSettings","pageTemplateDraftStructureGlobalSettings","pageZoom","mapDispatchToProps","refreshing","saveElementsStructure","span","ResizeLayer","userObject","DndProvider","backend","MultiBackend","HTML5toTouch","Helmet","href","flexWrap","containers_SiteBuilder_SiteBuilder","containers_AdvancedBar_AdvancedBar","ReserveWebsite","_useDragLayer","useDragLayer","monitor","getItem","currentOffset","getDifferenceFromInitialOffset","delayedChange","useCallback","throttle","y","x","__webpack_exports__","noShowAlert","sessionStorage","tryWebsiter","allow","__webpack_require__","d","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_tooltip__WEBPACK_IMPORTED_MODULE_1__","react_tooltip__WEBPACK_IMPORTED_MODULE_1___default","react_redux__WEBPACK_IMPORTED_MODULE_2__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3___default","_Svg_Svg__WEBPACK_IMPORTED_MODULE_4__","_utils_checkUserRights__WEBPACK_IMPORTED_MODULE_5__","ButtonDisabled","Button","mouseDown","Table","Cell","Tooltip","currentEvent","currentTarget","desiredPlace","buttonRect","tooltipRect","innerWidth","bottom","Content","Container","LastContainer","reactTabs","reactTabsTabPanelSelected","reactTabsTab","TabSelected","mainContainer","heightControll","widthControll","TabList","setSizeIsChanging","_useDrag","useDrag","begin","_useDrag2","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","drag","preview","getEmptyImage","captureDraggingState","react__WEBPACK_IMPORTED_MODULE_1___default","rst__virtualScrollOverride","ReactVirtualized__Grid__innerScrollContainer","rst__rtl","ReactVirtualized__Grid","rst__node","rst__nodeContent","rst__lineBlock","rst__absoluteLineBlock","rst__lineHalfHorizontalRight","rst__lineFullVertical","rst__lineHalfVerticalTop","rst__lineHalfVerticalBottom","rst__highlightLineVertical","arrow-pulse","rst__highlightTopLeftCorner","rst__highlightBottomLeftCorner","rst__rowWrapper","rst__row","rst__rowLandingPad","rst__rowCancelPad","rst__rowSearchMatch","rst__rowSearchFocus","rst__rowContents","rst__rowLabel","rst__rowToolbar","rst__moveHandle","rst__toolbarButton","rst__rowContentsDragDisabled","rst__loadingHandle","rst__loadingCircle","rst__loadingCirclePoint","pointFade","rst__rowTitle","rst__rowTitleWithSubtitle","rst__rowSubtitle","rst__collapseButton","rst__expandButton","rst__lineChildren","rst__placeholder","rst__placeholderLandingPad","rst__placeholderCancelPad","ReactVirtualized__Table__headerRow","ReactVirtualized__Table__row","ReactVirtualized__Table__headerTruncatedText","ReactVirtualized__Table__headerColumn","ReactVirtualized__Table__rowColumn","ReactVirtualized__Table__sortableHeaderColumn","ReactVirtualized__Table__sortableHeaderIconContainer","ReactVirtualized__Table__sortableHeaderIcon","Hovered","Chosen","ChosenBlur","ChosenGreen","IconsContainer","IconsContainerPage","IconsContainerNotPage","TreeContainer","selectContainer","ace","config","set","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","updateValue","isBeatifying","getCursor","handleSelectProperty","selectedOption","resultString","moveCursorToPosition","column","row","newValue","beautify_css","beautify_js","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","prevState","refs","aceEditor","setInterval","resize","react__WEBPACK_IMPORTED_MODULE_6___default","_UI_Select_Select__WEBPACK_IMPORTED_MODULE_21__","placeholder","isSearchable","react_ace__WEBPACK_IMPORTED_MODULE_9___default","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","customStyles","provided","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","clearIndicator","dropdownIndicator","control","minHeight","react_select__WEBPACK_IMPORTED_MODULE_2__","styles","older","younger","some","react_redux__WEBPACK_IMPORTED_MODULE_1__","parentRef","input","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","parentPropsBlur","parentPropsFocus","parentPropsMaxLength","parentPropsMaxWidth","parentPropsValue","parentPropsWithState","react__WEBPACK_IMPORTED_MODULE_2___default","InspectorDiv","react_autocomplete__WEBPACK_IMPORTED_MODULE_3___default","shouldItemRender","getItemValue","renderItem","isHighlighted","ItemHighlighted","renderMenu","renderInput","inputEl","Span","InputHidden","doBuildItems","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","OlContainer","ImageContainer","ImageInput","handleSearchOnChange","_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_3__","selectPrevMatch","selectNextMatch","pluginElementsStructures","resourceDraftStructure","structureWithPluginChildren","populateStructureWithPluginChildrenAndPropagating","copyBox","cutBox","pasteBox","inside","duplicateBox","mergeBoxToPlugin","onlyChildren","dissolvePluginToBox","searchOnHover","structureIds","saveStructureIds","newStructureIds","currentBoxType","getBoxType","buttonRules","generateButtonRules","addInside","addNext","addText","duplicate","delete","_Buttons__WEBPACK_IMPORTED_MODULE_17__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_5__","prevParent","allModules","forChildren","onMoveNode","global","debug","searchMethod2","_UI_TreeSearch_TreeSearch__WEBPACK_IMPORTED_MODULE_10__","_UI_OverlayOnSizeIsChanging_OverlayOnSizeIsChanging__WEBPACK_IMPORTED_MODULE_18__","websiterDrawer","websiterGallery","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","pagesStructureWithAll","sourceItem","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","menuItem","react__WEBPACK_IMPORTED_MODULE_4___default","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_16__","newMenuItems","react_sortable_tree__WEBPACK_IMPORTED_MODULE_6__","_result","newItems","findNewItem","newCurrentMenuId","saveItems","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_UI_OverlayOnSizeIsChanging_OverlayOnSizeIsChanging__WEBPACK_IMPORTED_MODULE_17__","_containers_AdvancedBar_SizeDragController_SizeDragController__WEBPACK_IMPORTED_MODULE_14__","react_tabs__WEBPACK_IMPORTED_MODULE_7__","_Editor_Editor__WEBPACK_IMPORTED_MODULE_15__","FrameContextConsumer","FrameContextProvider","FrameContext","_react","require","_react2","__esModule","doc","win","createContext","Consumer","SectionHeight","InnerDiv","touchDrag","DropDown","Label","StyleControls","populateStructure","currentResourceItem","excludeItems","pluginItem","pluginElementStructure","neededChildren","currentChildren","existingChild","newElement","neededChildrenNames","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_3__","addFromCMSVariable","addChildren","mergeToPlugin","mergeToPluginChildren","dissolve","Textarea","Editors","SelectContainer","_store_actions_index__WEBPACK_IMPORTED_MODULE_2__","_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_sortTreeMethods__WEBPACK_IMPORTED_MODULE_5__","_Svg_Svg__WEBPACK_IMPORTED_MODULE_6__","changeMenuItemProperty","itemId","otherProps","_","react_sortable_tree__WEBPACK_IMPORTED_MODULE_1__","_components_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_4__","_ItemRenderer__WEBPACK_IMPORTED_MODULE_5__","_websocketActions__WEBPACK_IMPORTED_MODULE_6__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default","_components_UI_OverlayOnSizeIsChanging_OverlayOnSizeIsChanging__WEBPACK_IMPORTED_MODULE_8__","addWebsite","deleteWebsite","_WebsitesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_checkUserRights__WEBPACK_IMPORTED_MODULE_6__","_websocketActions__WEBPACK_IMPORTED_MODULE_7__","chooseWebsite","Loaded","LocalDomain","Title","SharingTable","Active","Ava","_Context","_Frame","_Frame2","_createClass","_interopRequireDefault","_reactDom2","_propTypes2","_Content2","_Component","context","handleLoad","forceUpdate","_isMounted","getDoc","readyState","addEventListener","removeEventListener","contentDocument","mountTarget","querySelector","contentDidMount","contentDidUpdate","defaultView","parentView","updateHead","_setInitialContent","initialRender","contents","write","close","innerHTML","encodedString","textArea","decodeEntities","getMountTarget","mountTargetHtml","getMountTargetHtml","createPortal","renderFrameContents","propTypes","string","func","oneOfType","arrayOf","only","isRequired"],"mappings":"mGACAA,EAAAC,QAAA,CAAkBC,QAAA,2HCDHC,EAAA,CACX,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,OACA,WACA,MACA,MACA,UACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,MACA,MACA,KACA,KACA,UACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,UACA,MACA,SACA,QACA,SACA,KACA,OACA,UACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,OACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,YACA,YACA,MACA,WACA,IACA,aACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MACA,iBACA,eACA,kBACA,gCCsRWC,gBAjDS,SAACC,EAAOC,GAC5B,IAAMC,EAAcF,EAAMG,GAAGC,IAAmBH,EAAMI,OAAOC,UAAUC,KACnE,SAAAC,GAAI,OAAIA,EAAKC,KAAOR,EAAMS,KAAKD,KAEnC,OAAKP,EAGE,CACHS,aACIX,EAAMG,GAAGC,IAAmBH,EAAMI,OAAOO,aACzCV,EAAYO,GAChBI,UAAWb,EAAMc,kBAAoBb,EAAMI,KAAO,WAClDH,cACAa,kBACIf,EAAMG,GAAGC,IAAmBH,EAAMI,OAAOW,OAAOd,EAAYO,IAChEQ,gBAAiBjB,EAAMG,GAAGe,IAAajB,EAAMI,OAC7Cc,iBAAkBnB,EAAMG,GAAGgB,iBAC3BC,kBAAmB,KAZZ,IAgBY,SAACC,EAAUpB,GAClC,MAAO,CACHqB,UAAW,SAACC,EAAMd,GAAP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","file":"static/js/4.9996b1e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__3WlT_\"};","export default [\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'base',\n    'basefont',\n    'bdi',\n    'bdo',\n    'bgsound',\n    'big',\n    'blink',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'content',\n    'data',\n    'datalist',\n    'dd',\n    'decorator',\n    'del',\n    'details',\n    'dfn',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'element',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'isindex',\n    'kbd',\n    'keygen',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'map',\n    'mark',\n    'marquee',\n    'menu',\n    'menuitem',\n    'meta',\n    'meter',\n    'nav',\n    'nobr',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'parseHTML',\n    'plaintext',\n    'pre',\n    'progress',\n    'q',\n    'richEditor',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'shadow',\n    'small',\n    'source',\n    'spacer',\n    'span',\n    'strike',\n    'strong',\n    'style',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'title',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n    'websiterDrawer',\n    'websiterMenu',\n    'websiterGallery',\n    'xmp',\n]\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../utils/sortTreeMethods'\nimport tagItems from '../../../utils/tagItems'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type {\n    initialStateType,\n    elementType,\n    resourceType,\n} from '../../../store/reducer/reducer'\n\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport { SmallButton } from '../../UI/Buttons/SmallButton/SmallButton'\n\ntype Props = {\n    changeBoxProperty: typeof actions.changeBoxProperty,\n    chooseBox: typeof actions.chooseBox,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: elementType & {\n        children: Array<elementType>,\n        expanded: boolean,\n        resourceDraft: resourceType,\n        currentResource:\n            | $PropertyType<initialStateType, 'currentPage'>\n            | $PropertyType<initialStateType, 'currentPlugin'>,\n        pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n        mode: 'page' | 'plugin',\n        itemPath: Array<{}>,\n    },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin' | 'template',\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n    mode: string,\n}\n\nconst ItemRenderer = (props: Props) => {\n    if (!props.currentNode) return null\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <i className=\"material-icons\">more_vert</i>\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { id, mode, itemPath } = props.node\n\n    const {\n        currentResource,\n        pluginsStructure,\n        currentNodeValues,\n        isCurrentBox,\n    } = props\n\n    const {\n        tag,\n        text,\n        isChildren,\n        isElementFromCMSVariable,\n        childrenTo,\n        isPropagatingItem,\n    } = props.currentNode\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive)\n        rowClasses.push(\n            isCurrentBox\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : id === props.hoveredElementId\n                ? [classes.Hovered]\n                : null\n        )\n\n    const handleRename = value => {\n        if (\n            !props.checkUserRights(\n                props.mode === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        if (value !== tag) {\n            if (mode === 'plugin') {\n                const currentPlugin = pluginsStructure.find(\n                    item => item.id === currentResource\n                )\n                if (!currentPlugin) return\n                if (value === currentPlugin.name) {\n                    alert('Plugin can not be inside itself.')\n                    return\n                }\n            }\n            props.changeBoxPropertyInStructure(mode, 'tag', value, false, id)\n        }\n    }\n    return (\n        <div\n            // {..._extends({ style: { height: '100%' } }, otherProps)}\n            {..._extends({ style: { height: '100%' } }, {})}\n            onMouseDown={() => props.chooseBox(mode, id)}\n            // onMouseEnter={() => props.hoverBox(id, mode)}\n            // onMouseMove={() => props.hoverBox(id, mode)}\n            // onMouseLeave={() => props.unhoverBox()}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread({\n                            opacity: isDraggedDescendant ? 0.5 : 1,\n                        })}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {text && currentNodeValues ? (\n                                    'text' +\n                                    (currentNodeValues.textContent\n                                        ? ' - \"' +\n                                          currentNodeValues.textContent.substr(\n                                              0,\n                                              25\n                                          ) +\n                                          (currentNodeValues.textContent\n                                              .length > 25\n                                              ? '...'\n                                              : '') +\n                                          '\"'\n                                        : '')\n                                ) : (\n                                    <>\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? '<'\n                                            : isElementFromCMSVariable\n                                            ? 'From CMS variable - '\n                                            : ''}\n                                        {(mode === 'plugin' &&\n                                            itemPath.length > 0) ||\n                                        ((mode === 'template' &&\n                                            itemPath.length > 1) ||\n                                            itemPath[0] === 'element_02') ||\n                                        isPropagatingItem ? (\n                                            props.checkUserRights(\n                                                mode === 'page'\n                                                    ? ['content']\n                                                    : ['developer'],\n                                                true\n                                            ) ? (\n                                                <InspectorValue\n                                                    readonly={childrenTo}\n                                                    value={tag}\n                                                    items={tagItems.map(\n                                                        item => {\n                                                            return {\n                                                                abbr: item,\n                                                                name: item,\n                                                            }\n                                                        }\n                                                    )}\n                                                    blur={handleRename}\n                                                    withState\n                                                    maxLength=\"40\"\n                                                    maxWidth=\"220px\"\n                                                />\n                                            ) : (\n                                                tag\n                                            )\n                                        ) : (\n                                            tag\n                                        )}\n                                        {currentNodeValues ? (\n                                            currentNodeValues.properties ? (\n                                                <>\n                                                    {currentNodeValues\n                                                        .properties.id\n                                                        ? ` id=\"${currentNodeValues.properties.id.substr(\n                                                              0,\n                                                              25\n                                                          ) +\n                                                              (currentNodeValues\n                                                                  .properties.id\n                                                                  .length > 25\n                                                                  ? '...'\n                                                                  : '')}\"`\n                                                        : ''}\n                                                    {currentNodeValues\n                                                        .properties.class\n                                                        ? ` class=\"${currentNodeValues.properties.class.substr(\n                                                              0,\n                                                              25\n                                                          ) +\n                                                              (currentNodeValues\n                                                                  .properties\n                                                                  .class\n                                                                  .length > 25\n                                                                  ? '...'\n                                                                  : '')}\"`\n                                                        : ''}\n                                                </>\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )}\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? ' >'\n                                            : isElementFromCMSVariable\n                                            ? ''\n                                            : ' (inherited children)'}\n                                    </>\n                                )}\n                            </div>\n                            {mode === 'page' ? (\n                                <div>\n                                    {(currentNodeValues.CMSVariableType &&\n                                        currentNodeValues.CMSVariableType.indexOf(\n                                            'propagating_'\n                                        ) === 0) ||\n                                    currentNodeValues.CMSVariableType ===\n                                        'array' ? (\n                                        <SmallButton\n                                            inline\n                                            buttonClicked={() =>\n                                                props.addBox(mode, 'inside')\n                                            }\n                                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.6,13.4H13.4v8.2H10.6V13.4H2.4V10.6h8.2V2.4h2.8v8.2h8.2Zm-2.4,2.8h-.1l-.9.9,1.5,1.4H16.2V15.1H15.1v4.4h4.6l-1.5,1.4.9.9,2.6-2.7h.1Z\"></path></svg>'\n                                            // tooltip=\"Add a new item inside the chosen element (Ctrl + A)\"\n                                            // requiredRights={['content']}\n                                        />\n                                    ) : null}\n                                    {isPropagatingItem ? (\n                                        <>\n                                            {itemPath.length > 0 &&\n                                            itemPath[0] !== 'trash' ? (\n                                                <SmallButton\n                                                    inline\n                                                    buttonClicked={() =>\n                                                        props.addBox(mode)\n                                                    }\n                                                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                                                    // tooltip=\"Add a new item below (Ctrl + A)\"\n                                                    // requiredRights={['content']}\n                                                />\n                                            ) : null}\n                                            <SmallButton\n                                                inline\n                                                buttonClicked={() =>\n                                                    props.deleteBox(mode, true)\n                                                }\n                                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                                                // tooltip=\"Delete item (Delete)\"\n                                                // requiredRights={['content']}\n                                            />\n                                        </>\n                                    ) : null}\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const currentNode = state.mD[resourceDraftIndex[props.mode]].structure.find(\n        item => item.id === props.node.id\n    )\n    if (!currentNode) {\n        return {}\n    }\n    return {\n        isCurrentBox:\n            state.mD[resourceDraftIndex[props.mode]].currentBox ===\n            currentNode.id,\n        isFocused: state.activeContainer === props.mode + 'elements',\n        currentNode,\n        currentNodeValues:\n            state.mD[resourceDraftIndex[props.mode]].values[currentNode.id],\n        currentResource: state.mD[currentIndex[props.mode]],\n        pluginsStructure: state.mD.pluginsStructure,\n        hoveredElementId: -100,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        chooseBox: (type, id) => dispatch(actions.chooseBox(type, id)),\n        changeBoxPropertyInStructure: (\n            type,\n            key,\n            value,\n            notForHistory,\n            boxId\n        ) =>\n            dispatch(\n                actions.changeBoxPropertyInStructure(\n                    type,\n                    key,\n                    value,\n                    false,\n                    boxId\n                )\n            ),\n        hoverBox: (id, mode) => dispatch(actions.hoverBox(id, mode)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        addBox: (mode, type) => dispatch(actions.addBox(mode, type)),\n        deleteBox: (mode, withChildren) =>\n            dispatch(actions.deleteBox(mode, withChildren)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","export const getFileUrl = (structure, id, noVersion, thumbnail, domain) => {\n    const file = structure.find(item => item.id === id || item.relUrl === id)\n    if (!file) return ''\n    const domainString = domain ? domain + '/' : ''\n    // const path = file.path.reduce(\n    //     (totalPath, fileId) =>\n    //         totalPath +\n    //         structure.find(fileInn => fileInn.id === fileId).name +\n    //         '/',\n    //     ''\n    // )\n    let query = noVersion ? '' : 'v=' + (file.v || '0')\n    query = (query.length > 0 ? '&' : '') + (thumbnail ? 'thumbnail=1' : '')\n    return domainString + file.relUrl + file.name + (query ? '?' + query : '')\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './FilesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../utils/sortTreeMethods'\nimport Svg from '../../Svg/Svg'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport * as wsActions from '../../../websocketActions'\nimport bytes from 'bytes'\nimport LazyLoad from 'react-lazy-load'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../utils/getFileUrl'\n// import { bucket, CloudFrontUrl } from '../../../awsConfig'\n\ntype Props = {\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    chooseResource: typeof actions.chooseResource,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: pageType & { children: Array<pageType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <i className=\"material-icons\">more_vert</i>\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, size, type } = props.node\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        if (!props.checkUserRights(['content', 'developer'])) {\n            return\n        }\n        value = value.trim()\n        const newStructure = cloneDeep(props.structure)\n        const element = newStructure.find(item => item.id === id)\n        // $FlowFixMe\n        if (element[key] !== value) {\n            // $FlowFixMe\n            element[key] = value\n            props.sendUpdate(\n                'website',\n                {\n                    filesStructure: newStructure,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (props.currentFileId !== id) props.chooseResource(id)\n    }\n\n    // const edits = {\n    //     resize: {\n    //         width: 40,\n    //         height: 40,\n    //         fit: 'contain',\n    //         background: { r: 0, g: 0, b: 0, alpha: 0 },\n    //     },\n    // }\n    // if (type !== 'image/png') edits.toFormat = 'png'\n    // const imageRequest = JSON.stringify({\n    //     bucket: bucket,\n    //     key: serverName,\n    //     edits,\n    // })\n    // const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n    // let imageClass = classes.ImageContainer\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {props.checkUserRights(\n                                    ['content', 'developer'],\n                                    true\n                                ) ? (\n                                    <InspectorValue\n                                        value={name}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        requiredRights={[\n                                            'content',\n                                            'developer',\n                                        ]}\n                                        maxLength=\"38\"\n                                        maxWidth=\"320px\"\n                                    />\n                                ) : (\n                                    name\n                                )}\n                                <div\n                                    style={{\n                                        display: 'inline-block',\n                                    }}\n                                >\n                                    {bytes(size, { decimalPlaces: 1 })}\n                                </div>\n                                <div\n                                    style={{\n                                        color: '#777',\n                                        paddingLeft: '5px',\n                                    }}\n                                >\n                                    <TimeAgo date={props.node.modifiedDate} />\n                                </div>\n                                <div\n                                    style={{\n                                        position: 'absolute',\n                                        right: '-40px',\n                                        top: '0px',\n                                        width: '40px',\n                                        height: '40px',\n                                        overflow: 'hidden',\n                                        background: '#fff',\n                                        border: '1px solid #eee',\n                                        boxSizing: 'border-box',\n                                        lineHeight: '40px',\n                                        textAlign: 'center',\n                                    }}\n                                >\n                                    {type.indexOf('image') >= 0 ? (\n                                        <LazyLoad height={40}>\n                                            <img\n                                                src={\n                                                    props.currentWebsiteObject\n                                                        .domain +\n                                                    '/' +\n                                                    props.node.relUrl\n                                                }\n                                                style={{\n                                                    maxWidth: '100%',\n                                                    maxHeight: '100%',\n                                                    verticalAlign: 'middle',\n                                                }}\n                                                alt=\"websiter\"\n                                            />\n                                        </LazyLoad>\n                                    ) : (\n                                        <Svg icon='<svg width=\"40\" height=\"30\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        userId: state.userId,\n        structure: state.mD.filesStructure,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentFileId: state.mD.currentFileId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: id => dispatch(actions.chooseResource(id, 'file')),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState, useRef } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './FilesTree.module.css'\nimport * as buttonClasses from '../../UI/Buttons/SmallButton/SmallButton.module.css'\nimport SmallButton, {\n    tooltipOverwritePositions,\n} from '../../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport { buildTree } from '../../../utils/basic'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport * as wsActions from '../../../websocketActions'\nimport { connect } from 'react-redux'\n\nimport Svg from '../../../components/Svg/Svg'\nimport copyToClipboard from '../../../utils/copyToClipboard'\nimport OverlayOnSizeIsChanging from '../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport ReactTooltip from 'react-tooltip'\nimport { getFileUrl } from '../../../utils/getFileUrl'\nimport buildRelUrls from '../../../utils/buildRelUrls'\n\nconst FilesTree = props => {\n    const {\n        structure,\n        currentResource,\n        currentResourcesStructureElement,\n    } = props\n    const treeData = buildTree(structure)\n\n    const handleChange = items => {\n        let result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, structure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    structure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            )\n                if (!props.checkUserRights(['content', 'developer'])) {\n                    return\n                }\n            result = buildRelUrls(result)\n            props.sendUpdate(\n                'website',\n                {\n                    filesStructure: result,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleCopyPath = () => {\n        if (currentResourcesStructureElement) {\n            const path = getFileUrl(\n                props.structure,\n                currentResourcesStructureElement.id,\n                true\n            )\n            // currentResourcesStructureElement.path.reduce(\n            //     (totalPath, item) => (totalPath = totalPath + '/' + item.name),\n            //     '/'\n            // )\n            // + currentResourcesStructureElement.name\n            copyToClipboard(path)\n        }\n    }\n\n    const createFile = () => {\n        const file = new File([''], 'New file.css', {\n            type: 'text/css',\n        })\n        props.uploadFile([file])\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        className:\n            node.id === currentResource\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : null,\n        type: props.type,\n    })\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer('filesresources')\n        } else {\n            props.setActiveContainer('filesresources')\n            if (e) {\n                const code = e.code\n\n                if (!props.checkUserRights(['content', 'developer'])) {\n                    return\n                }\n\n                switch (code) {\n                    case 'KeyA':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            if (e.shiftKey) {\n                                createFile()\n                            } else {\n                                if (fileUploadRef.current)\n                                    fileUploadRef.current.click()\n                            }\n                        }\n                        break\n                    case 'KeyS':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.saveFile(currentResource, !e.shiftKey)\n                        }\n                        break\n                    case 'KeyF':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            setState({\n                                ...state,\n                                searchOpen: !state.searchOpen,\n                            })\n                        }\n                        break\n                    case 'Delete':\n                        e.preventDefault()\n                        props.deleteFile(currentResource)\n                        break\n                    case 'KeyL':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handleCopyPath()\n                        }\n                        break\n                    default:\n                        break\n                }\n            }\n        }\n    }\n    const fileUploadRef = useRef(null)\n\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <div>\n                <label\n                    data-tip=\"Upload file\"\n                    className={[\n                        classes.ImageContainer,\n                        buttonClasses.Button,\n                        buttonClasses.Inline,\n                    ].join(' ')}\n                >\n                    <input\n                        ref={fileUploadRef}\n                        className={classes.ImageInput}\n                        type=\"file\"\n                        onChange={e => {\n                            if (props.checkUserRights(['developer', 'content']))\n                                props.uploadFile(e.target.files)\n                        }}\n                    />\n                    <Svg\n                        className={buttonClasses.Svg}\n                        icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\" ></path></svg>'\n                    />\n                </label>\n                {!props.tooltipsOff ? (\n                    <ReactTooltip\n                        effect=\"solid\"\n                        multiline={true}\n                        place=\"top\"\n                        className={buttonClasses.Tooltip}\n                        delayShow={250}\n                        overridePosition={tooltipOverwritePositions}\n                    />\n                ) : null}\n                <SmallButton\n                    inline\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    buttonClicked={createFile}\n                    tooltip=\"Create new file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() => props.saveFile(currentResource, true)}\n                    tooltip=\"Save file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10,14H8.5H5v-3.8C5,10.1,5.1,10,5.3,10h3.3H10V9H4.5C4.2,9,4,9.2,4,9.5V14H2V2h2v3.5C4,5.8,4.2,6,4.5,6h5   C9.8,6,10,5.8,10,5.5V2h0.8c0.3,0,0.5,0.1,0.7,0.3l1.9,2C13.8,4.7,14,5.2,14,5.7v2.8V10h1V5.4c0-0.5-0.2-1-0.6-1.4l-2.4-2.4   C11.7,1.2,11.2,1,10.7,1H1.5C1.2,1,1,1.2,1,1.5v13C1,14.8,1.2,15,1.5,15H10V14z M7,2.3C7,2.1,7.1,2,7.3,2h1.5C8.9,2,9,2.1,9,2.3   v2.5C9,4.9,8.9,5,8.8,5H7.3C7.1,5,7,4.9,7,4.8V2.3z\"></path></svg>'\n                    buttonClicked={() => props.saveFile(currentResource)}\n                    tooltip=\"Save as a new file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" ></path></svg>'\n                    buttonClicked={() => props.deleteFile(currentResource)}\n                    tooltip=\"Delete file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                    buttonClicked={() =>\n                        setState({\n                            ...state,\n                            searchOpen: !state.searchOpen,\n                        })\n                    }\n                    tooltip=\"Show or hide search (Ctrl + F)\"\n                />\n                <SmallButton\n                    inline\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"></path></svg>'\n                    buttonClicked={handleCopyPath}\n                    tooltip=\"Copy path to the media file to clipboard.<br>You can paste it where needed.\"\n                    requiredRights={['developer', 'content']}\n                />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    isVirtualized={true}\n                    rowHeight={40}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                        overflow: 'auto',\n                    }}\n                    generateNodeProps={generateNodePropsHandle}\n                />\n                <OverlayOnSizeIsChanging />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        structure: state.mD.filesStructure,\n        currentResource: state.mD.currentFileId,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentResourcesStructureElement: state.mD.currentFileItem,\n        isFocused: state.activeContainer === 'filesresources',\n        tooltipsOff: state.mD.tooltipsOff,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n        uploadFile: files => dispatch(actions.uploadFile(files)),\n        deleteFile: file => dispatch(actions.deleteFile(file)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FilesTree)\n","export default str => {\n    const el = document.createElement('textarea') // Create a <textarea> element\n    el.value = str // Set its value to the string that you want copied\n    el.setAttribute('readonly', '') // Make it readonly to be tamper-proof\n    el.style.position = 'absolute'\n    el.style.left = '-9999px' // Move outside the screen to make it invisible\n    // $FlowFixMe\n    document.body.appendChild(el) // Append the <textarea> element to the HTML document\n    const selected =\n        // $FlowFixMe\n        document.getSelection().rangeCount > 0 // Check if there is any content selected previously\n            ? // $FlowFixMe\n              document.getSelection().getRangeAt(0) // Store selection if found\n            : false // Mark as false to know no selection existed before\n    const selectedElement = document.activeElement\n    el.select() // Select the <textarea> content\n    document.execCommand('copy') // Copy - only works as a result of a user action (e.g. click events)\n    // $FlowFixMe\n    document.body.removeChild(el) // Remove the <textarea> element\n    if (selected) {\n        // If a selection existed before copying\n        // $FlowFixMe\n        document.getSelection().removeAllRanges() // Unselect everything on the HTML document\n        // $FlowFixMe\n        document.getSelection().addRange(selected) // Restore the original selection\n    }\n    if (selectedElement) selectedElement.focus()\n}\n","import React from 'react'\n\nimport classes from './ValueInput.module.css'\n//import SmallButton from '../Buttons/SmallButton/SmallButton';\n\ntype Props = {\n    min?: number,\n    max?: number,\n    title?: string,\n    changed: Function,\n    value?: number,\n    datatestid?: string,\n    inline?: boolean,\n}\n\nconst ValueInput = (props: Props) => {\n    const handleChange = e => {\n        let value = parseInt(e.target.value) || 0\n        if (props.min !== undefined && value < props.min) {\n            value = props.min\n        }\n        if (props.max !== undefined && value > props.max) {\n            value = props.max\n        }\n        props.changed(value)\n    }\n\n    return (\n        <div\n            className={\n                props.inline\n                    ? [classes.Div, classes.Inline].join(' ')\n                    : classes.Div\n            }\n        >\n            {props.title}\n            <input\n                data-testid={props.datatestid || 'input'}\n                type=\"number\"\n                className={classes.Input}\n                value={props.value || 0}\n                onChange={handleChange}\n            />\n        </div>\n    )\n}\n\nexport default ValueInput\n","import React, { useEffect, useState, forwardRef } from 'react'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport * as classes from './FileProperties.module.css'\nimport Editor from '../../Editor/Editor'\nimport Select from '../../UI/Select/Select'\nimport Svg from '../../Svg/Svg'\nimport 'tui-image-editor/dist/tui-image-editor.css'\nimport 'tui-color-picker/dist/tui-color-picker.min.css'\nimport ImageEditor from '@toast-ui/react-image-editor'\nimport ValueInput from '../../UI/ValueInput/ValueInput'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport {\n    resizeImageFromSrcToSpecificSize,\n    urltoFile,\n} from '../../../store/actions/files'\nimport bytes from 'bytes'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../utils/getFileUrl'\n\nconst FileProperties = forwardRef((props, ref) => {\n    useEffect(() => {\n        props.setLoaded(false)\n    }, [props.currentFileId])\n\n    const [resolution, setResolution] = useState(\n        props.currentFileItem.resolution\n    )\n    const [fileSize, setFileSize] = useState(props.currentFileItem.size)\n    const [sourceDataUrl, setSourceDataUrl] = useState()\n\n    if (!props.currentFileItem) return null\n\n    const loadFile = () => {\n        axios.get(props.currentFileItem.url).then(response => {\n            props.setValue(response.data)\n            props.setEditorMode(props.currentFileItem.editorMode || 'css')\n            props.setLoaded(true)\n        })\n    }\n\n    const handleChangeResolution = (value, type) => {\n        if (type === 'width') {\n            setResolution({\n                width: value,\n                height:\n                    value *\n                    (props.currentFileItem.resolution.height /\n                        props.currentFileItem.resolution.width),\n            })\n        } else {\n            setResolution({\n                width:\n                    value *\n                    (props.currentFileItem.resolution.width /\n                        props.currentFileItem.resolution.height),\n                height: value,\n            })\n        }\n    }\n\n    const handleApplyResolutionChange = () => {\n        resizeImageFromSrcToSpecificSize(\n            sourceDataUrl,\n            resolution,\n            async data => {\n                props.setValue(data)\n                const file = await urltoFile(\n                    data,\n                    props.currentFileItem.name + ' (copy)'\n                )\n                setFileSize(file.size)\n            }\n        )\n        props.setValue()\n    }\n\n    function toDataURL(url, callback) {\n        var xhr = new XMLHttpRequest()\n        xhr.open('get', url)\n        xhr.responseType = 'blob'\n        xhr.onload = function() {\n            var fr = new FileReader()\n\n            fr.onload = function() {\n                callback(this.result)\n            }\n\n            fr.readAsDataURL(xhr.response) // async call\n        }\n\n        xhr.send()\n    }\n    const loadFileToDataUrl = () => {\n        const reqUrl = getFileUrl(\n            props.structure,\n            props.currentFileItem.id,\n            false,\n            false,\n            props.currentWebsiteObject.domain\n        )\n        toDataURL(reqUrl, dataUrl => {\n            setSourceDataUrl(dataUrl)\n            props.setValue(dataUrl)\n        })\n    }\n\n    if (props.currentFileItem.type.indexOf('image') >= 0) {\n        const myTheme = {\n            // Theme object to extends default dark theme.\n        }\n\n        return props.loaded ? (\n            props.loaded === 'resize' ? (\n                <div>\n                    <div>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>Current size</td>\n                                    <td>\n                                        {bytes(fileSize, {\n                                            decimalPlaces: 1,\n                                        })}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Current resolution</td>\n                                    <td>\n                                        {props.currentFileItem.resolution.width}{' '}\n                                        X{' '}\n                                        {\n                                            props.currentFileItem.resolution\n                                                .height\n                                        }\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Set new resolution</td>\n                                    <td>\n                                        <ValueInput\n                                            min={0}\n                                            changed={value =>\n                                                handleChangeResolution(\n                                                    value,\n                                                    'width'\n                                                )\n                                            }\n                                            value={parseInt(resolution.width)}\n                                            inline={true}\n                                        />{' '}\n                                        X{' '}\n                                        <ValueInput\n                                            min={0}\n                                            changed={value =>\n                                                handleChangeResolution(\n                                                    value,\n                                                    'height'\n                                                )\n                                            }\n                                            value={parseInt(resolution.height)}\n                                            inline={true}\n                                        />\n                                        <SmallButton\n                                            title=\"Apply\"\n                                            inline={true}\n                                            buttonClicked={\n                                                handleApplyResolutionChange\n                                            }\n                                        />\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <img alt=\"Is loading\" src={props.value} />\n                </div>\n            ) : (\n                <ImageEditor\n                    ref={ref}\n                    includeUI={{\n                        loadImage: {\n                            //path: props.currentFileItem.url,\n                            path: getFileUrl(\n                                props.structure,\n                                props.currentFileItem.id,\n                                false,\n                                false,\n                                props.currentWebsiteObject.domain\n                            ),\n                            name: 'SampleImage',\n                        },\n                        theme: myTheme,\n                        menu: [\n                            'crop',\n                            'flip',\n                            'rotate',\n                            'draw',\n                            'shape',\n                            'icon',\n                            'text',\n                            'mask',\n                            'filter',\n                        ],\n                        initMenu: 'filter',\n                        uiSize: {\n                            width: '1000px',\n                            height: '700px',\n                        },\n                        menuBarPosition: 'right',\n                    }}\n                    cssMaxHeight={500}\n                    cssMaxWidth={700}\n                    selectionStyle={{\n                        cornerSize: 20,\n                        rotatingPointOffset: 70,\n                    }}\n                    usageStatistics={false}\n                />\n            )\n        ) : (\n            <div style={{ margin: '30px auto' }}>\n                <button onClick={() => props.setLoaded(true)}>Edit</button>\n                <button\n                    onClick={() => {\n                        props.setLoaded('resize')\n                        loadFileToDataUrl()\n                    }}\n                >\n                    Resize\n                </button>\n                <img\n                    src={getFileUrl(\n                        props.structure,\n                        props.currentFileItem.id,\n                        false,\n                        true,\n                        props.currentWebsiteObject.domain\n                    )}\n                    style={{\n                        maxHeight: '120',\n                        maxWidth: '120',\n                        display: 'block',\n                    }}\n                    alt=\"websiter\"\n                />\n                {props.currentFileItem ? (\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>Name</td>\n                                <td>{props.currentFileItem.name}</td>\n                            </tr>\n                            <tr>\n                                <td>Size</td>\n                                <td>\n                                    {bytes(props.currentFileItem.size, {\n                                        decimalPlaces: 1,\n                                    })}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Type</td>\n                                <td>{props.currentFileItem.type}</td>\n                            </tr>\n                            <tr>\n                                <td>Date created</td>\n                                <td>\n                                    <TimeAgo\n                                        date={props.currentFileItem.createdDate}\n                                    />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Date modified</td>\n                                <td>\n                                    <TimeAgo\n                                        date={\n                                            props.currentFileItem.modifiedDate\n                                        }\n                                    />\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                ) : null}\n            </div>\n        )\n    } else if (props.currentFileItem.type.indexOf('text') >= 0) {\n        const editorModeOptions = [\n            { value: 'text', label: 'text' },\n            { value: 'css', label: 'css' },\n            { value: 'javascript', label: 'javascript' },\n            { value: 'json', label: 'json' },\n            { value: 'html', label: 'html' },\n        ]\n        return props.loaded ? (\n            <>\n                <Select\n                    options={editorModeOptions}\n                    default={editorModeOptions.findIndex(\n                        item => item.label === props.editorMode\n                    )}\n                    onChange={item => props.setEditorMode(item.value)}\n                    isClearable={false}\n                    requiredRights={['developer', 'content']}\n                />\n                <Editor\n                    currentElement={props.currentFileId}\n                    elementValue={props.value}\n                    editorMode={props.editorMode}\n                    handleChange={value => props.setValue(value)}\n                    name=\"editorProperties\"\n                    requiredRights={['developer']}\n                    currentResource=\"0\"\n                />\n            </>\n        ) : (\n            <div style={{ margin: '30px auto' }}>\n                <button onClick={loadFile}>Edit</button>\n                <Svg icon='<svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n            </div>\n        )\n    }\n    return (\n        <div style={{ margin: '30px auto' }}>\n            <Svg icon='<svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n        </div>\n    )\n})\n\nconst mapStateToProps = state => {\n    return {\n        currentFileItem: state.mD.currentFileItem,\n        currentFileId: state.mD.currentFileId,\n        structure: state.mD.filesStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    null,\n    null,\n    { forwardRef: true }\n)(FileProperties)\n","import React, { useState, useRef } from 'react'\nimport { connect } from 'react-redux'\n\n// import * as classes from './Images.module.css'\nimport * as classes from '../AdvancedBar.module.css'\nimport * as actions from '../../../store/actions'\nimport FilesTree from '../../../components/FilesTreeAndProperties/FilesTree/FilesTree'\nimport FileProperties from '../../../components/FilesTreeAndProperties/Properties/FileProperties'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport { urltoFile } from '../../../store/actions/files'\n\nconst Files = props => {\n    const [value, setValue] = useState('')\n    const [editorMode, setEditorMode] = useState('css')\n    const [loaded, setLoaded] = useState(false)\n\n    const handleSaveFile = async (fileId, replace) => {\n        if (fileId === props.currentFileItem.id) {\n            let file\n            if (loaded === 'resize') {\n                file = await urltoFile(\n                    value,\n                    props.currentFileItem.name + ' (copy)'\n                )\n            } else if (\n                toastEditorRef.current &&\n                props.currentFileItem.type.indexOf('image') >= 0\n            ) {\n                const content = toastEditorRef.current.getInstance().toDataURL()\n                file = await urltoFile(\n                    content,\n                    props.currentFileItem.name + ' (copy)'\n                )\n            } else {\n                file = new File(\n                    [value],\n                    props.currentFileItem.name + ' (copy)',\n                    {\n                        type: props.currentFileItem.type,\n                    }\n                )\n            }\n            if (replace) replace = props.currentFileItem\n            props.uploadFile([file], replace, editorMode)\n        }\n    }\n\n    const toastEditorRef = useRef(null)\n    return props.currentWebsiteObject ? (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <FilesTree saveFile={handleSaveFile} />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentFileItem ? (\n                <div className={classes.LastContainer}>\n                    <FileProperties\n                        ref={toastEditorRef}\n                        value={value}\n                        setValue={setValue}\n                        editorMode={editorMode}\n                        setEditorMode={setEditorMode}\n                        loaded={loaded}\n                        setLoaded={setLoaded}\n                    />\n                </div>\n            ) : null}\n        </div>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        barSizes: state.barSizes,\n        currentFileItem: state.mD.currentFileItem,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        uploadFile: (files, replace, editorMode) =>\n            dispatch(actions.uploadFile(files, replace, editorMode)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Files)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport InspectorValue from '../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../utils/sortTreeMethods'\nimport Svg from '../Svg/Svg'\nimport { structure } from '../../utils/resourceTypeIndex'\nimport checkUserRights from '../../utils/checkUserRights'\nimport * as wsActions from '../../websocketActions'\n\nimport type { pageType, initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    chooseResource: typeof actions.chooseResource,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: pageType & { children: Array<pageType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin' | 'template',\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <i className=\"material-icons\">more_vert</i>\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const {\n        name,\n        id,\n        url,\n        homepage,\n        hidden,\n        published,\n        generalSettings,\n        propagating,\n    } = props.node\n\n    const isGeneralSettings =\n        id === props.globalSettingsPageId ||\n        id === props.globalSettingsTemplateId\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        if (\n            !props.checkUserRights(\n                props.type === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        value = value.trim()\n        if (key === 'url') {\n            value = value.replace(/\\s+/g, '-').toLowerCase()\n        }\n        const newStructure = cloneDeep(props.structure)\n        const element = newStructure.find(item => item.id === id)\n        // $FlowFixMe\n        if (element[key] !== value) {\n            // $FlowFixMe\n            element[key] = value\n            props.sendUpdate(\n                'website',\n                {\n                    [structure[props.type]]: newStructure,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (\n            props.currentPageId !== id &&\n            props.currentTemplateId !== id &&\n            props.currentPluginId !== id\n        )\n            props.chooseResource(id, props.type)\n    }\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                            style={\n                                props.type === 'page'\n                                    ? {\n                                          minWidth: '350px',\n                                      }\n                                    : {}\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {props.checkUserRights(\n                                    props.type === 'page'\n                                        ? ['content']\n                                        : ['developer'],\n                                    true\n                                ) && !isGeneralSettings ? (\n                                    <InspectorValue\n                                        value={name}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        requiredRights={\n                                            props.type === 'page'\n                                                ? ['content']\n                                                : ['developer']\n                                        }\n                                        maxLength=\"40\"\n                                        maxWidth=\"220px\"\n                                    />\n                                ) : (\n                                    name\n                                )}\n                            </div>\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                <div>\n                                    {props.notSavedResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {!published ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {props.newVersionResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.89,4,2.01,4.89,2.01,6L2,18c0,1.11,0.89,2,2,2h16c1.11,0,2-0.89,2-2V6C22,4.89,21.11,4,20,4z M8.5,15H7.3 l-2.55-3.5V15H3.5V9h1.25l2.5,3.5V9H8.5V15z M13.5,10.26H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4V10.26z M20.5,14 c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25V14z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {homepage ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {hidden ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {props.type === 'plugin' ? (\n                                    <div>\n                                        {propagating ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M8,8H6v7c0,1.1,0.9,2,2,2h9v-2H8V8z\"></path><path d=\"M20,3h-8c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V5C22,3.9,21.1,3,20,3z M20,11h-8V7h8V11z\"></path><path d=\"M4,12H2v7c0,1.1,0.9,2,2,2h9v-2H4V12z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                            </div>\n                            {props.type === 'page' && !isGeneralSettings ? (\n                                <div className={classes.rst__rowLabel}>\n                                    url:\n                                    {props.checkUserRights(\n                                        props.type === 'page'\n                                            ? ['content']\n                                            : ['developer'],\n\n                                        true\n                                    ) ? (\n                                        <InspectorValue\n                                            value={url}\n                                            items={[]}\n                                            blur={value =>\n                                                handlePropertyChange(\n                                                    'url',\n                                                    value,\n                                                    id\n                                                )\n                                            }\n                                            withState\n                                            allowEmpty\n                                            maxLength=\"30\"\n                                            maxWidth=\"200px\"\n                                        />\n                                    ) : (\n                                        url\n                                    )}\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        notSavedResources: state.notSavedResources,\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n        structure: state.mD[structure[props.type]],\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentPageId: state.mD.currentPageId,\n        currentTemplateId: state.mD.currentTemplateId,\n        currentPluginId: state.mD.currentPluginId,\n        globalSettingsPageId: state.mD.globalSettingsPageId,\n        globalSettingsTemplateId: state.mD.globalSettingsTemplateId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: (id, type) =>\n            dispatch(actions.chooseResource(id, type)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState } from 'react'\n// import SortableTree from 'react-sortable-tree'\n// import HTML5Backend from 'react-dnd-html5-backend'\n// import TouchBackend from 'react-dnd-touch-backend'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\n// import withDragDropContext from '../../hoc/withDragDropContext'\nimport SmallButton from '../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../UI/TreeSearch/TreeSearch'\nimport { buildTree } from '../../utils/basic'\nimport Select from '../UI/Select/Select'\nimport checkUserRights from '../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    structure as structureIndex,\n    resourceItemIndex,\n} from '../../utils/resourceTypeIndex'\nimport * as wsActions from '../../websocketActions'\nimport { connect } from 'react-redux'\n\n// import { DndProvider } from 'react-dnd'\n// import MultiBackend from 'react-dnd-multi-backend'\n// import HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch'\nimport OverlayOnSizeIsChanging from '../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\n\nimport type { State } from '../ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport buildRelUrls from '../../utils/buildRelUrls'\n\n// const isTouchDevice = !!('ontouchstart' in window || navigator.maxTouchPoints)\n// const dndBackend = isTouchDevice ? TouchBackend : HTML5Backend\n\nexport type Props = {\n    type: 'page' | 'plugin' | 'template',\n    addResource: typeof actions.addResource,\n    duplicateResource: typeof actions.addResource,\n    deleteResource: typeof actions.deleteResource,\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    saveResource: typeof actions.saveResource,\n    publishRevertResource: typeof actions.publishRevertResource,\n    revertResourceToSaved: typeof actions.revertResourceToSaved,\n}\n\nconst ResourcesTree = (props: Props) => {\n    const {\n        structure,\n        currentResource,\n        currentResourcesStructureElement,\n    } = props\n\n    const treeData = buildTree(structure)\n\n    const handleChange = items => {\n        let result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, structure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    structure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            )\n                if (\n                    !props.checkUserRights(\n                        props.type === 'page' ? ['content'] : ['developer']\n                    )\n                ) {\n                    return\n                }\n            if (props.type === 'page') result = buildRelUrls(result, true)\n            props.sendUpdate(\n                'website',\n                {\n                    [structureIndex[props.type]]: result,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const resourceStructureAttributeChange = (key, value) => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = structure.map(item => {\n            if (item.id === currentResource) {\n                return {\n                    ...item,\n                    [key]: value,\n                }\n            } else {\n                if (key === 'homepage') return { ...item, homepage: false }\n                else return item\n            }\n        })\n        props.sendUpdate(\n            'website',\n            {\n                [structureIndex[props.type]]: newStructure,\n            },\n            props.currentWebsiteId\n        )\n    }\n\n    const handleSaveResource = () => {\n        if (!currentResourcesStructureElement) return\n        props.sendUpdate(props.type, {}, currentResource)\n    }\n\n    const handlePublishRevert = (revert?: boolean) => {\n        if (!currentResourcesStructureElement) return\n        props.publishResource(props.type)\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    const templateOptions = props.templatesStructure\n        .filter(item => !item.generalSettings && !item.hidden)\n        .map(item => ({\n            label: item.name,\n            value: item.name,\n        }))\n\n    const canDropHandle = ({ nextParent, nextPath, prevPath }) => {\n        if (nextParent) if (nextParent.generalSettings) return false\n        return true\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.generalSettings) return false\n        return true\n    }\n    const generateNodePropsHandle = ({ node }) => ({\n        className:\n            node.id === currentResource\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : null,\n        type: props.type,\n    })\n\n    const requiredRightsIndex = {\n        add: props.type === 'page' ? ['content'] : ['developer'],\n        home: ['content'],\n    }\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer(props.type + 'resources')\n        } else {\n            props.setActiveContainer(props.type + 'resources')\n            if (e) {\n                const code = e.code\n\n                if (\n                    !props.checkUserRights(\n                        requiredRightsIndex[code === 'KeyH' ? 'home' : 'add']\n                    )\n                ) {\n                    return\n                }\n\n                switch (code) {\n                    case 'KeyA':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.addResource(props.type)\n                        }\n                        break\n                    case 'KeyD':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.addResource(props.type, true)\n                        }\n                        break\n                    case 'KeyH':\n                        if (e.ctrlKey)\n                            if (currentResourcesStructureElement) {\n                                e.preventDefault()\n\n                                resourceStructureAttributeChange(\n                                    'hidden',\n                                    !currentResourcesStructureElement.hidden\n                                )\n                            }\n                        break\n                    case 'KeyS':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handleSaveResource()\n                        }\n                        break\n                    case 'KeyP':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handlePublishRevert()\n                        }\n                        break\n                    case 'KeyF':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            setState({\n                                ...state,\n                                searchOpen: !state.searchOpen,\n                            })\n                        }\n                        break\n\n                    case 'Delete':\n                        e.preventDefault()\n                        props.deleteResource(props.type)\n                        break\n                    default:\n                        break\n                }\n            }\n        }\n    }\n\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <div>\n                <SmallButton\n                    inline\n                    buttonClicked={() => props.addResource(props.type)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    tooltip=\"Add new resource (page, template or plugin) (Ctrl + A)\"\n                    requiredRights={requiredRightsIndex.add}\n                />\n                {!props.isGlobalSettingsPage ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addResource(props.type, true)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                            tooltip=\"Duplicate resource (Ctrl + D)\"\n                            requiredRights={requiredRightsIndex.add}\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.deleteResource(props.type)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                            tooltip=\"Delete resource (Delete)\"\n                            requiredRights={requiredRightsIndex.add}\n                        />\n                    </>\n                ) : null}\n                {props.type === 'page' && !props.isGlobalSettingsPage ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                resourceStructureAttributeChange(\n                                    'homepage',\n                                    true\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>'\n                            tooltip=\"Set as the homepage\"\n                            requiredRights={requiredRightsIndex.home}\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() => {\n                                if (currentResourcesStructureElement)\n                                    resourceStructureAttributeChange(\n                                        'hidden',\n                                        !currentResourcesStructureElement.hidden\n                                    )\n                            }}\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>'\n                            tooltip=\"Make hidden or visible. <br>Hidden resources do not influence other resources. (Ctrl + H)\"\n                            requiredRights={requiredRightsIndex.home}\n                        />\n                    </>\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() => handleSaveResource()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    tooltip=\"Save all changes in the resource.<br>Saved changes are not visible on the live version if they are not published. (Ctrl + S)\"\n                    requiredRights={requiredRightsIndex.add}\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() => handlePublishRevert()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>'\n                    tooltip=\"Publish last saved changes of the resource. (Ctrl + P)\"\n                    requiredRights={requiredRightsIndex.add}\n                />\n                {props.newVersionResources.includes(currentResource) ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.revertResource(props.type, 'draft')\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.89,4,2.01,4.89,2.01,6L2,18c0,1.11,0.89,2,2,2h16c1.11,0,2-0.89,2-2V6C22,4.89,21.11,4,20,4z M8.5,15H7.3 l-2.55-3.5V15H3.5V9h1.25l2.5,3.5V9H8.5V15z M13.5,10.26H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4V10.26z M20.5,14 c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25V14z\"></path></svg>'\n                        tooltip=\"A new version of this resource is available. Press the button to load the new version.\"\n                        requiredRights={requiredRightsIndex.add}\n                    />\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.revertResource(props.type, 'published')\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.2,8c-3.8,0-6.8,3.1-6.8,6.8c0,3.8,3,6.8,6.8,6.8s6.8-3.1,6.8-6.8S19,8,15.2,8z M19.9,12.1h-2c-0.2-0.9-0.5-1.7-0.9-2.4   C18.2,10.1,19.3,11,19.9,12.1z M15.2,9.4c0.6,0.8,1,1.7,1.3,2.7h-2.6C14.2,11.2,14.7,10.3,15.2,9.4z M13.5,9.7   c-0.5,0.8-0.8,1.6-1,2.4h-2C11.2,11,12.2,10.1,13.5,9.7z M9.9,16.2c-0.1-0.4-0.2-0.9-0.2-1.4s0.1-0.9,0.2-1.4h2.3   c-0.1,0.4-0.1,0.9-0.1,1.4s0,0.9,0.1,1.4H9.9z M10.5,17.6h2c0.2,0.9,0.5,1.7,0.9,2.4C12.2,19.6,11.2,18.7,10.5,17.6z M15.2,20.3   c-0.6-0.8-1-1.7-1.3-2.7h2.6C16.2,18.6,15.8,19.5,15.2,20.3z M16.8,16.2h-3.2c-0.1-0.4-0.1-0.9-0.1-1.4s0-0.9,0.1-1.4h3.2   c0.1,0.4,0.1,0.9,0.1,1.4S16.9,15.8,16.8,16.2z M17,20c0.4-0.8,0.7-1.6,0.9-2.4h2C19.3,18.7,18.2,19.6,17,20z M18.2,16.2   c0.1-0.4,0.1-0.9,0.1-1.4s0-0.9-0.1-1.4h2.3c0.1,0.4,0.2,0.9,0.2,1.4s-0.1,0.9-0.2,1.4H18.2z M9,10.6H2V3.5l2,2   c4-3.1,8.1-2.1,11.1,0C12.1,5,9.5,6,7,8.5L9,10.6z\"></path></svg>'\n                    tooltip=\"Revert resource to the last published version\"\n                    requiredRights={requiredRightsIndex.add}\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.revertResource(props.type, 'draft')\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M18.6,10.1h-7.3c-0.7,0-1.2,0.5-1.2,1.2v8.5c0,0.7,0.5,1.2,1.2,1.2h8.5c0.7,0,1.2-0.5,1.2-1.2v-7.3L18.6,10.1z M15.6,19.8   c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C17.4,19,16.6,19.8,15.6,19.8z M17.4,13.7h-6v-2.4h6V13.7z    M10.1,10.1H3V3l2,2c4-3,8.1-2,11.1,0c-3-0.5-5.6,0.5-8.1,3L10.1,10.1z\"></path></svg>'\n                    tooltip=\"Revert resource to the last saved version\"\n                    requiredRights={requiredRightsIndex.add}\n                />\n                {props.type === 'plugin' ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() => {\n                            if (currentResourcesStructureElement) {\n                                if (\n                                    currentResourcesStructureElement.propagating\n                                )\n                                    if (\n                                        !window.confirm(\n                                            'Are you sure you want to turn off propagating of this plugin? This will remove all CMS variables of this plugin.'\n                                        )\n                                    )\n                                        return\n                                resourceStructureAttributeChange(\n                                    'propagating',\n                                    !currentResourcesStructureElement.propagating\n                                )\n                            }\n                        }}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M8,8H6v7c0,1.1,0.9,2,2,2h9v-2H8V8z\"></path><path d=\"M20,3h-8c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V5C22,3.9,21.1,3,20,3z M20,11h-8V7h8V11z\"></path><path d=\"M4,12H2v7c0,1.1,0.9,2,2,2h9v-2H4V12z\"></path></svg>'\n                        tooltip=\"Make pluging propagating.<br>Propagating plugins can be propagated on page.\"\n                        requiredRights={requiredRightsIndex.add}\n                    />\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        setState({\n                            ...state,\n                            searchOpen: !state.searchOpen,\n                        })\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                    tooltip=\"Show or hide search (Ctrl + F)\"\n                />\n\n                {props.type === 'page' && currentResourcesStructureElement ? (\n                    !currentResourcesStructureElement.generalSettings ? (\n                        <div className={classes.selectContainer}>\n                            <Select\n                                onChange={option => {\n                                    resourceStructureAttributeChange(\n                                        'template',\n                                        option.value\n                                    )\n                                }}\n                                options={templateOptions}\n                                default={\n                                    currentResourcesStructureElement\n                                        ? templateOptions.findIndex(\n                                              option =>\n                                                  option.value ===\n                                                  currentResourcesStructureElement.template\n                                          )\n                                        : 0\n                                }\n                                requiredRights={['content']}\n                            />\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    isVirtualized={true}\n                    rowHeight={20}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                        overflow: 'auto',\n                    }}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    generateNodeProps={generateNodePropsHandle}\n                />\n                <OverlayOnSizeIsChanging />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        structure: state.mD[structureIndex[props.type]],\n        currentResource: state.mD[currentIndex[props.type]],\n        isGlobalSettingsPage:\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsPageId ||\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsTemplateId,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentResourcesStructureElement:\n            state.mD[resourceItemIndex[props.type]],\n        templatesStructure: state.mD.templatesStructure,\n        isFocused: state.activeContainer === props.type + 'resources',\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        revertResource: (mD, type, to) =>\n            dispatch(wsActions.revertResource(mD, type, to)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n        publishResource: type => dispatch(wsActions.publishResource(type)),\n        addResource: (type, withChildren) =>\n            dispatch(wsActions.addResource(type, withChildren)),\n        deleteResource: type => dispatch(wsActions.deleteResource(type)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ResourcesTree)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './TextProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport Select from '../../../UI/Select/Select'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport type { elementType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    element: elementType,\n    changeProperty: (key: string | {}, value: string) => {},\n    splitText: typeof actions.splitText,\n    textToSpan: typeof actions.textToSpan,\n    requiredRights: Array<string>,\n}\n\nconst TextProperty = (props: Props) => {\n    const [state, setState] = useState({\n        selectionStart: 0,\n        selectionEnd: 0,\n        value: '',\n    })\n\n    const editor = useRef(null)\n\n    useEffect(() => {\n        if (props.elementValues.textContent !== state.value) {\n            setState({\n                selectionStart: 0,\n                selectionEnd: 0,\n                value: props.elementValues.textContent,\n            })\n        }\n    }, [props.elementValues.textContent])\n\n    const setCssMode = item => {\n        props.changeProperty('textMode', item.value)\n    }\n\n    const handleTextChangeCss = value => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        value = value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        props.changeProperty('textContent', value)\n    }\n\n    const handleTextChangeText = e => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        const value = e.target.value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        if (props.elementValues.textMode === 'text')\n            setState({\n                selectionStart: e.target.selectionStart,\n                selectionEnd: e.target.selectionEnd,\n                value,\n            })\n        props.changeProperty('textContent', value)\n    }\n\n    const handleSelectionChange = e => {\n        setState({\n            ...state,\n            selectionStart: e.target.selectionStart,\n            selectionEnd: e.target.selectionEnd,\n        })\n    }\n\n    return props.elementValues ? (\n        <>\n            <div>\n                <div className={classes.SelectContainer}>\n                    <Select\n                        options={[\n                            { value: 'text', label: 'text' },\n                            { value: 'css', label: 'css' },\n                            { value: 'javascript', label: 'javascript' },\n                        ]}\n                        default={\n                            props.elementValues.textMode === 'text'\n                                ? 0\n                                : props.elementValues.textMode === 'css'\n                                ? 1\n                                : 2\n                        }\n                        onChange={setCssMode}\n                        isClearable={false}\n                        requiredRights={props.requiredRights}\n                    />\n                </div>\n\n                {props.elementValues.textMode === 'text' ? (\n                    <>\n                        <SmallButton\n                            title=\"Split\"\n                            buttonClicked={() => {\n                                props.splitText(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                            requiredRights={props.requiredRights}\n                        />\n\n                        <SmallButton\n                            title=\"To span\"\n                            buttonClicked={() => {\n                                props.textToSpan(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                            requiredRights={props.requiredRights}\n                        />\n                    </>\n                ) : (\n                    <SmallButton\n                        buttonClicked={() => {\n                            //$FlowFixMe\n                            editor.current.makeCodePrettier()\n                        }}\n                        icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                        inline\n                        tooltip=\"Beautify the code\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </div>\n            <div className={classes.Editors}>\n                {props.elementValues.textMode === 'text' ? (\n                    <textarea\n                        className={classes.Textarea}\n                        onChange={handleTextChangeText}\n                        value={state.value}\n                        onKeyUp={handleSelectionChange}\n                        onMouseUp={handleSelectionChange}\n                    />\n                ) : (\n                    <Editor\n                        ref={editor}\n                        currentElement={props.element.id}\n                        elementValue={props.elementValues.textContent || ''}\n                        // elementCurrentCursor={element.cursorPosition}\n                        editorMode={props.elementValues.textMode}\n                        handleChange={handleTextChangeCss}\n                        name=\"editorText\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        splitText: (type, start, end) =>\n            dispatch(actions.splitText(type, start, end)),\n        textToSpan: (type, start, end) =>\n            dispatch(actions.textToSpan(type, start, end)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(TextProperty)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './ParseProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport checkUserRights from '../../../../utils/checkUserRights'\n\nimport type {\n    resourceType,\n    elementType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    element: elementType,\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => {},\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>,\n    splitText: typeof actions.splitText,\n    textToSpan: typeof actions.textToSpan,\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n    requiredRights: Array<string>,\n}\n\nconst ParseProperty = (props: Props) => {\n    const [value, setValue] = useState('')\n\n    const handleTextChange = editorValue => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        setValue(editorValue)\n    }\n\n    return props.element ? (\n        <>\n            <div>\n                <SmallButton\n                    title=\"Parse the code\"\n                    buttonClicked={() => {\n                        props.parseHTML(props.type, value)\n                    }}\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                    inline\n                    requiredRights={props.requiredRights}\n                />\n            </div>\n            <div className={classes.Editors}>\n                <Editor\n                    currentElement={props.currentBox}\n                    editorValue=\"\"\n                    editorMode=\"html\"\n                    handleChange={handleTextChange}\n                    name=\"editorParse\"\n                    requiredRights={['developer']}\n                />\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        parseHTML: (type, value) => dispatch(actions.parseHTML(type, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(ParseProperty)\n","export default {\n    websiterMenu: [\n        {\n            value: 'horizontal | vertical',\n            label: 'mode',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemActiveClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemActiveClasses',\n        },\n    ],\n    baseHtmlProps: [\n        {\n            value: 'id',\n            label: 'id',\n        },\n        {\n            value: 'class',\n            label: 'class',\n        },\n    ],\n}\n","import React, { useState, useEffect } from 'react'\n//$FlowFixMe\nimport { Editor } from '@tinymce/tinymce-react'\nimport { connect } from 'react-redux'\nimport checkUserRights from '../../utils/checkUserRights'\n\nimport type { elementType, initialStateType } from '../../store/reducer/reducer'\ntype Props = {\n    elementValue: $PropertyType<elementType, 'propertiesString'>,\n    elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n    editorMode: 'json' | 'css',\n    handleChange: (value: string, cursorPosition: {}) => {},\n    readOnly?: boolean,\n    sizeIsChanging: $PropertyType<initialStateType, 'sizeIsChanging'>,\n    requiredRights: Array<string>,\n    value: string,\n}\n\nconst HTMLEditor = (props: Props) => {\n    const [state, setState] = useState(false)\n    const [value, setValue] = useState(props.value)\n    const [box, setBox] = useState(props.currentBox)\n\n    useEffect(() => {\n        setValue(props.value)\n        setBox(props.currentBox)\n        setState(true)\n    }, [props.currentBox])\n\n    const handleChange = (e, editor) => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        props.handleChange(e, editor, box)\n    }\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flex: '1',\n                flexDirection: 'column',\n                height: '100%',\n                position: 'relative',\n            }}\n        >\n            {!state ? (\n                <Editor\n                    apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n                    value={value}\n                    init={{\n                        // skin_url: `../../../skins/`,\n                        readonly: props.readOnly ? 1 : 0,\n                        // height: 500,\n                        plugins: [\n                            'advlist autolink lists link image charmap print preview anchor',\n                            'searchreplace visualblocks code fullscreen',\n                            'insertdatetime media table contextmenu paste',\n                        ],\n                        toolbar:\n                            'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n                        menu: {\n                            file: {\n                                title: 'File',\n                                items: ' print ',\n                            },\n                            edit: {\n                                title: 'Edit',\n                                items:\n                                    'undo redo | cut copy paste | selectall | searchreplace',\n                            },\n                            view: {\n                                title: 'View',\n                                items:\n                                    'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen',\n                            },\n                            insert: {\n                                title: 'Insert',\n                                items:\n                                    'image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime',\n                            },\n                            format: {\n                                title: 'Format',\n                                items:\n                                    'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat',\n                            },\n                            tools: {\n                                title: 'Tools',\n                                items:\n                                    'spellchecker spellcheckerlanguage | code wordcount',\n                            },\n                            table: {\n                                title: 'Table',\n                                items:\n                                    'inserttable | cell row column | tableprops deletetable',\n                            },\n                            help: { title: 'Help', items: 'help' },\n                        },\n                        menubar: true,\n                        image_advtab: true,\n                        // plugins: [\n                        //     'advlist autolink lists link image charmap print preview anchor',\n                        //     'searchreplace visualblocks code fullscreen',\n                        //     'insertdatetime media table paste code help wordcount',\n                        // ],\n                        // toolbar:\n                        //     'insertfile undo redo | formatselect | bold italic backcolor | \\\n                        //  alignleft aligncenter alignright alignjustify | \\\n                        //  bullist numlist outdent indent | removeformat | help | table | ',\n                    }}\n                    onChange={handleChange}\n                    onKeyUp={handleChange}\n                    onMouseUp={handleChange}\n                />\n            ) : (\n                <Refresh setState={setState} />\n            )}\n            {props.sizeIsChanging ? (\n                <div\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        opacity: '0',\n                        position: 'absolute',\n                    }}\n                />\n            ) : null}\n        </div>\n    )\n}\n\nconst Refresh = props => {\n    useEffect(() => {\n        props.setState(false)\n    })\n    return null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(HTMLEditor)\n\n// import React, { useEffect, useState } from 'react'\n\n// // Initialize the app\n\n// import SunEditor, { buttonList } from 'suneditor-react'\n// import 'suneditor/dist/css/suneditor.min.css'\n// import type { elementType } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     currentElement: $PropertyType<elementType, 'id'>,\n//     elementValue: $PropertyType<elementType, 'propertiesString'>,\n//     elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n//     editorMode: 'json' | 'css',\n//     handleChange: (value: string, cursorPosition: {}) => {},\n//     readOnly?: boolean,\n// }\n\n// const HTMLEditor = props => {\n//     const [state, setState] = useState(props.value)\n//     useEffect(() => {\n//         setState(props.value)\n//     }, [props.currentElement, props.currentResource])\n//     return (\n//         <SunEditor\n//             setContents={state}\n//             onChange={props.handleChange}\n//             setOptions={{ buttonList: buttonList.complex }}\n//         />\n//     )\n// }\n\n// export default HTMLEditor\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../FilesTreeAndProperties/FilesTree/FilesTree.module.css'\nimport * as classesFileTree from './FileItem.module.css'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\nimport Svg from '../../../Svg/Svg'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport LazyLoad from 'react-lazy-load'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\n\n// import { bucket, CloudFrontUrl } from '../../../awsConfig'\n\ntype Props = {\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    chooseResource: typeof actions.chooseResource,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: pageType & { children: Array<pageType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, size, type } = props.node\n\n    const rowClasses = [classes.rst__row, classesFileTree.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handleChoose = id => {\n        props.changeProperty('currentFileId', id)\n    }\n\n    // const edits = {\n    //     resize: {\n    //         width: 40,\n    //         height: 40,\n    //         fit: 'contain',\n    //         background: { r: 0, g: 0, b: 0, alpha: 0 },\n    //     },\n    // }\n    // if (type !== 'image/png') edits.toFormat = 'png'\n    // const imageRequest = JSON.stringify({\n    //     bucket: bucket,\n    //     key: serverName,\n    //     edits,\n    // })\n    // const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n    // let imageClass = classes.ImageContainer\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            style={{\n                                width: '100px',\n                                height: '60px',\n                                overflow: 'hidden',\n\n                                boxSizing: 'border-box',\n                                lineHeight: '60px',\n                                textAlign: 'center',\n                            }}\n                        >\n                            {type.indexOf('image') >= 0 ? (\n                                <LazyLoad height={60}>\n                                    <img\n                                        src={getFileUrl(\n                                            props.structure,\n                                            id,\n                                            false,\n                                            true,\n                                            props.currentWebsiteObject.domain\n                                        )}\n                                        style={{\n                                            maxWidth: '100%',\n                                            maxHeight: '100%',\n                                            verticalAlign: 'middle',\n                                        }}\n                                        alt=\"websiter\"\n                                    />\n                                </LazyLoad>\n                            ) : (\n                                <Svg icon='<svg width=\"40\" height=\"30\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                            )}\n                        </div>\n                        <div\n                            style={{ padding: '0 7px 0 15px', border: 'none' }}\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <div>{name}</div>\n                                <div style={{ color: '#555' }}>\n                                    <TimeAgo date={props.node.modifiedDate} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        userId: state.userId,\n        structure: state.mD.filesStructure,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: id => dispatch(actions.chooseResource(id, 'file')),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport * as actions from '../../../../store/actions/index'\n\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesFileTree from './FileItem.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport SizeDragController from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport OverlayOnSizeIsChanging from '../../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport bytes from 'bytes'\nimport TimeAgo from 'react-timeago'\nimport Checkbox from '../../../UI/Checkbox/Checkbox'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\n\nconst FileItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n\n    useEffect(() => {\n        const treeDataSource = buildTree(props.filesStructure).map(item => ({\n            ...item,\n            // type: props.mode,\n        }))\n        setState({ ...state, treeDataSource })\n    }, [props.filesStructure])\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer('filesitems')\n        } else {\n            props.setActiveContainer('filesitems')\n        }\n    }\n\n    const currentFileItem = props.filesStructure.find(\n        item => item.id === props.elementValues.currentFileId\n    )\n\n    const chosenFileItem = props.filesStructure.find(item => {\n        return (\n            getFileUrl(props.filesStructure, item.id, true) ===\n            props.elementValues[props.attrName]\n        )\n    })\n\n    const fileDetailesTable = file => (\n        <table>\n            <tbody>\n                <tr>\n                    <td>Name</td>\n                    <td>{file.name}</td>\n                </tr>\n                <tr>\n                    <td>Size</td>\n                    <td>\n                        {bytes(file.size, {\n                            decimalPlaces: 1,\n                        })}\n                    </td>\n                </tr>\n                <tr>\n                    <td>Type</td>\n                    <td>{file.type}</td>\n                </tr>\n                <tr>\n                    <td>Date created</td>\n                    <td>\n                        <TimeAgo date={file.createdDate} />\n                    </td>\n                </tr>\n                <tr>\n                    <td>Date modified</td>\n                    <td>\n                        <TimeAgo date={file.modifiedDate} />\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    )\n\n    return props.element && props.elementValues ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n                tabIndex=\"0\"\n                onKeyDown={e => {\n                    setActiveAndKeyDown(e.nativeEvent)\n                }}\n                onMouseDown={() => {\n                    setActiveAndKeyDown()\n                }}\n                onTouchStart={() => {\n                    setActiveAndKeyDown()\n                }}\n                onFocus={() => {\n                    setActiveAndKeyDown()\n                }}\n                onBlur={() => {\n                    setActiveAndKeyDown('blur')\n                }}\n            >\n                <div className={classes.TreeContainer}>\n                    <SortableTree\n                        className={classesFileTree.FilesTree}\n                        treeData={state.treeDataSource}\n                        nodeContentRenderer={ItemRenderer}\n                        isVirtualized={true}\n                        generateNodeProps={({ node }) => ({\n                            type: props.type,\n                            className:\n                                chosenFileItem && node.id === chosenFileItem.id\n                                    ? [classes.ChosenGreen]\n                                    : node.id ===\n                                      props.elementValues.currentFileId\n                                    ? props.isFocused\n                                        ? [classes.Chosen]\n                                        : [classes.ChosenBlur]\n                                    : null,\n                            changeProperty: props.changeProperty,\n                            elementId: props.element.id,\n                            fileUrl: props.elementValues[props.attrName],\n                            attrName: props.attrName,\n                        })}\n                        rowHeight={60}\n                        scaffoldBlockPxWidth={22}\n                        canDrop={() => false}\n                        canDrag={() => false}\n                        shouldCopyOnOutsideDrop={true}\n                        dndType={props.attrName}\n                        style={{\n                            flex: '1 1',\n                            height: 'auto !important',\n                            overflow: 'auto',\n                        }}\n                        onChange={items =>\n                            setState({ ...state, treeDataSource: items })\n                        }\n                    />\n                    <OverlayOnSizeIsChanging />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    type={'width3'}\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs\n                    className={[\n                        'react-tabs',\n                        classesAdvancedBar.reactTabs,\n                        classes.MenuItemsTabs,\n                    ].join(' ')}\n                >\n                    <TabList>\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classesAdvancedBar.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Highlighted file\n                        </Tab>\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classesAdvancedBar.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Chosen file\n                        </Tab>\n                    </TabList>\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classesAdvancedBar.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        {currentFileItem ? (\n                            <div style={{ flex: 1 }}>\n                                {currentFileItem.type.indexOf('image') >= 0 ? (\n                                    <>\n                                        <Checkbox\n                                            checked={\n                                                props.elementValues[\n                                                    props.attrName\n                                                ] ===\n                                                    getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ) &&\n                                                !props.elementValues[\n                                                    props.attrThumb\n                                                ]\n                                            }\n                                            onChange={value => {\n                                                props.changeProperty({\n                                                    [props.attrName]: getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ),\n                                                    [props.attrThumb]: false,\n                                                })\n                                            }}\n                                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"#666\" d=\"M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z\"></path></svg>'\n                                            title=\"Select original size\"\n                                        />\n                                        <Checkbox\n                                            checked={\n                                                props.elementValues[\n                                                    props.attrName\n                                                ] ===\n                                                    getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ) &&\n                                                props.elementValues[\n                                                    props.attrThumb\n                                                ]\n                                            }\n                                            onChange={value => {\n                                                props.changeProperty({\n                                                    [props.attrName]: getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ),\n                                                    [props.attrThumb]: true,\n                                                })\n                                            }}\n                                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path fill=\"#666\" d=\"M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z\"></path></svg>'\n                                            title=\"Select thumbnail size\"\n                                        />\n\n                                        <img\n                                            src={getFileUrl(\n                                                props.filesStructure,\n                                                props.elementValues\n                                                    .currentFileId,\n                                                false,\n                                                true,\n                                                props.currentWebsiteObject\n                                                    .domain\n                                            )}\n                                            style={{\n                                                maxWidth: '100%',\n                                                maxHeight: '100%',\n                                                verticalAlign: 'middle',\n                                            }}\n                                            alt=\"websiter\"\n                                        />\n                                    </>\n                                ) : (\n                                    <Checkbox\n                                        style={{}}\n                                        checked={\n                                            props.elementValues[\n                                                props.attrName\n                                            ] ===\n                                                getFileUrl(\n                                                    props.filesStructure,\n                                                    currentFileItem.id,\n                                                    true\n                                                ) && !props.thumbnail\n                                        }\n                                        onChange={value => {\n                                            props.changeProperty({\n                                                [props.attrName]: getFileUrl(\n                                                    props.filesStructure,\n                                                    currentFileItem.id,\n                                                    true\n                                                ),\n                                                [props.attrThumb]: false,\n                                            })\n                                        }}\n                                        title=\"Select file\"\n                                    />\n                                )}\n                                {fileDetailesTable(currentFileItem)}\n                            </div>\n                        ) : null}\n                        <OverlayOnSizeIsChanging />\n                    </TabPanel>\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classesAdvancedBar.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        {props.elementValues[props.attrName] ? (\n                            <>\n                                <div style={{ flex: 1 }}>\n                                    <img\n                                        src={\n                                            getFileUrl(\n                                                props.filesStructure,\n                                                props.elementValues[\n                                                    props.attrName\n                                                ],\n                                                false,\n                                                true,\n                                                props.currentWebsiteObject\n                                                    .domain\n                                            )\n                                            // 'http://live.websiter.dev:5000/' +\n                                            // props.currentWebsiteObject.domain +\n                                            // props.elementValues[props.attrName]\n                                        }\n                                        style={{\n                                            maxWidth: '100%',\n                                            maxHeight: '100%',\n                                            verticalAlign: 'middle',\n                                        }}\n                                        alt=\"websiter\"\n                                    />\n                                    {chosenFileItem\n                                        ? fileDetailesTable(chosenFileItem)\n                                        : null}\n                                </div>\n                            </>\n                        ) : null}\n                        <OverlayOnSizeIsChanging />\n                    </TabPanel>\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        filesStructure: state.mD.filesStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        isFocused: state.activeContainer === 'filesitems',\n    }\n}\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FileItems)\n","import React, { useRef } from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport * as classes from '../Properties.module.css'\nimport Select from '../../../UI/Select/Select'\nimport { getCurrentResourceValue } from '../../../../utils/basic'\nimport Editor from '../../../Editor/Editor'\nimport MenuItems from '../MenuItems/MenuItems'\nimport FileItems from '../FileItems/FileItems'\nimport HTMLEditor from '../../../HTMLEditor/HTMLEditor'\nimport { SketchPicker, CirclePicker } from 'react-color'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport { connect } from 'react-redux'\n\nconst CMSPannel = props => {\n    const rangeInput = useRef(null)\n    const {\n        pannelClass,\n        tabClass,\n        elementValues,\n        currentBox,\n        currentResource,\n        element,\n        propertiesSuggestedList,\n        handlePropertiesChange,\n        changeProperty,\n        mode,\n    } = props\n    const variableOptions = [\n        {\n            label: 'Plain text',\n            value: 'text',\n        },\n        {\n            label: 'HTML',\n            value: 'html',\n        },\n        {\n            label: 'Number',\n            value: 'number',\n        },\n        {\n            label: 'Range',\n            value: 'range',\n        },\n        {\n            label: 'Select',\n            value: 'select',\n        },\n        {\n            label: 'File',\n            value: 'file',\n        },\n        {\n            label: 'Color',\n            value: 'color',\n        },\n        {\n            label: 'Color select',\n            value: 'colorSelect',\n        },\n        {\n            label: 'Menu tems',\n            value: 'menuItems',\n        },\n        {\n            label: 'Array',\n            value: 'array',\n        },\n        ...props.propagatingPlugins,\n    ]\n\n    return (\n        <Tabs\n            className={['react-tabs', classes.reactTabs].join(' ')}\n            selectedTabPanelClassName={pannelClass}\n        >\n            <TabList>\n                <Tab className={tabClass}>Type</Tab>\n                <Tab className={tabClass}>System name</Tab>\n                <Tab className={tabClass}>Properties</Tab>\n                <Tab className={tabClass}>Desription</Tab>\n                <Tab className={tabClass}>Default value</Tab>\n            </TabList>\n            <TabPanel>\n                <Select\n                    onChange={option =>\n                        changeProperty('CMSVariableType', option.value)\n                    }\n                    options={variableOptions}\n                    default={variableOptions.findIndex(\n                        item => item.value === elementValues.CMSVariableType\n                    )}\n                    requiredRights={['developer']}\n                />\n            </TabPanel>\n            <TabPanel>\n                <Editor\n                    currentElement={currentBox}\n                    elementValue={elementValues.CMSVariableSystemName}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"text\"\n                    handleChange={value =>\n                        changeProperty('CMSVariableSystemName', value)\n                    }\n                    name=\"editorCMSName\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </TabPanel>\n            <TabPanel>\n                <Editor\n                    suggestOptions={[\n                        ...(element.tag !== 'menu'\n                            ? propertiesSuggestedList.baseHtmlProps\n                            : []),\n                        ...(propertiesSuggestedList[element.tag]\n                            ? propertiesSuggestedList[element.tag]\n                            : []),\n                    ]}\n                    currentElement={currentBox}\n                    elementValue={elementValues.propertiesString || '{}'}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"json\"\n                    handleChange={handlePropertiesChange}\n                    name=\"editorProperties\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </TabPanel>\n            <TabPanel>\n                <Editor\n                    currentElement={currentBox}\n                    elementValue={elementValues.CMSVariableDescription}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"text\"\n                    handleChange={value =>\n                        changeProperty('CMSVariableDescription', value)\n                    }\n                    name=\"editorCMSDescription\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </TabPanel>\n            <TabPanel>\n                {elementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={elementValues.CMSVariableDefaultValue}\n                        handleChange={(e, editor) => {\n                            changeProperty(\n                                'CMSVariableDefaultValue',\n                                editor.getContent()\n                            )\n                        }}\n                        requiredRights={['developer']}\n                    />\n                ) : elementValues.CMSVariableType === 'menuItems' ? (\n                    <MenuItems\n                        elementValues={elementValues}\n                        element={element}\n                        changeProperty={changeProperty}\n                        mode={mode}\n                        attrName=\"defaultMenuItems\"\n                    />\n                ) : elementValues.CMSVariableType === 'text' ? (\n                    <Editor\n                        currentElement={currentBox}\n                        elementValue={elementValues.CMSVariableDefaultValue}\n                        elementCurrentCursor={elementValues.cursorPosition}\n                        editorMode=\"text\"\n                        handleChange={value =>\n                            changeProperty('CMSVariableDefaultValue', value)\n                        }\n                        name=\"editorCMSDefaultValue\"\n                        requiredRights={['developer']}\n                        currentResource={currentResource}\n                    />\n                ) : elementValues.CMSVariableType === 'number' ||\n                  elementValues.CMSVariableType === 'range' ? (\n                    <>\n                        <input\n                            type={elementValues.CMSVariableType}\n                            style={{ margin: '5px' }}\n                            defaultValue={elementValues.CMSVariableDefaultValue}\n                            onChange={e => {\n                                if (!props.checkUserRights(['developer']))\n                                    return\n                                if (rangeInput.current) {\n                                    rangeInput.current.value = e.target.value\n                                }\n                                changeProperty(\n                                    'CMSVariableDefaultValue',\n                                    e.target.value\n                                )\n                            }}\n                            max={\n                                elementValues.properties\n                                    ? elementValues.properties.max\n                                    : undefined\n                            }\n                            min={\n                                elementValues.properties\n                                    ? elementValues.properties.min\n                                    : undefined\n                            }\n                            step={\n                                elementValues.properties\n                                    ? elementValues.properties.step\n                                    : undefined\n                            }\n                        />\n                        {elementValues.CMSVariableType === 'range' ? (\n                            <input\n                                type=\"number\"\n                                ref={rangeInput}\n                                defaultValue={\n                                    elementValues.CMSVariableDefaultValue\n                                }\n                                readOnly\n                            />\n                        ) : null}\n                    </>\n                ) : elementValues.CMSVariableType === 'select' ? (\n                    <Select\n                        options={\n                            elementValues.properties\n                                ? elementValues.properties.options || []\n                                : []\n                        }\n                        default={(elementValues.properties\n                            ? elementValues.properties.options || []\n                            : []\n                        ).findIndex(\n                            el =>\n                                el.value.toString() ===\n                                elementValues.CMSVariableDefaultValue.toString()\n                        )}\n                        onChange={option => {\n                            if (!props.checkUserRights(['developer'])) return\n                            changeProperty(\n                                'CMSVariableDefaultValue',\n                                option.value\n                            )\n                        }}\n                    />\n                ) : elementValues.CMSVariableType === 'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                elementValues.properties\n                                    ? elementValues.properties.colors\n                                    : undefined\n                            }\n                            color={elementValues.defaultColor}\n                            onChangeComplete={value => {\n                                if (!props.checkUserRights(['developer']))\n                                    return\n                                changeProperty('defaultColor', value.rgb)\n                            }}\n                        />\n                    </div>\n                ) : elementValues.CMSVariableType === 'file' ? (\n                    <FileItems\n                        elementValues={elementValues}\n                        element={element}\n                        changeProperty={changeProperty}\n                        mode={mode}\n                        attrName=\"defaultFileUrl\"\n                    />\n                ) : elementValues.CMSVariableType === 'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            elementValues.properties\n                                ? elementValues.properties.colors\n                                : undefined\n                        }\n                        color={elementValues.defaultColor}\n                        onChangeComplete={value => {\n                            if (!props.checkUserRights(['developer'])) return\n                            changeProperty('defaultColor', value.rgb)\n                        }}\n                        disableAlpha={\n                            elementValues.properties\n                                ? elementValues.properties.disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : (\n                    <div>\n                        Default value for array and propagating plugin variable\n                        cannot be set.\n                    </div>\n                )}\n            </TabPanel>\n        </Tabs>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(CMSPannel)\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n// $FlowFixMe\nimport 'react-tabs/style/react-tabs.css'\nimport { connect } from 'react-redux'\n\nimport * as classes from './Properties.module.css'\nimport TextProperty from './TextProperty/TextProperty'\nimport ParseProperty from './ParseProperty/ParseProperty'\nimport { checkIfCapital } from '../../../utils/basic'\nimport propertiesSuggestedList from './propertiesSuggestedList'\nimport Select from '../../UI/Select/Select'\nimport MenuItems from './MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport CMSPannels from './Property pannels/CMSPannels'\nimport type { resourceType, elementType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => ?{},\n    mode: 'page' | 'plugin' | 'template',\n}\n\nconst Properties = (props: Props) => {\n    const { element, elementValues, currentBox, currentResource } = props\n\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const handlePropertiesChange = (value, cursorPosition) => {\n        if (value) {\n            const changes: elementType = {}\n            changes.cursorPosition = cursorPosition\n            changes['propertiesString'] = value\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            if (obj) {\n                changes['properties'] = obj\n                changes['propertiesString'] = JSON.stringify(obj)\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n\n    const handleStyleChange = (value, cursorPosition) => {\n        if (typeof value === 'string') {\n            value = value.trim()\n            if (value.length < 3) {\n                value = ''\n            } else {\n                if (value.charAt(0) === '{') {\n                    value = value.slice(1)\n                }\n                if (value.charAt(value.length - 1) === '}') {\n                    value = value.slice(0, value.length - 2)\n                }\n                value = value.trim()\n            }\n            const changes = {\n                style: value,\n                cursorPosition,\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n    const isPlugin = element ? checkIfCapital(element.tag.charAt(0)) : false\n\n    let result = null\n\n    if (element && elementValues && !element.isElementFromCMSVariable) {\n        if (props.mode === 'page') {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                />\n            )\n        } else if (element.isCMSVariable) {\n            result = (\n                <CMSPannels\n                    tabClass={tabClass}\n                    pannelClass={pannelClass}\n                    propagatingPlugins={props.propagatingPlugins}\n                    elementValues={elementValues}\n                    currentBox={currentBox}\n                    currentResource={currentResource}\n                    element={element}\n                    propertiesSuggestedList={propertiesSuggestedList}\n                    handlePropertiesChange={handlePropertiesChange}\n                    changeProperty={props.changeProperty}\n                    mode={props.mode}\n                />\n            )\n        } else if (element.text && !isPlugin) {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                    requiredRights={['developer']}\n                />\n            )\n        } else if (element.tag === 'richEditor') {\n            result = (\n                <HTMLEditor\n                    value={elementValues.textContent}\n                    handleChange={(e, editor, id) => {\n                        props.changeProperty(\n                            'textContent',\n                            editor.getContent(),\n                            id\n                        )\n                    }}\n                    requiredRights={['developer']}\n                    currentBox={currentBox}\n                />\n            )\n        } else if (element.tag === 'parseHTML') {\n            result = (\n                <ParseProperty\n                    type={props.mode}\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                    currentBox={currentBox}\n                    element={element}\n                />\n            )\n        } else {\n            result = (\n                <Tabs\n                    className={['react-tabs', classes.reactTabs].join(' ')}\n                    selectedTabPanelClassName={pannelClass}\n                >\n                    <TabList>\n                        {!isPlugin ? (\n                            <Tab className={tabClass}>Style</Tab>\n                        ) : null}\n                        <Tab className={tabClass}>Properties</Tab>\n                        {element.tag === 'websiterMenu' ? (\n                            <Tab className={tabClass}>Items</Tab>\n                        ) : null}\n                    </TabList>\n                    {!isPlugin ? (\n                        <TabPanel>\n                            <Editor\n                                currentElement={currentBox}\n                                elementValue={\n                                    '{ ' + (elementValues.style || '') + ' }'\n                                }\n                                elementCurrentCursor={\n                                    elementValues.cursorPosition\n                                }\n                                editorMode=\"css\"\n                                handleChange={handleStyleChange}\n                                name=\"editorStyle\"\n                                requiredRights={['developer']}\n                                currentResource={currentResource}\n                            />\n                        </TabPanel>\n                    ) : null}\n                    {/* ) : null} */}\n                    <TabPanel>\n                        <Editor\n                            suggestOptions={[\n                                ...(element.tag !== 'menu'\n                                    ? propertiesSuggestedList.baseHtmlProps\n                                    : []),\n                                ...(propertiesSuggestedList[element.tag]\n                                    ? propertiesSuggestedList[element.tag]\n                                    : []),\n                            ]}\n                            currentElement={currentBox}\n                            elementValue={\n                                elementValues.propertiesString || '{}'\n                            }\n                            elementCurrentCursor={elementValues.cursorPosition}\n                            editorMode=\"json\"\n                            handleChange={handlePropertiesChange}\n                            name=\"editorProperties\"\n                            requiredRights={['developer']}\n                            currentResource={currentResource}\n                        />\n                    </TabPanel>\n                    {element.tag === 'websiterMenu' ? (\n                        <TabPanel>\n                            <MenuItems\n                                elementValues={elementValues}\n                                element={element}\n                                changeProperty={props.changeProperty}\n                                mode={props.mode}\n                                attrName=\"menuItems\"\n                            />\n                        </TabPanel>\n                    ) : null}\n                </Tabs>\n            )\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null\n    if (resourceDraft.structure) {\n        element = resourceDraft.structure.find(\n            item => resourceDraft.currentBox === item.id\n        )\n        if (element) {\n            elementValues = resourceDraft.values[element.id]\n        }\n    }\n\n    const propagatingPlugins = state.mD.pluginsStructure\n        .filter(plugin => plugin.propagating)\n        .map(plugin => ({\n            label: plugin.name + ' (for propagating plugin)',\n            value: 'propagating_' + plugin.id,\n        }))\n\n    return {\n        element,\n        elementValues,\n\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD[currentIndex[props.mode]],\n        propagatingPlugins,\n    }\n}\n\nexport default connect(mapStateToProps)(Properties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Plugins = (props: Props) => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('plugin', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"plugin\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentPluginDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"plugin\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"plugin\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPluginDraftExists:\n            typeof state.mD.currentPluginDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Plugins)\n","import React, { useRef } from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n// $FlowFixMe\nimport 'react-tabs/style/react-tabs.css'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../Properties/Properties.module.css'\nimport MenuItems from '../Properties/MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport { resourceDraftIndex } from '../../../utils/resourceTypeIndex'\nimport { SketchPicker, CirclePicker } from 'react-color'\n\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport Select from '../../UI/Select/Select'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\nimport FileItems from '../Properties/FileItems/FileItems'\n\ntype Props = {\n    changeProperty: (key: string | {}, value: string) => ?{},\n    mode: 'page' | 'plugin' | 'template',\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentTemplate'>,\n}\n\nconst Properties = (props: Props) => {\n    const rangeInput = useRef(null)\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    return props.element && props.templateCMSElementValues ? (\n        <Tabs\n            className={['react-tabs', classes.reactTabs].join(' ')}\n            selectedTabPanelClassName={pannelClass}\n        >\n            <TabList>\n                <Tab className={tabClass}>Value</Tab>\n                <Tab className={tabClass}>Description</Tab>\n                <Tab className={tabClass}>Default value</Tab>\n            </TabList>\n            <TabPanel>\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={props.elementValues.value}\n                        handleChange={(e, editor) => {\n                            props.changeProperty('value', editor.getContent())\n                        }}\n                        requiredRights={['content']}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.elementValues}\n                        element={props.element}\n                        changeProperty={props.changeProperty}\n                        mode={props.mode}\n                        attrName={'menuItems'}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'text' ? (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={props.elementValues.value}\n                        elementCurrentCursor={\n                            props.elementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={value =>\n                            props.changeProperty('value', value)\n                        }\n                        name=\"editorPageValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                      'number' ||\n                  props.templateCMSElementValues.CMSVariableType === 'range' ? (\n                    <>\n                        <input\n                            type={\n                                props.templateCMSElementValues.CMSVariableType\n                            }\n                            defaultValue={props.elementValues.value}\n                            style={{ margin: '5px' }}\n                            onChange={e => {\n                                if (!props.checkUserRights(['content'])) return\n                                if (rangeInput.current)\n                                    rangeInput.current.value = e.target.value\n                                props.changeProperty('value', e.target.value)\n                            }}\n                            max={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .max\n                                    : undefined\n                            }\n                            min={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .min\n                                    : undefined\n                            }\n                            step={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .step\n                                    : undefined\n                            }\n                        />\n                        {props.templateCMSElementValues.CMSVariableType ===\n                        'range' ? (\n                            <input\n                                type=\"number\"\n                                ref={rangeInput}\n                                defaultValue={props.elementValues.value}\n                                readOnly\n                            />\n                        ) : null}\n                    </>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'select' ? (\n                    <Select\n                        options={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .options || []\n                                : []\n                        }\n                        default={(props.templateCMSElementValues.properties\n                            ? props.templateCMSElementValues.properties\n                                  .options || []\n                            : []\n                        ).findIndex(\n                            el =>\n                                el.value.toString() ===\n                                props.elementValues.value.toString()\n                        )}\n                        onChange={option => {\n                            if (!props.checkUserRights(['developer'])) return\n                            props.changeProperty('value', option.value)\n                        }}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .colors\n                                    : undefined\n                            }\n                            color={props.elementValues.color}\n                            onChangeComplete={value => {\n                                if (!props.checkUserRights(['content'])) return\n                                props.changeProperty('color', value.rgb)\n                            }}\n                        />\n                    </div>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .colors\n                                : undefined\n                        }\n                        color={props.elementValues.color}\n                        onChangeComplete={value => {\n                            if (!props.checkUserRights(['content'])) return\n                            props.changeProperty('color', value.rgb)\n                        }}\n                        disableAlpha={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'file' ? (\n                    <FileItems\n                        elementValues={props.elementValues}\n                        element={props.element}\n                        changeProperty={props.changeProperty}\n                        mode={props.mode}\n                        attrName=\"fileUrl\"\n                        attrThumb=\"fileThumbnail\"\n                    />\n                ) : (\n                    <div>\n                        Value for propagating plugin variable cannot be set.\n                    </div>\n                )}\n            </TabPanel>\n            <TabPanel>\n                <Editor\n                    currentElement={props.currentBox}\n                    elementValue={\n                        props.templateCMSElementValues.CMSVariableDescription\n                    }\n                    elementCurrentCursor={\n                        props.templateCMSElementValues.cursorPosition\n                    }\n                    editorMode=\"text\"\n                    handleChange={() => {}}\n                    readOnly\n                    name=\"editorPageCMSDescription\"\n                    requiredRights={['content']}\n                    currentResource={props.currentResource}\n                />\n            </TabPanel>\n            <TabPanel>\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        handleChange={() => {}}\n                        readOnly={true}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.templateCMSElementValues}\n                        element={props.element}\n                        changeProperty={() => {}}\n                        mode={props.mode}\n                        attrName={'defaultMenuItems'}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'text' ? (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        elementCurrentCursor={\n                            props.templateCMSElementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={() => {}}\n                        readOnly\n                        name=\"editorPageCMSDefaultValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                      'number' ||\n                  props.templateCMSElementValues.CMSVariableType === 'range' ? (\n                    <>\n                        <input\n                            type={\n                                props.templateCMSElementValues.CMSVariableType\n                            }\n                            style={{ margin: '5px' }}\n                            defaultValue={\n                                props.templateCMSElementValues\n                                    .CMSVariableDefaultValue\n                            }\n                            readOnly\n                        />\n                        {props.templateCMSElementValues.CMSVariableType ===\n                        'range' ? (\n                            <input\n                                type=\"number\"\n                                defaultValue={\n                                    props.templateCMSElementValues\n                                        .CMSVariableDefaultValue\n                                }\n                                readOnly\n                            />\n                        ) : null}\n                    </>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'select' ? (\n                    <Select\n                        options={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .options || []\n                                : []\n                        }\n                        default={(props.templateCMSElementValues.properties\n                            ? props.templateCMSElementValues.properties\n                                  .options || []\n                            : []\n                        ).findIndex(\n                            el =>\n                                el.value.toString() ===\n                                props.templateCMSElementValues.CMSVariableDefaultValue.toString()\n                        )}\n                        onChange={option => {}}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .colors\n                                    : undefined\n                            }\n                            color={props.templateCMSElementValues.defaultColor}\n                        />\n                    </div>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .colors\n                                : undefined\n                        }\n                        color={props.templateCMSElementValues.defaultColor}\n                        disableAlpha={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : (\n                    <div>\n                        There is no default value for propagating plugin\n                        variable.\n                    </div>\n                )}\n            </TabPanel>\n        </Tabs>\n    ) : null\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null,\n        templateCMSElementValues = null\n    if (resourceDraft) {\n        if (resourceDraft.structure) {\n            element = resourceDraft.structure.find(\n                item => resourceDraft.currentBox === item.id\n            )\n            if (element && state.mD.pageTemplateDraft) {\n                elementValues = resourceDraft.values[element.id]\n                if (element.forPropagatingPlugin) {\n                    const { pluginId, variable } = element.forPropagatingPlugin\n                    const templateDraft = getCurrentResourceValue(\n                        pluginId,\n                        state.mD.resourcesObjects\n                    )\n                    if (templateDraft)\n                        templateCMSElementValues =\n                            templateDraft.values[variable]\n                } else {\n                    templateCMSElementValues =\n                        state.mD.pageTemplateDraft.values[element.id]\n                }\n            }\n        }\n    }\n\n    return {\n        element,\n        elementValues,\n        templateCMSElementValues,\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD.currentPageId,\n    }\n}\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Properties)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport PageProperties from '../../../components/ElementsTreeAndProperties/PageProperties/PageProperties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Pages = (props: Props) => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('page', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"page\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type={'width'}\n                />\n            </div>\n            {props.currentPageDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"page\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type={'width2'}\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <PageProperties\n                            mode=\"page\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPageDraftExists: typeof state.mD.currentPageDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(Pages))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Templates = (props: Props) => {\n    const handleChangeBoxProperty = (key, value, id) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('template', key, value, id)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"template\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentTemplateDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"template\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"template\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentTemplateDraftExists:\n            typeof state.mD.currentTemplateDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(type, key, value, false, id)\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Templates)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport { SmallButton } from '../../../components/UI/Buttons/SmallButton/SmallButton'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    // storage: $PropertyType<initialStateType, 'storage'>,\n    maxStorage: $PropertyType<initialStateType, 'maxStorage'>,\n    logout: typeof actions.logout,\n    switchTooltips: typeof actions.switchTooltips,\n    deleteUser: typeof actions.deleteUser,\n}\n\nconst Account = (props: Props) => {\n    // const storageDivTable = (\n    //     <div>\n    //         <table>\n    //             <tbody>\n    //                 <tr>\n    //                     <td>Available:</td>\n    //                     <td>{Math.round(props.maxStorage / 1000000)} MB </td>\n    //                     <td>100%</td>\n    //                 </tr>\n    //                 <tr>\n    //                     <td>Free:</td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (props.maxStorage - props.storage) / 1000000\n    //                         )}{' '}\n    //                         MB\n    //                     </td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (100 * (props.maxStorage - props.storage)) /\n    //                                 props.maxStorage\n    //                         )}\n    //                         %\n    //                     </td>\n    //                 </tr>\n    //                 <tr>\n    //                     <td>Used:</td>\n    //                     <td>{Math.round(props.storage / 1000000)} MB</td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (100 * props.storage) / props.maxStorage\n    //                         )}\n    //                         %\n    //                     </td>\n    //                 </tr>\n    //             </tbody>\n    //         </table>\n    //     </div>\n    // )\n    return (\n        <div className={classes.Content}>\n            <div>\n                {/* <div>\n                    Storage:\n                    <div className={classesAccount.StorageContainer}>\n                        <div className={classesAccount.StorageEmpty}>\n                            {storageDivTable}\n                        </div>\n                        <div className={classesAccount.StorageFill}>\n                            {storageDivTable}\n                        </div>\n                    </div>\n                    <div>{storageDivTable}</div>\n                </div> */}\n                <div style={{ margin: '10px' }}>\n                    User ID:{' '}\n                    <span style={{ userSelect: 'all' }}>{props.userId}</span>\n                </div>\n\n                <SmallButton\n                    buttonClicked={props.logout}\n                    title=\"Logout\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n                <SmallButton\n                    buttonClicked={() => props.logout(true)}\n                    title=\"Logout on all devices\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n                <SmallButton\n                    buttonClicked={props.switchTooltips}\n                    title=\"Switch tooltips\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                    tooltip={\n                        props.tooltipsOff\n                            ? 'Tooltips are off (except this one)'\n                            : 'Tooltips are on'\n                    }\n                />\n                <SmallButton\n                    buttonClicked={props.deleteUser}\n                    title=\"Delete account\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M19 13H5v-2h14v2z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n            </div>\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        loading: state.loading,\n        // storage: state.storage,\n        maxStorage: state.maxStorage,\n        userId: state.userId,\n        tooltipsOff: state.mD.tooltipsOff,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        deleteUser: () => dispatch(actions.deleteUser()),\n        logout: all => dispatch(actions.logout(all)),\n        switchTooltips: () => dispatch(actions.switchTooltips()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Account)\n","import React from 'react'\n\nimport classes from './TextInput.module.css'\n// import SmallButton from '../Buttons/SmallButton/SmallButton';\n\ntype Props = {\n    title?: string,\n    changed?: Function,\n    blur?: Function,\n    value?: string | number,\n    datatestid?: string,\n    wrong?: boolean,\n    inline?: boolean,\n    right?: boolean,\n    minWidth?: number,\n}\n\nexport const TextInput = (props: Props) => {\n    return (\n        <div\n            className={[classes.Div, props.inline ? classes.Inline : ''].join(\n                ' '\n            )}\n        >\n            {props.title}\n            <input\n                data-testid={props.datatestid || 'MyInput'}\n                type=\"text\"\n                className={[\n                    classes.Input,\n                    props.wrong ? classes.Wrong : '',\n                    props.right ? classes.Right : '',\n                ].join(' ')}\n                style={{\n                    minWidth: props.minWidth ? props.minWidth + 'px' : 'auto',\n                }}\n                value={props.value || ''}\n                onChange={e =>\n                    props.changed ? props.changed(e.target.value) : {}\n                }\n                onBlur={e => (props.blur ? props.blur(e.target.value) : {})}\n            />\n        </div>\n    )\n}\n\nexport default TextInput\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './DomainsProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport TextInput from '../../../../../components/UI/TextInput/TextInput'\nimport Svg from '../../../../../components/Svg/Svg'\nimport * as wsActions from '../../../../../websocketActions'\n\nconst DomainsProperties = (props: Props) => {\n    useEffect(() => {\n        const websiteElement = props.currentWebsiteObject\n        let value = ''\n        if (websiteElement) {\n            value = websiteElement.domain\n        }\n        setDomainValue(value)\n        value = ''\n        if (websiteElement) {\n            value = websiteElement.customDomain || ''\n        }\n        if (value === '__delete__') {\n            value = ''\n        }\n        setCustomDomainValue(value)\n    }, [\n        props.currentWebsiteId,\n        props.currentWebsiteObject.domain,\n        props.currentWebsiteObject.customDomain,\n    ])\n    const [domainValue: string, setDomainValue] = useState('')\n    const [customDomainValue, setCustomDomainValue] = useState('')\n    const website = props.currentWebsiteObject\n    return website ? (\n        <div className={classes.DomainSettings}>\n            <div className={classes.LocalDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        <>\n                            {website.domainHidden ? (\n                                <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                            ) : null}\n                            {website.domainNoIndex ? (\n                                <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z\"></path></svg>' />\n                            ) : null}\n                        </>\n                    ) : null}\n                    <span>Local domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>\n                        https://live.websiter.dev/\n                    </span>\n                    <TextInput\n                        changed={value => setDomainValue(value)}\n                        value={domainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() => {\n                        props.saveDomainName(domainValue, 'domain')\n                        setDomainValue(website.domain)\n                    }}\n                    tooltip=\"Save local domain name\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainHidden',\n                                !website.domainHidden\n                            )\n                    }}\n                    tooltip=\"Hide/show local domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                // 'https://live.websiter.dev/' +\n                                website.domain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainNoIndex',\n                                !website.domainNoIndex\n                            )\n                    }}\n                    tooltip=\"Add the <meta name='robots' content='noindex'> tag disallowing search engines to index the website on this domain. The website will remian be indexed on your custom domain.\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n            </div>\n            <div className={classes.CustomDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        website.customDomainHidden ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    {website ? (\n                        website.customDomainVerified ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    <span>Custom domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>https://</span>\n                    <TextInput\n                        changed={value => setCustomDomainValue(value)}\n                        value={customDomainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.saveDomainName(\n                                customDomainValue,\n                                'customDomain'\n                            )\n                        setCustomDomainValue(website.customDomain)\n                    }}\n                    tooltip=\"Save custom domain name\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'customDomainHidden',\n                                !website.customDomainHidden\n                            )\n                    }}\n                    tooltip=\"Hide/show custom domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://' + website.customDomain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>'\n                    buttonClicked={() => props.verifyCustomDomain()}\n                    tooltip=\"Verify website ownership\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.saveDomainName('__delete__', 'customDomain')\n                    }\n                    tooltip=\"Delete custom domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                {website ? (\n                    website.customDomain && website.cname ? (\n                        <div>\n                            <p>\n                                In order to use your custom domain you need to\n                                create the following CNAME DNS record:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website.cname}\n                                </span>\n                            </p>\n\n                            <p>\n                                Usually it takes 1-3 hours to connect a new\n                                domain. Please, allow this time and check the\n                                status.\n                            </p>\n                            <p>\n                                If you want to verify your domain ownership and\n                                make sure that nobody else could connect this\n                                domain to other website add the following TXT\n                                DNS record and press verify button:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website._id}\n                                </span>\n                            </p>\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveDomainName: (value, key) =>\n            dispatch(wsActions.saveDomainName(value, key)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        verifyCustomDomain: () => dispatch(wsActions.verifyCustomDomain()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(DomainsProperties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../../store/actions/index'\nimport * as classes from './SharingProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport Checkbox from '../../../../../components/UI/Checkbox/Checkbox'\nimport * as wsActions from '../../../../../websocketActions'\n\ntype Props = {\n    currentUserInWebsiteSharing: string,\n    chooseUserInWebsiteSharing: typeof actions.chooseUserInWebsiteSharing,\n}\n\nconst SharingProperties = (props: Props) => {\n    let website = props.currentWebsiteObject\n    if (!website) return null\n    let isOwner\n    let sharingItem = {\n        rights: [],\n    }\n    const newSharing = [...website.sharing]\n    let ownerAccount = newSharing.find(item => item.userId === website.user)\n    if (!ownerAccount) {\n        ownerAccount = {\n            userId: website.user,\n            rights: ['owner', 'admin', 'developer', 'content'],\n        }\n        newSharing.unshift(ownerAccount)\n        props.changeWebsiteProperty('sharing', newSharing)\n    }\n\n    if (website.user === props.userId) isOwner = true\n    sharingItem =\n        newSharing.find(item => item.userId === props.userId) || sharingItem\n\n    return props.currentWebsiteId && website ? (\n        isOwner || sharingItem.rights.includes('admin') ? (\n            <div style={{ width: '100%' }}>\n                <div>\n                    <SmallButton\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                        buttonClicked={() => props.addUserInWebsiteSharing()}\n                        tooltip=\"Share the website with a new user. You need to know the user's id which can be found in the user's Account menu tab. The user will need to refresh page in browser to see the shared website.\"\n                        inline\n                        requiredRights={['admin', 'user']}\n                    />\n                    <SmallButton\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                        buttonClicked={() => {\n                            if (\n                                props.currentUserInWebsiteSharing ===\n                                website.user\n                            )\n                                return\n                            props.deleteUserInWebsiteSharing(\n                                props.currentUserInWebsiteSharing\n                            )\n                        }}\n                        tooltip=\"Stop sharing the website with this user.\"\n                        inline\n                        requiredRights={['admin', 'user']}\n                    />\n                    {website.user === props.userId ? (\n                        <SmallButton\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"></path></svg>'\n                            buttonClicked={() => props.transferWebsite()}\n                            tooltip=\"Transfer the website to another user.\"\n                            inline\n                            requiredRights={['owner']}\n                        />\n                    ) : null}\n                </div>\n                <div style={{ width: '100%' }}>\n                    <table className={classes.SharingTable}>\n                        <tbody>\n                            <tr>\n                                <th>User id</th>\n                                <th>Name</th>\n                                <th />\n                                <th>Owner</th>\n                                <th>Admin</th>\n                                <th>Developer</th>\n                                <th>Content manager</th>\n                            </tr>\n                            {newSharing.map((account, index) => (\n                                <tr\n                                    key={index}\n                                    className={\n                                        props.currentUserInWebsiteSharing ===\n                                        account.userId\n                                            ? classes.Active\n                                            : ''\n                                    }\n                                    onMouseDown={() =>\n                                        props.chooseUserInWebsiteSharing(\n                                            account.userId\n                                        )\n                                    }\n                                >\n                                    <td>{account.userId}</td>\n                                    <td>\n                                        {account.accountInfo\n                                            ? account.accountInfo.displayName ||\n                                              ''\n                                            : ''}\n                                    </td>\n                                    <td>\n                                        {account.accountInfo ? (\n                                            account.accountInfo.photos ? (\n                                                account.accountInfo\n                                                    .photos[0] ? (\n                                                    <div\n                                                        style={{\n                                                            backgroundImage:\n                                                                'url(' +\n                                                                account\n                                                                    .accountInfo\n                                                                    .photos[0]\n                                                                    .value +\n                                                                ')',\n                                                        }}\n                                                        className={classes.Ava}\n                                                    />\n                                                ) : (\n                                                    ''\n                                                )\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )}\n                                    </td>\n                                    <td>\n                                        <Checkbox\n                                            checked={\n                                                website.user === account.userId\n                                                    ? true\n                                                    : false\n                                            }\n                                            onChange={() => {}}\n                                        />\n                                    </td>\n                                    {website.user === account.userId ? (\n                                        <td>\n                                            <Checkbox\n                                                checked={true}\n                                                onChange={() => {}}\n                                            />\n                                        </td>\n                                    ) : null}\n                                    {[\n                                        ...(website.user === account.userId\n                                            ? []\n                                            : ['admin']),\n                                        ...['developer', 'content'],\n                                    ].map((right, index) => (\n                                        <td key={index}>\n                                            <Checkbox\n                                                checked={account.rights.includes(\n                                                    right\n                                                )}\n                                                onChange={value =>\n                                                    props.sharingRightsChange(\n                                                        account.userId,\n                                                        right,\n                                                        value\n                                                    )\n                                                }\n                                            />\n                                        </td>\n                                    ))}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        ) : (\n            <p>\n                You are not the owner of the website and you do not have the\n                admin rights.\n            </p>\n        )\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentUserInWebsiteSharing: state.currentUserInWebsiteSharing,\n        userId: state.mD.userId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseUserInWebsiteSharing: id =>\n            dispatch(actions.chooseUserInWebsiteSharing(id)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        addUserInWebsiteSharing: () =>\n            dispatch(wsActions.addUserInWebsiteSharing()),\n        deleteUserInWebsiteSharing: user =>\n            dispatch(wsActions.deleteUserInWebsiteSharing(user)),\n        sharingRightsChange: (user, right, value) =>\n            dispatch(wsActions.sharingRightsChange(user, right, value)),\n        transferWebsite: () => dispatch(wsActions.transferWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SharingProperties)\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport * as classes from '../../../../components/ElementsTreeAndProperties/Properties/Properties.module.css'\nimport DomainsProperties from './DomainsProperties/DomainsProperties'\nimport SharingProperties from './SharingProperties/SharingProperties'\n\nconst WebsitesProperties = props => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n    return (\n        <Tabs\n            className={['react-tabs', classes.reactTabs].join(' ')}\n            selectedTabPanelClassName={pannelClass}\n        >\n            <TabList>\n                <Tab className={tabClass}>Domains</Tab>\n                <Tab className={tabClass}>Sharing</Tab>\n            </TabList>\n            <TabPanel>\n                <DomainsProperties />\n            </TabPanel>\n            <TabPanel>\n                <SharingProperties />\n            </TabPanel>\n        </Tabs>\n    )\n}\n\nexport default WebsitesProperties\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../AdvancedBar.module.css'\nimport WebsitesTree from './WebsitesTree/WebsitesTree'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport WebsitesProperties from './WebsitesProperties/WebsitesProperties'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    notVirtual?: boolean,\n}\n\nconst Websites = (props: Props) => (\n    <div className={classes.Content}>\n        <div\n            className={classes.Container}\n            style={{ flex: '0 0 ' + props.barSizes.width + 'px' }}\n        >\n            {props.websites ? (\n                <WebsitesTree notVirtual={props.notVirtual} />\n            ) : null}\n            <SizeDragController\n                addClass={classes.widthControll}\n                startValue={props.barSizes.width}\n                type=\"width\"\n            />\n        </div>\n        <div className={classes.LastContainer}>\n            {props.currentWebsiteObject ? <WebsitesProperties /> : null}\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        websites: state.mD.websites,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nexport default connect(mapStateToProps)(Websites)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n\nimport * as classes from './AdvancedBar.module.css'\nimport SizeDragController from './SizeDragController/SizeDragController'\nimport * as actions from '../../store/actions'\nimport Files from './Files/Files'\nimport Plugins from './Plugins/Plugins'\nimport Pages from './Pages/Pages'\nimport Templates from './Templates/Templates'\nimport Account from './Account/Account'\nimport Websites from './Websites/Websites'\nimport { useBeforeunload } from 'react-beforeunload'\nimport ReactResizeDetector from 'react-resize-detector'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    // undoResourceVersion: typeof actions.undoResourceVersion,\n    // redoResourceVersion: typeof actions.redoResourceVersion,\n    // setCurrentTopTab: typeof actions.setCurrentTopTab,\n    changeBarSize: typeof actions.changeBarSize,\n    toggleFindMode: typeof actions.toggleFindMode,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nconst AdvancedBar = (props: Props) => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const tabClassSelected = [\n        'react-tabs__tab--selected',\n        classes.TabSelected,\n    ].join(' ')\n\n    // const undoRedoTabNames = ['page', 'template', 'plugin', '', '', '', '']\n\n    // const handleKeyDown = e => {\n    //     if (!e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n    //         props.undoResourceVersion()\n    //     if (e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n    //         props.redoResourceVersion()\n    // }\n\n    // const handleTabSelected = index => {\n    //     props.setCurrentTopTab(undoRedoTabNames[index])\n    //     props.changeBarSize()\n    //     props.toggleFindMode()\n    // }\n\n    useBeforeunload(() => {\n        if (props.notSavedResources.length > 0) {\n            setTimeout(() => props.savePropertiesOnLeave(), 1)\n            return 'Some data is not saved.'\n        } else {\n            props.savePropertiesOnLeave()\n            return undefined\n        }\n    })\n\n    const changeBarSize = () => props.changeBarSize()\n\n    return (\n        <div\n            style={{ flex: '0 0 ' + props.barSizes.height + 'px' }}\n            className={classes.mainContainer}\n            tabIndex=\"0\"\n            // onKeyDown={e => handleKeyDown(e)}\n        >\n            <div>\n                <SizeDragController\n                    addClass={classes.heightControll}\n                    vertical\n                    startValue={props.barSizes.height}\n                    type=\"height\"\n                />\n                <Tabs\n                    className={['react-tabs', classes.reactTabs].join(' ')}\n                    // onSelect={index => handleTabSelected(index)}\n                    selectedTabClassName={tabClassSelected}\n                    selectedTabPanelClassName={pannelClass}\n                >\n                    <TabList className={classes.TabList}>\n                        <Tab className={tabClass}>Pages</Tab>\n                        <Tab className={tabClass}>Templates</Tab>\n                        <Tab className={tabClass}>Plugins</Tab>\n                        <Tab className={tabClass}>Files</Tab>\n                        <Tab className={tabClass}>Websites</Tab>\n                        <Tab className={tabClass}>Account</Tab>\n                    </TabList>\n\n                    <TabPanel>\n                        <Pages />\n                    </TabPanel>\n                    <TabPanel>\n                        <Templates />\n                    </TabPanel>\n                    <TabPanel>\n                        <Plugins />\n                    </TabPanel>\n                    <TabPanel>\n                        <Files />\n                    </TabPanel>\n                    <TabPanel>\n                        <Websites />\n                    </TabPanel>\n                    <TabPanel>\n                        <Account />\n                    </TabPanel>\n                </Tabs>\n                <ReactResizeDetector\n                    handleWidth\n                    handleHeight\n                    onResize={changeBarSize}\n                />\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        loading: state.loading,\n        notSavedResources: state.notSavedResources,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n        // setCurrentTopTab: currentTopTab =>\n        //     dispatch(actions.setCurrentTopTab(currentTopTab)),\n        // undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        // redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        savePropertiesOnLeave: () => dispatch(actions.savePropertiesOnLeave()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(AdvancedBar))\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// MIT License from https://github.com/kaimallea/isMobile\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","import React from 'react'\nimport isMobile from './utils/isMobile'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n    var prefix = menuEventKey || ''\n    return child.key || ''.concat(prefix, 'item_').concat(index)\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n    return ''.concat(eventKey, '-menu-')\n}\nexport function loopMenuItem(children, cb) {\n    var index = -1\n    React.Children.forEach(children, function(c) {\n        index += 1\n\n        if (c && c.type && c.type.isMenuItemGroup) {\n            React.Children.forEach(c.props.children, function(c2) {\n                index += 1\n                cb(c2, index)\n            })\n        } else {\n            cb(c, index)\n        }\n    })\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n    /* istanbul ignore if */\n    if (!children || ret.find) {\n        return\n    }\n\n    React.Children.forEach(children, function(c) {\n        if (c) {\n            var construct = c.type\n\n            if (\n                !construct ||\n                !(\n                    construct.isSubMenu ||\n                    construct.isMenuItem ||\n                    construct.isMenuItemGroup\n                )\n            ) {\n                return\n            }\n\n            if (keys.indexOf(c.key) !== -1) {\n                ret.find = true\n            } else if (c.props.children) {\n                loopMenuItemRecursively(c.props.children, keys, ret)\n            }\n        }\n    })\n}\nexport var menuAllProps = [\n    'defaultSelectedKeys',\n    'selectedKeys',\n    'defaultOpenKeys',\n    'openKeys',\n    'mode',\n    'getPopupContainer',\n    'onSelect',\n    'onDeselect',\n    'onDestroy',\n    'openTransitionName',\n    'openAnimation',\n    'subMenuOpenDelay',\n    'subMenuCloseDelay',\n    'forceSubMenuRender',\n    'triggerSubMenuAction',\n    'level',\n    'selectable',\n    'multiple',\n    'onOpenChange',\n    'visible',\n    'focusable',\n    'defaultActiveFirst',\n    'prefixCls',\n    'inlineIndent',\n    'parentMenu',\n    'title',\n    'rootPrefixCls',\n    'eventKey',\n    'active',\n    'onItemHover',\n    'onTitleMouseEnter',\n    'onTitleMouseLeave',\n    'onTitleClick',\n    'popupAlign',\n    'popupOffset',\n    'isOpen',\n    'renderMenuItem',\n    'manualRef',\n    'subMenuKey',\n    'disabled',\n    'index',\n    'isSelected',\n    'store',\n    'activeKey',\n    'builtinPlacements',\n    'overflowedIndicator',\n    'motion', // the following keys found need to be removed from test regression\n    'attribute',\n    'value',\n    'popupClassName',\n    'inlineCollapsed',\n    'menu',\n    'theme',\n    'itemIcon',\n    'expandIcon',\n] // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n    var width =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect().width\n\n    if (width) {\n        width = +width.toFixed(6)\n    }\n\n    return width || 0\n}\nexport var getPosition = function getPosition(elem) {\n    var rect =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect()\n    return { left: rect.left, right: rect.right }\n}\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n    if (elem && _typeof(elem.style) === 'object') {\n        elem.style[styleProperty] = value\n    }\n}\nexport var isMobileDevice = function isMobileDevice() {\n    return isMobile.any\n}\n","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport var placementsRtl = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  rightTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  leftTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Trigger from 'rc-trigger'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport CSSMotion from 'rc-animate/es/CSSMotion'\nimport classNames from 'classnames'\nimport { connect } from 'mini-store'\nimport SubPopupMenu from './SubPopupMenu'\nimport { placements, placementsRtl } from './placements'\nimport {\n    noop,\n    loopMenuItemRecursively,\n    getMenuIdFromSubMenuEventKey,\n    menuAllProps,\n} from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\nvar guid = 0\nvar popupPlacementMap = {\n    horizontal: 'bottomLeft',\n    vertical: 'rightTop',\n    'vertical-left': 'rightTop',\n    'vertical-right': 'leftTop',\n}\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(\n    store,\n    eventKey,\n    defaultActiveFirst\n) {\n    var menuId = getMenuIdFromSubMenuEventKey(eventKey)\n    var state = store.getState()\n    store.setState({\n        defaultActiveFirst: _objectSpread(\n            {},\n            state.defaultActiveFirst,\n            _defineProperty({}, menuId, defaultActiveFirst)\n        ),\n    })\n}\n\nexport var SubMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubMenu, _React$Component)\n\n        function SubMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubMenu).call(this, props)\n            )\n\n            _this.onDestroy = function(key) {\n                _this.props.onDestroy(key)\n            }\n            /**\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n                var menu = _this.menuInstance\n                var _this$props = _this.props,\n                    isOpen = _this$props.isOpen,\n                    store = _this$props.store\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onTitleClick(e)\n\n                    updateDefaultActiveFirst(store, _this.props.eventKey, true)\n                    return true\n                }\n\n                if (keyCode === KeyCode.RIGHT) {\n                    if (isOpen) {\n                        menu.onKeyDown(e)\n                    } else {\n                        _this.triggerOpenChange(true) // need to update current menu's defaultActiveFirst value\n\n                        updateDefaultActiveFirst(\n                            store,\n                            _this.props.eventKey,\n                            true\n                        )\n                    }\n\n                    return true\n                }\n\n                if (keyCode === KeyCode.LEFT) {\n                    var handled\n\n                    if (isOpen) {\n                        handled = menu.onKeyDown(e)\n                    } else {\n                        return undefined\n                    }\n\n                    if (!handled) {\n                        _this.triggerOpenChange(false)\n\n                        handled = true\n                    }\n\n                    return handled\n                }\n\n                if (\n                    isOpen &&\n                    (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)\n                ) {\n                    return menu.onKeyDown(e)\n                }\n\n                return undefined\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onPopupVisibleChange = function(visible) {\n                _this.triggerOpenChange(\n                    visible,\n                    visible ? 'mouseenter' : 'mouseleave'\n                )\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    key = _this$props2.eventKey,\n                    onMouseEnter = _this$props2.onMouseEnter,\n                    store = _this$props2.store\n                updateDefaultActiveFirst(store, _this.props.eventKey, false)\n                onMouseEnter({\n                    key: key,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props3 = _this.props,\n                    parentMenu = _this$props3.parentMenu,\n                    eventKey = _this$props3.eventKey,\n                    onMouseLeave = _this$props3.onMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleMouseEnter = function(domEvent) {\n                var _this$props4 = _this.props,\n                    key = _this$props4.eventKey,\n                    onItemHover = _this$props4.onItemHover,\n                    onTitleMouseEnter = _this$props4.onTitleMouseEnter\n                onItemHover({\n                    key: key,\n                    hover: true,\n                })\n                onTitleMouseEnter({\n                    key: key,\n                    domEvent: domEvent,\n                })\n            }\n\n            _this.onTitleMouseLeave = function(e) {\n                var _this$props5 = _this.props,\n                    parentMenu = _this$props5.parentMenu,\n                    eventKey = _this$props5.eventKey,\n                    onItemHover = _this$props5.onItemHover,\n                    onTitleMouseLeave = _this$props5.onTitleMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onTitleMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleClick = function(e) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                props.onTitleClick({\n                    key: props.eventKey,\n                    domEvent: e,\n                })\n\n                if (props.triggerSubMenuAction === 'hover') {\n                    return\n                }\n\n                _this.triggerOpenChange(!props.isOpen, 'click')\n\n                updateDefaultActiveFirst(\n                    props.store,\n                    _this.props.eventKey,\n                    false\n                )\n            }\n\n            _this.onSubMenuClick = function(info) {\n                // in the case of overflowed submenu\n                // onClick is not copied over\n                if (typeof _this.props.onClick === 'function') {\n                    _this.props.onClick(_this.addKeyPath(info))\n                }\n            }\n\n            _this.onSelect = function(info) {\n                _this.props.onSelect(info)\n            }\n\n            _this.onDeselect = function(info) {\n                _this.props.onDeselect(info)\n            }\n\n            _this.getPrefixCls = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu')\n            }\n\n            _this.getActiveClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-active')\n            }\n\n            _this.getDisabledClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-disabled')\n            }\n\n            _this.getSelectedClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-selected')\n            }\n\n            _this.getOpenClassName = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu-open')\n            }\n\n            _this.saveMenuInstance = function(c) {\n                // children menu instance\n                _this.menuInstance = c\n            }\n\n            _this.addKeyPath = function(info) {\n                return _objectSpread({}, info, {\n                    keyPath: (info.keyPath || []).concat(_this.props.eventKey),\n                })\n            }\n\n            _this.triggerOpenChange = function(open, type) {\n                var key = _this.props.eventKey\n\n                var openChange = function openChange() {\n                    _this.onOpenChange({\n                        key: key,\n                        item: _assertThisInitialized(_this),\n                        trigger: type,\n                        open: open,\n                    })\n                }\n\n                if (type === 'mouseenter') {\n                    // make sure mouseenter happen after other menu item's mouseleave\n                    _this.mouseenterTimeout = setTimeout(function() {\n                        openChange()\n                    }, 0)\n                } else {\n                    openChange()\n                }\n            }\n\n            _this.isChildrenSelected = function() {\n                var ret = {\n                    find: false,\n                }\n                loopMenuItemRecursively(\n                    _this.props.children,\n                    _this.props.selectedKeys,\n                    ret\n                )\n                return ret.find\n            }\n\n            _this.isOpen = function() {\n                return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1\n            }\n\n            _this.adjustWidth = function() {\n                /* istanbul ignore if */\n                if (!_this.subMenuTitle || !_this.menuInstance) {\n                    return\n                }\n\n                var popupMenu = ReactDOM.findDOMNode(_this.menuInstance)\n\n                if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n                    return\n                }\n                /* istanbul ignore next */\n\n                popupMenu.style.minWidth = ''.concat(\n                    _this.subMenuTitle.offsetWidth,\n                    'px'\n                )\n            }\n\n            _this.saveSubMenuTitle = function(subMenuTitle) {\n                _this.subMenuTitle = subMenuTitle\n            }\n\n            _this.getBaseProps = function() {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                return {\n                    mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n                    visible: _this.props.isOpen,\n                    level: props.level + 1,\n                    inlineIndent: props.inlineIndent,\n                    focusable: false,\n                    onClick: _this.onSubMenuClick,\n                    onSelect: _this.onSelect,\n                    onDeselect: _this.onDeselect,\n                    onDestroy: _this.onDestroy,\n                    selectedKeys: props.selectedKeys,\n                    eventKey: ''.concat(props.eventKey, '-menu-'),\n                    openKeys: props.openKeys,\n                    motion: props.motion,\n                    onOpenChange: _this.onOpenChange,\n                    subMenuOpenDelay: props.subMenuOpenDelay,\n                    parentMenu: _assertThisInitialized(_this),\n                    subMenuCloseDelay: props.subMenuCloseDelay,\n                    forceSubMenuRender: props.forceSubMenuRender,\n                    triggerSubMenuAction: props.triggerSubMenuAction,\n                    builtinPlacements: props.builtinPlacements,\n                    defaultActiveFirst: props.store.getState()\n                        .defaultActiveFirst[\n                        getMenuIdFromSubMenuEventKey(props.eventKey)\n                    ],\n                    multiple: props.multiple,\n                    prefixCls: props.rootPrefixCls,\n                    id: _this.internalMenuId,\n                    manualRef: _this.saveMenuInstance,\n                    itemIcon: props.itemIcon,\n                    expandIcon: props.expandIcon,\n                    direction: props.direction,\n                }\n            }\n\n            _this.getMotion = function(mode, visible) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    haveRendered = _assertThisInitialize3.haveRendered\n\n                var _this$props6 = _this.props,\n                    motion = _this$props6.motion,\n                    rootPrefixCls = _this$props6.rootPrefixCls // don't show transition on first rendering (no animation for opened menu)\n                // show appear transition if it's not visible (not sure why)\n                // show appear transition if it's not inline mode\n\n                var mergedMotion = _objectSpread({}, motion, {\n                    leavedClassName: ''.concat(rootPrefixCls, '-hidden'),\n                    removeOnLeave: false,\n                    motionAppear: haveRendered || !visible || mode !== 'inline',\n                })\n\n                return mergedMotion\n            }\n\n            var store = props.store,\n                eventKey = props.eventKey\n\n            var _store$getState = store.getState(),\n                defaultActiveFirst = _store$getState.defaultActiveFirst\n\n            _this.isRootMenu = false\n            var value = false\n\n            if (defaultActiveFirst) {\n                value = defaultActiveFirst[eventKey]\n            }\n\n            updateDefaultActiveFirst(store, eventKey, value)\n            return _this\n        }\n\n        _createClass(SubMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.componentDidUpdate()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    var _this2 = this\n\n                    var _this$props7 = this.props,\n                        mode = _this$props7.mode,\n                        parentMenu = _this$props7.parentMenu,\n                        manualRef = _this$props7.manualRef // invoke customized ref to expose component to mixin\n\n                    if (manualRef) {\n                        manualRef(this)\n                    }\n\n                    if (\n                        mode !== 'horizontal' ||\n                        !parentMenu.isRootMenu ||\n                        !this.props.isOpen\n                    ) {\n                        return\n                    }\n\n                    this.minWidthTimeout = setTimeout(function() {\n                        return _this2.adjustWidth()\n                    }, 0)\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var _this$props8 = this.props,\n                        onDestroy = _this$props8.onDestroy,\n                        eventKey = _this$props8.eventKey\n\n                    if (onDestroy) {\n                        onDestroy(eventKey)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.minWidthTimeout) {\n                        clearTimeout(this.minWidthTimeout)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.mouseenterTimeout) {\n                        clearTimeout(this.mouseenterTimeout)\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    var baseProps = this.getBaseProps() // [Legacy] getMotion must be called before `haveRendered`\n\n                    var mergedMotion = this.getMotion(\n                        baseProps.mode,\n                        baseProps.visible\n                    )\n                    this.haveRendered = true\n                    this.haveOpened =\n                        this.haveOpened ||\n                        baseProps.visible ||\n                        baseProps.forceSubMenuRender // never rendered not planning to, don't render\n\n                    if (!this.haveOpened) {\n                        return React.createElement('div', null)\n                    }\n\n                    var direction = baseProps.direction\n                    return React.createElement(\n                        CSSMotion,\n                        Object.assign(\n                            {\n                                visible: baseProps.visible,\n                            },\n                            mergedMotion\n                        ),\n                        function(_ref) {\n                            var className = _ref.className,\n                                style = _ref.style\n                            var mergedClassName = classNames(\n                                ''.concat(baseProps.prefixCls, '-sub'),\n                                className,\n                                _ref.popupMenuBlockClasses,\n                                _defineProperty(\n                                    {},\n                                    ''.concat(baseProps.prefixCls, '-rtl'),\n                                    direction === 'rtl'\n                                )\n                            )\n                            return React.createElement(\n                                SubPopupMenu,\n                                Object.assign({}, baseProps, {\n                                    id: _this3.internalMenuId,\n                                    className: mergedClassName,\n                                    style: style,\n                                }),\n                                children\n                            )\n                        }\n                    )\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames2\n\n                    var props = _objectSpread({}, this.props)\n\n                    var isOpen = props.isOpen\n                    var prefixCls = this.getPrefixCls()\n                    var isInlineMode = props.mode === 'inline'\n                    var className = classNames(\n                        prefixCls,\n                        ''.concat(prefixCls, '-').concat(props.mode),\n                        ((_classNames2 = {}),\n                        _defineProperty(\n                            _classNames2,\n                            props.className,\n                            !!props.className\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getOpenClassName(),\n                            isOpen\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getActiveClassName(),\n                            props.active || (isOpen && !isInlineMode)\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getSelectedClassName(),\n                            this.isChildrenSelected()\n                        ),\n                        _classNames2)\n                    )\n                    className = [\n                        className,\n                        props.isSub\n                            ? props.store.getState().popupMenuItemClasses\n                            : props.store.getState().topMenuItemClasses,\n                    ].join(' ')\n\n                    if (!this.internalMenuId) {\n                        if (props.eventKey) {\n                            this.internalMenuId = ''.concat(\n                                props.eventKey,\n                                '$Menu'\n                            )\n                        } else {\n                            guid += 1\n                            this.internalMenuId = '$__$'.concat(guid, '$Menu')\n                        }\n                    }\n\n                    var mouseEvents = {}\n                    var titleClickEvents = {}\n                    var titleMouseEvents = {}\n\n                    if (!props.disabled) {\n                        mouseEvents = {\n                            onMouseLeave: this.onMouseLeave,\n                            onMouseEnter: this.onMouseEnter,\n                        } // only works in title, not outer li\n\n                        titleClickEvents = {\n                            onClick: this.onTitleClick,\n                        }\n                        titleMouseEvents = {\n                            onMouseEnter: this.onTitleMouseEnter,\n                            onMouseLeave: this.onTitleMouseLeave,\n                        }\n                    }\n\n                    var style = {}\n                    var direction = props.direction\n\n                    if (isInlineMode) {\n                        if (direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    var ariaOwns = {} // only set aria-owns when menu is open\n                    // otherwise it would be an invalid aria-owns value\n                    // since corresponding node cannot be found\n\n                    if (this.props.isOpen) {\n                        ariaOwns = {\n                            'aria-owns': this.internalMenuId,\n                        }\n                    } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n                    var icon = null\n\n                    if (props.mode !== 'horizontal') {\n                        icon = this.props.expandIcon // ReactNode\n\n                        if (typeof this.props.expandIcon === 'function') {\n                            icon = React.createElement(\n                                this.props.expandIcon,\n                                _objectSpread({}, this.props)\n                            )\n                        }\n                    }\n\n                    var title = React.createElement(\n                        'div',\n                        Object.assign(\n                            {\n                                ref: this.saveSubMenuTitle,\n                                style: style,\n                                className: ''.concat(prefixCls, '-title'),\n                                role: 'button',\n                            },\n                            titleMouseEvents,\n                            titleClickEvents,\n                            {\n                                'aria-expanded': isOpen,\n                            },\n                            ariaOwns,\n                            {\n                                'aria-haspopup': 'true',\n                                title:\n                                    typeof props.title === 'string'\n                                        ? props.title\n                                        : undefined,\n                            }\n                        ),\n                        props.title,\n                        icon ||\n                            React.createElement('i', {\n                                className: ''.concat(prefixCls, '-arrow'),\n                            })\n                    )\n                    var children = this.renderChildren(props.children)\n                    var getPopupContainer = props.parentMenu.isRootMenu\n                        ? props.parentMenu.props.getPopupContainer\n                        : function(triggerNode) {\n                              return triggerNode.parentNode\n                          }\n                    var popupPlacement = popupPlacementMap[props.mode]\n                    var popupAlign = props.popupOffset\n                        ? {\n                              offset: props.popupOffset,\n                          }\n                        : {}\n                    var popupClassName =\n                        props.mode === 'inline' ? '' : props.popupClassName\n                    popupClassName +=\n                        direction === 'rtl' ? ' '.concat(prefixCls, '-rtl') : ''\n                    var disabled = props.disabled,\n                        triggerSubMenuAction = props.triggerSubMenuAction,\n                        subMenuOpenDelay = props.subMenuOpenDelay,\n                        forceSubMenuRender = props.forceSubMenuRender,\n                        subMenuCloseDelay = props.subMenuCloseDelay,\n                        builtinPlacements = props.builtinPlacements\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.isSub\n                    var placement =\n                        direction === 'rtl'\n                            ? Object.assign(\n                                  {},\n                                  placementsRtl,\n                                  builtinPlacements\n                              )\n                            : Object.assign({}, placements, builtinPlacements)\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, mouseEvents, {\n                            className: className,\n                            role: 'menuitem',\n                        }),\n                        isInlineMode && title,\n                        isInlineMode && children,\n                        !isInlineMode &&\n                            React.createElement(\n                                Trigger,\n                                {\n                                    prefixCls: prefixCls,\n                                    popupClassName: classNames(\n                                        ''.concat(prefixCls, '-popup'),\n                                        popupClassName\n                                    ),\n                                    getPopupContainer: getPopupContainer,\n                                    builtinPlacements: placement,\n                                    popupPlacement: popupPlacement,\n                                    popupVisible: isOpen,\n                                    popupAlign: popupAlign,\n                                    popup: children,\n                                    action: disabled\n                                        ? []\n                                        : [triggerSubMenuAction],\n                                    mouseEnterDelay: subMenuOpenDelay,\n                                    mouseLeaveDelay: subMenuCloseDelay,\n                                    onPopupVisibleChange: this\n                                        .onPopupVisibleChange,\n                                    forceRender: forceSubMenuRender,\n                                },\n                                title\n                            )\n                    )\n                },\n            },\n        ])\n\n        return SubMenu\n    })(React.Component)\nSubMenu.defaultProps = {\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    onTitleMouseEnter: noop,\n    onTitleMouseLeave: noop,\n    onTitleClick: noop,\n    manualRef: noop,\n    mode: 'vertical',\n    title: '',\n}\nvar connected = connect(function(_ref2, _ref3) {\n    var openKeys = _ref2.openKeys,\n        activeKey = _ref2.activeKey,\n        selectedKeys = _ref2.selectedKeys\n    var eventKey = _ref3.eventKey,\n        subMenuKey = _ref3.subMenuKey\n    return {\n        isOpen: openKeys.indexOf(eventKey) > -1,\n        active: activeKey[subMenuKey] === eventKey,\n        selectedKeys: selectedKeys,\n    }\n})(SubMenu)\nconnected.isSubMenu = true\nexport default connected\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport SubMenu from './SubMenu'\nimport { getWidth, setStyle, menuAllProps, getPosition } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n\nfunction _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i]\n        }\n        return arr2\n    }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed'\nvar FLOAT_PRECISION_ADJUST = 0.5\n\nvar DOMWrap =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(DOMWrap, _React$Component)\n\n        function DOMWrap() {\n            var _this\n\n            _classCallCheck(this, DOMWrap)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(DOMWrap).apply(this, arguments)\n            )\n            _this.resizeObserver = null\n            _this.mutationObserver = null // original scroll size of the list\n\n            _this.originalTotalWidth = 0 // copy of overflowed items\n\n            _this.overflowedItems = [] // cache item of the original items (so we can track the size and order)\n            _this.ulSizes = {}\n            _this.menuItemSizes = []\n            _this.state = {\n                lastVisibleIndex: undefined,\n            } // get all valid menuItem nodes\n\n            _this.getMenuItemNodes = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) < 0\n                    )\n                })\n            }\n\n            _this.getMenuItemNodesOver = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) >= 0\n                    )\n                })\n            }\n\n            _this.getOverflowedSubMenuItem = function(\n                keyPrefix,\n                overflowedItems,\n                renderPlaceholder\n            ) {\n                var _this$props = _this.props,\n                    overflowedIndicator = _this$props.overflowedIndicator,\n                    level = _this$props.level,\n                    mode = _this$props.mode,\n                    prefixCls = _this$props.prefixCls,\n                    theme = _this$props.theme\n\n                if (level !== 1 || mode !== 'horizontal') {\n                    return null\n                } // put all the overflowed item inside a submenu\n                // with a title of overflow indicator ('...')\n\n                var copy = _this.props.children[0]\n\n                var _copy$props = copy.props,\n                    throwAway = _copy$props.children,\n                    title = _copy$props.title,\n                    propStyle = _copy$props.style,\n                    rest = _objectWithoutProperties(_copy$props, [\n                        'children',\n                        'title',\n                        'style',\n                    ])\n\n                var style = _objectSpread({}, propStyle)\n\n                var key = ''.concat(keyPrefix, '-overflowed-indicator')\n                var eventKey = ''.concat(keyPrefix, '-overflowed-indicator')\n\n                if (\n                    overflowedItems.length === 0 &&\n                    renderPlaceholder !== true\n                ) {\n                    style = _objectSpread({}, style, {\n                        display: 'none',\n                    })\n                } else if (renderPlaceholder) {\n                    style = _objectSpread({}, style, {\n                        visibility: 'hidden',\n                        // prevent from taking normal dom space\n                        position: 'absolute',\n                    })\n                    key = ''.concat(key, '-placeholder')\n                    eventKey = ''.concat(eventKey, '-placeholder')\n                }\n\n                var popupClassName = theme\n                    ? ''.concat(prefixCls, '-').concat(theme)\n                    : ''\n                var props = {}\n                menuAllProps.forEach(function(k) {\n                    if (rest[k] !== undefined) {\n                        props[k] = rest[k]\n                    }\n                })\n                return React.createElement(\n                    SubMenu,\n                    Object.assign(\n                        {\n                            title: overflowedIndicator,\n                            className: ''.concat(\n                                prefixCls,\n                                '-overflowed-submenu'\n                            ),\n                            popupClassName: popupClassName,\n                        },\n                        props,\n                        {\n                            key: key,\n                            eventKey: eventKey,\n                            disabled: false,\n                            style: style,\n                        }\n                    ),\n                    overflowedItems\n                )\n            } // memorize rendered menuSize\n\n            _this.setChildrenWidthAndResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var ulChildrenNodes = ul.children\n\n                if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n                    return\n                }\n                var menuItemNodesOver = _this.getMenuItemNodesOver()\n                var currentDisplayState = menuItemNodesOver.map(\n                    item => item.style.display\n                )\n                menuItemNodesOver.forEach(item => {\n                    setStyle(item, 'display', 'none')\n                })\n                var lastOverflowedIndicatorPlaceholder =\n                    ul.children[ulChildrenNodes.length - 1] // need last overflowed indicator for calculating length;\n\n                setStyle(\n                    lastOverflowedIndicatorPlaceholder,\n                    'display',\n                    'inline-block'\n                )\n\n                var menuItemNodes = _this.getMenuItemNodes() // reset display attribute for all hidden elements caused by overflow to calculate updated width\n                // and then reset to original state after width calculation\n                var overflowedItems = menuItemNodes.filter(function(c) {\n                    return (\n                        c.className\n                            .split(' ')\n                            .indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0\n                    )\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'inline-block')\n                })\n                _this.menuItemSizes = menuItemNodes.map(function(c) {\n                    return getPosition(c)\n                })\n                _this.ulSizes = getPosition(ul)\n\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'none')\n                })\n                menuItemNodesOver.forEach(\n                    (item, index) =>\n                        (item.style.display = currentDisplayState[index])\n                )\n                ul.children[ul.children.length - 1].style.display =\n                    'inline-block'\n                _this.overflowedIndicatorWidth = getWidth(\n                    ul.children[ul.children.length - 1]\n                )\n\n                if (_this.menuItemSizes.length > 0) {\n                    _this.originalTotalWidth =\n                        _this.menuItemSizes[_this.menuItemSizes.length - 1]\n                            .right - _this.ulSizes.left\n                }\n\n                _this.handleResize() // prevent the overflowed indicator from taking space;\n\n                setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none')\n            }\n\n            _this.handleResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var width = _this.ulSizes.right - _this.ulSizes.left\n                _this.overflowedItems = []\n\n                var lastVisibleIndex // float number comparison could be problematic\n                // e.g. 0.1 + 0.2 > 0.3 =====> true\n                // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n                if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n                    lastVisibleIndex = -1\n                    _this.menuItemSizes.forEach(function(liWidth, index) {\n                        if (index > 0) {\n                            if (\n                                liWidth.left + _this.overflowedIndicatorWidth <=\n                                _this.ulSizes.right\n                            ) {\n                                lastVisibleIndex += 1\n                            }\n                        }\n                    })\n                }\n\n                _this.setState({\n                    lastVisibleIndex: lastVisibleIndex,\n                })\n            }\n\n            return _this\n        }\n\n        _createClass(DOMWrap, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var _this2 = this\n\n                    this.setChildrenWidthAndResize()\n\n                    if (\n                        this.props.level === 1 &&\n                        this.props.mode === 'horizontal'\n                    ) {\n                        var menuUl = ReactDOM.findDOMNode(this)\n\n                        if (!menuUl) {\n                            return\n                        }\n\n                        this.resizeObserver = new ResizeObserver(function(\n                            entries\n                        ) {\n                            entries.forEach(_this2.setChildrenWidthAndResize)\n                        })\n                        ;[].slice\n                            .call(menuUl.children)\n                            .concat(menuUl)\n                            .forEach(function(el) {\n                                _this2.resizeObserver.observe(el)\n                            })\n\n                        if (typeof MutationObserver !== 'undefined') {\n                            this.mutationObserver = new MutationObserver(\n                                function() {\n                                    _this2.resizeObserver.disconnect()\n                                    ;[].slice\n                                        .call(menuUl.children)\n                                        .concat(menuUl)\n                                        .forEach(function(el) {\n                                            _this2.resizeObserver.observe(el)\n                                        })\n\n                                    _this2.setChildrenWidthAndResize()\n                                }\n                            )\n                            this.mutationObserver.observe(menuUl, {\n                                attributes: false,\n                                childList: true,\n                                subTree: false,\n                            })\n                        }\n                    }\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    if (this.resizeObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n\n                    if (this.mutationObserver) {\n                        this.mutationObserver.disconnect()\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    // need to take care of overflowed items in horizontal mode\n                    var lastVisibleIndex = this.state.lastVisibleIndex\n                    return (children || []).reduce(function(\n                        acc,\n                        childNode,\n                        index\n                    ) {\n                        var item = childNode\n\n                        if (_this3.props.mode === 'horizontal') {\n                            var overflowed = _this3.getOverflowedSubMenuItem(\n                                childNode.props.eventKey,\n                                []\n                            )\n\n                            if (\n                                lastVisibleIndex !== undefined &&\n                                _this3.props.className.indexOf(\n                                    ''.concat(_this3.props.prefixCls, '-root')\n                                ) !== -1\n                            ) {\n                                if (index > lastVisibleIndex) {\n                                    item = React.cloneElement(\n                                        childNode, // 这里修改 eventKey 是为了防止隐藏状态下还会触发 openkeys 事件\n                                        {\n                                            style: {\n                                                display: 'none',\n                                            },\n                                            eventKey: ''.concat(\n                                                childNode.props.eventKey,\n                                                '-hidden'\n                                            ),\n\n                                            /**\n                                             * Legacy code. Here `className` never used:\n                                             * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                                             */\n                                            className: ''.concat(\n                                                MENUITEM_OVERFLOWED_CLASSNAME\n                                            ),\n                                        }\n                                    )\n                                }\n\n                                if (index === lastVisibleIndex + 1) {\n                                    _this3.overflowedItems = children\n                                        .slice(lastVisibleIndex + 1)\n                                        .map(function(c) {\n                                            return React.cloneElement(\n                                                c, // children[index].key will become '.$key' in clone by default,\n                                                // we have to overwrite with the correct key explicitly\n                                                {\n                                                    key: c.props.eventKey,\n                                                    mode: 'vertical-left',\n                                                }\n                                            )\n                                        })\n                                    overflowed = _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        _this3.overflowedItems\n                                    )\n                                }\n                            }\n\n                            var ret = [].concat(_toConsumableArray(acc), [\n                                overflowed,\n                                item,\n                            ])\n\n                            if (index === children.length - 1) {\n                                // need a placeholder for calculating overflowed indicator width\n                                ret.push(\n                                    _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        [],\n                                        true\n                                    )\n                                )\n                            }\n\n                            return ret\n                        }\n\n                        return [].concat(_toConsumableArray(acc), [item])\n                    },\n                    [])\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this$props2 = this.props,\n                        visible = _this$props2.visible,\n                        prefixCls = _this$props2.prefixCls,\n                        overflowedIndicator = _this$props2.overflowedIndicator,\n                        mode = _this$props2.mode,\n                        level = _this$props2.level,\n                        tag = _this$props2.tag,\n                        children = _this$props2.children,\n                        theme = _this$props2.theme,\n                        rest = _objectWithoutProperties(_this$props2, [\n                            'visible',\n                            'prefixCls',\n                            'overflowedIndicator',\n                            'mode',\n                            'level',\n                            'tag',\n                            'children',\n                            'theme',\n                        ])\n\n                    var Tag = tag\n                    return React.createElement(\n                        Tag,\n                        Object.assign({}, rest),\n                        this.renderChildren(children)\n                    )\n                },\n            },\n        ])\n\n        return DOMWrap\n    })(React.Component)\n\nDOMWrap.defaultProps = {\n    tag: 'div',\n    className: '',\n}\nexport default DOMWrap\n","import React from 'react'\nimport { connect } from 'mini-store'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport createChainedFunction from 'rc-util/es/createChainedFunction'\nimport shallowEqual from 'shallowequal'\nimport classNames from 'classnames'\nimport {\n    getKeyFromChildrenIndex,\n    loopMenuItem,\n    noop,\n    menuAllProps,\n    isMobileDevice,\n} from './util'\nimport DOMWrap from './DOMWrap'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction allDisabled(arr) {\n    if (!arr.length) {\n        return true\n    }\n\n    return arr.every(function(c) {\n        return !!c.props.disabled\n    })\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n    var state = store.getState()\n    store.setState({\n        activeKey: _objectSpread(\n            {},\n            state.activeKey,\n            _defineProperty({}, menuId, activeKey)\n        ),\n    })\n}\n\nfunction getEventKey(props) {\n    // when eventKey not available ,it's menu and return menu id '0-menu-'\n    return props.eventKey || '0-menu-'\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n    var activeKey = originalActiveKey\n    var children = props.children,\n        eventKey = props.eventKey\n\n    if (activeKey) {\n        var found\n        loopMenuItem(children, function(c, i) {\n            if (\n                c &&\n                c.props &&\n                !c.props.disabled &&\n                activeKey === getKeyFromChildrenIndex(c, eventKey, i)\n            ) {\n                found = true\n            }\n        })\n\n        if (found) {\n            return activeKey\n        }\n    }\n\n    activeKey = null\n\n    if (props.defaultActiveFirst) {\n        loopMenuItem(children, function(c, i) {\n            if (!activeKey && c && !c.props.disabled) {\n                activeKey = getKeyFromChildrenIndex(c, eventKey, i)\n            }\n        })\n        return activeKey\n    }\n\n    return activeKey\n}\nexport function saveRef(c) {\n    if (c) {\n        var index = this.instanceArray.indexOf(c)\n\n        if (index !== -1) {\n            // update component if it's already inside instanceArray\n            this.instanceArray[index] = c\n        } else {\n            // add component if it's not in instanceArray yet;\n            this.instanceArray.push(c)\n        }\n    }\n}\nexport var SubPopupMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubPopupMenu, _React$Component)\n\n        function SubPopupMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubPopupMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubPopupMenu).call(this, props)\n            )\n            /**\n             * all keyboard events callbacks run from here at first\n             *\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e, callback) {\n                var keyCode = e.keyCode\n                var handled\n\n                _this.getFlatInstanceArray().forEach(function(obj) {\n                    if (obj && obj.props.active && obj.onKeyDown) {\n                        handled = obj.onKeyDown(e)\n                    }\n                })\n\n                if (handled) {\n                    return 1\n                }\n\n                var activeItem = null\n\n                if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n                    activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1)\n                }\n\n                if (activeItem) {\n                    e.preventDefault()\n                    updateActiveKey(\n                        _this.props.store,\n                        getEventKey(_this.props),\n                        activeItem.props.eventKey\n                    )\n\n                    if (typeof callback === 'function') {\n                        callback(activeItem)\n                    }\n\n                    return 1\n                }\n\n                return undefined\n            }\n\n            _this.onItemHover = function(e) {\n                var key = e.key,\n                    hover = e.hover\n                updateActiveKey(\n                    _this.props.store,\n                    getEventKey(_this.props),\n                    hover ? key : null\n                )\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                _this.props.onDeselect(selectInfo)\n            }\n\n            _this.onSelect = function(selectInfo) {\n                _this.props.onSelect(selectInfo)\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onDestroy = function(key) {\n                /* istanbul ignore next */\n                _this.props.onDestroy(key)\n            }\n\n            _this.getFlatInstanceArray = function() {\n                return _this.instanceArray\n            }\n\n            _this.step = function(direction) {\n                var children = _this.getFlatInstanceArray()\n\n                var activeKey = _this.props.store.getState().activeKey[\n                    getEventKey(_this.props)\n                ]\n\n                var len = children.length\n\n                if (!len) {\n                    return null\n                }\n\n                if (direction < 0) {\n                    children = children.concat().reverse()\n                } // find current activeIndex\n\n                var activeIndex = -1\n                children.every(function(c, ci) {\n                    if (c && c.props.eventKey === activeKey) {\n                        activeIndex = ci\n                        return false\n                    }\n\n                    return true\n                })\n\n                if (\n                    !_this.props.defaultActiveFirst &&\n                    activeIndex !== -1 &&\n                    allDisabled(children.slice(activeIndex, len - 1))\n                ) {\n                    return undefined\n                }\n\n                var start = (activeIndex + 1) % len\n                var i = start\n\n                do {\n                    var child = children[i]\n\n                    if (!child || child.props.disabled) {\n                        i = (i + 1) % len\n                    } else {\n                        return child\n                    }\n                } while (i !== start)\n\n                return null\n            }\n\n            _this.renderCommonMenuItem = function(child, i, extraProps) {\n                var state = _this.props.store.getState()\n\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                var key = getKeyFromChildrenIndex(child, props.eventKey, i)\n                var childProps = child.props // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n                if (!childProps || typeof child.type === 'string') {\n                    return child\n                }\n\n                var isActive = key === state.activeKey\n\n                var newChildProps = _objectSpread(\n                    {\n                        mode: childProps.mode || props.mode,\n                        level: props.level,\n                        inlineIndent: props.inlineIndent,\n                        renderMenuItem: _this.renderMenuItem,\n                        rootPrefixCls: props.prefixCls,\n                        index: i,\n                        parentMenu: props.parentMenu,\n                        // customized ref function, need to be invoked manually in child's componentDidMount\n                        manualRef: childProps.disabled\n                            ? undefined\n                            : createChainedFunction(\n                                  child.ref,\n                                  saveRef.bind(_assertThisInitialized(_this))\n                              ),\n                        eventKey: key,\n                        active: !childProps.disabled && isActive,\n                        multiple: props.multiple,\n                        onClick: function onClick(e) {\n                            ;(childProps.onClick || noop)(e)\n\n                            _this.onClick(e)\n                        },\n                        onItemHover: _this.onItemHover,\n                        motion: props.motion,\n                        subMenuOpenDelay: props.subMenuOpenDelay,\n                        subMenuCloseDelay: props.subMenuCloseDelay,\n                        forceSubMenuRender: props.forceSubMenuRender,\n                        onOpenChange: _this.onOpenChange,\n                        onDeselect: _this.onDeselect,\n                        onSelect: _this.onSelect,\n                        builtinPlacements: props.builtinPlacements,\n                        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n                        expandIcon:\n                            childProps.expandIcon || _this.props.expandIcon,\n                    },\n                    extraProps,\n                    {\n                        direction: props.direction,\n                    }\n                ) // ref: https://github.com/ant-design/ant-design/issues/13943\n\n                if (props.mode === 'inline' || isMobileDevice()) {\n                    newChildProps.triggerSubMenuAction = 'click'\n                }\n\n                return React.cloneElement(child, newChildProps)\n            }\n\n            _this.renderMenuItem = function(c, i, subMenuKey) {\n                /* istanbul ignore if */\n                if (!c) {\n                    return null\n                }\n\n                var state = _this.props.store.getState()\n\n                var extraProps = {\n                    openKeys: state.openKeys,\n                    selectedKeys: state.selectedKeys,\n                    triggerSubMenuAction: _this.props.triggerSubMenuAction,\n                    subMenuKey: subMenuKey,\n                }\n                return _this.renderCommonMenuItem(c, i, extraProps)\n            }\n\n            props.store.setState({\n                activeKey: _objectSpread(\n                    {},\n                    props.store.getState().activeKey,\n                    _defineProperty(\n                        {},\n                        props.eventKey,\n                        getActiveKey(props, props.activeKey)\n                    )\n                ),\n            })\n            _this.instanceArray = []\n            return _this\n        }\n\n        _createClass(SubPopupMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'shouldComponentUpdate',\n                value: function shouldComponentUpdate(nextProps) {\n                    var props = this.props\n                    return (\n                        this.props.visible ||\n                        nextProps.visible ||\n                        !shallowEqual(\n                            [\n                                this.props.className,\n                                props.store.getState().topMenuBlockClasses,\n                                props.store.getState().topMenuItemClasses,\n                                props.store.getState().topMenuItemActiveClasses,\n                                props.store.getState().popupMenuBlockClasses,\n                                props.store.getState().popupMenuItemClasses,\n                                props.store.getState()\n                                    .popupMenuItemActiveClasses,\n                            ],\n                            [\n                                nextProps.className,\n                                nextProps.topMenuBlockClasses,\n                                nextProps.topMenuItemClasses,\n                                nextProps.topMenuItemActiveClasses,\n                                nextProps.popupMenuBlockClasses,\n                                nextProps.popupMenuItemClasses,\n                                nextProps.popupMenuItemActiveClasses,\n                            ]\n                        ) ||\n                        !shallowEqual(this.props.style, nextProps.style)\n                    )\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var props = this.props\n                    var originalActiveKey =\n                        'activeKey' in props\n                            ? props.activeKey\n                            : props.store.getState().activeKey[\n                                  getEventKey(props)\n                              ]\n                    var activeKey = getActiveKey(props, originalActiveKey)\n\n                    if (activeKey !== originalActiveKey) {\n                        updateActiveKey(\n                            props.store,\n                            getEventKey(props),\n                            activeKey\n                        )\n                    } else if ('activeKey' in prevProps) {\n                        // If prev activeKey is not same as current activeKey,\n                        // we should set it.\n                        var prevActiveKey = getActiveKey(\n                            prevProps,\n                            prevProps.activeKey\n                        )\n\n                        if (activeKey !== prevActiveKey) {\n                            updateActiveKey(\n                                props.store,\n                                getEventKey(props),\n                                activeKey\n                            )\n                        }\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this2 = this\n\n                    var props = _extends({}, this.props)\n\n                    this.instanceArray = []\n                    var className = classNames(\n                        props.prefixCls,\n                        props.className,\n                        ''.concat(props.prefixCls, '-').concat(props.mode)\n                    )\n                    var domProps = {\n                        className: [\n                            className,\n                            props.level < 2\n                                ? props.store.getState().topMenuBlockClasses\n                                : props.store.getState().popupMenuBlockClasses,\n                        ].join(' '),\n                        // role could be 'select' and by default set to menu\n                        role: props.role || 'menu',\n                    }\n\n                    if (props.id) {\n                        domProps.id = props.id\n                    }\n\n                    if (props.focusable) {\n                        domProps.tabIndex = 0\n                        domProps.onKeyDown = this.onKeyDown\n                    }\n\n                    var prefixCls = props.prefixCls,\n                        eventKey = props.eventKey,\n                        visible = props.visible,\n                        level = props.level,\n                        mode = props.mode,\n                        overflowedIndicator = props.overflowedIndicator,\n                        theme = props.theme\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Otherwise, the propagated click event will trigger another onClick\n\n                    delete props.onClick\n                    delete props.topMenuBlockClasses\n                    delete props.topMenuItemClasses\n                    delete props.topMenuItemActiveClasses\n                    delete props.popupMenuBlockClasses\n                    delete props.popupMenuItemClasses\n                    delete props.popupMenuItemActiveClasses\n                    delete props.activeKeys\n                    return React.createElement(\n                        DOMWrap,\n                        Object.assign(\n                            {},\n                            props,\n                            {\n                                prefixCls: prefixCls,\n                                mode: mode,\n                                tag: 'ul',\n                                level: level,\n                                theme: theme,\n                                visible: visible,\n                                overflowedIndicator: overflowedIndicator,\n                            },\n                            domProps\n                        ),\n                        React.Children.map(props.children, function(c, i) {\n                            return _this2.renderMenuItem(\n                                c,\n                                i,\n                                eventKey || '0-menu-',\n                                { isSub: level > 1 }\n                            )\n                        })\n                    )\n                },\n            },\n        ])\n\n        return SubPopupMenu\n    })(React.Component)\nSubPopupMenu.defaultProps = {\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    level: 1,\n    inlineIndent: 24,\n    visible: true,\n    focusable: true,\n    style: {},\n    manualRef: noop,\n}\nvar connected = connect()(SubPopupMenu)\nexport default connected\n","import warning from 'rc-util/es/warning'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function getMotion(_ref) {\n    var prefixCls = _ref.prefixCls,\n        motion = _ref.motion,\n        openAnimation = _ref.openAnimation,\n        openTransitionName = _ref.openTransitionName\n\n    if (motion) {\n        return motion\n    }\n\n    if (_typeof(openAnimation) === 'object' && openAnimation) {\n        warning(\n            false,\n            'Object type of `openAnimation` is removed. Please use `motion` instead.'\n        )\n    } else if (typeof openAnimation === 'string') {\n        return {\n            motionName: ''.concat(prefixCls, '-open-').concat(openAnimation),\n        }\n    }\n\n    if (openTransitionName) {\n        return {\n            motionName: openTransitionName,\n        }\n    }\n\n    return null\n}\n","import React from 'react'\nimport { Provider, create } from 'mini-store'\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu'\nimport { noop } from './util'\nimport { getMotion } from './utils/legacyUtil'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar Menu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(Menu, _React$Component)\n\n        function Menu(props) {\n            var _this\n\n            _classCallCheck(this, Menu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(Menu).call(this, props)\n            )\n\n            _this.onSelect = function(selectInfo) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                if (props.selectable) {\n                    // root menu\n                    var _this$store$getState = _this.store.getState(),\n                        _selectedKeys = _this$store$getState.selectedKeys\n\n                    var selectedKey = selectInfo.key\n\n                    if (props.multiple) {\n                        _selectedKeys = _selectedKeys.concat([selectedKey])\n                    } else {\n                        _selectedKeys = [selectedKey]\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys,\n                        })\n                    }\n\n                    props.onSelect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys,\n                        })\n                    )\n                }\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            } // onKeyDown needs to be exposed as a instance method\n            // e.g., in rc-select, we need to navigate menu item while\n            // current active item is rc-select input box rather than the menu itself\n\n            _this.onKeyDown = function(e, callback) {\n                _this.innerMenu.getWrappedInstance().onKeyDown(e, callback)\n            }\n\n            _this.onOpenChange = function(event) {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                var openKeys = _this.store.getState().openKeys.concat()\n\n                var changed = false\n\n                var processSingle = function processSingle(e) {\n                    var oneChanged = false\n\n                    if (e.open) {\n                        oneChanged = openKeys.indexOf(e.key) === -1\n\n                        if (oneChanged) {\n                            openKeys.push(e.key)\n                        }\n                    } else {\n                        var index = openKeys.indexOf(e.key)\n                        oneChanged = index !== -1\n\n                        if (oneChanged) {\n                            openKeys.splice(index, 1)\n                        }\n                    }\n\n                    changed = changed || oneChanged\n                }\n\n                if (Array.isArray(event)) {\n                    // batch change call\n                    event.forEach(processSingle)\n                } else {\n                    processSingle(event)\n                }\n\n                if (changed) {\n                    if (!('openKeys' in _this.props)) {\n                        _this.store.setState({\n                            openKeys: openKeys,\n                        })\n                    }\n\n                    props.onOpenChange(openKeys)\n                }\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize3.props\n\n                if (props.selectable) {\n                    var _selectedKeys2 = _this.store\n                        .getState()\n                        .selectedKeys.concat()\n\n                    var selectedKey = selectInfo.key\n\n                    var index = _selectedKeys2.indexOf(selectedKey)\n\n                    if (index !== -1) {\n                        _selectedKeys2.splice(index, 1)\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys2,\n                        })\n                    }\n\n                    props.onDeselect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys2,\n                        })\n                    )\n                }\n            }\n\n            _this.getOpenTransitionName = function() {\n                var _assertThisInitialize4 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize4.props\n\n                var transitionName = props.openTransitionName\n                var animationName = props.openAnimation\n\n                if (!transitionName && typeof animationName === 'string') {\n                    transitionName = ''\n                        .concat(props.prefixCls, '-open-')\n                        .concat(animationName)\n                }\n\n                return transitionName\n            }\n\n            _this.setInnerMenu = function(node) {\n                _this.innerMenu = node\n            }\n\n            _this.isRootMenu = true\n            var selectedKeys = props.defaultSelectedKeys\n            var openKeys = props.defaultOpenKeys\n\n            if ('selectedKeys' in props) {\n                selectedKeys = props.selectedKeys || []\n            }\n\n            if ('openKeys' in props) {\n                openKeys = props.openKeys || []\n            }\n\n            _this.store = create({\n                selectedKeys: selectedKeys,\n                openKeys: openKeys,\n                activeKey: {\n                    '0-menu-': getActiveKey(props, props.activeKey),\n                },\n            })\n            return _this\n        }\n\n        _createClass(Menu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'updateMiniStore',\n                value: function updateMiniStore() {\n                    if ('selectedKeys' in this.props) {\n                        this.store.setState({\n                            selectedKeys: this.props.selectedKeys || [],\n                        })\n                    }\n\n                    if ('openKeys' in this.props) {\n                        this.store.setState({\n                            openKeys: this.props.openKeys || [],\n                        })\n                    }\n                    this.updateClassesInMiniStore()\n                },\n            },\n            {\n                key: 'updateClassesInMiniStore',\n                value: function updateClassesInMiniStore() {\n                    if ('topMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            topMenuBlockClasses:\n                                this.props.topMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemClasses:\n                                this.props.topMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemActiveClasses:\n                                this.props.topMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuBlockClasses:\n                                this.props.popupMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemClasses:\n                                this.props.popupMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemActiveClasses:\n                                this.props.popupMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('activeKeys' in this.props) {\n                        this.store.setState({\n                            activeKeys: this.props.activeKeys || [],\n                        })\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    this.updateClassesInMiniStore()\n                    var props = _objectSpread({}, this.props)\n\n                    props.className += ' '.concat(props.prefixCls, '-root')\n\n                    if (props.direction === 'rtl') {\n                        props.className += ' '.concat(props.prefixCls, '-rtl')\n                    }\n\n                    props = _objectSpread({}, props, {\n                        onClick: this.onClick,\n                        onOpenChange: this.onOpenChange,\n                        onDeselect: this.onDeselect,\n                        onSelect: this.onSelect,\n                        parentMenu: this,\n                        motion: getMotion(this.props),\n                    })\n                    delete props.openAnimation\n                    delete props.openTransitionName\n                    return React.createElement(\n                        Provider,\n                        {\n                            store: this.store,\n                        },\n                        React.createElement(\n                            SubPopupMenu,\n                            Object.assign({}, props, {\n                                ref: this.setInnerMenu,\n                            }),\n                            this.props.children\n                        )\n                    )\n                },\n            },\n        ])\n\n        return Menu\n    })(React.Component)\n\nMenu.defaultProps = {\n    selectable: true,\n    onClick: noop,\n    onSelect: noop,\n    onOpenChange: noop,\n    onDeselect: noop,\n    defaultSelectedKeys: [],\n    defaultOpenKeys: [],\n    subMenuOpenDelay: 0.1,\n    subMenuCloseDelay: 0.1,\n    triggerSubMenuAction: 'hover',\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    style: {},\n    builtinPlacements: {},\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7'),\n    topMenuBlockClasses: [],\n    topMenuItemClasses: [],\n    topMenuItemActiveClasses: [],\n    popupMenuBlockClasses: [],\n    popupMenuItemClasses: [],\n    popupMenuItemActiveClasses: [],\n    activeKeys: [],\n}\nexport default Menu\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport classNames from 'classnames'\nimport scrollIntoView from 'scroll-into-view-if-needed'\nimport { connect } from 'mini-store'\nimport { noop, menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nexport var MenuItem =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItem, _React$Component)\n\n        function MenuItem() {\n            var _this\n\n            _classCallCheck(this, MenuItem)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItem).apply(this, arguments)\n            )\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onClick(e)\n\n                    return true\n                }\n\n                return undefined\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props = _this.props,\n                    eventKey = _this$props.eventKey,\n                    onItemHover = _this$props.onItemHover,\n                    onMouseLeave = _this$props.onMouseLeave\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    eventKey = _this$props2.eventKey,\n                    onItemHover = _this$props2.onItemHover,\n                    onMouseEnter = _this$props2.onMouseEnter\n                onItemHover({\n                    key: eventKey,\n                    hover: true,\n                })\n                onMouseEnter({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onClick = function(e) {\n                var _this$props3 = _this.props,\n                    eventKey = _this$props3.eventKey,\n                    multiple = _this$props3.multiple,\n                    onClick = _this$props3.onClick,\n                    onSelect = _this$props3.onSelect,\n                    onDeselect = _this$props3.onDeselect,\n                    isSelected = _this$props3.isSelected\n                var info = {\n                    key: eventKey,\n                    keyPath: [eventKey],\n                    item: _assertThisInitialized(_this),\n                    domEvent: e,\n                }\n                onClick(info)\n\n                if (multiple) {\n                    if (isSelected) {\n                        onDeselect(info)\n                    } else {\n                        onSelect(info)\n                    }\n                } else if (!isSelected) {\n                    onSelect(info)\n                }\n            }\n\n            _this.saveNode = function(node) {\n                _this.node = node\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItem, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var _this$props4 = this.props,\n                        active = _this$props4.active,\n                        parentMenu = _this$props4.parentMenu,\n                        eventKey = _this$props4.eventKey // 在 parentMenu 上层保存滚动状态，避免重复的 MenuItem key 导致滚动跳动\n                    // https://github.com/ant-design/ant-design/issues/16181\n\n                    if (\n                        !prevProps.active &&\n                        active &&\n                        (!parentMenu ||\n                            !parentMenu['scrolled-'.concat(eventKey)])\n                    ) {\n                        if (this.node) {\n                            scrollIntoView(this.node, {\n                                scrollMode: 'if-needed',\n                                // eslint-disable-next-line react/no-find-dom-node\n                                boundary: ReactDOM.findDOMNode(parentMenu),\n                                block: 'nearest',\n                            })\n                            parentMenu['scrolled-'.concat(eventKey)] = true\n                        }\n                    } else if (\n                        parentMenu &&\n                        parentMenu['scrolled-'.concat(eventKey)]\n                    ) {\n                        delete parentMenu['scrolled-'.concat(eventKey)]\n                    }\n\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var props = this.props\n\n                    if (props.onDestroy) {\n                        props.onDestroy(props.eventKey)\n                    }\n                },\n            },\n            {\n                key: 'getPrefixCls',\n                value: function getPrefixCls() {\n                    return ''.concat(this.props.rootPrefixCls, '-item')\n                },\n            },\n            {\n                key: 'getActiveClassName',\n                value: function getActiveClassName() {\n                    return ''.concat(this.getPrefixCls(), '-active')\n                },\n            },\n            {\n                key: 'getSelectedClassName',\n                value: function getSelectedClassName() {\n                    return ''.concat(this.getPrefixCls(), '-selected')\n                },\n            },\n            {\n                key: 'getDisabledClassName',\n                value: function getDisabledClassName() {\n                    return ''.concat(this.getPrefixCls(), '-disabled')\n                },\n            },\n            {\n                key: 'callRef',\n                value: function callRef() {\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames\n\n                    var props = _objectSpread({}, this.props)\n\n                    var className = classNames(\n                        this.getPrefixCls(),\n                        props.className,\n                        ((_classNames = {}),\n                        _defineProperty(\n                            _classNames,\n                            this.getActiveClassName(),\n                            !props.disabled && props.active\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getSelectedClassName(),\n                            props.isSelected\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _classNames)\n                    )\n\n                    var attrs = _objectSpread({}, props.attribute, {\n                        title: props.title,\n                        // className: className,\n                        className: [\n                            className,\n                            ...(props.isSub ||\n                            props.mode.indexOf('vertical') > -1\n                                ? props.store.getState().popupMenuItemClasses\n                                : props.store.getState().topMenuItemClasses),\n                            ...(props.store\n                                .getState()\n                                .activeKeys.includes(this.props.eventKey)\n                                ? props.isSub ||\n                                  props.mode.indexOf('vertical') > -1\n                                    ? props.store.getState()\n                                          .popupMenuItemActiveClasses\n                                    : props.store.getState()\n                                          .topMenuItemActiveClasses\n                                : []),\n                        ].join(' '),\n                        // set to menuitem by default\n                        role: props.role || 'menuitem',\n                        'aria-disabled': props.disabled,\n                    })\n\n                    if (props.role === 'option') {\n                        // overwrite to option\n                        attrs = _objectSpread({}, attrs, {\n                            role: 'option',\n                            'aria-selected': props.isSelected,\n                        })\n                    } else if (props.role === null || props.role === 'none') {\n                        // sometimes we want to specify role inside <li/> element\n                        // <li><a role='menuitem'>Link</a></li> would be a good example\n                        // in this case the role on <li/> should be \"none\" to\n                        // remove the implied listitem role.\n                        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n                        attrs.role = 'none'\n                    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n                    var mouseEvent = {\n                        onClick: props.disabled ? null : this.onClick,\n                        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n                        onMouseEnter: props.disabled ? null : this.onMouseEnter,\n                    }\n\n                    var style = _objectSpread({}, props.style)\n\n                    if (props.mode === 'inline') {\n                        if (props.direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    })\n                    delete props.direction\n                    var icon = this.props.itemIcon\n\n                    if (typeof this.props.itemIcon === 'function') {\n                        // TODO: This is a bug which should fixed after TS refactor\n                        icon = React.createElement(\n                            this.props.itemIcon,\n                            this.props\n                        )\n                    }\n                    delete props.isSub\n\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, attrs, mouseEvent, {\n                            style: style,\n                            ref: this.saveNode,\n                        }),\n                        props.children,\n                        icon\n                    )\n                },\n            },\n        ])\n\n        return MenuItem\n    })(React.Component)\nMenuItem.isMenuItem = true\nMenuItem.defaultProps = {\n    onSelect: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    manualRef: noop,\n}\nvar connected = connect(function(_ref, _ref2) {\n    var activeKey = _ref.activeKey,\n        selectedKeys = _ref.selectedKeys\n    var eventKey = _ref2.eventKey,\n        subMenuKey = _ref2.subMenuKey\n    return {\n        active: activeKey[subMenuKey] === eventKey,\n        isSelected: selectedKeys.indexOf(eventKey) !== -1,\n    }\n})(MenuItem)\nexport default connected\n","import React from 'react'\nimport { menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MenuItemGroup =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItemGroup, _React$Component)\n\n        function MenuItemGroup() {\n            var _this\n\n            _classCallCheck(this, MenuItemGroup)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItemGroup).apply(this, arguments)\n            )\n\n            _this.renderInnerMenuItem = function(item) {\n                var _this$props = _this.props,\n                    renderMenuItem = _this$props.renderMenuItem,\n                    index = _this$props.index\n                return renderMenuItem(item, index, _this.props.subMenuKey)\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItemGroup, [\n            {\n                key: 'render',\n                value: function render() {\n                    var props = _extends({}, this.props)\n\n                    var _props$className = props.className,\n                        className =\n                            _props$className === void 0 ? '' : _props$className,\n                        rootPrefixCls = props.rootPrefixCls\n                    var titleClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-title'\n                    )\n                    var listClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-list'\n                    )\n                    var title = props.title,\n                        children = props.children\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, {\n                            className: ''\n                                .concat(className, ' ')\n                                .concat(rootPrefixCls, '-item-group'),\n                        }),\n                        React.createElement(\n                            'div',\n                            {\n                                className: titleClassName,\n                                title:\n                                    typeof title === 'string'\n                                        ? title\n                                        : undefined,\n                            },\n                            title\n                        ),\n                        React.createElement(\n                            'ul',\n                            {\n                                className: listClassName,\n                            },\n                            React.Children.map(\n                                children,\n                                this.renderInnerMenuItem\n                            )\n                        )\n                    )\n                },\n            },\n        ])\n\n        return MenuItemGroup\n    })(React.Component)\n\nMenuItemGroup.isMenuItemGroup = true\nMenuItemGroup.defaultProps = {\n    disabled: true,\n}\nexport default MenuItemGroup\n","import React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","import React, { useEffect } from 'react'\nimport Menu, { SubMenu, MenuItem } from './MenuModule/index'\nimport buildItemsForMenu from './methods/buildItemsForMenu'\nimport { connect } from 'react-redux'\n\nimport type { elementType, pageType } from '../../../store/reducer/reducer'\n\nexport type Props = {\n    pageInStructure: pageType,\n    element: elementType,\n    document: {},\n    parentPluginProps: $PropertyType<elementType, 'properties'>,\n}\n\nconst activeKeys = []\n\nconst MenuElement = (props: Props) => {\n    useEffect(() => {\n        if (!props.document.getElementById('__menu__popup__container__')) {\n            const container = props.document.createElement('div')\n            container.setAttribute('id', '__menu__popup__container__')\n            container.setAttribute(\n                'style',\n                'z-index:100000;position: absolute;'\n            )\n            props.document.body.appendChild(container)\n        }\n    })\n    const builtItems = buildItemsForMenu(props)\n\n    activeKeys.length = 0\n    const menuElements = builtItems.map((item, index) => {\n        const key = item.id + '_' + index\n        console.log(key)\n        if (item.children.length === 0) {\n            if (\n                item.url === props.pageInStructure.url ||\n                (item.url === '' && props.pageInStructure.homepage)\n            )\n                activeKeys.push(key)\n            return (\n                <MenuItem\n                    key={key}\n                    className={item.properties ? item.properties.class : ''}\n                >\n                    <div\n                        style={{ height: '100%', width: '100%' }}\n                        onClick={() => (window.location = item.url)}\n                    >\n                        {item.name}\n                    </div>\n                </MenuItem>\n            )\n        } else {\n            return (\n                <SubMenu1\n                    item={item}\n                    key={key}\n                    pageInStructure={props.pageInStructure}\n                />\n            )\n        }\n    })\n    return (\n        <Menu\n            prefixCls={'systemclass_menu'}\n            // $FlowFixMe\n            getPopupContainer={() =>\n                props.document.getElementById('__menu__popup__container__')\n            }\n            topMenuBlockClasses={\n                props.elementValues.properties.topMenuBlockClasses\n            }\n            topMenuItemClasses={\n                props.elementValues.properties.topMenuItemClasses\n            }\n            topMenuItemActiveClasses={\n                props.elementValues.properties.topMenuItemActiveClasses\n            }\n            popupMenuBlockClasses={\n                props.elementValues.properties.popupMenuBlockClasses\n            }\n            popupMenuItemClasses={\n                props.elementValues.properties.popupMenuItemClasses\n            }\n            popupMenuItemActiveClasses={\n                props.elementValues.properties.popupMenuItemActiveClasses\n            }\n            mode={props.elementValues.properties.mode}\n            selectable={false}\n            triggerSubMenuAction={props.elementValues.properties.trigger}\n            activeKeys={activeKeys}\n            overflowedIndicator={props.overflowIcon}\n        >\n            {menuElements}\n        </Menu>\n    )\n}\n\nconst SubMenu1 = props => {\n    const { ...other } = props\n    return (\n        <SubMenu {...other} key={props.key} title={props.item.name}>\n            {props.item.children.map((item, index) => {\n                const key = props.key + '_' + index\n                if (item.children.length === 0) {\n                    if (\n                        item.url === props.pageInStructure.url ||\n                        (item.url === '' && props.pageInStructure.homepage)\n                    )\n                        activeKeys.push(key)\n                    return (\n                        <MenuItem key={key}>\n                            <div\n                                style={{ height: '100%', width: '100%' }}\n                                onClick={() => (window.location = item.url)}\n                            >\n                                {item.name}\n                            </div>\n                        </MenuItem>\n                    )\n                } else {\n                    return (\n                        <SubMenu2\n                            {...other}\n                            item={item}\n                            key={key}\n                            pageInStructure={props.pageInStructure}\n                        />\n                    )\n                }\n            })}\n        </SubMenu>\n    )\n}\n\nconst SubMenu2 = SubMenu1\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.mD.pagesStructure,\n        pageInStructure: state.mD.currentPageItem,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuElement)\n","import { buildTree } from '../../../../utils/basic'\n\nimport type { Props } from '../Menu'\n\nexport default (props: Props) => {\n    const buildMenuItems = menuItems => {\n        let structureAfterVariables = []\n        const structure = []\n        if (menuItems) {\n            menuItems.forEach(item => {\n                if (item.generatedFrom === 'variable') {\n                    if (props.parentPluginProps[item.name]) {\n                        structureAfterVariables = [\n                            ...structureAfterVariables,\n                            ...props.parentPluginProps[item.name],\n                        ]\n                    }\n                } else {\n                    structureAfterVariables.push(item)\n                }\n            })\n\n            structureAfterVariables.forEach(item => {\n                if (item.generatedFrom === 'all') {\n                    props.pagesStructure.forEach(page => {\n                        if (!page.hidden) {\n                            structure.push({\n                                name: page.name,\n                                properties: item.properties,\n                                id: item.id + page.id,\n                                path: [\n                                    ...item.path,\n                                    ...page.path.map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.all) {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.path.includes(item.generatedFrom) &&\n                            !page.hidden\n                        ) {\n                            structure.push({\n                                id: item.id + page.id,\n                                name: page.name,\n                                properties: item.properties,\n                                path: [\n                                    ...item.path,\n                                    ...page.path\n                                        .slice(\n                                            page.path.indexOf(\n                                                item.generatedFrom\n                                            ) + 1\n                                        )\n                                        .map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom !== 'link') {\n                    props.pagesStructure.forEach(page => {\n                        if (page.id === item.generatedFrom && !page.hidden) {\n                            structure.push({\n                                id: item.id,\n                                name: item.name,\n                                properties: item.properties,\n                                path: item.path,\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom === 'link') {\n                    structure.push({\n                        id: item.id,\n                        name: item.name,\n                        path: item.path,\n                        url: item.properties ? item.properties.url || '' : '',\n                        properties: item.properties,\n                    })\n                }\n            })\n        }\n        return structure\n    }\n    // const hiddenPages = []\n    // props.pagesStructure.forEach(page => {\n    //     if (page.hidden) hiddenPages.push(page.id)\n    // })\n    // props.pagesStructure.forEach(page => {\n    //     page.path.forEach(id => {\n    //         if (hiddenPages.includes(id)) {\n    //             hiddenPages.push(page.id)\n    //         }\n    //     })\n    // })\n\n    return buildTree(buildMenuItems(props.elementValues.menuItems))\n}\n","import React, { useState } from 'react'\nimport DrawerElement from 'rc-drawer'\n\nconst Drawer = (props: Props) => {\n    const [state, setState] = useState()\n\n    const onTouchEnd = () => {\n        setState(false)\n    }\n    const onSwitch = () => {\n        console.log('fdf')\n        setState(!state)\n    }\n    return (\n        <>\n            {props.handler && <div onClick={onSwitch}>{props.handler}</div>}\n            <DrawerElement\n                open={state}\n                onClose={onTouchEnd}\n                handler={props.autoHandler}\n                level={null}\n                width=\"200px\"\n                getContainer={() => props.document.body}\n                onHandleClick={onSwitch}\n            >\n                {props.content}\n            </DrawerElement>\n        </>\n    )\n}\n\nexport default Drawer\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\nimport type Props from '../BuilderElement'\n\nexport const setBoxProperties = (\n    box: HTMLElement,\n    refinedProperties: {},\n    props: Props\n) => {\n    while (box.attributes.length > 0)\n        box.removeAttribute(box.attributes[0].name)\n    if (props.elementValues.style) {\n        const style = props.elementValues.style.replace(\n            //eslint-disable-next-line\n            /\\$[^:;\\$\\s]*\\$/g,\n            match => {\n                const inheritedPropertyName = getInheritedPropertyName(match)\n                return inheritedPropertyName\n                    ? props.parentPluginProps[inheritedPropertyName] || ''\n                    : ''\n            }\n        )\n        box.setAttribute('style', style)\n    }\n\n    for (let attribute in refinedProperties) {\n        const attr = attribute.toLowerCase()\n        switch (attr) {\n            case 'style':\n                break\n            case '':\n                break\n            default:\n                box.setAttribute(attr, refinedProperties[attr])\n                break\n        }\n    }\n}\n\nexport const saveHoveredElementRect = (box: HTMLElement, props: Props) => {\n    const rect = box.getBoundingClientRect()\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    const scrollY = iframe ? iframe.contentWindow.pageYOffset : 0\n    const scrollX = iframe ? iframe.contentWindow.pageXOffset : 0\n\n    props.saveHoveredElementRect(\n        [\n            ...props.pluginsPathArray,\n            {\n                id: props.element.id,\n                plugin: null,\n            },\n        ],\n        {\n            left: rect.left + scrollX,\n            top: rect.top + scrollY,\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top,\n        }\n    )\n}\n","import {\n    getInheritedPropertyName,\n    getCurrentResourceValue,\n} from '../../../../utils/basic'\nimport isEqual from 'lodash/isEqual'\n// import { CloudFrontUrl, bucket } from '../../../../awsConfig'\n\nimport type Props from '../BuilderElement'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\n\nconst toRGBAString = rgb =>\n    rgb ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${rgb.a})` : 'rgba(0,0,0,0)'\n\nexport default (props: Props) => {\n    const result = {}\n    for (let attribute in props.elementValues.properties) {\n        const inheritedPropertyName = getInheritedPropertyName(\n            props.elementValues.properties[attribute]\n        )\n        result[attribute] = inheritedPropertyName\n            ? props.parentPluginProps[inheritedPropertyName]\n            : props.elementValues.properties[attribute]\n        if (result[attribute])\n            result[attribute] = JSON.parse(\n                JSON.stringify(result[attribute]).replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            )\n        // if (attribute === 'src') {\n        //     let url = result[attribute] || ''\n        //     const path = url.split('/')\n        //     if (path.length > 1) {\n        //         if (path[0] === 'websiter') {\n        //             path.shift()\n        //             let width, height\n        //             if (path.length > 1) {\n        //                 const sizes = path[path.length - 1]\n        //                 const indexW = sizes.indexOf('w')\n        //                 const indexH = sizes.indexOf('h')\n        //                 if (indexW > -1 && indexH > -1) {\n        //                     if (indexW < indexH) {\n        //                         width = sizes.substr(indexW + 1, indexH - 1)\n        //                         height = sizes.substr(indexH + 1)\n        //                     } else {\n        //                         height = sizes.substr(indexH + 1, indexW - 1)\n        //                         width = sizes.substr(indexW + 1)\n        //                     }\n        //                 } else {\n        //                     if (indexW > -1) width = sizes.substr(indexW + 1)\n        //                     if (indexH > -1) height = sizes.substr(indexH + 1)\n        //                 }\n        //             }\n\n        //             if (isNaN(width)) width = null\n        //             else width = parseInt(width)\n        //             if (isNaN(height)) height = null\n        //             else height = parseInt(height)\n\n        //             if (width || height) {\n        //                 path.pop()\n        //             }\n\n        //             const imageRequest = JSON.stringify({\n        //                 bucket: bucket,\n        //                 key: path.join('/'),\n        //                 edits: {\n        //                     resize: {\n        //                         width: width || '',\n        //                         height: height || null,\n        //                         fit: 'cover',\n        //                         background: { r: 0, g: 0, b: 0, alpha: 0 },\n        //                     },\n        //                     toFormat: 'png',\n        //                 },\n        //             })\n\n        //             url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n        //             result[attribute] = url\n        //         }\n        //     }\n        // }\n    }\n    return {\n        refinedProperties: { ...props.parentPluginProps, ...result },\n        ownRefinedProperties: result,\n    }\n}\n\nexport const refinePropertiesFromCMS = mD => {\n    const addVariable = (\n        item,\n        currentPageDraft,\n        pageTemplateDraft,\n        pluginId\n    ) => {\n        if (!pageTemplateDraft) return\n        const resourceVariable = currentPageDraft.values[item.id]\n        const templateItemId = item.forPropagatingPlugin\n            ? item.forPropagatingPlugin.variable\n            : item.id\n\n        const itemValues = pageTemplateDraft.values[templateItemId]\n        if (itemValues.CMSVariableSystemName)\n            if (itemValues.CMSVariableType === 'menuItems') {\n                return {\n                    [itemValues.CMSVariableSystemName]: resourceVariable\n                        ? resourceVariable.menuItems\n                            ? resourceVariable.menuItems.length > 0\n                                ? resourceVariable.menuItems\n                                : itemValues.defaultMenuItems\n                            : itemValues.defaultMenuItems\n                        : itemValues.defaultMenuItems,\n                }\n            } else if (itemValues.CMSVariableType === 'file') {\n                return {\n                    [itemValues.CMSVariableSystemName]: getFileUrl(\n                        mD.filesStructure,\n                        resourceVariable\n                            ? resourceVariable.fileUrl ||\n                                  itemValues.defaultFileUrl\n                            : itemValues.defaultFileUrl,\n                        false,\n                        resourceVariable\n                            ? resourceVariable.fileThumbnail ||\n                                  itemValues.fileThumbnail\n                            : itemValues.fileThumbnail,\n                        mD.currentWebsiteObject.domain\n                    ),\n                    // 'http://live.websiter.dev:5000/' +\n                    // mD.currentWebsiteObject.domain +\n                    // (resourceVariable\n                    //     ? resourceVariable.fileUrl ||\n                    //       itemValues.defaultFileUrl\n                    //     : itemValues.defaultFileUrl),\n                }\n            } else if (\n                itemValues.CMSVariableType === 'colorSelect' ||\n                itemValues.CMSVariableType === 'color'\n            ) {\n                return {\n                    [itemValues.CMSVariableSystemName]: toRGBAString(\n                        resourceVariable && resourceVariable.color\n                            ? resourceVariable.color\n                            : itemValues.defaultColor\n                    ),\n                }\n            } else if (\n                itemValues.CMSVariableType.indexOf('propagating_') === 0 ||\n                itemValues.CMSVariableType === 'array'\n            ) {\n                const forPluginId =\n                    itemValues.CMSVariableType === 'array'\n                        ? pluginId\n                        : itemValues.CMSVariableType.slice(\n                              'propagating_'.length\n                          )\n                const forPluginDraft = getCurrentResourceValue(\n                    forPluginId,\n                    mD.resourcesObjects\n                )\n                const propagatingValue = []\n                const children = currentPageDraft.structure.filter(el =>\n                    isEqual([...item.path, item.id], el.path)\n                )\n\n                for (let child of children) {\n                    let propagatingItem = {}\n\n                    const childVariables = currentPageDraft.structure\n                        .filter(el =>\n                            isEqual([...child.path, child.id], el.path)\n                        )\n                        .filter(el =>\n                            el.forPropagatingPlugin\n                                ? el.forPropagatingPlugin.pluginId ===\n                                  forPluginId\n                                : false\n                        )\n\n                    for (let el of childVariables) {\n                        const value = addVariable(\n                            el,\n                            currentPageDraft,\n                            forPluginDraft,\n                            forPluginId\n                        )\n\n                        if (value) {\n                            propagatingItem = {\n                                ...propagatingItem,\n                                ...value,\n                            }\n                        }\n                    }\n                    propagatingValue.push(propagatingItem)\n                }\n                return {\n                    [itemValues.CMSVariableSystemName]: propagatingValue,\n                }\n            } else {\n                return {\n                    [itemValues.CMSVariableSystemName]: resourceVariable\n                        ? resourceVariable.value ||\n                          itemValues.CMSVariableDefaultValue\n                        : itemValues.CMSVariableDefaultValue,\n                }\n            }\n    }\n    const refine = (currentPageDraft, pageTemplateDraft, templateId) => {\n        let result = {}\n        if (pageTemplateDraft && currentPageDraft) {\n            for (let item of pageTemplateDraft.structure) {\n                if (item.path.length > 0) {\n                    if (item.path[0] === 'element_02') {\n                        if (\n                            !item.path.find(\n                                el =>\n                                    pageTemplateDraft.values[el]\n                                        .CMSVariableType === 'array'\n                            )\n                        ) {\n                            const value = addVariable(\n                                {\n                                    ...item,\n                                    path: item.path.filter(\n                                        id => id !== 'element_02'\n                                    ),\n                                },\n                                currentPageDraft,\n                                pageTemplateDraft,\n                                templateId\n                            )\n                            if (value) {\n                                result = { ...result, ...value }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return result\n    }\n    const refinedPropertiesPage = refine(\n        mD.currentPageFSBDraft,\n        mD.pageTemplateFSBDraft,\n        mD.pageTemplateFSBId\n    )\n    const refinedPropertiesGlobal = refine(\n        mD.globalSettingsPageDraft,\n        mD.globalSettingsTemplateDraft,\n        mD.globalSettingsTemplateId\n    )\n    return { ...refinedPropertiesGlobal, ...refinedPropertiesPage }\n}\n","import type Props from '../BuilderElement'\n\nexport const hoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    e.stopPropagation()\n    // let Tag = props.element.tag || 'div'\n\n    // Tag = Tag.length > 0 ? Tag : 'div'\n    // const isPlugin = checkIfCapital(Tag.charAt(0))\n    // const isPlugin = true\n    if (props.findMode === 'page') {\n        props.hoverBox(\n            // isPlugin ?\n            props.routePlugin || props.element.id,\n            //  : props.element.id,\n            'page',\n            true\n        )\n    } else if (props.findMode === 'plugin') {\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n            props.hoverBox(props.element.id, 'plugin', true)\n        }\n    }\n}\n\nexport const unhoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode) {\n        e.stopPropagation()\n        props.unhoverBox()\n    }\n}\n\nexport const chooseBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode === 'page') {\n        e.stopPropagation()\n        props.chooseBox(\n            props.findMode, /// not sure\n            props.routePlugin || props.element.id\n        )\n    } else if (props.findMode === 'plugin') {\n        e.stopPropagation()\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n\n            props.chooseBox(\n                props.findMode, /// not sure\n                props.element.id\n            )\n        }\n    }\n    props.toggleFindMode()\n}\n","export const emptyTags = [\n    'area',\n    'base',\n    'br',\n    'col',\n    'embed',\n    'hr',\n    'img',\n    'input',\n    'keygen',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n    'menuitem',\n    'command',\n    'keygen',\n]\n\nexport const headTags = [\n    'meta',\n    'title',\n    'link',\n    'base',\n    'style',\n    'script',\n    'noscript',\n    'text',\n]\n","import React, { useRef, useEffect, memo } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport Menu from '../Menu/Menu'\nimport Drawer from '../Drawer/Drawer'\nimport 'slick-carousel/slick/slick.css'\nimport 'slick-carousel/slick/slick-theme.css'\nimport Slider from 'react-slick'\n\nimport { getCurrentResourceValue } from '../../../utils/basic'\n\nimport * as actions from '../../../store/actions/index'\nimport { checkIfCapital, getInheritedPropertyName } from '../../../utils/basic'\n\nimport { setBoxProperties } from './methods/useEffect'\nimport refineProperties from './methods/refineProperties'\nimport { hoverBox, unhoverBox, chooseBox } from './methods/boxMethods'\nimport { emptyTags, headTags } from './methods/tagsLibrary'\n// import debounceRender from 'react-debounce-render'\n\nimport parse from 'html-react-parser'\nimport sanitize from 'sanitize-html'\n\nimport { modulesPropertyNodes } from '../../../utils/modulesIndex'\nimport type {\n    elementType,\n    resourceType,\n    initialStateType,\n} from '../../../store/reducer/reducer'\n\nexport type Props = {\n    element: elementType,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n    structure: $PropertyType<resourceType, 'structure'>,\n    document: {},\n    pluginsPathArray: Array<{\n        id: string,\n        plugin: string,\n    }>,\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    parentPluginProps: $PropertyType<elementType, 'properties'>,\n    sourcePlugin: string,\n    routePlugin: string,\n    hoverBox: typeof actions.hoverBox,\n    chooseResource: typeof actions.chooseResource,\n    unhoverBox: typeof actions.unhoverBox,\n    chooseBox: typeof actions.chooseBox,\n    toggleFindMode: typeof actions.toggleFindMode,\n    childrenForPlugin: Array<elementType>,\n    isHead?: boolean,\n}\n\nconst _BuilderElement = (props: Props) => {\n    const elementRef = useRef(null)\n\n    useEffect(() => {\n        const box = elementRef.current\n        if (box && ownRefinedProperties) {\n            if (Tag === 'script') {\n                //$FlowFixMe\n                const newScript = props.document.createElement(Tag)\n                newScript.textContent = box.textContent\n                setBoxProperties(newScript, ownRefinedProperties, props)\n                box.parentNode.appendChild(newScript)\n\n                // box.parentNode.removeChild(box)\n            } else {\n                // saveHoveredElementRect(box, props)\n                setBoxProperties(box, ownRefinedProperties, props)\n            }\n        }\n    })\n\n    if (!props.elementValues) {\n        return null\n    }\n\n    const { refinedProperties, ownRefinedProperties } = refineProperties(props)\n\n    const currentPath = [...props.element.path, props.element.id]\n\n    let Tag = props.element.tag || 'div'\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n    const getModulePropertiesNodes = tag => {\n        const nodes = {}\n        const possibleNodes = modulesPropertyNodes[tag] || []\n        for (let el of possibleNodes) {\n            const nodeItem = props.structure.find(\n                item =>\n                    item.forModule === props.element.id &&\n                    item.childrenTo === el.id\n            )\n            let node\n            if (nodeItem) {\n                node = props.structure\n                    .filter(item =>\n                        isEqual(item.path, [...nodeItem.path, nodeItem.id])\n                    )\n                    .map(item => (\n                        <BuilderElement\n                            key={item.id}\n                            structure={props.structure.filter(itemInn =>\n                                itemInn.path.includes(item.id)\n                            )}\n                            element={item}\n                            document={props.document}\n                            pluginsPathArray={props.pluginsPathArray}\n                            sourcePlugin={props.sourcePlugin}\n                            routePlugin={props.routePlugin}\n                            parentPluginProps={props.parentPluginProps}\n                            childrenForPlugin={props.childrenForPlugin}\n                            currentResource={props.currentResource}\n                        />\n                    ))\n            }\n            if (node) nodes[el.id] = node\n        }\n        return nodes\n    }\n    if (props.element.childrenTo) {\n        return null\n    } else if (props.element.isChildren) {\n        const childrenMainElement = props.childrenForPlugin.find(\n            itemInn =>\n                itemInn.childrenTo === props.element.id &&\n                itemInn.forPlugin === props.sourcePlugin\n        )\n\n        if (childrenMainElement) {\n            const newStructure = props.childrenForPlugin.filter(itemInn =>\n                itemInn.path.includes(childrenMainElement.id)\n            )\n\n            return newStructure\n                .filter(itemInn => {\n                    if (itemInn.path.length > 0) {\n                        if (\n                            itemInn.path[itemInn.path.length - 1] ===\n                            childrenMainElement.id\n                        )\n                            return true\n                    }\n                    return false\n                })\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={newStructure}\n                        element={item}\n                        document={props.document}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={childrenMainElement.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        currentResource={item.fromResource}\n                        isHead={props.isHead}\n                    />\n                ))\n        }\n        return null\n    } else if (props.element.isElementFromCMSVariable) {\n        const inheritedPropertyName = props.element.tag\n\n        let parseText = ''\n        if (inheritedPropertyName) {\n            if (props.parentPluginProps[inheritedPropertyName]) {\n                parseText = props.parentPluginProps[inheritedPropertyName]\n            }\n        }\n\n        return parse(\n            sanitize(parseText, {\n                allowedTags: false,\n                allowedAttributes: false,\n            })\n        )\n    } else if (checkIfCapital(Tag.charAt(0))) {\n        const plugin = props.pluginsStructure.find(item => item.name === Tag)\n        if (plugin) {\n            const childrenForPlugin = [\n                ...props.structure\n                    .filter(itemInn => itemInn.path.includes(props.element.id))\n                    .map(itemInn => ({\n                        ...itemInn,\n                        fromResource: props.currentResource,\n                    })),\n                ...(props.childrenForPlugin ? props.childrenForPlugin : []),\n            ]\n            if (\n                props.pluginsPathArray.find(item => item.plugin === plugin.id)\n            ) {\n                return null\n            }\n            return (\n                <PluginElement\n                    pluginsStructure={props.pluginsStructure}\n                    plugin={plugin}\n                    tag={Tag}\n                    document={props.document}\n                    routePlugin={props.routePlugin || props.element.id}\n                    pluginsPathArray={[\n                        ...props.pluginsPathArray,\n                        {\n                            id: props.element.id,\n                            plugin: plugin.id,\n                        },\n                    ]}\n                    parentPluginProps={refinedProperties}\n                    childrenForPlugin={childrenForPlugin}\n                    currentResource={plugin.id}\n                    isHead={props.isHead}\n                />\n            )\n        }\n        return null\n    } else if (!props.isHead || headTags.includes(Tag)) {\n        if (Tag === 'websiterMenu') {\n            return (\n                <div\n                    //$FlowFixMe\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Menu\n                        element={props.element}\n                        elementValues={props.elementValues}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        {...getModulePropertiesNodes(Tag)}\n                    />\n                </div>\n            )\n        } else if (Tag === 'websiterDrawer') {\n            return (\n                <div\n                    //$FlowFixMe\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Drawer\n                        element={props.element}\n                        elementValues={props.elementValues}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        {...getModulePropertiesNodes(Tag)}\n                    />\n                </div>\n            )\n        } else if (Tag === 'websiterGallery') {\n            let items = refinedProperties.items || []\n            if (refinedProperties.originalClass) {\n                items = items.map(item => ({\n                    ...item,\n                    originalClass: refinedProperties.originalClass,\n                }))\n            }\n            const settings = {\n                dots: true,\n                infinite: true,\n                speed: 500,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n            }\n            return (\n                <div\n                    //$FlowFixMe\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Slider\n                        // element={props.element}\n                        // elementValues={props.elementValues}\n                        // document={props.document}\n                        // parentPluginProps={props.parentPluginProps}\n                        // childrenForPlugin={props.childrenForPlugin}\n                        {...settings}\n                        {...refinedProperties}\n                        {...getModulePropertiesNodes(Tag)}\n                    >\n                        <div>\n                            <div\n                                style={{\n                                    width: '100px',\n                                    height: '100px',\n                                    background: 'red',\n                                }}\n                            >\n                                sdfsdf\n                            </div>\n                        </div>\n                        {props.currentWebsiteObject && props.filesStructure\n                            ? items.map(item => {\n                                  return (\n                                      <div>\n                                          <img src={item.original} />\n                                      </div>\n                                  )\n                              })\n                            : null}\n                    </Slider>\n                </div>\n            )\n        } else if (Tag === 'richEditor') {\n            return parse(\n                sanitize(props.elementValues.textContent, {\n                    allowedTags: false,\n                    allowedAttributes: false,\n                })\n            )\n        } else if (props.element.text) {\n            if (props.elementValues.textContent) {\n                return props.elementValues.textContent.replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            } else {\n                return props.isHead ? '' : null\n            }\n        } else {\n            Tag = Tag.replace(/[^a-z]/g, '')\n            Tag = Tag.trim()\n            return emptyTags.includes(Tag) ? (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                />\n            ) : (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                >\n                    {Tag !== 'menu'\n                        ? props.structure\n                              .filter(item => isEqual(item.path, currentPath))\n                              .map(item => (\n                                  <BuilderElement\n                                      key={item.id}\n                                      structure={props.structure.filter(\n                                          itemInn =>\n                                              itemInn.path.includes(item.id)\n                                      )}\n                                      element={item}\n                                      document={props.document}\n                                      pluginsPathArray={props.pluginsPathArray}\n                                      sourcePlugin={props.sourcePlugin}\n                                      routePlugin={props.routePlugin}\n                                      parentPluginProps={\n                                          props.parentPluginProps\n                                      }\n                                      childrenForPlugin={\n                                          props.childrenForPlugin\n                                      }\n                                      currentResource={props.currentResource}\n                                  />\n                              ))\n                        : null}\n                </Tag>\n            )\n        }\n    } else {\n        return null\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    const sourceResource = props.sourcePlugin || props.currentResource\n\n    let elementValues\n    if (sourceResource)\n        elementValues = getCurrentResourceValue(\n            sourceResource,\n            state.resourcesObjects\n        ).values[props.element.id]\n\n    return {\n        findMode: state.findMode,\n        elementValues,\n        pluginsStructure: state.mD.pluginsStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        filesStructure: state.mD.filesStructure,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveHoveredElementRect: (path, size) =>\n            dispatch(actions.saveHoveredElementRect(path, size)),\n        hoverBox: (id, mode, fromFrame) =>\n            dispatch(actions.hoverBox(id, mode, fromFrame)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        chooseBox: (id, currentResource) =>\n            dispatch(actions.chooseBox(id, currentResource)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        chooseResource: (id, type, mD) =>\n            dispatch(actions.chooseResource(id, type, mD)),\n    }\n}\n\nconst BuilderElement = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    // debounceRender(\n    memo(\n        _BuilderElement,\n        (prevProps, nextProps) => isEqual(prevProps, nextProps)\n        //  &&\n        // isEqual(prevProps.structure, nextProps.structure) &&\n        // isEqual(prevProps.parentPluginProps, nextProps.parentPluginProps)\n    )\n    // ,\n    //     300\n    // )\n)\n\nexport default BuilderElement\n\nconst PluginElementRaw = props => {\n    if (!props.plugin.hidden && props.pluginStructure) {\n        //Pass children to plugin\n        if (props.plugin.propagating) {\n            return Array.isArray(props.parentPluginProps.items)\n                ? props.parentPluginProps.items.map(item =>\n                      props.pluginStructure\n                          .filter(itemInn =>\n                              isEqual(itemInn.path, ['element_0'])\n                          )\n                          .map(itemInn => (\n                              <BuilderElement\n                                  key={itemInn.id}\n                                  structure={props.pluginStructure}\n                                  element={itemInn}\n                                  document={props.document}\n                                  sourcePlugin={props.plugin.id}\n                                  routePlugin={props.routePlugin}\n                                  pluginsPathArray={props.pluginsPathArray}\n                                  parentPluginProps={{\n                                      ...props.parentPluginProps,\n                                      ...item,\n                                  }}\n                                  childrenForPlugin={props.childrenForPlugin}\n                                  currentResource={props.currentResource}\n                                  isHead={props.isHead}\n                              />\n                          ))\n                  )\n                : null\n        } else {\n            return props.pluginStructure\n                .filter(itemInn => isEqual(itemInn.path, ['element_0']))\n                .map(itemInn => (\n                    <BuilderElement\n                        key={itemInn.id}\n                        structure={props.pluginStructure}\n                        element={itemInn}\n                        document={props.document}\n                        sourcePlugin={props.plugin.id}\n                        routePlugin={props.routePlugin}\n                        pluginsPathArray={props.pluginsPathArray}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        currentResource={props.currentResource}\n                        isHead={props.isHead}\n                    />\n                ))\n        }\n    }\n\n    return null\n}\n\nconst mapStateToPropsPlugin = (state, props) => {\n    const plugin = getCurrentResourceValue(\n        props.plugin.id,\n        state.resourcesObjects\n    )\n    return {\n        pluginStructure: plugin ? plugin.structure : [],\n    }\n}\n//props.mD.resourcesObjects[plugin.id]\nconst PluginElement = connect(mapStateToPropsPlugin)(PluginElementRaw)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport isEmpty from 'lodash/isEmpty'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\nexport type Props = {\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    hoverMode: $PropertyType<initialStateType, 'hoverMode'>,\n    hoveredElementSize: $PropertyType<initialStateType, 'hoveredElementSize'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n}\n\nconst HoveredBoxHighlight = (props: Props) => {\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    //const innerDoc = iframe.contentDocument || iframe.contentWindow.document\n    if (!iframe) return null\n    const scrollY = iframe.contentWindow.pageYOffset\n    const scrollX = iframe.contentWindow.pageXOffset\n\n    const result = []\n    const parents = []\n    const addHoverBoxes = parent => {\n        if (!isEmpty(parent.children)) {\n            for (const item in parent.children) {\n                addHoverBoxes(parent.children[item])\n            }\n        } else {\n            result.push(\n                <div\n                    key={result.length}\n                    style={{\n                        background: 'blue',\n                        opacity: '.3',\n                        position: 'fixed',\n                        left: parent.left - scrollX + 'px',\n                        top: parent.top - scrollY + 'px',\n                        width: parent.width + 'px',\n                        height: parent.height + 'px',\n                        pointerEvents: 'none',\n                        zIndex: '2147483647',\n                        border: 'none',\n                        margin: '0px',\n                        padding: '0px',\n                        borderRadius: '0px',\n                        boxShadow: 'none',\n                        backgroundImage: 'none',\n                    }}\n                />\n            )\n        }\n    }\n    const findParents = children => {\n        for (const item in children) {\n            if (children[item].plugin === props.currentPlugin) {\n                for (const innerItem in children[item].children) {\n                    if (innerItem === props.hoveredElementId) {\n                        parents.push(children[item].children[innerItem])\n                    }\n                }\n            } else {\n                findParents(children[item].children)\n            }\n        }\n    }\n    if (props.hoveredElementId) {\n        if (props.hoverMode === 'page') {\n            if (props.hoveredElementSize[props.hoveredElementId]) {\n                addHoverBoxes(props.hoveredElementSize[props.hoveredElementId])\n            }\n        } else if (props.hoverMode === 'plugin') {\n            findParents(props.hoveredElementSize)\n            parents.forEach(element => {\n                addHoverBoxes(element)\n            })\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = state => {\n    return {\n        hoveredElementId: -100,\n        hoveredElementSize: state.hoveredElementSize,\n        hoverMode: state.hoverMode,\n        currentPlugin: state.currentPlugin,\n    }\n}\n\nexport default connect(mapStateToProps)(HoveredBoxHighlight)\n","import type { resourceType } from '../../../store/reducer/reducer'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport { getCurrentResourceValue } from '../../../utils/basic'\n\nexport default (mD, pageDraft, templateDraft, globalSettings, templateId) => {\n    let currentId = pageDraft && pageDraft.currentId ? pageDraft.currentId : 0\n    const refreshPageStructure = (\n        resourceDraft: resourceType,\n        templateDraft: resourceType,\n        templateId,\n        pluginId?: string,\n        currentPath?: Array<string>,\n        arrayId?: string\n    ) => {\n        if (!resourceDraft || !templateDraft)\n            return { structure: [], values: {} }\n\n        const pageStructure = resourceDraft.structure\n        const templateStructure = templateDraft.structure\n        if (!templateStructure || !pageStructure)\n            return { structure: [], values: {} }\n\n        //$FlowFixMe\n        const pageStructureWithoutPropagating = []\n        for (let item of pageStructure) {\n            if (\n                resourceDraft.values[item.id].CMSVariableType &&\n                resourceDraft.values[item.id].CMSVariableType.indexOf(\n                    'propagating_' !== 0\n                ) &&\n                resourceDraft.values[item.id].CMSVariableType !== 'array'\n            ) {\n                pageStructureWithoutPropagating.push(item)\n            }\n        }\n\n        const templateIds = []\n        const pageIds = []\n\n        let newStructure = templateStructure.filter(item => {\n            if (item.path.length > 0) {\n                if (item.path[0] === 'element_02') {\n                    if (\n                        !item.path.find(\n                            el =>\n                                templateDraft.values[el] &&\n                                templateDraft.values[el].CMSVariableType ===\n                                    'array'\n                        )\n                    )\n                        return true\n                }\n            }\n            return false\n        })\n\n        if (!pluginId) {\n            newStructure = newStructure.map(item => {\n                templateIds.push(item.id)\n                pageIds.push(item.id)\n                return {\n                    ...item,\n                    path: item.path.slice(1),\n                    isCMSVariable: false,\n                }\n            })\n        } else {\n            newStructure = newStructure\n                .map(item => {\n                    const forPropagatingPlugin = { pluginId, variable: item.id }\n                    const oldItem = pageStructureWithoutPropagating.find(el =>\n                        isEqual(el.forPropagatingPlugin, forPropagatingPlugin)\n                    )\n                    if (oldItem) {\n                        templateIds.push(item.id)\n                        pageIds.push(oldItem.id)\n                        return {\n                            ...item,\n                            forPropagatingPlugin,\n                            id: oldItem.id,\n                            isCMSVariable: false,\n                        }\n                    } else {\n                        const newId = 'elementCMS_' + currentId\n                        currentId++\n                        templateIds.push(item.id)\n                        pageIds.push(newId)\n\n                        return {\n                            ...item,\n                            id: newId,\n                            forPropagatingPlugin,\n                            isCMSVariable: false,\n                        }\n                    }\n                })\n                .map(item => {\n                    const arrayIndex = item.path.indexOf(arrayId)\n                    return {\n                        ...item,\n                        path: [\n                            ...currentPath,\n                            ...item.path\n                                .filter(\n                                    (el, index) =>\n                                        el !== 'element_02' &&\n                                        index > arrayIndex\n                                )\n                                .map(el => pageIds[templateIds.indexOf(el.id)]),\n                        ],\n                    }\n                })\n        }\n\n        const propagatingPluginsVariablesIds = []\n        for (let item of newStructure) {\n            const itemIdInTemplate = templateIds[pageIds.indexOf(item.id)]\n            if (\n                templateDraft.values[itemIdInTemplate].CMSVariableType.indexOf(\n                    'propagating_' === 0\n                )\n            ) {\n                propagatingPluginsVariablesIds.push(item.id)\n            }\n        }\n\n        let newValues = {}\n        //$FlowFixMe\n        let structureWithOldAndPropagating = []\n        for (let item of newStructure) {\n            const itemIdInTemplate = templateIds[pageIds.indexOf(item.id)]\n            const itemValue = templateDraft.values[itemIdInTemplate]\n            const oldItem = resourceDraft.structure.find(\n                itemInn => itemInn.id === item.id\n            )\n            let newItem = {\n                ...item,\n                CMSVariableType: itemValue.CMSVariableType,\n            }\n            if (oldItem) newItem = { ...newItem, expanded: oldItem.expanded }\n            newValues[item.id] = {\n                ...templateDraft.values[itemIdInTemplate],\n                value: '',\n                menuItems: [],\n                currentMenuItem: '',\n                currentMenuId: 0,\n                // properties: {},\n\n                ...(resourceDraft.values[item.id] || {}),\n                CMSVariableType:\n                    templateDraft.values[itemIdInTemplate].CMSVariableType,\n            }\n            structureWithOldAndPropagating.push({\n                ...newItem,\n                path: item.path.filter(\n                    id => !propagatingPluginsVariablesIds.includes(id)\n                ),\n            })\n            if (itemValue.CMSVariableType.indexOf('propagating_') === 0) {\n                const children = pageStructure.filter(el =>\n                    isEqual(el.path, [...item.path, item.id])\n                )\n                const childTemplateId = itemValue.CMSVariableType.slice(\n                    'propagating_'.length\n                )\n                const childTemplateDraft = getCurrentResourceValue(\n                    childTemplateId,\n                    mD.resourcesObjects\n                )\n                for (let child of children) {\n                    const innerChildPath = [...child.path, child.id]\n                    const childrenOfItem = pageStructure.filter(el =>\n                        isEqual(el.path, innerChildPath)\n                    )\n                    const { structure, values } = refreshPageStructure(\n                        { structure: childrenOfItem, values: pageDraft.values },\n                        childTemplateDraft,\n                        templateId,\n                        childTemplateId,\n                        innerChildPath,\n                        arrayId\n                    )\n                    structureWithOldAndPropagating = [\n                        ...structureWithOldAndPropagating,\n                        child,\n                        ...structure,\n                    ]\n                    newValues = {\n                        ...newValues,\n                        ...values,\n                        [child.id]: pageDraft.values[child.id],\n                    }\n                }\n            }\n\n            if (itemValue.CMSVariableType === 'array') {\n                const children = pageStructure.filter(el =>\n                    isEqual(el.path, [...item.path, item.id])\n                )\n                const childTemplateDraft = {\n                    structure: templateDraft.structure.filter(el =>\n                        el.path.includes(item.id)\n                    ),\n                    values: {},\n                }\n                for (let el of childTemplateDraft.structure) {\n                    childTemplateDraft.values[el.id] =\n                        templateDraft.values[el.id]\n                }\n\n                for (let child of children) {\n                    const innerChildPath = [...child.path, child.id]\n                    const childrenOfItem = pageStructure.filter(el =>\n                        isEqual(el.path, innerChildPath)\n                    )\n                    const { structure, values } = refreshPageStructure(\n                        { structure: childrenOfItem, values: pageDraft.values },\n                        childTemplateDraft,\n                        templateId,\n                        pluginId || templateId,\n                        innerChildPath,\n                        item.id\n                    )\n                    structureWithOldAndPropagating = [\n                        ...structureWithOldAndPropagating,\n                        child,\n                        ...structure,\n                    ]\n                    newValues = {\n                        ...newValues,\n                        ...values,\n                        [child.id]: pageDraft.values[child.id],\n                    }\n                }\n            }\n        }\n        return {\n            structure: structureWithOldAndPropagating,\n            values: newValues,\n        }\n    }\n\n    if (pageDraft && templateDraft) {\n        const { structure, values } = refreshPageStructure(\n            pageDraft,\n            templateDraft,\n            templateId\n        )\n        const draft = {\n            currentId,\n            structure,\n            values,\n        }\n\n        for (let item of pageDraft.structure.filter(\n            item =>\n                item.id === 'trash' ||\n                (item.path.length > 0 && item.path[0] === 'trash')\n        )) {\n            draft.structure.push(item)\n            draft.values[item.id] = pageDraft.values[item.id]\n        }\n        draft.structure = draft.structure.map(item => omit(item, 'itemPath'))\n\n        if (\n            !isEqual(\n                draft.structure.map(item =>\n                    omit(item, [\n                        'expanded',\n                        'children',\n                        'itemPath',\n                        'itemIndex',\n                    ])\n                ),\n                pageDraft.structure.map(item =>\n                    omit(item, [\n                        'expanded',\n                        'children',\n                        'itemPath',\n                        'itemIndex',\n                    ])\n                )\n            ) ||\n            !isEqual(draft.values, pageDraft.values)\n        ) {\n            return ['page', draft, globalSettings]\n        }\n    }\n\n    return false\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as classes from './Overlay.module.css'\n\nconst Overlay = props => {\n    return props.sizeIsChanging ? <div className={classes.Overlay} /> : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nexport default connect(mapStateToProps)(Overlay)\n","import React, { Component, useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from './SiteBuilder.module.css'\nimport * as actions from '../../store/actions/index'\nimport Frame, { FrameContextConsumer } from './Frame/index'\nimport BuilderElement from './BuilderElement/BuilderElement'\nimport HoveredBoxHighlight from './HoveredBoxHighlight/HoveredBoxHighlight'\nimport { systemClassMenu, systemClassDrawer } from './systemClasses'\n// import saveRect from './methods/saveRect'\nimport { Provider } from 'react-redux'\nimport { renderToString } from 'react-dom/server'\nimport { store } from '../../index'\nimport refineProperties, {\n    refinePropertiesFromCMS,\n} from './BuilderElement/methods/refineProperties'\nimport refreshPageStructure from './methods/refreshPageStructure'\nimport Overlay from '../../components/UI/Overlay/Overlay'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\n\nexport type Props = {\n    zoom: $PropertyType<initialStateType, 'pageZoom'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    isRefreshing: $PropertyType<initialStateType, 'isRefreshing'>,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    markRefreshing: typeof actions.markRefreshing,\n    savePropertiesOnLeave: typeof actions.savePropertiesOnLeave,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    shouldRefresh?: boolean,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    currentSiteBuilderMode: $PropertyType<\n        initialStateType,\n        'currentSiteBuilderMode'\n    >,\n}\n\ntype State = {\n    headValue: string,\n}\n\nclass SiteBuilder extends Component<Props, State> {\n    state = {\n        headValue: '',\n    }\n\n    // componentDidMount() {\n    //     //saveRect(this.props)\n    // }\n    head = ''\n    currentScroll = 0\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.currentPageId !== this.props.currentPageId) {\n            this.currentScroll = 0\n        }\n        const iframeElement = document.getElementById('builderFrame')\n        if (iframeElement) {\n            if (!this.props.isRefreshing) {\n                setTimeout(() => {\n                    const iframeElement = document.getElementById(\n                        'builderFrame'\n                    )\n                    if (iframeElement) {\n                        iframeElement.contentWindow.document.documentElement.scrollTop = iframeElement.contentWindow.document.body.scrollTop = this.currentScroll\n                        iframeElement.contentWindow.scrollTo(\n                            this.currentScroll,\n                            this.currentScroll\n                        )\n                    }\n                }, 1)\n            }\n        }\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return !this.props.sizeIsChanging && !nextProps.sizeIsChanging\n    }\n\n    componentWillReceiveProps(newProps: Props) {\n        if (!newProps.isRefreshing) {\n            const iframeElement = document.getElementById('builderFrame')\n            if (iframeElement) {\n                this.currentScroll =\n                    iframeElement.contentWindow.document.documentElement\n                        .scrollTop ||\n                    iframeElement.contentWindow.document.body.scrollTop\n            }\n        }\n\n        if (newProps.pagesStructure) {\n            if (newProps.refreshedGlobalStructure) {\n                this.props.saveElementsStructureFromBuilder(\n                    ...newProps.refreshedGlobalStructure\n                )\n                return\n            }\n\n            if (\n                newProps.currentPageDraftStructure &&\n                newProps.pageTemplateDraftStructure\n            ) {\n                if (newProps.refreshedPageStructure) {\n                    this.props.saveElementsStructureFromBuilder(\n                        ...newProps.refreshedPageStructure\n                    )\n                    return\n                }\n\n                const newHead = newProps.pageTemplateDraftStructure\n                    .filter(itemInn =>\n                        isEqual(itemInn.path, ['element_01', 'element_0'])\n                    )\n                    .map(itemInn => {\n                        return (\n                            <BuilderElement\n                                key={itemInn.id}\n                                structure={newProps.pageTemplateDraftStructure}\n                                element={itemInn}\n                                hoveredElementId={newProps.hoveredElementId}\n                                document={document}\n                                pluginsPathArray={[]}\n                                parentPluginProps={newProps.refinedProperties}\n                                isHead\n                                currentResource={newProps.pageTemplateId}\n                            />\n                        )\n                    })\n\n                const newHeadString =\n                    renderToString(\n                        <Provider store={store}>{newHead}</Provider>\n                    ) || ''\n                if (\n                    newHeadString !== this.state.headValue ||\n                    newProps.shouldRefresh\n                ) {\n                    this.props.markRefreshing(true)\n                    this.props.markShouldRefreshing()\n                    this.setState({ headValue: newHeadString })\n                }\n            }\n        }\n    }\n    prod = process.env.NODE_ENV !== 'development'\n\n    render() {\n        let frame = null\n\n        if (\n            this.props.pageTemplateDraftStructure &&\n            this.props.currentPageDraftStructure\n        ) {\n            const { props } = this\n            const zoom = props.zoom / 100\n            const size = 100 / zoom + '%'\n            const structure = props.pageTemplateDraftStructure\n\n            const bodyProps = cloneDeep(props.bodyValues.properties)\n            const bodyStyle = props.bodyValues.style\n            if (typeof bodyStyle === 'string') bodyProps.style = bodyStyle\n\n            const htmlProps = cloneDeep(props.htmlValues.properties)\n            const htmlStyle = props.htmlValues.style\n            if (typeof htmlStyle === 'string') htmlProps.style = htmlStyle\n            // const iframeElement = document.getElementById('builderFrame')\n\n            // if (this.props.isRefreshing && iframeElement) {\n            //     this.setState({\n            //         currentScroll:\n            //             iframeElement.contentWindow.document.documentElement\n            //                 .scrollTop ||\n            //             iframeElement.contentWindow.document.body.scrollTop,\n            //     })\n            // }\n            frame = this.props.isRefreshing ? (\n                <StopRefresh />\n            ) : (\n                <>\n                    <Frame\n                        id=\"builderFrame\"\n                        key={1}\n                        style={{\n                            width: size,\n                            height: size,\n                            msZoom: zoom,\n                            MozTransform: `scale(${zoom})`,\n                            MozTransformOrigin: '0 0',\n                            OTransform: `scale(${zoom})`,\n                            OTransformOrigin: '0 0',\n                            WebkitTransform: `scale(${zoom})`,\n                            WebkitTransformOrigin: '0 0',\n                            border: 'none',\n                            margin: '0',\n                            padding: '0',\n                            position: 'absolute',\n                        }}\n                        bodyProps={bodyProps}\n                        htmlProps={htmlProps}\n                        base={`  <base href=\"http${\n                            this.prod ? 's' : ''\n                        }://live.websiter.${this.prod ? 'dev' : 'test:5000'}/${\n                            this.props.currentWebsiteObject.domain\n                        }/\" />  `}\n                        initialContent={\n                            systemClassMenu +\n                            ' ' +\n                            systemClassDrawer +\n                            ' ' +\n                            '<link rel=\"stylesheet\" type=\"text/css\" charset=\"UTF-8\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css\" /><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css\" />' +\n                            this.state.headValue\n                            // +\n                            // ' <script src=\"src/tinymce_5.1.5.zip\"></script>'\n                        }\n                    >\n                        <FrameContextConsumer>\n                            {({ document, window }) => {\n                                return structure\n                                    ? structure\n                                          .filter(itemInn =>\n                                              isEqual(itemInn.path, [\n                                                  'element_01',\n                                                  'element_1',\n                                              ])\n                                          )\n                                          .map(itemInn => (\n                                              <BuilderElement\n                                                  key={itemInn.id}\n                                                  structure={structure}\n                                                  element={itemInn}\n                                                  hoveredElementId={\n                                                      props.hoveredElementId\n                                                  }\n                                                  document={document}\n                                                  pluginsPathArray={[]}\n                                                  parentPluginProps={\n                                                      props.refinedProperties\n                                                  }\n                                                  currentResource={\n                                                      props.pageTemplateId\n                                                  }\n                                              />\n                                          ))\n                                    : null\n                            }}\n                        </FrameContextConsumer>\n                        <HoveredBoxHighlight />\n                    </Frame>\n                </>\n            )\n        }\n\n        return (\n            <main\n                data-testid=\"siteBuilderLayoutMain\"\n                className={classes.Content}\n            >\n                {frame}\n                <Overlay />\n            </main>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const refinedProperties = refinePropertiesFromCMS(state.mD)\n    let bodyRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    let htmlRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    if (state.mD.pageTemplateFSBDraft) {\n        bodyRawValues = state.mD.pageTemplateFSBDraft.values.element_1\n        htmlRawValues = state.mD.pageTemplateFSBDraft.values.element_01\n    }\n\n    const bodyValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: bodyRawValues,\n        }),\n        style: bodyRawValues.style,\n    }\n\n    const htmlValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: htmlRawValues,\n        }),\n        style: htmlRawValues.style,\n    }\n\n    const currentPageDraftStructureGlobalSettings = state.mD\n        .globalSettingsPageDraft\n        ? state.mD.globalSettingsPageDraft.structure\n        : null\n    const pageTemplateDraftStructureGlobalSettings = state.mD\n        .globalSettingsTemplateDraft\n        ? state.mD.globalSettingsTemplateDraft.structure\n        : null\n\n    const currentPageDraftStructure = state.mD.currentPageFSBDraft\n        ? state.mD.currentPageFSBDraft.structure\n        : null\n    const pageTemplateDraftStructure = state.mD.pageTemplateFSBDraft\n        ? state.mD.pageTemplateFSBDraft.structure\n        : null\n\n    const refreshedPageStructure = refreshPageStructure(\n        state.mD,\n        state.mD.currentPageFSBDraft || null,\n        state.mD.pageTemplateFSBDraft || null,\n        false,\n        state.mD.pageTemplateFSBId\n    )\n    const refreshedGlobalStructure = refreshPageStructure(\n        state.mD,\n        state.mD.globalSettingsPageDraft || null,\n        state.mD.globalSettingsTemplateDraft || null,\n        true,\n        state.mD.globalSettingsTemplateId\n    )\n\n    return {\n        currentPageId: state.mD.currentPageId,\n        zoom: state.pageZoom,\n        isRefreshing: state.isRefreshing,\n        shouldRefresh: state.shouldRefresh,\n        pagesStructure: state.mD.pagesStructure,\n        currentPageDraftStructure,\n        pageTemplateDraftStructure,\n        currentPageDraftStructureGlobalSettings,\n        pageTemplateDraftStructureGlobalSettings,\n        refinedProperties,\n        bodyValues,\n        htmlValues,\n        pageTemplateId: state.mD.pageTemplateFSBId,\n        sizeIsChanging: state.sizeIsChanging,\n        refreshedGlobalStructure,\n        refreshedPageStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        markRefreshing: refreshing =>\n            dispatch(actions.markRefreshing(refreshing)),\n        saveHoveredElementRect: (id, size) =>\n            dispatch(actions.saveHoveredElementRect(id, size)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n        saveElementsStructure: (type, structure) =>\n            dispatch(actions.saveElementsStructure(type, structure)),\n        saveElementsStructureFromBuilder: (type, structure, globalSettings) =>\n            dispatch(\n                actions.saveElementsStructureFromBuilder(\n                    type,\n                    structure,\n                    globalSettings\n                )\n            ),\n    }\n}\n\nconst StopRefresh = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(props => {\n    const span = useRef(null)\n    useEffect(() => {\n        if (span.current) {\n            props.markRefreshing(false)\n        }\n    })\n    return <span ref={span} style={{ display: 'none' }} />\n})\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SiteBuilder)\n","import React, { memo, useCallback } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../store/actions'\nimport AdvancedBar from '../../containers/AdvancedBar/AdvancedBar'\nimport SiteBuilder from '../../containers/SiteBuilder/SiteBuilder'\nimport ReserveWebsite from '../ReserveWebsite/ReserveWebsite'\n\nimport { DndProvider } from 'react-dnd'\nimport MultiBackend from 'react-dnd-multi-backend'\nimport HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch'\nimport { useDragLayer } from 'react-dnd'\nimport throttle from 'lodash/throttle'\nimport { Helmet } from 'react-helmet'\n\ntype Props = {}\n\nconst SiteBuilderLayout = (props: Props) => {\n    const prod = process.env.NODE_ENV !== 'development'\n\n    return (\n        <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n            <Helmet>\n                <base\n                    href={`http${prod ? 's' : ''}://live.websiter.${\n                        prod ? 'dev' : 'test:5000'\n                    }`}\n                />\n            </Helmet>\n            {props.userObject ? (\n                <div\n                    style={{\n                        flexDirection: 'column',\n                        display: 'flex',\n                        flexWrap: 'nowrap',\n                        height: '100%',\n                    }}\n                >\n                    <SiteBuilder />\n                    <AdvancedBar />\n                </div>\n            ) : (\n                'Loading...'\n            )}\n            <ReserveWebsite />\n            <ResizeLayer />\n        </DndProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        userObject: state.mD.userObject,\n    }\n}\n\nexport default connect(mapStateToProps)(SiteBuilderLayout)\n\nconst ResizeLayerInn = props => {\n    const { item, currentOffset } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        currentOffset: monitor.getDifferenceFromInitialOffset(),\n    }))\n    const delayedChange = useCallback(\n        throttle(initiator => props.changeBarSize(initiator), 50),\n        []\n    )\n    if (item) {\n        if (item.type === 'barSizes') {\n            const value =\n                item.id === 'height'\n                    ? item.startValue - currentOffset.y\n                    : item.startValue + currentOffset.x\n\n            delayedChange({ key: item.id, value })\n        }\n    }\n    return <div />\n}\n\nconst mapDispatchToPropsResize = dispatch => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n    }\n}\n\nconst ResizeLayer = connect(\n    null,\n    mapDispatchToPropsResize\n)(memo(ResizeLayerInn, () => true))\n","import type { requiredRightsType } from '../store/reducer/reducer'\n\nexport default (requiredRights?: requiredRightsType, noShowAlert?: boolean) => (\n    dispatch,\n    getState\n) => {\n    if (sessionStorage.getItem('tryWebsiter')) return true\n    const { mD } = getState()\n\n    if (requiredRights && !mD.tryWebsiter) {\n        if (requiredRights.length === 0) return true\n        let website = mD.currentWebsiteObject\n        if (!website) {\n            if (!noShowAlert) alert('No website.')\n            return false\n        }\n        const account = website.sharing.find(item => item.userId === mD.userId)\n        if (!account) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n        let allow = false\n        requiredRights.forEach(item => {\n            if (account.rights.includes(item)) allow = true\n        })\n        if (!allow) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n    }\n    return true\n}\n","import React from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport { connect } from 'react-redux'\n\nimport classes from './SmallButton.module.css'\nimport Svg from '../../../Svg/Svg'\nimport checkUserRights from '../../../../utils/checkUserRights'\n\ntype Props = {\n    title?: string,\n    buttonClicked?: Function,\n    mouseDown?: Function,\n    icon?: string,\n    inline?: boolean,\n    tooltip?: string,\n    disabled?: boolean,\n    requiredRights?: Array<string>,\n}\n\nexport const SmallButton = (props: Props) => {\n    const handleButtonClick = () => {\n        if (props.buttonClicked) {\n            if (props.requiredRights)\n                if (!props.checkUserRights(props.requiredRights || [])) {\n                    return\n                }\n            if (props.buttonClicked) props.buttonClicked()\n        }\n    }\n    return (\n        <>\n            <button\n                data-tip={\n                    !props.tooltipsOff && props.tooltip ? props.tooltip : ''\n                }\n                data-testid=\"MyButton\"\n                className={`${\n                    props.disabled ? classes.ButtonDisabled : classes.Button\n                } ${props.inline ? classes.Inline : ''}`}\n                onClick={handleButtonClick}\n                onMouseDown={props.mouseDown}\n                disabled={props.disabled}\n                style={props.style}\n            >\n                <table className={classes.Table}>\n                    <tbody>\n                        <tr>\n                            <td className={classes.Cell}>\n                                {props.icon ? (\n                                    <Svg\n                                        icon={props.icon}\n                                        className={classes.Svg}\n                                    />\n                                ) : null}\n                            </td>\n                            <td className={classes.Cell}>{props.title}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </button>\n            {!props.tooltipsOff && props.tooltip ? (\n                <ReactTooltip\n                    effect=\"solid\"\n                    multiline={true}\n                    place=\"top\"\n                    className={classes.Tooltip}\n                    delayShow={250}\n                    overridePosition={tooltipOverwritePositions}\n                />\n            ) : null}\n        </>\n    )\n}\n\nexport const tooltipOverwritePositions = (\n    position,\n    currentEvent,\n    currentTarget,\n    node,\n    place,\n    desiredPlace,\n    effect,\n    offset\n) => {\n    const width = window.innerWidth\n    let buttonRect, tooltipRect\n    if (currentEvent.target) {\n        buttonRect = currentTarget.getBoundingClientRect()\n        tooltipRect = node.getBoundingClientRect()\n    } else {\n        buttonRect = currentEvent.getBoundingClientRect()\n        tooltipRect = currentTarget.getBoundingClientRect()\n    }\n\n    let top, left\n    if (buttonRect.top - (tooltipRect.bottom - tooltipRect.top) >= 0) {\n        top = buttonRect.top - (tooltipRect.bottom - tooltipRect.top)\n    } else {\n        top = buttonRect.bottom\n    }\n\n    if (buttonRect.left + (tooltipRect.right - tooltipRect.left) <= width) {\n        left = buttonRect.left\n    } else {\n        left = width - (tooltipRect.right - tooltipRect.left)\n    }\n    return { left, top }\n}\n\nconst mapStateToProps = state => {\n    return {\n        tooltipsOff: state.mD.tooltipsOff,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SmallButton)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"AdvancedBar_Content__2eu8X\",\"Container\":\"AdvancedBar_Container__ouxly\",\"LastContainer\":\"AdvancedBar_LastContainer__2gmGl\",\"reactTabs\":\"AdvancedBar_reactTabs__PeMUE\",\"reactTabsTabPanelSelected\":\"AdvancedBar_reactTabsTabPanelSelected__3Z5LQ\",\"reactTabsTab\":\"AdvancedBar_reactTabsTab__1i-7U\",\"TabSelected\":\"AdvancedBar_TabSelected__2gsJ3\",\"mainContainer\":\"AdvancedBar_mainContainer__3Igr9\",\"heightControll\":\"AdvancedBar_heightControll__kZHcw\",\"widthControll\":\"AdvancedBar_widthControll__1TDc2\",\"TabList\":\"AdvancedBar_TabList__DeMU7\"};","import React, { memo, useEffect } from 'react'\n\nimport * as classes from './SizeDragController.module.css'\nimport { useDrag } from 'react-dnd'\nimport * as actions from '../../../store/actions'\nimport { connect } from 'react-redux'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    addClass: string,\n    changed: (value: number) => {},\n    vertical?: boolean,\n    startValue: number,\n    barSizes?: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nexport const SizeDragController = (props: Props) => {\n    const [, drag, preview] = useDrag({\n        item: {\n            id: props.type,\n            type: 'barSizes',\n            startValue: props.startValue,\n        },\n        begin: item => {\n            props.setSizeIsChanging(true)\n        },\n        end: item => {\n            props.setSizeIsChanging(false)\n        },\n    })\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true })\n    }, [])\n\n    return (\n        <div\n            ref={drag}\n            className={[classes.SectionHeight, props.addClass].join(' ')}\n            data-testid=\"sizeDragController\"\n        >\n            {!props.vertical ? (\n                <div className={classes.InnerDiv}>\n                    {/* <div className={classes.touchDrag} /> */}\n                </div>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSizeIsChanging: value => dispatch(actions.setSizeIsChanging(value)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(\n    memo(\n        SizeDragController,\n        (prevProps, nextProps) =>\n            prevProps.type === nextProps.type &&\n            prevProps.startValue === nextProps.startValue\n    )\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"ResourcesTree_rst__virtualScrollOverride__14H_n\",\"ReactVirtualized__Grid__innerScrollContainer\":\"ResourcesTree_ReactVirtualized__Grid__innerScrollContainer__3oB7v\",\"rst__rtl\":\"ResourcesTree_rst__rtl__2v8si\",\"ReactVirtualized__Grid\":\"ResourcesTree_ReactVirtualized__Grid__2itHy\",\"rst__node\":\"ResourcesTree_rst__node__1UngL\",\"rst__nodeContent\":\"ResourcesTree_rst__nodeContent__T6EAQ\",\"rst__lineBlock\":\"ResourcesTree_rst__lineBlock__WqdmT\",\"rst__absoluteLineBlock\":\"ResourcesTree_rst__absoluteLineBlock__kLCAo\",\"rst__lineHalfHorizontalRight\":\"ResourcesTree_rst__lineHalfHorizontalRight__3y3sx\",\"rst__lineFullVertical\":\"ResourcesTree_rst__lineFullVertical__3Ymv5\",\"rst__lineHalfVerticalTop\":\"ResourcesTree_rst__lineHalfVerticalTop__3t0z_\",\"rst__lineHalfVerticalBottom\":\"ResourcesTree_rst__lineHalfVerticalBottom__2EWSD\",\"rst__highlightLineVertical\":\"ResourcesTree_rst__highlightLineVertical__2bs3i\",\"arrow-pulse\":\"ResourcesTree_arrow-pulse__33hBy\",\"rst__highlightTopLeftCorner\":\"ResourcesTree_rst__highlightTopLeftCorner__lPAZc\",\"rst__highlightBottomLeftCorner\":\"ResourcesTree_rst__highlightBottomLeftCorner__25QNo\",\"rst__rowWrapper\":\"ResourcesTree_rst__rowWrapper__3XsZ3\",\"rst__row\":\"ResourcesTree_rst__row__bcARd\",\"rst__rowLandingPad\":\"ResourcesTree_rst__rowLandingPad__1f07p\",\"rst__rowCancelPad\":\"ResourcesTree_rst__rowCancelPad__FcoMC\",\"rst__rowSearchMatch\":\"ResourcesTree_rst__rowSearchMatch__1dEhr\",\"rst__rowSearchFocus\":\"ResourcesTree_rst__rowSearchFocus__hn8oU\",\"rst__rowContents\":\"ResourcesTree_rst__rowContents__TJoCP\",\"rst__rowLabel\":\"ResourcesTree_rst__rowLabel__3YFrc\",\"rst__rowToolbar\":\"ResourcesTree_rst__rowToolbar__19RS7\",\"rst__moveHandle\":\"ResourcesTree_rst__moveHandle__3rWVj\",\"rst__toolbarButton\":\"ResourcesTree_rst__toolbarButton__evOf_\",\"rst__rowContentsDragDisabled\":\"ResourcesTree_rst__rowContentsDragDisabled__1EWBY\",\"rst__loadingHandle\":\"ResourcesTree_rst__loadingHandle__2Zu5M\",\"rst__loadingCircle\":\"ResourcesTree_rst__loadingCircle__1_Ncp\",\"rst__loadingCirclePoint\":\"ResourcesTree_rst__loadingCirclePoint__3Iqw0\",\"pointFade\":\"ResourcesTree_pointFade__DIUx5\",\"rst__rowTitle\":\"ResourcesTree_rst__rowTitle__XvyLR\",\"rst__rowTitleWithSubtitle\":\"ResourcesTree_rst__rowTitleWithSubtitle__FsOAp\",\"rst__rowSubtitle\":\"ResourcesTree_rst__rowSubtitle__33HgD\",\"rst__collapseButton\":\"ResourcesTree_rst__collapseButton__3ZMhA\",\"rst__expandButton\":\"ResourcesTree_rst__expandButton__2IdqU\",\"rst__lineChildren\":\"ResourcesTree_rst__lineChildren__3e7wI\",\"rst__placeholder\":\"ResourcesTree_rst__placeholder__3z4Y9\",\"rst__placeholderLandingPad\":\"ResourcesTree_rst__placeholderLandingPad__33C1B\",\"rst__placeholderCancelPad\":\"ResourcesTree_rst__placeholderCancelPad__1dnkd\",\"ReactVirtualized__Table__headerRow\":\"ResourcesTree_ReactVirtualized__Table__headerRow__2ItiE\",\"ReactVirtualized__Table__row\":\"ResourcesTree_ReactVirtualized__Table__row__3Dbho\",\"ReactVirtualized__Table__headerTruncatedText\":\"ResourcesTree_ReactVirtualized__Table__headerTruncatedText__Cw5HL\",\"ReactVirtualized__Table__headerColumn\":\"ResourcesTree_ReactVirtualized__Table__headerColumn__14jIY\",\"ReactVirtualized__Table__rowColumn\":\"ResourcesTree_ReactVirtualized__Table__rowColumn__3wE69\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderColumn__3a1cB\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1pMeg\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIcon__3O5xb\",\"Hovered\":\"ResourcesTree_Hovered__2-yOq\",\"Chosen\":\"ResourcesTree_Chosen__3cVK7\",\"ChosenBlur\":\"ResourcesTree_ChosenBlur__2uMjy\",\"ChosenGreen\":\"ResourcesTree_ChosenGreen__1_oSl\",\"IconsContainer\":\"ResourcesTree_IconsContainer__y_KXp\",\"IconsContainerPage\":\"ResourcesTree_IconsContainerPage__1OwQJ\",\"IconsContainerNotPage\":\"ResourcesTree_IconsContainerNotPage__1isHi\",\"TreeContainer\":\"ResourcesTree_TreeContainer__1uytI\",\"selectContainer\":\"ResourcesTree_selectContainer__JxR_e\",\"Container\":\"ResourcesTree_Container__1Fntm\"};","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions/index'\nimport AceEditor from 'react-ace'\n\nimport ace from 'ace-builds'\nimport 'ace-builds/src-noconflict/mode-css'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/mode-javascript'\nimport 'ace-builds/src-noconflict/mode-text'\nimport 'ace-builds/src-noconflict/mode-html'\nimport 'ace-builds/src-noconflict/theme-github'\nimport 'ace-builds/src-min-noconflict/ext-searchbox'\nimport 'ace-builds/src-min-noconflict/ext-language_tools'\nimport checkUserRights from '../../utils/checkUserRights'\n\n// import beautify from 'ace-builds/src-min-noconflict/ext-beautify'\nimport beautify_js, { css as beautify_css } from 'js-beautify'\nimport Select from '../UI/Select/Select'\n\nimport type { elementType } from '../../../../store/reducer/reducer'\n\nace.config.set('basePath', '/ace-builds/src-noconflict')\nace.config.set('modePath', '/ace-builds/src-noconflict')\nace.config.set('themePath', '/ace-builds/src-noconflict')\nace.config.set('workerPath', '/ace-builds/src-noconflict')\n\n// var editor = ace.edit('editor') // get reference to editor\n\ntype Props = {\n    currentElement: $PropertyType<elementType, 'id'>,\n    elementValue: $PropertyType<elementType, 'propertiesString'>,\n    elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n    editorMode: 'json' | 'css',\n    handleChange: (value: string, cursorPosition: {}) => {},\n    readOnly?: boolean,\n}\n\ntype State = {\n    value: string,\n    updateValue: boolean,\n    isBeatifying: boolean,\n}\n\nclass Editor extends Component<Props, State> {\n    onChange = value => {\n        if (!this.props.checkUserRights(this.props.requiredRights)) {\n            return\n        }\n        this.setState({\n            value,\n            updateValue: false,\n        })\n        if (this.state.isBeatifying) return\n        setTimeout(\n            () =>\n                this.props.handleChange(\n                    value,\n                    this.editor.getSelection().getCursor()\n                ),\n            10\n        )\n    }\n\n    handleSelectProperty = selectedOption => {\n        if (!selectedOption) return\n        let obj\n        try {\n            obj = JSON.parse(this.state.value)\n        } catch (e) {\n            obj = null\n        }\n        if (obj) {\n            obj[selectedOption.label] = selectedOption.value\n            const resultString = JSON.stringify(obj)\n            this.onChange(resultString)\n        }\n        this.makeCodePrettier()\n    }\n\n    makeCodePrettier = () => {\n        setTimeout(() => {\n            this.editor.moveCursorToPosition(\n                this.props.elementCurrentCursor || {\n                    column: 0,\n                    row: 0,\n                }\n            )\n            if (!this.state.updateValue) {\n                this.setState({ isBeatifying: true })\n                if (this.props.editorMode === 'json') {\n                    let obj\n                    try {\n                        obj = JSON.parse(this.state.value)\n                    } catch (e) {\n                        obj = null\n                    }\n                    if (obj) {\n                        this.setState({\n                            value: JSON.stringify(obj, null, '\\t'),\n                            updateValue: false,\n                        })\n                    }\n                } else {\n                    // beautify.beautify(this.editor.session)\n                    if (this.props.editorMode === 'css') {\n                        const newValue = beautify_css(this.state.value)\n                        this.setState({ value: newValue })\n                    } else if (this.props.editorMode === 'javascript') {\n                        const newValue = beautify_js(this.state.value)\n                        this.setState({ value: newValue })\n                    }\n                }\n                this.setState({ isBeatifying: false })\n            }\n        }, 10)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { props } = this\n        if (\n            prevState.updateValue === false &&\n            this.state.updateValue === true\n        ) {\n        } else {\n            if (\n                props.currentElement !== prevProps.currentElement ||\n                props.currentResource !== prevProps.currentResource ||\n                this.state.updateValue ||\n                props.editorMode !== prevProps.editorMode\n            ) {\n                if (!props.currentElement) {\n                    this.setState({\n                        value: '',\n                        updateValue: false,\n                    })\n                } else {\n                    this.setState({\n                        value: props.elementValue,\n                        updateValue: false,\n                    })\n                    this.makeCodePrettier()\n                }\n            }\n        }\n    }\n    editor\n    componentDidMount() {\n        this.editor = this.refs.aceEditor.editor\n        setInterval(() => {\n            this.editor.resize()\n        }, 1000)\n        this.setState({\n            value: this.props.elementValue,\n            updateValue: false,\n        })\n        this.makeCodePrettier()\n    }\n    constructor(props) {\n        super(props)\n        this.state = { value: '', updateValue: false, isBeatifying: false }\n        this.onChange = this.onChange.bind(this)\n    }\n\n    render() {\n        return (\n            <>\n                {this.props.suggestOptions ? (\n                    <div>\n                        <Select\n                            placeholder=\"Possible properties\"\n                            onChange={this.handleSelectProperty}\n                            options={this.props.suggestOptions}\n                            isSearchable\n                            requiredRights={this.props.requiredRights}\n                        />\n                    </div>\n                ) : null}\n                <AceEditor\n                    ref=\"aceEditor\"\n                    value={this.state.value}\n                    mode={this.props.editorMode}\n                    readOnly={this.props.readOnly}\n                    theme=\"github\"\n                    onChange={this.onChange}\n                    name={this.props.name}\n                    fontSize={14}\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    style={{ flex: '1', width: 'auto', height: 'auto' }}\n                    placeholder=\"Put your code here\"\n                    setOptions={{\n                        enableBasicAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableLiveAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableSnippets: this.props.editorMode !== 'text',\n                        showLineNumbers: this.props.editorMode !== 'text',\n                        tabSize: 2,\n                        useWorker: false,\n                        // setAutoScrollEditorIntoView: true,\n                    }}\n                    // commands={[\n                    //     {\n                    //         name: 'undo',\n                    //         bindKey: { win: 'Ctrl-z', mac: 'Command-z' },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.undoResourceVersion()\n                    //         },\n                    //     },\n                    //     {\n                    //         name: 'redo',\n                    //         bindKey: {\n                    //             win: 'Ctrl-Shift-z',\n                    //             mac: 'Command-Shift-z',\n                    //         },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.redoResourceVersion()\n                    //         },\n                    //     },\n                    // ]}\n                />\n            </>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        // undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        // redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps,\n    null,\n    { forwardRef: true }\n)(Editor)\n","import React from 'react'\nimport SelectComponent from 'react-select'\nimport { connect } from 'react-redux'\n\nimport classes from './Select.module.css'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    startValue?: any,\n    title?: string,\n    onChange: Function,\n    datatestid?: string,\n    styles?: {},\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n    default: number,\n    isSearchable?: boolean,\n    isClearable?: boolean,\n    placeholder?: String,\n    requiredRights?: Array<string>,\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst Select = (props: Props) => {\n    const handleChange = option => {\n        if (!props.checkUserRights(props.requiredRights || [])) {\n            return\n        }\n        props.onChange(option)\n    }\n\n    const customStyles = {\n        menu: (provided: {}, state: {}) => ({\n            ...provided,\n            width: '100%',\n            top: 'auto',\n            zIndex: '100000',\n            margin: '0px',\n        }),\n        selectContainer: (provided: {}) => ({\n            ...provided,\n            width: '200px',\n            top: 'auto',\n        }),\n        clearIndicator: provided => ({\n            ...provided,\n            padding: '0px',\n        }),\n        dropdownIndicator: provided => ({\n            ...provided,\n            padding: '0px 5px',\n        }),\n        control: provided => ({\n            ...provided,\n            minHeight: 'auto',\n        }),\n    }\n\n    return (\n        <div className={classes.Div}>\n            {props.title}\n            <SelectComponent\n                styles={customStyles}\n                value={props.options[props.default] || 0}\n                isClearable={props.isClearable}\n                isSearchable={props.isSearchable}\n                onChange={handleChange}\n                options={props.options}\n                placeholder={props.placeholder}\n            />\n        </div>\n    )\n}\n\nSelect.defaultProps = {\n    default: 0,\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(Select)\n","/* eslint-disable */\nexport function _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n\n            return target\n        }\n\n    return _extends.apply(this, arguments)\n}\n\nexport function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n\n    return target\n}\n\nexport function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n\n    var key, i\n\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n\n    return target\n}\nexport function classnames() {\n    for (\n        var _len = arguments.length, classes = new Array(_len), _key = 0;\n        _key < _len;\n        _key++\n    ) {\n        classes[_key] = arguments[_key]\n    }\n\n    // Use Boolean constructor as a filter callback\n    // Allows for loose type truthy/falsey checks\n    // Boolean(\"\") === false;\n    // Boolean(false) === false;\n    // Boolean(undefined) === false;\n    // Boolean(null) === false;\n    // Boolean(0) === false;\n    // Boolean(\"classname\") === true;\n    return classes.filter(Boolean).join(' ')\n}\nexport function isDescendant(older, younger) {\n    return (\n        !!older.children &&\n        typeof older.children !== 'function' &&\n        older.children.some(function(child) {\n            return child === younger || isDescendant(child, younger)\n        })\n    )\n}\nexport function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n\n    return obj\n}\nexport function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        var ownKeys = Object.keys(source)\n\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(\n                        source,\n                        sym\n                    ).enumerable\n                })\n            )\n        }\n\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key])\n        })\n    }\n\n    return target\n}\nexport function _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nexport function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n            arr2[i] = arr[i]\n\n        return arr2\n    }\n}\n\nexport function _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nexport function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst OverlayOnSizeIsChanging = props =>\n    props.sizeIsChanging ? (\n        <div\n            style={{\n                width: '100%',\n                height: '100%',\n                opacity: '0',\n                position: 'absolute',\n            }}\n        />\n    ) : null\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nexport default connect(mapStateToProps)(OverlayOnSizeIsChanging)\n","import React, { useState, forwardRef, useEffect, useRef } from 'react'\nimport Autocomplete from 'react-autocomplete'\n\nimport classes from './InspectorValue.module.css'\n\ntype Props = {\n    value?: string,\n    changed: Function,\n    datatestid?: string,\n    blur?: Function,\n    focus?: Function,\n    allowEmpty?: boolean,\n    withState?: boolean,\n    maxLength?: number,\n    maxWidth?: string,\n}\n\n// $FlowFixMe\nexport const InspectorValue = forwardRef((props: Props, parentRef) => {\n    const input = useRef(null)\n    const [state, setState] = useState({\n        active: false,\n        value: props.value,\n        startValue: props.value,\n    })\n    useEffect(() => {\n        setState({ ...state, value: props.value, startValue: props.value })\n    }, [props.value])\n\n    const matchStateToTerm = (items, value) => {\n        return (\n            items.name.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n            items.abbr.toLowerCase().indexOf(value.toLowerCase()) !== -1\n        )\n    }\n\n    const parentPropsBlur = props.blur\n    const parentPropsFocus = props.focus\n    const parentPropsMaxLength = props.maxLength\n    const parentPropsMaxWidth = props.maxWidth\n    const parentPropsValue = props.value\n    const parentPropsWithState = props.withState\n\n    return (\n        <div\n            className={classes.InspectorDiv}\n            onKeyDown={e => e.stopPropagation()}\n        >\n            {props.readonly ? (\n                <span\n                    {...(props.value && props.maxLength\n                        ? props.value.length > props.maxLength\n                            ? { title: props.value }\n                            : {}\n                        : {})}\n                >\n                    {props.maxLength\n                        ? props.value\n                            ? props.value.substr(0, props.maxLength) +\n                              (props.value.length > props.maxLength\n                                  ? '...'\n                                  : '')\n                            : ''\n                        : props.value}\n                </span>\n            ) : (\n                <Autocomplete\n                    ref={input}\n                    items={props.items || []}\n                    value={props.withState ? state.value : props.value}\n                    onChange={(e, value) => {\n                        setState({ ...state, value: value })\n                        if (props.changed) {\n                            props.changed(value)\n                        }\n                    }}\n                    onSelect={value => {\n                        setState({ ...state, value: value, active: false })\n                        setTimeout(() => {\n                            if (input.current) input.current.blur()\n                        }, 50)\n                    }}\n                    shouldItemRender={matchStateToTerm}\n                    getItemValue={item => item.name}\n                    renderItem={(item, isHighlighted) => (\n                        <div\n                            className={\n                                isHighlighted ? classes.ItemHighlighted : null\n                            }\n                            key={item.abbr}\n                        >\n                            {item.name}\n                        </div>\n                    )}\n                    renderMenu={(items, value, styles) => {\n                        return (\n                            <div\n                                style={{\n                                    zIndex: 1000,\n                                    position: 'absolute',\n                                    background: 'white',\n                                    border: '1px solid #ccc',\n                                    color: '#333',\n                                    maxHeight: '100px',\n                                    overflow: 'auto',\n                                }}\n                                children={items}\n                            />\n                        )\n                    }}\n                    renderInput={(props, inputEl) => {\n                        const maxLength = parentPropsMaxLength\n\n                        const maxWidth = parentPropsMaxWidth\n                        const withState = parentPropsWithState\n                        const value = withState ? state.value : parentPropsValue\n\n                        return (\n                            <>\n                                <span\n                                    ref={parentRef}\n                                    className={classes.Span}\n                                    style={maxWidth ? { maxWidth } : {}}\n                                    onClick={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                    onFocus={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                >\n                                    {state.active\n                                        ? value\n                                        : maxLength\n                                        ? value\n                                            ? value.substr(0, maxLength) +\n                                              (value.length > maxLength\n                                                  ? '...'\n                                                  : '')\n                                            : ''\n                                        : value}\n                                </span>\n                                <input\n                                    {...(value && maxLength\n                                        ? value.length > maxLength\n                                            ? { title: value }\n                                            : {}\n                                        : {})}\n                                    {...props}\n                                    onBlur={e => {\n                                        props.onBlur(e)\n\n                                        if (parentPropsBlur) {\n                                            parentPropsBlur(e.target.value)\n                                        }\n                                        setState({\n                                            ...state,\n                                            active: false,\n                                        })\n                                    }}\n                                    onFocus={e => {\n                                        props.onBlur(e)\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    onMouseDown={e => {\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    className={\n                                        state.active\n                                            ? classes.Input\n                                            : [\n                                                  classes.Input,\n                                                  classes.InputHidden,\n                                              ].join(' ')\n                                    }\n                                    style={maxWidth ? { maxWidth } : {}}\n                                    value={\n                                        state.active\n                                            ? value\n                                            : maxLength\n                                            ? value\n                                                ? value.substr(0, maxLength) +\n                                                  (value.length > maxLength\n                                                      ? '...'\n                                                      : '')\n                                                : ''\n                                            : value\n                                    }\n                                    // onKeyDown={e => {\n                                    //     // e.stopPropagation()\n                                    //     if (\n                                    //         (e.ctrlKey && e.key === 'z') ||\n                                    //         (e.ctrlKey && e.key === 'Z')\n                                    //     )\n                                    //         e.preventDefault()\n                                    // }}\n                                />\n                            </>\n                        )\n                    }}\n                />\n            )}\n        </div>\n    )\n})\n\nexport default InspectorValue\n","import omit from 'lodash/omit'\n\n// $FlowFixMe\nexport const buildItems = (children, path, result) => {\n    const doBuildItems = (children, path) => {\n        children.forEach(element => {\n            result.push({\n                ...omit(element, [\n                    'children',\n                    'resourceDraft',\n                    'currentResource',\n                    'mode',\n                    'pluginsStructure',\n                ]),\n                path,\n            })\n            if (element.children)\n                doBuildItems(element.children, [...path, element.id])\n        })\n    }\n    doBuildItems(children, path)\n    return result\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"Properties_OlContainer__363Ba\",\"reactTabs\":\"Properties_reactTabs__1n7Tw\",\"reactTabsTabPanelSelected\":\"Properties_reactTabsTabPanelSelected__2YQhG\",\"reactTabsTab\":\"Properties_reactTabsTab__3p2jn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"FilesTree_rst__virtualScrollOverride__2zPfB\",\"ReactVirtualized__Grid__innerScrollContainer\":\"FilesTree_ReactVirtualized__Grid__innerScrollContainer__2-QLv\",\"rst__rtl\":\"FilesTree_rst__rtl__1QaYg\",\"ReactVirtualized__Grid\":\"FilesTree_ReactVirtualized__Grid__3WCin\",\"rst__node\":\"FilesTree_rst__node__1BucA\",\"rst__nodeContent\":\"FilesTree_rst__nodeContent__1Vx6z\",\"rst__lineBlock\":\"FilesTree_rst__lineBlock__1OVDj\",\"rst__absoluteLineBlock\":\"FilesTree_rst__absoluteLineBlock__1fWbt\",\"rst__lineHalfHorizontalRight\":\"FilesTree_rst__lineHalfHorizontalRight__1FhFf\",\"rst__lineFullVertical\":\"FilesTree_rst__lineFullVertical__106ef\",\"rst__lineHalfVerticalTop\":\"FilesTree_rst__lineHalfVerticalTop__FaSdr\",\"rst__lineHalfVerticalBottom\":\"FilesTree_rst__lineHalfVerticalBottom__3laM4\",\"rst__highlightLineVertical\":\"FilesTree_rst__highlightLineVertical__2xmkt\",\"arrow-pulse\":\"FilesTree_arrow-pulse__3c9kW\",\"rst__highlightTopLeftCorner\":\"FilesTree_rst__highlightTopLeftCorner__3u96X\",\"rst__highlightBottomLeftCorner\":\"FilesTree_rst__highlightBottomLeftCorner__2LBb-\",\"rst__rowWrapper\":\"FilesTree_rst__rowWrapper__TmlBB\",\"rst__row\":\"FilesTree_rst__row__24I9P\",\"rst__rowLandingPad\":\"FilesTree_rst__rowLandingPad__M7Wwz\",\"rst__rowCancelPad\":\"FilesTree_rst__rowCancelPad__1DWvZ\",\"rst__rowSearchMatch\":\"FilesTree_rst__rowSearchMatch__1R5P3\",\"rst__rowSearchFocus\":\"FilesTree_rst__rowSearchFocus__3OcV2\",\"rst__rowContents\":\"FilesTree_rst__rowContents__2rb0J\",\"rst__rowLabel\":\"FilesTree_rst__rowLabel__10aF-\",\"rst__rowToolbar\":\"FilesTree_rst__rowToolbar__3Sjn5\",\"rst__moveHandle\":\"FilesTree_rst__moveHandle__38v10\",\"rst__toolbarButton\":\"FilesTree_rst__toolbarButton__18Yni\",\"rst__rowContentsDragDisabled\":\"FilesTree_rst__rowContentsDragDisabled__3-a2-\",\"rst__loadingHandle\":\"FilesTree_rst__loadingHandle__DCv7X\",\"rst__loadingCircle\":\"FilesTree_rst__loadingCircle__2y-qD\",\"rst__loadingCirclePoint\":\"FilesTree_rst__loadingCirclePoint__1n-qD\",\"pointFade\":\"FilesTree_pointFade__TOZ39\",\"rst__rowTitle\":\"FilesTree_rst__rowTitle__2lYvX\",\"rst__rowTitleWithSubtitle\":\"FilesTree_rst__rowTitleWithSubtitle__HF5HY\",\"rst__rowSubtitle\":\"FilesTree_rst__rowSubtitle__2Izrt\",\"rst__collapseButton\":\"FilesTree_rst__collapseButton__3FVF4\",\"rst__expandButton\":\"FilesTree_rst__expandButton__3onDk\",\"rst__lineChildren\":\"FilesTree_rst__lineChildren__iWpjl\",\"rst__placeholder\":\"FilesTree_rst__placeholder__2KUYk\",\"rst__placeholderLandingPad\":\"FilesTree_rst__placeholderLandingPad__1LIQQ\",\"rst__placeholderCancelPad\":\"FilesTree_rst__placeholderCancelPad__3DIur\",\"ReactVirtualized__Table__headerRow\":\"FilesTree_ReactVirtualized__Table__headerRow__3uzao\",\"ReactVirtualized__Table__row\":\"FilesTree_ReactVirtualized__Table__row__Dtl9p\",\"ReactVirtualized__Table__headerTruncatedText\":\"FilesTree_ReactVirtualized__Table__headerTruncatedText__1g898\",\"ReactVirtualized__Table__headerColumn\":\"FilesTree_ReactVirtualized__Table__headerColumn__3SyZJ\",\"ReactVirtualized__Table__rowColumn\":\"FilesTree_ReactVirtualized__Table__rowColumn__2gE7G\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"FilesTree_ReactVirtualized__Table__sortableHeaderColumn__2UPA4\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"FilesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1uSen\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"FilesTree_ReactVirtualized__Table__sortableHeaderIcon__3VS1O\",\"Hovered\":\"FilesTree_Hovered__3IUxY\",\"Chosen\":\"FilesTree_Chosen__3K2so\",\"ChosenBlur\":\"FilesTree_ChosenBlur__24Xw9\",\"IconsContainer\":\"FilesTree_IconsContainer__13Ho9\",\"IconsContainerPage\":\"FilesTree_IconsContainerPage__2QiHO\",\"IconsContainerNotPage\":\"FilesTree_IconsContainerNotPage__1X9uD\",\"TreeContainer\":\"FilesTree_TreeContainer__3BKcR\",\"selectContainer\":\"FilesTree_selectContainer__21DWs\",\"Container\":\"FilesTree_Container__yyHP0\",\"ImageContainer\":\"FilesTree_ImageContainer__2xrj2\",\"ImageInput\":\"FilesTree_ImageInput__3Sm6j\"};","import React from 'react'\n\nimport * as classes from './TreeSearch.module.css'\nimport SmallButton from '../Buttons/SmallButton/SmallButton'\n\nimport type { State } from '../../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\ntype Props = {\n    state: State,\n    setState: Function,\n}\n\nconst handleSearchOnChange = (state, setState, e) => {\n    setState({ ...state, searchString: e.target.value })\n}\n\nconst selectPrevMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFoundCount + searchFocusIndex - 1) %\n                      searchFoundCount\n                    : searchFoundCount - 1\n                : null,\n    })\n}\n\nconst selectNextMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFocusIndex + 1) % searchFoundCount\n                    : 0\n                : null,\n    })\n}\n\nexport const TreeSearch = (props: Props) => (\n    <div className={classes.Container}>\n        <input\n            className={classes.Input}\n            type=\"text\"\n            onChange={e => handleSearchOnChange(props.state, props.setState, e)}\n        />\n        <div className={classes.Label}>\n            {props.state.searchFoundCount\n                ? props.state.searchFocusIndex + 1\n                : 0}\n            /{props.state.searchFoundCount}\n        </div>\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"></path></svg>'\n            buttonClicked={() => selectPrevMatch(props.state, props.setState)}\n            tooltip=\"Search previous\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"></path></svg>'\n            buttonClicked={() => selectNextMatch(props.state, props.setState)}\n            tooltip=\"Search next\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>'\n            buttonClicked={() =>\n                props.setState({\n                    ...props.state,\n                    searchOpen: false,\n                    searchString: '',\n                })\n            }\n            tooltip=\"Close\"\n        />\n    </div>\n)\n","import React, { useState, useEffect, memo } from 'react'\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { checkIfCapital, buildTree } from '../../../utils/basic'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport populateStructureWithPluginChildrenAndPropagating from './methods/populateStructureWithPluginChildrenAndPropagating'\nimport { searchOnHover, searchMethod, searchMethod2 } from './methods/search'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n    resourceItemIndex,\n} from '../../../utils/resourceTypeIndex'\nimport Buttons from './Buttons'\nimport OverlayOnSizeIsChanging from '../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport type {\n    resourceType,\n    initialStateType,\n    elementType,\n} from '../../../store/reducer/reducer'\nimport getBoxType from '../../../utils/getBoxType'\nimport generateButtonRules from './methods/generateButtonRules'\nimport { allModules } from '../../../utils/modulesIndex'\n\nexport type State = {\n    searchString: string,\n    searchFocusIndex: number,\n    searchFoundCount: null | number,\n    searchStringHasBeenCleared: boolean,\n    searchOpen: boolean,\n}\n\nexport type Props = {\n    resourceDraft: resourceType,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    mode: 'page' | 'plugin' | 'template',\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    chooseBox: typeof actions.chooseBox,\n    addBox: typeof actions.addBox,\n    duplicateBox: typeof actions.duplicateBox,\n    deleteBox: typeof actions.deleteBox,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n    dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    toggleFindMode: typeof actions.toggleFindMode,\n    currentBoxType:\n        | 'html'\n        | 'page'\n        | 'headBody'\n        | 'plugin'\n        | 'children'\n        | 'childrenTo'\n        | 'element'\n        | 'isCMSVariable'\n        | 'isElementFromCMSVariable'\n        | 'none',\n    searchQuery: string,\n    node: elementType,\n}\n\nconst ElementsTree = (props: Props) => {\n    const { resourceDraftStructure, structureWithPluginChildren } = props\n\n    if (!resourceDraftStructure) return null\n    let treeData = buildTree(\n        structureWithPluginChildren.map(item => ({\n            ...item,\n            itemPath: item.path,\n            mode: props.mode,\n        }))\n    )\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, resourceDraftStructure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    resourceDraftStructure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            ) {\n                if (\n                    !props.checkUserRights(\n                        props.mode === 'page' ? null : ['developer']\n                    )\n                ) {\n                    return\n                }\n            }\n            props.saveElementsStructure(\n                props.mode,\n                result,\n                resourceDraftStructure\n            )\n        }\n    }\n\n    const canDropHandle = ({ node, nextParent, prevParent }) => {\n        if (!nextParent) return false\n        if (!nextParent.itemPath) return false\n        if (nextParent.mode === 'page')\n            return (\n                nextParent.CMSVariableType &&\n                (nextParent.CMSVariableType.indexOf('propagating_') >= 0 ||\n                    nextParent.CMSVariableType === 'array')\n            )\n        if (nextParent.text) return false\n        if (nextParent.isElementFromCMSVariable) return false\n        if (nextParent.isCMSVariable || nextParent.id === 'element_02')\n            return node.isCMSVariable\n\n        // if (nextParent.mode === 'template' && nextPath[0] !== prevPath[0])\n        //     return false\n        // || nextParent.id === 'element_02'\n\n        switch (nextParent.itemPath[0]) {\n            case 'trash':\n                if (nextParent.id === 'trash') return true\n                return false\n            case 'element_02':\n                return node.isCMSVariable\n            default:\n                if (node.isCMSVariable) return false\n                if (prevParent.itemPath[0] === 'element_02') return false\n                if (nextParent.isChildren) return false\n                if (allModules.includes(nextParent.tag)) return false\n                if (\n                    checkIfCapital(nextParent.tag.charAt(0)) &&\n                    nextParent.itemPath.length !== 0 &&\n                    !nextParent.forChildren\n                )\n                    return false\n                if (\n                    nextParent.mode === 'template' &&\n                    nextParent.itemPath.length === 0\n                )\n                    return false\n                return true\n        }\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.mode === 'page') {\n            if (node.isPropagatingItem) return true\n            return false\n        }\n        if (node.itemPath[0] === 'trash' && node.itemPath.length > 1)\n            return false\n        return (\n            node.itemPath.length >\n                (node.mode === 'template' &&\n                node.itemPath[0] !== 'element_02' &&\n                node.itemPath[0] !== 'trash'\n                    ? 1\n                    : 0) && !node.childrenTo\n        )\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        mode: props.mode,\n        // itemIndex: node.itemIndex,\n    })\n\n    const onMoveNodeHandle = ({ node, treeIndex, path }) => {\n        return global.console.debug(\n            'node:',\n            node,\n            'treeIndex:',\n            treeIndex,\n            'path:',\n            path\n        )\n    }\n\n    const searchFinishCallbackHandle = matches => {\n        return\n        setState({\n            ...state,\n            searchFoundCount: matches.length,\n            searchFocusIndex:\n                matches.length > 0\n                    ? state.searchFocusIndex % matches.length\n                    : 0,\n        })\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    useEffect(() => {\n        searchOnHover(props, state, setState)\n    }, [props.hoveredElementId, props.findMode])\n\n    const [structureIds, saveStructureIds] = useState(\n        props.structureWithPluginChildren.map(item => item.id)\n    )\n\n    useEffect(() => {\n        const newStructureIds = props.structureWithPluginChildren.map(\n            item => item.id\n        )\n        const structuresAreEqual = isEqual(newStructureIds, structureIds)\n\n        if (!structuresAreEqual) {\n            props.saveElementsStructure(\n                props.mode,\n                props.structureWithPluginChildren,\n                props.resourceDraftStructure\n            )\n            saveStructureIds(newStructureIds)\n        }\n    }, [props.structureWithPluginChildren])\n\n    const currentBoxType = getBoxType(props)\n\n    const buttonRules = generateButtonRules(props, currentBoxType)\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer(props.mode + 'elements')\n        } else {\n            props.setActiveContainer(props.mode + 'elements')\n            if (e) {\n                const code = e.code\n\n                if (!props.checkUserRights(['developer'])) return\n                if (props.mode === 'page') {\n                    switch (code) {\n                        case 'KeyA':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyD':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.duplicateBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyF':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                setState({\n                                    ...state,\n                                    searchOpen: !state.searchOpen,\n                                })\n                            }\n                            break\n                        case 'KeyR':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.markShouldRefreshing(true)\n                            }\n                            break\n                        case 'KeyC':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyX':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyV':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode, 'page')\n                            }\n                            break\n                        case 'Delete':\n                            props.deleteBox(props.mode, 'page')\n                            break\n                        default:\n                            break\n                    }\n                } else {\n                    switch (code) {\n                        case 'KeyA':\n                            if (\n                                e.ctrlKey &&\n                                e.shiftKey &&\n                                buttonRules.addInside\n                            ) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'inside')\n                            } else if (e.ctrlKey && buttonRules.addNext) {\n                                e.preventDefault()\n                                props.addBox(props.mode)\n                            }\n                            break\n                        case 'KeyQ':\n                            if (e.ctrlKey && buttonRules.addText) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'text')\n                            }\n                            break\n                        case 'KeyD':\n                            if (buttonRules.duplicate) {\n                                if (e.ctrlKey && e.shiftKey) {\n                                    e.preventDefault()\n                                    props.duplicateBox(props.mode, true)\n                                } else if (e.ctrlKey) {\n                                    e.preventDefault()\n                                    props.duplicateBox(props.mode)\n                                }\n                            }\n                            break\n                        case 'KeyF':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                setState({\n                                    ...state,\n                                    searchOpen: !state.searchOpen,\n                                })\n                            }\n                            break\n                        case 'KeyR':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.markShouldRefreshing(true)\n                            }\n                            break\n                        case 'KeyC':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode)\n                            }\n                            break\n                        case 'KeyX':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode)\n                            }\n                            break\n                        case 'KeyV':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode)\n                            }\n                            break\n                        case 'Delete':\n                            if (buttonRules.delete) {\n                                e.preventDefault()\n                                if (e.shiftKey)\n                                    props.deleteBox(props.mode, true)\n                                else props.deleteBox(props.mode)\n                            }\n                            break\n                        default:\n                            break\n                    }\n                }\n            }\n        }\n    }\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <div>\n                <Buttons\n                    state={state}\n                    setState={setState}\n                    mode={props.mode}\n                    addBox={props.addBox}\n                    duplicateBox={props.duplicateBox}\n                    mergeBoxToPlugin={props.mergeBoxToPlugin}\n                    dissolvePluginToBox={props.dissolvePluginToBox}\n                    deleteBox={props.deleteBox}\n                    toggleFindMode={props.toggleFindMode}\n                    markShouldRefreshing={props.markShouldRefreshing}\n                    buttonRules={buttonRules}\n                />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    scaffoldBlockPxWidth={22}\n                    rowHeight={20}\n                    generateNodeProps={generateNodePropsHandle}\n                    isVirtualized={true}\n                    onMoveNode={onMoveNodeHandle}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={searchFinishCallbackHandle}\n                    searchMethod={props.findMode ? searchMethod2 : searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                        overflow: 'auto',\n                    }}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n            <OverlayOnSizeIsChanging />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const pluginElementsStructures = {}\n    for (let item of state.mD.pluginsStructure) {\n        let draft = getCurrentResourceValue(item.id, state.resourcesObjects)\n        pluginElementsStructures[item.id] = draft ? draft.structure : []\n    }\n    const resourceDraftStructure = state.mD[resourceDraftIndex[props.mode]]\n        ? state.mD[resourceDraftIndex[props.mode]].structure\n        : null\n\n    const currentResource = state.mD[currentIndex[props.mode]]\n    const pluginsStructure = state.mD.pluginsStructure\n    let structureWithPluginChildren = populateStructureWithPluginChildrenAndPropagating(\n        resourceDraftStructure,\n        currentResource,\n        pluginElementsStructures,\n        pluginsStructure,\n        props.mode,\n        state.mD[resourceItemIndex[props.mode]]\n    )\n\n    return {\n        hoveredElementId: -100,\n        findMode: state.findMode,\n        fromFrame: state.fromFrame,\n        // structure: state.mD[structureIndex[props.mode]].structure,\n        currentResource,\n        resourceDraftStructure,\n        pluginsStructure,\n        pluginElementsStructures,\n        structureWithPluginChildren,\n        currentBox: state.mD[resourceDraftIndex[props.mode]].currentBox,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        saveElementsStructure: (type, structure, resourceDraftStructure) =>\n            dispatch(\n                actions.saveElementsStructure(\n                    type,\n                    structure,\n                    resourceDraftStructure\n                )\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n        copyBox: (mode, withChildren) =>\n            dispatch(actions.copyBox(mode, false, withChildren)),\n        cutBox: (mode, withChildren) =>\n            dispatch(actions.copyBox(mode, true, withChildren)),\n        pasteBox: (mode, inside) => dispatch(actions.pasteBox(mode, inside)),\n        addBox: (mode, type) => dispatch(actions.addBox(mode, type)),\n        duplicateBox: (mode, withChildren) =>\n            dispatch(actions.duplicateBox(mode, withChildren)),\n        mergeBoxToPlugin: (type, onlyChildren) =>\n            dispatch(actions.mergeBoxToPlugin(type, onlyChildren)),\n        dissolvePluginToBox: type =>\n            dispatch(actions.dissolvePluginToBox(type)),\n        deleteBox: (mode, withChildren) =>\n            dispatch(actions.deleteBox(mode, withChildren)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(ElementsTree, (prevProps, nextProps) => {\n        return (\n            isEqual(\n                prevProps.pluginElementsStructures,\n                nextProps.pluginElementsStructures\n            ) &&\n            isEqual(\n                prevProps.structureWithPluginChildren,\n                nextProps.structureWithPluginChildren\n            ) &&\n            isEqual(prevProps.currentResource, nextProps.currentResource) &&\n            isEqual(prevProps.currentBox, nextProps.currentBox)\n        )\n    })\n)\n","export const allModules = [\n    'websiterMenu',\n    'parseHTML',\n    'websiterGallery',\n    'websiterDrawer',\n]\nexport const modulesPropertyNodes = {\n    websiterMenu: [\n        { tag: 'Overflow icon', id: 'overflowIcon' },\n        { tag: 'Expand icon', id: 'expandIcon' },\n    ],\n    websiterDrawer: [\n        { tag: 'Content', id: 'content' },\n        { tag: 'Handler', id: 'handler' },\n    ],\n    websiterGallery: [],\n}\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\nimport { buildItems } from '../../../../utils/pagesStructure'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport SizeDragController from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport Editor from '../../../Editor/Editor'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport OverlayOnSizeIsChanging from '../../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\n\nconst MenuItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n\n    useEffect(() => {\n        const pagesStructureWithAll = [\n            {\n                path: [],\n                all: false,\n                id: 'link',\n                generatedFrom: 'link',\n                sourceItem: true,\n                name: 'Link',\n                properties: {\n                    // url: 'http://www.logision.com/',\n                },\n                propertiesString: '',\n            },\n            {\n                path: [],\n                all: true,\n                id: 'all',\n                generatedFrom: 'all',\n                sourceItem: true,\n                name: 'All pages',\n            },\n        ]\n        if (props.mode !== 'page' && !props.element.isCMSVariable) {\n            pagesStructureWithAll.push({\n                path: [],\n                all: false,\n                id: 'variable',\n                generatedFrom: 'variable',\n                sourceItem: true,\n                name: 'Variable',\n                properties: {},\n            })\n        }\n        props.pagesStructure.forEach(element => {\n            pagesStructureWithAll.push({\n                ...element,\n                sourceItem: true,\n                all: false,\n                id: element.id,\n                generatedFrom: element.id,\n                path: ['all', ...element.path],\n            })\n            pagesStructureWithAll.push({\n                path: ['all', ...element.path, element.id],\n                all: true,\n                id: element.id + '_all',\n                generatedFrom: element.id,\n                sourceItem: true,\n                name: 'All in ' + element.name,\n            })\n        })\n        // props.pagesStructure.forEach(element => {\n        //     pagesStructureWithAll.push({\n        //         ...element,\n        //         sourceItem: true,\n        //         all: false,\n        //         id: element.id,\n        //         generatedFrom: element.id,\n        //         path: ['all', ...element.path],\n        //     })\n        //     pagesStructureWithAll.push({\n        //         path: ['all', ...element.path, element.id],\n        //         all: true,\n        //         id: element.id + '_all',\n        //         generatedFrom: element.id,\n        //         sourceItem: true,\n        //         name: 'All in ' + element.name,\n        //     })\n        // })\n        const treeDataSource = buildTree(pagesStructureWithAll)\n            .filter(item => !item.generalSettings)\n            .map(item => ({\n                ...item,\n                type: props.mode,\n            }))\n        setState({ ...state, treeDataSource })\n    }, [props.pagesStructure, props.templatesStructure])\n\n    let menuItems = props.elementValues[props.attrName] || []\n\n    menuItems = menuItems.map(item => ({\n        ...item,\n        type: props.mode,\n    }))\n    const treeData = buildTree(menuItems)\n\n    const handleChange = items => {\n        const newItems = cloneDeep(items)\n        const findNewItem = children => {\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i]\n                if (child.sourceItem) return child\n                else if (child.children.length > 0) {\n                    const newItem = findNewItem(child.children)\n                    if (newItem) return newItem\n                }\n            }\n        }\n        const newItem = findNewItem(newItems)\n\n        let newCurrentMenuId = props.elementValues.currentMenuId || 0\n        if (newItem) {\n            newItem.children = []\n            newItem.id = 'item_' + (newCurrentMenuId || 0)\n            newItem.sourceItem = false\n            newCurrentMenuId = newCurrentMenuId + 1\n        }\n\n        const saveItems = []\n        buildItems(newItems, [], saveItems)\n        const result = {\n            [props.attrName]: saveItems,\n            currentMenuId: newCurrentMenuId,\n        }\n        // if (newCurrentMenuId) result.currentMenuId = newCurrentMenuId\n        props.changeProperty(result, '')\n    }\n\n    const menuItem =\n        props.elementValues.currentMenuItem &&\n        props.elementValues[props.attrName]\n            ? props.elementValues[props.attrName].find(\n                  item => item.id === props.elementValues.currentMenuItem\n              )\n            : null\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value && props.elementValues.currentMenuItem) {\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            const newMenuItems = props.elementValues[props.attrName].map(\n                item => {\n                    if (item.id === props.elementValues.currentMenuItem) {\n                        const newItem = cloneDeep(item)\n                        newItem.propertiesString = value\n                        if (obj) {\n                            newItem.properties = obj\n                        }\n                        return newItem\n                    } else {\n                        return item\n                    }\n                }\n            )\n            props.changeProperty(props.attrName, newMenuItems, cursorPosition)\n        }\n    }\n\n    const handleDeleteItem = () => {\n        if (props.elementValues.currentMenuItem) {\n            const newMenuItems = props.elementValues[props.attrName].filter(\n                item => item.id !== props.elementValues.currentMenuItem\n            )\n            props.changeProperty(props.attrName, newMenuItems)\n        }\n    }\n\n    return props.element && props.elementValues ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n            >\n                <div>\n                    <SmallButton\n                        inline\n                        buttonClicked={handleDeleteItem}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                        tooltip=\"Delete menu item\"\n                        requiredRights={\n                            props.mode === 'page' ? ['content'] : ['developer']\n                        }\n                    />\n                </div>\n                <div className={classes.TreeContainer}>\n                    {treeData.length === 0 ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                border: '1px dashed #777',\n                                left: '20px',\n                                padding: '4px',\n                            }}\n                        >\n                            Drop menu items here\n                        </div>\n                    ) : null}\n                    <SortableTree\n                        onChange={handleChange}\n                        treeData={treeData}\n                        nodeContentRenderer={ItemRenderer}\n                        generateNodeProps={({ node }) => ({\n                            className:\n                                node.id === props.elementValues.currentMenuItem\n                                    ? [classes.Chosen]\n                                    : null,\n                        })}\n                        isVirtualized={true}\n                        onMoveNode={({ node, treeIndex, path }) => {\n                            global.console.debug(\n                                'node:',\n                                node,\n                                'treeIndex:',\n                                treeIndex,\n                                'path:',\n                                path\n                            )\n                        }}\n                        rowHeight={20}\n                        scaffoldBlockPxWidth={22}\n                        className={classes.Tree}\n                        dndType={props.attrName}\n                        canDrop={({ nextParent }) => {\n                            if (!nextParent) return true\n\n                            return (\n                                nextParent.generatedFrom !== 'variable' &&\n                                !nextParent.all\n                            )\n                        }}\n                        style={{\n                            flex: '1 1',\n                            height: 'auto !important',\n                            overflow: 'auto',\n                        }}\n                    />\n                    <OverlayOnSizeIsChanging />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    type={'width3'}\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs\n                    className={[\n                        'react-tabs',\n                        classesAdvancedBar.reactTabs,\n                        classes.MenuItemsTabs,\n                    ].join(' ')}\n                >\n                    <TabList>\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classesAdvancedBar.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Source elements\n                        </Tab>\n                        {menuItem ? (\n                            <Tab\n                                className={[\n                                    'react-tabs__tab',\n                                    classesAdvancedBar.reactTabsTab,\n                                ].join(' ')}\n                            >\n                                Item properties\n                            </Tab>\n                        ) : null}\n                    </TabList>\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classesAdvancedBar.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        <SortableTree\n                            treeData={state.treeDataSource}\n                            nodeContentRenderer={ItemRenderer}\n                            isVirtualized={true}\n                            onMoveNode={({ node, treeIndex, path }) =>\n                                global.console.debug(\n                                    'node:',\n                                    node,\n                                    'treeIndex:',\n                                    treeIndex,\n                                    'path:',\n                                    path\n                                )\n                            }\n                            rowHeight={20}\n                            scaffoldBlockPxWidth={22}\n                            canDrop={() => false}\n                            shouldCopyOnOutsideDrop={true}\n                            dndType={props.attrName}\n                            onChange={treeData =>\n                                setState({ ...state, treeDataSource: treeData })\n                            }\n                            style={{\n                                flex: '1 1',\n                                height: 'auto !important',\n                                overflow: 'auto',\n                            }}\n                        />\n                        <OverlayOnSizeIsChanging />\n                    </TabPanel>\n                    {menuItem ? (\n                        <TabPanel\n                            selectedClassName={[\n                                'react-tabs__tab-panel--selected',\n                                classesAdvancedBar.reactTabsTabPanelSelected,\n                            ].join(' ')}\n                        >\n                            <Editor\n                                currentElement={\n                                    props.elementValues.currentMenuItem\n                                }\n                                elementValue={menuItem.propertiesString}\n                                elementCurrentCursor={\n                                    props.elementValues.cursorPosition\n                                }\n                                editorMode=\"json\"\n                                handleChange={hanglePropertiesChange}\n                                name=\"editorMenuItems\"\n                            />\n                        </TabPanel>\n                    ) : null}\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        pagesStructure: state.mD.pagesStructure,\n        templatesStructure: state.mD.templatesStructure,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuItems)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"SmallButton_Button__2auv6\",\"ButtonDisabled\":\"SmallButton_ButtonDisabled__8lcil\",\"Inline\":\"SmallButton_Inline__2j7Md\",\"Table\":\"SmallButton_Table__1QigA\",\"Cell\":\"SmallButton_Cell__1cD_6\",\"Svg\":\"SmallButton_Svg__3X4Wp\",\"Tooltip\":\"SmallButton_Tooltip__3GG4i\"};","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nvar doc = void 0\nvar win = void 0\nif (typeof document !== 'undefined') {\n    doc = document\n}\nif (typeof window !== 'undefined') {\n    win = window\n}\n\nvar FrameContext = (exports.FrameContext = _react2.default.createContext({\n    document: doc,\n    window: win,\n}))\n\nvar FrameContextProvider = FrameContext.Provider,\n    FrameContextConsumer = FrameContext.Consumer\nexports.FrameContextProvider = FrameContextProvider\nexports.FrameContextConsumer = FrameContextConsumer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SectionHeight\":\"SizeDragController_SectionHeight__2xHTI\",\"InnerDiv\":\"SizeDragController_InnerDiv__3XbGX\",\"touchDrag\":\"SizeDragController_touchDrag__32PQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectorDiv\":\"InspectorValue_InspectorDiv__3NoW1\",\"Input\":\"InspectorValue_Input__3jg9o\",\"InputHidden\":\"InspectorValue_InputHidden__20aPX\",\"Span\":\"InspectorValue_Span__2r1SY\",\"ItemHighlighted\":\"InspectorValue_ItemHighlighted__10tLg\",\"DropDown\":\"InspectorValue_DropDown__12yME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TreeSearch_Container__gqL_q\",\"Input\":\"TreeSearch_Input__1fDdy\",\"Label\":\"TreeSearch_Label__1_Jf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"FileProperties_OlContainer__2xDLP\",\"reactTabs\":\"FileProperties_reactTabs__3V4aV\",\"reactTabsTabPanelSelected\":\"FileProperties_reactTabsTabPanelSelected__930iU\",\"reactTabsTab\":\"FileProperties_reactTabsTab__3TJSy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"Select_Div__3ogAU\",\"Input\":\"Select_Input__1mnhJ\",\"StyleControls\":\"Select_StyleControls__3ci3w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"ValueInput_Div__3mmk4\",\"Inline\":\"ValueInput_Inline__3bZyM\",\"Input\":\"ValueInput_Input__1deA2\",\"StyleControls\":\"ValueInput_StyleControls__dkx5_\"};","import {\n    checkIfCapital,\n    // getCurrentResourceValue,\n} from '../../../../utils/basic'\n\nimport {\n    modulesPropertyNodes,\n    allModules,\n} from '../../../../utils/modulesIndex'\n\nimport type { resourceType } from '../../../../store/reducer/reducer'\n\nconst populateStructure = (\n    structure: $PropertyType<resourceType, 'structure'>,\n    currentResource,\n    pluginElementsStructures,\n    pluginsStructure,\n    mode,\n    currentResourceItem\n) => {\n    let result = []\n    let excludeItems = []\n    for (let item of structure) {\n        if (!item.childrenTo && !excludeItems.includes(item.id)) {\n            result.push(item)\n        }\n\n        if (!excludeItems.includes(item.id)) {\n            if (checkIfCapital(item.tag.charAt(0))) {\n                const pluginItem = pluginsStructure.find(\n                    element => element.name === item.tag\n                )\n                if (pluginItem) {\n                    const pluginElementStructure =\n                        pluginElementsStructures[pluginItem.id]\n\n                    if (pluginElementStructure) {\n                        const neededChildren = pluginElementStructure.filter(\n                            element => element.isChildren\n                        )\n                        const currentChildren = structure.filter(element =>\n                            element.path.includes(item.id)\n                        )\n                        excludeItems = [\n                            ...excludeItems,\n                            ...currentChildren.map(element => element.id),\n                        ]\n                        for (let child of neededChildren) {\n                            const existingChild = currentChildren.find(\n                                element => element.childrenTo === child.id\n                            )\n                            if (existingChild) {\n                                result = [\n                                    ...result,\n                                    {\n                                        ...existingChild,\n                                        tag: `Children for ${child.tag}`,\n                                    },\n                                    ...populateStructure(\n                                        currentChildren.filter(element =>\n                                            element.path.includes(\n                                                existingChild.id\n                                            )\n                                        ),\n                                        currentResource,\n                                        pluginElementsStructures,\n                                        pluginsStructure,\n                                        mode,\n                                        currentResourceItem\n                                    ),\n                                ]\n                            } else {\n                                const newElement = {\n                                    id: `${item.id}_forPlugin_${\n                                        pluginItem.id\n                                    }_childrenTo_${child.id}`,\n                                    childrenTo: child.id,\n                                    forPlugin: pluginItem.id,\n                                    sourcePlugin:\n                                        mode === 'plugin'\n                                            ? currentResource\n                                            : '',\n                                    path: [...item.path, item.id],\n                                    text: false,\n                                    isChildren: false,\n                                    forChildren: true,\n                                    tag: `Children for ${child.tag}`,\n                                }\n                                result.push(newElement)\n                            }\n                        }\n                    }\n                }\n            } else if (allModules.includes(item.tag)) {\n                const neededChildrenNames = modulesPropertyNodes[item.tag] || []\n                const currentChildren = structure.filter(element =>\n                    element.path.includes(item.id)\n                )\n\n                excludeItems = [\n                    ...excludeItems,\n                    ...currentChildren.map(element => element.id),\n                ]\n                for (let child of neededChildrenNames) {\n                    const existingChild = currentChildren.find(\n                        element =>\n                            element.childrenTo === child.id &&\n                            element.forModule === item.id\n                    )\n                    if (existingChild) {\n                        result = [\n                            ...result,\n                            {\n                                ...existingChild,\n                                tag: child.tag,\n                            },\n                            ...populateStructure(\n                                currentChildren.filter(element =>\n                                    element.path.includes(existingChild.id)\n                                ),\n                                currentResource,\n                                pluginElementsStructures,\n                                pluginsStructure,\n                                mode,\n                                currentResourceItem\n                            ),\n                        ]\n                    } else {\n                        const newElement = {\n                            id: `${item.id}_childrenTo_${child.id}`,\n                            childrenTo: child.id,\n                            forModule: item.id,\n                            sourcePlugin:\n                                mode === 'plugin' ? currentResource : '',\n                            path: [...item.path, item.id],\n                            text: false,\n                            isChildren: false,\n                            forChildren: true,\n                            tag: child.tag,\n                        }\n                        result.push(newElement)\n                    }\n                }\n            }\n        }\n    }\n    if (mode === 'plugin') {\n        if (!currentResourceItem.propagating) {\n            result = result.filter(\n                item =>\n                    !(\n                        item.id === 'element_02' ||\n                        (item.path.length > 0 && item.path[0] === 'element_02')\n                    )\n            )\n        } else {\n            if (!result.find(item => item.id === 'element_02')) {\n                result.unshift({\n                    id: 'element_02',\n                    path: [],\n                    text: false,\n                    isChildren: false,\n                    forChildren: false,\n                    tag: 'CMS variables',\n                })\n            }\n        }\n    }\n\n    return result\n}\n\nexport default populateStructure\n","import type { Props, State } from '../ElementsTree'\n\nexport const searchOnHover = (\n    props: Props,\n    state: State,\n    setState: Function\n) => {\n    if (props.findMode && props.fromFrame) {\n        setState({\n            ...state,\n            searchString: props.hoveredElementId || '',\n            searchStringHasBeenCleared: false,\n        })\n    } else {\n        if (!state.searchStringHasBeenCleared) {\n            setState({\n                ...state,\n                searchString: '',\n                searchStringHasBeenCleared: true,\n            })\n        }\n    }\n}\n\nexport const searchMethod = ({ node, path, treeIndex, searchQuery }: Props) => {\n    if (!searchQuery) return false\n\n    if (node.tag.indexOf(searchQuery) > -1) return true\n    if (node.properties.id)\n        if (node.properties.id.indexOf(searchQuery) > -1) return true\n    if (node.properties.class)\n        if (node.properties.class.indexOf(searchQuery) > -1) return true\n}\n\nexport const searchMethod2 = ({\n    node,\n    path,\n    treeIndex,\n    searchQuery,\n}: Props) => {\n    if (!searchQuery) return false\n\n    if (node.id.indexOf(searchQuery) > -1) return true\n}\n","import React, { memo } from 'react'\nimport * as actions from '../../../store/actions/index'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\n\nimport type {\n    resourceType,\n    initialStateType,\n    elementType,\n} from '../../../store/reducer/reducer'\n\nexport type State = {\n    searchString: string,\n    searchFocusIndex: number,\n    searchFoundCount: null | number,\n    searchStringHasBeenCleared: boolean,\n    searchOpen: boolean,\n}\n\nexport type Props = {\n    resourceDraft: resourceType,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    mode: 'page' | 'plugin' | 'template',\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    chooseBox: typeof actions.chooseBox,\n    addBox: typeof actions.addBox,\n    duplicateBox: typeof actions.duplicateBox,\n    deleteBox: typeof actions.deleteBox,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n    dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    toggleFindMode: typeof actions.toggleFindMode,\n    currentBoxType:\n        | 'html'\n        | 'page'\n        | 'headBody'\n        | 'plugin'\n        | 'children'\n        | 'childrenTo'\n        | 'element'\n        | 'isCMSVariable'\n        | 'isElementFromCMSVariable'\n        | 'none',\n    searchQuery: string,\n    node: elementType,\n}\n\nconst Buttons = (props: Props) => {\n    return (\n        <>\n            {props.mode !== 'page' ? (\n                <>\n                    {/* <SmallButton\n                        inline\n                        buttonClicked={() => props.toggleFindMode(props.mode)}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z\"></path></svg>'\n                        tooltip=\"Select an element on the page\"\n                    /> */}\n                    {props.buttonRules.addNext ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() => props.addBox(props.mode)}\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new element next to the chosen element (Ctrl + A)\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.addNext &&\n                    props.buttonRules.addFromCMSVariable ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'cmsVariable')\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new element from CMS variable\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.addInside ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'inside')\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.6,13.4H13.4v8.2H10.6V13.4H2.4V10.6h8.2V2.4h2.8v8.2h8.2Zm-2.4,2.8h-.1l-.9.9,1.5,1.4H16.2V15.1H15.1v4.4h4.6l-1.5,1.4.9.9,2.6-2.7h.1Z\"></path></svg>'\n                            tooltip=\"Add a new element inside the chosen element (Ctrl + Shift + A)\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.addChildren ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'children')\n                            }\n                            title=\"Children\"\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new inherited children\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.addText ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'text')\n                            }\n                            title=\"Text\"\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.6,13.4H13.4v8.2H10.7V13.4H2.4V10.7h8.2V2.4h2.7v8.2h8.2v2.8Zm0,1.7H15.1v2h2.2v4.7h2.2V17.1h2.2v-2Z\"></path></svg>'\n                            tooltip=\"Add a new text element (Ctrl + Q)\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.duplicate ? (\n                        <>\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.duplicateBox(props.mode)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                                tooltip=\"Duplicate the element without children elements (Ctrl + D)\"\n                                requiredRights={['developer']}\n                            />\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.duplicateBox(props.mode, true)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M4,3C3,3,2.3,3.8,2.3,4.8v14.4C2.3,20.2,3,21,4,21h10.6c1,0,1.8-0.8,1.8-1.8V8.4L11.3,3H4z M10.4,9.3v-5l4.8,5H10.4z   M17.8,15.9h4V21h-4V15.9z M17.8,9.4h4v5.2h-4V9.4z M21.8,3v5.1h-4V3H21.8z\"></path></svg>'\n                                tooltip=\"Duplicate the element with children elements (Ctrl + Shift + D)\"\n                                requiredRights={['developer']}\n                            />\n                        </>\n                    ) : null}\n\n                    {props.buttonRules.mergeToPlugin ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.mergeBoxToPlugin(props.mode)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M14,2H10V5H7l5,5,5-5H14ZM2,14H5v3l5-5L5,7v3H2Zm12-2,5,5V14h3V10H19V7ZM10,22h4V19h3l-5-5L7,19h3Z\"></path></svg>'\n                            tooltip=\"Merge element and children elements into a new plugin\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.mergeToPluginChildren &&\n                    props.mode !== 'page' ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.mergeBoxToPlugin(props.mode, true)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.4,4.1H8.6V6.3H6.5L10,9.8l3.5-3.5H11.4ZM2.2,13.4H4.3v2.1l3.6-3.6L4.3,8.4v2.1H2.2Zm9.9-1.5,3.6,3.6V13.4h2.1V10.5H15.7V8.4ZM8.6,19.7h2.8V17.6h2.1L10,14.1,6.5,17.6H8.6Zm9.2-3.8h4V21h-4Zm0-6.5h3.9v5.1H17.8Zm0-6.4h4V8.1h-4Z\"></path></svg>'\n                            tooltip=\"Merge children elements into a new plugin\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {props.buttonRules.dissolve ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.dissolvePluginToBox(props.mode)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10,9h4V6h3L12,1,7,6h3Zm5,5h3v3l5-5L18,7v3H15ZM1,12l5,5V14H9V10H6V7Zm13,3H10v3H7l5,5,5-5H14Z\"></path></svg>'\n                            tooltip=\"Dissolve the plugin into elements\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n\n                    {props.buttonRules.delete ? (\n                        <>\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.deleteBox(props.mode)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                                tooltip=\"Delete element without children.<br>All children will remain on the page (Delete)\"\n                                requiredRights={['developer']}\n                            />\n\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.deleteBox(props.mode, true)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.8,3h-5l-1,1H2.3v2h14V4h-3.5L11.8,3z M3.3,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7h-12C3.3,7,3.3,19,3.3,19z M17.8,3  v5.1h4V3H17.8z M17.8,21h4v-5.1h-4V21z M17.8,14.6h4V9.4h-4V14.6z\"></path></svg>'\n                                tooltip=\"Delete element with all children inside (Shift + Delete)\"\n                                requiredRights={['developer']}\n                            />\n                        </>\n                    ) : null}\n                </>\n            ) : null}\n            <SmallButton\n                inline\n                buttonClicked={() =>\n                    props.setState({\n                        ...props.state,\n                        searchOpen: !props.state.searchOpen,\n                    })\n                }\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                tooltip=\"Show or hide search (Ctrl + F)\"\n            />\n            <SmallButton\n                inline\n                buttonClicked={() => props.markShouldRefreshing(true)}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"></path></svg>'\n                tooltip=\"Reload page (Ctrl + R)\"\n            />\n        </>\n    )\n}\n\nexport default memo(Buttons)\n","import type { Props } from '../ElementsTree'\n\nexport default (\n    props: Props,\n    currentBoxType: $PropertyType<Props, 'currentBoxType'>\n) => {\n    if (currentBoxType === 'trash') return {}\n    const buttonRules = {}\n\n    if (\n        currentBoxType !== 'isCMSVariable' &&\n        currentBoxType !== 'isElementFromCMSVariable' &&\n        currentBoxType !== 'CMSRoute' &&\n        currentBoxType !== 'isFromPropagatingPlugin'\n    )\n        buttonRules.addText = true\n\n    if (\n        currentBoxType !== 'CMSRoute' &&\n        currentBoxType !== 'isFromPropagatingPlugin'\n    )\n        buttonRules.addFromCMSVariable = true\n\n    if (\n        ![\n            'childrenTo',\n            'isElementFromCMSVariable',\n            'isFromPropagatingPlugin',\n            'headBody',\n            'html',\n        ].includes(currentBoxType)\n    )\n        buttonRules.addNext = true\n\n    if (props.mode === 'plugin') buttonRules.addChildren = true\n\n    if (\n        currentBoxType !== 'plugin' &&\n        currentBoxType !== 'children' &&\n        currentBoxType !== 'isElementFromCMSVariable' &&\n        currentBoxType !== 'text'\n    )\n        buttonRules.addInside = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'text' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children'\n    )\n        buttonRules.duplicate = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'text')\n        buttonRules.mergeToPlugin = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'headBody')\n        buttonRules.mergeToPluginChildren = true\n\n    if (currentBoxType === 'plugin') buttonRules.dissolve = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children' ||\n        // currentBoxType === 'isElementFromCMSVariable' ||\n        currentBoxType === 'isCMSVariable' ||\n        currentBoxType === 'text'\n    )\n        buttonRules.delete = true\n\n    return buttonRules\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"TextProperty_Textarea__2wNAE\",\"Editors\":\"TextProperty_Editors__3uGEn\",\"SelectContainer\":\"TextProperty_SelectContainer__zyD1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"ParseProperty_Textarea__3tqLc\",\"Editors\":\"ParseProperty_Editors__3-_wF\",\"SelectContainer\":\"ParseProperty_SelectContainer__1uKK3\"};","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectWithoutProperties,\n    isDescendant,\n    _toConsumableArray,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\nimport Svg from '../../../Svg/Svg'\n\nimport type {\n    menuItemType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    chooseMenuItem: typeof actions.chooseMenuItem,\n    changeMenuItemProperty: typeof actions.changeMenuItemProperty,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: menuItemType & { children: Array<menuItemType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    currentTemplate: $PropertyType<initialStateType, 'currentTemplate'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop,\n        otherProps = _objectWithoutProperties(_this$props, [\n            'scaffoldBlockPxWidth',\n            'toggleChildrenVisibility',\n            'connectDragPreview',\n            'connectDragSource',\n            'isDragging',\n            'canDrop',\n            'canDrag',\n            'node',\n            'title',\n            'subtitle',\n            'draggedNode',\n            'path',\n            'treeIndex',\n            'isSearchMatch',\n            'isSearchFocus',\n            'buttons',\n            'className',\n            'style',\n            'didDrop',\n            'treeId',\n            'isOver',\n            'parentNode',\n            'currentPage',\n            'currentPlugin',\n            'resourcesObjects',\n            'chooseMenuItem',\n            'changeMenuItemProperty',\n            'isSub',\n            'name',\n            'id',\n            'sourceItem',\n            'type',\n            'generatedFrom',\n            'rowDirection',\n            'currentTemplate',\n        ])\n\n    var handle\n\n    if (canDrag) {\n        if (typeof node.children === 'function' && node.expanded) {\n            handle = (\n                <div className={classes.rst__loadingHandle}>\n                    <div className={classes.rst__loadingCircle}>\n                        {_toConsumableArray(new Array(12)).map(function(\n                            _,\n                            index\n                        ) {\n                            return (\n                                <div\n                                    key={index}\n                                    className={classes.rst__loadingCirclePoint}\n                                />\n                            )\n                        })}\n                        )}\n                    </div>\n                </div>\n            )\n        } else {\n            handle = connectDragSource(\n                <div className={classes.rst__moveHandle}>\n                    <i className=\"material-icons\">more_vert</i>\n                </div>\n            )\n        }\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, sourceItem, type, generatedFrom } = props.node\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n    return (\n        <div\n            // $FlowFixMe\n            {..._extends({ style: { height: '100%' } }, otherProps)}\n            onMouseDown={() => props.changeBoxPropertyInValues(type, id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {sourceItem ? (\n                                    name\n                                ) : (\n                                    <InspectorValue\n                                        value={name}\n                                        blur={value =>\n                                            props.changeMenuItemProperty(\n                                                type,\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        maxLength=\"40\"\n                                        maxWidth=\"220px\"\n                                    />\n                                )}\n                            </div>\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                <div>\n                                    {generatedFrom === 'link' ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"></path></svg>' />\n                                    ) : generatedFrom === 'variable' ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        userId: state.userId,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        changeBoxPropertyInValues: (type, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(\n                    type,\n                    'currentMenuItem',\n                    id,\n                    true\n                )\n            ),\n        changeMenuItemProperty: (type, key, value, itemId) =>\n            dispatch(actions.changeMenuItemProperty(type, key, value, itemId)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { memo } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../../../../components/ResourcesTree/ResourcesTree.module.css'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport SmallButton from '../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport ItemRenderer from './ItemRenderer'\nimport * as wsActions from '../../../../websocketActions'\nimport isEqual from 'lodash/isEqual'\nimport OverlayOnSizeIsChanging from '../../../../components/UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\n\ntype Props = {\n    notVirtual?: boolean,\n}\n\nconst WebsitesTree = (props: Props) => (\n    <>\n        <div>\n            <SmallButton\n                inline\n                buttonClicked={() => props.addWebsite()}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                tooltip=\"Add a new website\"\n            />\n            {/* <SmallButton\n                    mD={props.mD}\n                    inline\n                    buttonClicked={() => wsActions.addWebsite(props.mD, true)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    tooltip=\"Duplicate website\"\n                /> */}\n            <SmallButton\n                inline\n                buttonClicked={() => props.deleteWebsite()}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                tooltip=\"Delete website.<br>This action can not be reverted.\"\n            />\n        </div>\n        <div className={classes.TreeContainer}>\n            <SortableTree\n                treeData={props.treeData}\n                onChange={() => {}}\n                nodeContentRenderer={ItemRenderer}\n                canDrop={() => false}\n                canDrag={() => false}\n                generateNodeProps={({ node }) => ({\n                    className:\n                        node.id === props.currentWebsiteId\n                            ? [classes.Chosen]\n                            : null,\n                })}\n                isVirtualized={!props.notVirtual}\n                onMoveNode={({ node, treeIndex, path }) =>\n                    global.console.debug(\n                        'node:',\n                        node,\n                        'treeIndex:',\n                        treeIndex,\n                        'path:',\n                        path\n                    )\n                }\n                scaffoldBlockPxWidth={22}\n                rowHeight={20}\n                style={{\n                    flex: '1 1',\n                    height: 'auto !important',\n                    overflow: 'auto',\n                }}\n            />\n            <OverlayOnSizeIsChanging />\n        </div>\n    </>\n)\n\nconst mapStateToProps = state => {\n    const treeData = state.mD.websites.map(website => {\n        return {\n            name: state.resourcesObjects[website.id]\n                ? state.resourcesObjects[website.id].name\n                : 'Loading...',\n            id: website.id,\n            children: {},\n        }\n    })\n    return {\n        treeData,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addWebsite: () => dispatch(wsActions.addWebsite()),\n        deleteWebsite: () => dispatch(wsActions.deleteWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(\n        WebsitesTree,\n        (prevProps, nextProps) =>\n            isEqual(prevProps.treeData, nextProps.treeData) &&\n            prevProps.currentWebsiteId === nextProps.currentWebsiteId\n    )\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './WebsitesTree.module.css'\nimport InspectorValue from '../../../../components/UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport * as wsActions from '../../../../websocketActions'\n\nimport type { initialStateType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    chooseWebsite: typeof actions.chooseWebsite,\n    connectDragPreview: Function,\n    className: string,\n    style: string,\n    node: { name: string, id: string },\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        connectDragPreview = _this$props.connectDragPreview,\n        className = _this$props.className,\n        style = _this$props.style\n\n    const { name, id } = props.node\n    const rowClasses = [classes.rst__row, className]\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => {\n                props.chooseWebsite(id)\n            }}\n            data-testid={name}\n        >\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            className={[\n                                classes.rst__rowContents,\n                                classes.rst__rowContentsDragDisabled,\n                            ].join(' ')}\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <InspectorValue\n                                    value={name}\n                                    items={[]}\n                                    blur={value => {\n                                        if (!props.checkUserRights(['owner']))\n                                            return\n                                        else if (value !== name)\n                                            wsActions.changeWebsiteProperty(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                    }}\n                                    withState\n                                    maxLength=\"30\"\n                                    maxWidth=\"220px\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseWebsite: id => dispatch(actions.chooseWebsite(id)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"WebsitesTree_rst__virtualScrollOverride__3zbIC\",\"ReactVirtualized__Grid__innerScrollContainer\":\"WebsitesTree_ReactVirtualized__Grid__innerScrollContainer__2P6dm\",\"rst__rtl\":\"WebsitesTree_rst__rtl__3iVcx\",\"ReactVirtualized__Grid\":\"WebsitesTree_ReactVirtualized__Grid__1cJYw\",\"rst__node\":\"WebsitesTree_rst__node__3jU7p\",\"rst__nodeContent\":\"WebsitesTree_rst__nodeContent__29s16\",\"rst__lineBlock\":\"WebsitesTree_rst__lineBlock__1_T2J\",\"rst__absoluteLineBlock\":\"WebsitesTree_rst__absoluteLineBlock__4gyz3\",\"rst__lineHalfHorizontalRight\":\"WebsitesTree_rst__lineHalfHorizontalRight__1IMJ8\",\"rst__lineFullVertical\":\"WebsitesTree_rst__lineFullVertical__1OWaW\",\"rst__lineHalfVerticalTop\":\"WebsitesTree_rst__lineHalfVerticalTop__39jCq\",\"rst__lineHalfVerticalBottom\":\"WebsitesTree_rst__lineHalfVerticalBottom__2qsPL\",\"rst__highlightLineVertical\":\"WebsitesTree_rst__highlightLineVertical__2DrSL\",\"arrow-pulse\":\"WebsitesTree_arrow-pulse__3fbyg\",\"rst__highlightTopLeftCorner\":\"WebsitesTree_rst__highlightTopLeftCorner__1VjlE\",\"rst__highlightBottomLeftCorner\":\"WebsitesTree_rst__highlightBottomLeftCorner__8cL4Q\",\"rst__rowWrapper\":\"WebsitesTree_rst__rowWrapper__3N8x9\",\"rst__row\":\"WebsitesTree_rst__row__sOpMM\",\"rst__rowLandingPad\":\"WebsitesTree_rst__rowLandingPad__8iBh_\",\"rst__rowCancelPad\":\"WebsitesTree_rst__rowCancelPad__168WQ\",\"rst__rowSearchMatch\":\"WebsitesTree_rst__rowSearchMatch__3tvfk\",\"rst__rowSearchFocus\":\"WebsitesTree_rst__rowSearchFocus__i0tQK\",\"rst__rowContents\":\"WebsitesTree_rst__rowContents__2gjT5\",\"rst__rowLabel\":\"WebsitesTree_rst__rowLabel__2vqlv\",\"rst__rowToolbar\":\"WebsitesTree_rst__rowToolbar__1ywUi\",\"rst__moveHandle\":\"WebsitesTree_rst__moveHandle__ZTCAp\",\"rst__toolbarButton\":\"WebsitesTree_rst__toolbarButton__1WSvf\",\"rst__rowContentsDragDisabled\":\"WebsitesTree_rst__rowContentsDragDisabled__UefNT\",\"rst__loadingHandle\":\"WebsitesTree_rst__loadingHandle__3Nd3-\",\"rst__loadingCircle\":\"WebsitesTree_rst__loadingCircle__2N8ti\",\"rst__loadingCirclePoint\":\"WebsitesTree_rst__loadingCirclePoint__2UkRf\",\"pointFade\":\"WebsitesTree_pointFade__3_7pL\",\"rst__rowTitle\":\"WebsitesTree_rst__rowTitle__3cKTG\",\"rst__rowTitleWithSubtitle\":\"WebsitesTree_rst__rowTitleWithSubtitle__1PmlO\",\"rst__rowSubtitle\":\"WebsitesTree_rst__rowSubtitle__3UVA_\",\"rst__collapseButton\":\"WebsitesTree_rst__collapseButton__33uiF\",\"rst__expandButton\":\"WebsitesTree_rst__expandButton__1Xkuw\",\"rst__lineChildren\":\"WebsitesTree_rst__lineChildren__2vODD\",\"rst__placeholder\":\"WebsitesTree_rst__placeholder__2LIHl\",\"rst__placeholderLandingPad\":\"WebsitesTree_rst__placeholderLandingPad__1pKvB\",\"rst__placeholderCancelPad\":\"WebsitesTree_rst__placeholderCancelPad__3-6r7\",\"ReactVirtualized__Table__headerRow\":\"WebsitesTree_ReactVirtualized__Table__headerRow__29v2k\",\"ReactVirtualized__Table__row\":\"WebsitesTree_ReactVirtualized__Table__row__1YT8P\",\"ReactVirtualized__Table__headerTruncatedText\":\"WebsitesTree_ReactVirtualized__Table__headerTruncatedText__3M-mT\",\"ReactVirtualized__Table__headerColumn\":\"WebsitesTree_ReactVirtualized__Table__headerColumn__VGmzH\",\"ReactVirtualized__Table__rowColumn\":\"WebsitesTree_ReactVirtualized__Table__rowColumn__3lTTO\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderColumn__2q3-M\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIconContainer__UrZlv\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIcon__X_qVi\",\"Chosen\":\"WebsitesTree_Chosen__4l8J5\",\"Loaded\":\"WebsitesTree_Loaded__3Jl7q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"DomainsProperties_Span__2bgyT\",\"Input\":\"DomainsProperties_Input__1sfvF\",\"Button\":\"DomainsProperties_Button__1eWcl\",\"LocalDomain\":\"DomainsProperties_LocalDomain__2LikX\",\"Title\":\"DomainsProperties_Title__1O_-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"TextInput_Div__1cUnp\",\"Input\":\"TextInput_Input__iGsIp\",\"StyleControls\":\"TextInput_StyleControls__2aGfC\",\"Wrong\":\"TextInput_Wrong__2kJTR\",\"Inline\":\"TextInput_Inline__3BzMb\",\"Right\":\"TextInput_Right__3iZqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"SharingProperties_Span__2_cvY\",\"Input\":\"SharingProperties_Input__t_zUN\",\"Button\":\"SharingProperties_Button__9sYGP\",\"LocalDomain\":\"SharingProperties_LocalDomain__GHfyW\",\"Title\":\"SharingProperties_Title__2OTNF\",\"SharingTable\":\"SharingProperties_SharingTable__3D-F0\",\"Active\":\"SharingProperties_Active__1jgt1\",\"Ava\":\"SharingProperties_Ava__3tBDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"SiteBuilder_Content__1Cixl\",\"Overlay\":\"SiteBuilder_Overlay__Ed0dz\"};","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContext = undefined\n\nvar _Context = require('./Context')\n\nObject.defineProperty(exports, 'FrameContext', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContext\n    },\n})\nObject.defineProperty(exports, 'FrameContextConsumer', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContextConsumer\n    },\n})\n\nvar _Frame = require('./Frame')\n\nvar _Frame2 = _interopRequireDefault(_Frame)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nexports.default = _Frame2.default\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _extends =\n    Object.assign ||\n    function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i]\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key]\n                }\n            }\n        }\n        return target\n    }\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _reactDom = require('react-dom')\n\nvar _reactDom2 = _interopRequireDefault(_reactDom)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nvar _Context = require('./Context')\n\nvar _Content = require('./Content')\n\nvar _Content2 = _interopRequireDefault(_Content)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n}\n\nvar Frame = (function(_Component) {\n    _inherits(Frame, _Component)\n\n    // React warns when you render directly into the body since browser extensions\n    // also inject into the body and can mess up React. For this reason\n    // initialContent is expected to have a div inside of the body\n    // element that we render react into.\n    function Frame(props, context) {\n        _classCallCheck(this, Frame)\n\n        var _this = _possibleConstructorReturn(\n            this,\n            (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(\n                this,\n                props,\n                context\n            )\n        )\n\n        _this.handleLoad = function() {\n            _this.forceUpdate()\n        }\n\n        _this._isMounted = false\n        return _this\n    }\n\n    _createClass(Frame, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this._isMounted = true\n\n                var doc = this.getDoc()\n                if (doc && doc.readyState === 'complete') {\n                    this.forceUpdate()\n                } else {\n                    this.node.addEventListener('load', this.handleLoad)\n                }\n            },\n        },\n        {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this._isMounted = false\n\n                this.node.removeEventListener('load', this.handleLoad)\n            },\n        },\n        {\n            key: 'getDoc',\n            value: function getDoc() {\n                return this.node.contentDocument // eslint-disable-line\n            },\n        },\n        {\n            key: 'getMountTarget',\n            value: function getMountTarget() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.body\n            },\n        },\n        {\n            key: 'getMountTargetHtml',\n            value: function getMountTargetHtml() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.documentElement\n            },\n        },\n        {\n            key: 'renderFrameContents',\n            value: function renderFrameContents() {\n                if (!this._isMounted) {\n                    return null\n                }\n\n                var doc = this.getDoc()\n\n                var contentDidMount = this.props.contentDidMount\n                var contentDidUpdate = this.props.contentDidUpdate\n\n                var win = doc.defaultView || doc.parentView\n                if (this.props.updateHead) this._setInitialContent = false\n                var initialRender = !this._setInitialContent\n                var contents = _react2.default.createElement(\n                    _Content2.default,\n                    {\n                        contentDidMount: contentDidMount,\n                        contentDidUpdate: contentDidUpdate,\n                    },\n                    _react2.default.createElement(\n                        _Context.FrameContextProvider,\n                        { value: { document: doc, window: win } },\n\n                        this.props.children\n                    )\n                )\n\n                if (initialRender) {\n                    doc.open('text/html', 'replace')\n                    doc.write(\n                        '<!DOCTYPE html><html><head>' +\n                            this.props.base +\n                            '</head><body></body></html>'\n                    )\n                    doc.close()\n                    this._setInitialContent = true\n                }\n                function decodeEntities(encodedString) {\n                    var textArea = document.createElement('textarea')\n                    textArea.innerHTML = encodedString\n                    return textArea.value\n                }\n                doc.head.innerHTML =\n                    decodeEntities(this.props.initialContent) + this.props.base\n\n                // .replace(\n                //     /&(l|g|quo)t;/g,\n                //     function(a, b) {\n                //         return {\n                //             l: '<',\n                //             g: '>',\n                //             quo: '\"',\n                //         }[b]\n                //     }\n                // )\n\n                var mountTarget = this.getMountTarget()\n                for (let attr in this.props.bodyProps) {\n                    mountTarget.setAttribute(attr, this.props.bodyProps[attr])\n                }\n\n                var mountTargetHtml = this.getMountTargetHtml()\n                for (let attr in this.props.htmlProps) {\n                    mountTargetHtml.setAttribute(\n                        attr,\n                        this.props.htmlProps[attr]\n                    )\n                }\n                return [\n                    //_reactDom2.default.createPortal(this.props.head, this.getDoc().head),\n                    _reactDom2.default.createPortal(contents, mountTarget),\n                ]\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                var _this2 = this\n\n                var props = _extends({}, this.props, {\n                    children: undefined, // The iframe isn't ready so we drop children from props here. #12, #17\n                })\n                delete props.head\n                delete props.initialContent\n                delete props.mountTarget\n                delete props.contentDidMount\n                delete props.contentDidUpdate\n                delete props.bodyProps\n                delete props.htmlProps\n                delete props.base\n                return _react2.default.createElement(\n                    'iframe',\n                    _extends({}, props, {\n                        ref: function ref(node) {\n                            _this2.node = node\n                        },\n                    }),\n                    this.renderFrameContents()\n                )\n            },\n        },\n    ])\n\n    return Frame\n})(_react.Component)\n\nFrame.propTypes = {\n    style: _propTypes2.default.object, // eslint-disable-line\n    head: _propTypes2.default.node,\n    base: _propTypes2.default.string,\n    bodyProps: _propTypes2.default.object,\n    htmlProps: _propTypes2.default.object,\n    initialContent: _propTypes2.default.string,\n    mountTarget: _propTypes2.default.string,\n    contentDidMount: _propTypes2.default.func,\n    contentDidUpdate: _propTypes2.default.func,\n    children: _propTypes2.default.oneOfType([\n        _propTypes2.default.element,\n        _propTypes2.default.arrayOf(_propTypes2.default.element),\n    ]),\n}\nFrame.defaultProps = {\n    style: {},\n    base: '',\n    head: null,\n    bodyProps: {},\n    htmlProps: {},\n    children: undefined,\n    mountTarget: undefined,\n    contentDidMount: function contentDidMount() {},\n    contentDidUpdate: function contentDidUpdate() {},\n    initialContent: '<!DOCTYPE html><html><head></head><body></body></html>',\n}\nexports.default = Frame\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n} // eslint-disable-line no-unused-vars\n\nvar Content = (function(_Component) {\n    _inherits(Content, _Component)\n\n    function Content() {\n        _classCallCheck(this, Content)\n\n        return _possibleConstructorReturn(\n            this,\n            (Content.__proto__ || Object.getPrototypeOf(Content)).apply(\n                this,\n                arguments\n            )\n        )\n    }\n\n    _createClass(Content, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this.props.contentDidMount()\n            },\n        },\n        {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                this.props.contentDidUpdate()\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                return _react.Children.only(this.props.children)\n            },\n        },\n    ])\n\n    return Content\n})(_react.Component)\n\nContent.propTypes = {\n    children: _propTypes2.default.element.isRequired,\n    contentDidMount: _propTypes2.default.func.isRequired,\n    contentDidUpdate: _propTypes2.default.func.isRequired,\n}\nexports.default = Content\n"],"sourceRoot":""}