{"version":3,"sources":["components/ElementsTreeAndProperties/ElementsTree/methods/generateButtonRules.tsx","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.module.css","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.module.css","components/ElementsTreeAndProperties/Properties/MenuItems/ItemRenderer.js","components/UI/TextInput/TextInput.module.css","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.tsx","containers/AdvancedBar/Websites/WebsitesTree/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.module.css","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.module.css","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.module.css","containers/SiteBuilder/SiteBuilder.module.css","containers/SiteBuilder/Frame/index.js","containers/SiteBuilder/Frame/Frame.js","containers/SiteBuilder/Frame/Content.js","components/UI/Overlay/Overlay.module.css","utils/tagItems.tsx","components/ElementsTreeAndProperties/ElementsTree/ItemRenderer.js","utils/getFileUrl.tsx","components/FilesTreeAndProperties/FilesTree/ItemRenderer.js","utils/copyToClipboard.tsx","components/FilesTreeAndProperties/FilesTree/FilesTree.js","components/Editor/Editor.tsx","components/FilesTreeAndProperties/Properties/FileProperties.js","containers/AdvancedBar/Files/Files.js","components/ResourcesTree/ItemRenderer.tsx","components/ResourcesTree/Buttons.tsx","components/ResourcesTree/ResourcesTree.tsx","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.js","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.js","components/ElementsTreeAndProperties/Properties/propertiesSuggestedList.js","components/HTMLEditor/HTMLEditor.js","components/ElementsTreeAndProperties/Properties/FileItems/ItemRenderer.js","components/ElementsTreeAndProperties/Properties/FileItems/FileItems.js","components/ElementsTreeAndProperties/Properties/Property pannels/CMSPannels.js","components/ElementsTreeAndProperties/Properties/Properties.js","containers/AdvancedBar/Plugins/Plugins.js","components/ElementsTreeAndProperties/PageProperties/PageProperties.js","containers/AdvancedBar/Pages/Pages.js","containers/AdvancedBar/Templates/Templates.js","containers/AdvancedBar/Account/Account.js","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/WebsitesProperties.js","containers/AdvancedBar/Websites/Websites.js","containers/AdvancedBar/AdvancedBar.tsx","containers/SiteBuilder/Menu/MenuModule/utils/isMobile.js","containers/SiteBuilder/Menu/MenuModule/util.js","containers/SiteBuilder/Menu/MenuModule/placements.js","containers/SiteBuilder/Menu/MenuModule/SubMenu.js","containers/SiteBuilder/Menu/MenuModule/DOMWrap.js","containers/SiteBuilder/Menu/MenuModule/SubPopupMenu.js","containers/SiteBuilder/Menu/MenuModule/utils/legacyUtil.js","containers/SiteBuilder/Menu/MenuModule/Menu.js","containers/SiteBuilder/Menu/MenuModule/MenuItem.js","containers/SiteBuilder/Menu/MenuModule/MenuItemGroup.js","containers/SiteBuilder/Menu/MenuModule/Divider.js","containers/SiteBuilder/Menu/MenuModule/index.js","containers/SiteBuilder/Menu/Menu.js","containers/SiteBuilder/Menu/methods/buildItemsForMenu.js","containers/SiteBuilder/Drawer/Drawer.js","containers/SiteBuilder/BuilderElement/methods/useEffect.js","containers/SiteBuilder/BuilderElement/methods/refineProperties.js","containers/SiteBuilder/BuilderElement/methods/boxMethods.js","containers/SiteBuilder/BuilderElement/methods/tagsLibrary.js","containers/SiteBuilder/BuilderElement/BuilderElement.js","containers/SiteBuilder/HoveredBoxHighlight/HoveredBoxHighlight.js","containers/SiteBuilder/methods/refreshPageStructure.js","components/UI/Overlay/Overlay.js","containers/SiteBuilder/SiteBuilder.js","containers/SiteBuilderLayout/SiteBuilderLayout.tsx","utils/checkUserRights.tsx","components/UI/Buttons/SmallButton/SmallButton.tsx","containers/AdvancedBar/AdvancedBar.module.css","containers/AdvancedBar/SizeDragController/SizeDragController.js","components/UI/ControlPanel.js","components/ResourcesTree/ResourcesTree.module.css","utils/sortTreeMethods.tsx","components/UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging.js","components/UI/InspectorValue/InspectorValue.js","utils/pagesStructure.tsx","components/FilesTreeAndProperties/FilesTree/FilesTree.module.css","components/UI/TreeSearch/TreeSearch.js","components/ElementsTreeAndProperties/ElementsTree/ElementsTree.js","utils/modulesIndex.tsx","components/ElementsTreeAndProperties/Properties/Properties.module.css","components/ElementsTreeAndProperties/Properties/MenuItems/MenuItems.js","components/UI/TextInput/TextInput.js","containers/SiteBuilder/Frame/Context.js","containers/AdvancedBar/SizeDragController/SizeDragController.module.css","components/UI/InspectorValue/InspectorValue.module.css","components/UI/TreeSearch/TreeSearch.module.css","components/FilesTreeAndProperties/Properties/FileProperties.module.css","components/ElementsTreeAndProperties/ElementsTree/methods/populateStructureWithPluginChildrenAndPropagating.tsx","components/ElementsTreeAndProperties/ElementsTree/methods/search.tsx","components/ElementsTreeAndProperties/ElementsTree/Buttons.tsx"],"names":["__webpack_exports__","props","currentBoxType","buttonRules","addText","addFromCMSVariable","includes","addNext","mode","addChildren","addInside","duplicate","mergeToPlugin","mergeToPluginChildren","dissolve","delete","module","exports","Textarea","Editors","SelectContainer","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_actions_index__WEBPACK_IMPORTED_MODULE_2__","_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_sortTreeMethods__WEBPACK_IMPORTED_MODULE_5__","_Svg_Svg__WEBPACK_IMPORTED_MODULE_6__","connect","state","userId","resourcesObjects","dispatch","changeBoxPropertyInValues","type","id","actions","changeMenuItemProperty","key","value","itemId","handle","_this$props","scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","className","style","didDrop","otherProps","_objectWithoutProperties","children","expanded","a","createElement","classes","_toConsumableArray","Array","map","_","index","icon","isLandingPadActive","isDraggedDescendant","isDescendant","buttonStyle","left","_props$node","name","sourceItem","generatedFrom","rowClasses","push","Object","assign","_extends","height","onMouseDown","length","e","stopPropagation","aria-label","onClick","width","join","_objectSpread","opacity","blur","withState","maxLength","maxWidth","Div","Input","StyleControls","Wrong","Inline","Right","global","react_sortable_tree__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","_components_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_4__","_ItemRenderer__WEBPACK_IMPORTED_MODULE_5__","_websocketActions__WEBPACK_IMPORTED_MODULE_6__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default","_components_UI_OverlayOnSizeIsChanging_OverlayOnSizeIsChanging__WEBPACK_IMPORTED_MODULE_8__","antd_es_divider__WEBPACK_IMPORTED_MODULE_9__","_ant_design_icons_PlusOutlined__WEBPACK_IMPORTED_MODULE_10__","_ant_design_icons_PlusOutlined__WEBPACK_IMPORTED_MODULE_10___default","_ant_design_icons_DeleteOutlined__WEBPACK_IMPORTED_MODULE_11__","_ant_design_icons_DeleteOutlined__WEBPACK_IMPORTED_MODULE_11___default","_components_UI_ControlPanel__WEBPACK_IMPORTED_MODULE_12__","treeData","mD","websites","website","currentWebsiteId","addWebsite","wsActions","deleteWebsite","memo","Fragment","title","buttonClicked","tooltip","onChange","nodeContentRenderer","ItemRenderer","generateNodeProps","_ref","isVirtualized","notVirtual","onMoveNode","_ref2","console","debug","rowHeight","flex","overflow","slideRegionSize","prevProps","nextProps","isEqual","_WebsitesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_checkUserRights__WEBPACK_IMPORTED_MODULE_6__","_websocketActions__WEBPACK_IMPORTED_MODULE_7__","chooseWebsite","checkUserRights","rights","data-testid","items","rst__virtualScrollOverride","ReactVirtualized__Grid__innerScrollContainer","rst__rtl","ReactVirtualized__Grid","rst__node","rst__nodeContent","rst__lineBlock","rst__absoluteLineBlock","rst__lineHalfHorizontalRight","rst__lineFullVertical","rst__lineHalfVerticalTop","rst__lineHalfVerticalBottom","rst__highlightLineVertical","arrow-pulse","rst__highlightTopLeftCorner","rst__highlightBottomLeftCorner","rst__rowWrapper","rst__row","rst__rowLandingPad","rst__rowCancelPad","rst__rowSearchMatch","rst__rowSearchFocus","rst__rowContents","rst__rowLabel","rst__rowToolbar","rst__moveHandle","rst__toolbarButton","rst__rowContentsDragDisabled","rst__loadingHandle","rst__loadingCircle","rst__loadingCirclePoint","pointFade","rst__rowTitle","rst__rowTitleWithSubtitle","rst__rowSubtitle","rst__collapseButton","rst__expandButton","rst__lineChildren","rst__placeholder","rst__placeholderLandingPad","rst__placeholderCancelPad","ReactVirtualized__Table__headerRow","ReactVirtualized__Table__row","ReactVirtualized__Table__headerTruncatedText","ReactVirtualized__Table__headerColumn","ReactVirtualized__Table__rowColumn","ReactVirtualized__Table__sortableHeaderColumn","ReactVirtualized__Table__sortableHeaderIconContainer","ReactVirtualized__Table__sortableHeaderIcon","Chosen","Loaded","Span","Button","LocalDomain","Title","SharingTable","Active","Ava","Content","Overlay","defineProperty","FrameContextConsumer","FrameContext","undefined","_Context","require","enumerable","get","obj","_Frame","_Frame2","__esModule","default","target","i","arguments","source","prototype","hasOwnProperty","call","_createClass","defineProperties","descriptor","configurable","writable","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_reactDom2","_propTypes2","_Content2","Frame","_Component","context","instance","TypeError","_classCallCheck","this","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","handleLoad","forceUpdate","_isMounted","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","doc","getDoc","readyState","addEventListener","removeEventListener","contentDocument","mountTarget","querySelector","body","documentElement","contentDidMount","contentDidUpdate","win","defaultView","parentView","updateHead","_setInitialContent","initialRender","contents","FrameContextProvider","document","window","open","write","base","close","head","innerHTML","encodedString","textArea","decodeEntities","initialContent","getMountTarget","attr","bodyProps","setAttribute","mountTargetHtml","getMountTargetHtml","htmlProps","createPortal","_this2","ref","renderFrameContents","propTypes","object","string","func","oneOfType","element","arrayOf","defaultProps","apply","Children","only","isRequired","tagItems","currentNode","resourceDraftIndex","structure","find","item","isCurrentBox","currentBox","isFocused","activeContainer","currentNodeValues","values","currentResource","currentIndex","pluginsStructure","hoveredElementId","chooseBox","changeBoxPropertyInStructure","notForHistory","boxId","hoverBox","unhoverBox","addBox","deleteBox","withChildren","react_default","Svg","itemPath","_props$currentNode","tag","text","isChildren","isElementFromCMSVariable","childrenTo","isPropagatingItem","textContent","substr","InspectorValue","readonly","abbr","currentPlugin","alert","properties","concat","class","CMSVariableType","indexOf","SmallButton","inline","PlusOutlined_default","DeleteOutlined_default","getFileUrl","noVersion","thumbnail","domain","addProtocolAndLiveDomain","file","relUrl","protocol","domainString","query","v","filesStructure","currentFileId","currentWebsiteObject","chooseResource","sendUpdate","newResource","size","handleChoose","trim","newStructure","cloneDeep","handlePropertyChange","requiredRights","display","bytes","decimalPlaces","color","paddingLeft","lib_default","date","modifiedDate","position","right","top","background","border","boxSizing","lineHeight","textAlign","LazyLoad_default","src","maxHeight","verticalAlign","alt","copyToClipboard","str","el","appendChild","selected","getSelection","rangeCount","getRangeAt","selectedElement","activeElement","select","execCommand","removeChild","removeAllRanges","addRange","focus","currentResourcesStructureElement","currentFileItem","setActiveContainer","container","unsetActiveContainer","uploadFile","files","deleteFile","buildTree","handleCopyPath","createFile","File","_useState","useState","searchString","searchFocusIndex","searchFoundCount","searchStringHasBeenCleared","searchOpen","_useState2","slicedToArray","setState","setActiveAndKeyDown","code","ctrlKey","preventDefault","shiftKey","fileUploadRef","current","click","saveFile","objectSpread","useRef","moreMenu","es_menu","handleButtonMenuClick","Item","tabIndex","onKeyDown","nativeEvent","onTouchStart","onFocus","onBlur","ControlPanel","UploadOutlined_default","divider","SaveOutlined_default","LinkOutlined_default","dropdown","overlay","es_button","DownOutlined_default","index_esm","result","buildItems","omit","buildRelUrls","searchQuery","searchFocusOffset","searchFinishCallback","matches","searchMethod","OverlayOnSizeIsChanging","TreeSearch","ace","config","set","Editor","classCallCheck","possibleConstructorReturn","updateValue","isBeatifying","setTimeout","handleChange","editor","getCursor","handleSelectProperty","selectedOption","log","JSON","parse","resultString","stringify","makeCodePrettier","moveCursorToPosition","elementCurrentCursor","column","row","editorMode","newValue","beautify_css","beautify_js","bind","assertThisInitialized","prevState","currentElement","elementValue","refs","aceEditor","setInterval","resize","suggestOptions","es_select","onSelect","dropdownMatchSelectWidth","placeholder","option","Option","label","react_ace_lib_default","readOnly","theme","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","forwardRef","FileProperties","useEffect","setLoaded","resolution","setResolution","_useState3","_useState4","fileSize","setFileSize","_useState5","_useState6","sourceDataUrl","setSourceDataUrl","handleChangeResolution","loadFileToDataUrl","url","callback","xhr","XMLHttpRequest","responseType","onload","fr","FileReader","readAsDataURL","response","send","toDataURL","dataUrl","setValue","loaded","input_number","min","parseInt","resizeImageFromSrcToSpecificSize","asyncToGenerator","regenerator_default","mark","_callee","data","wrap","_context","prev","next","urltoFile","sent","stop","_x","toastui_react_image_editor_default","includeUI","loadImage","menu","initMenu","uiSize","menuBarPosition","cssMaxHeight","cssMaxWidth","selectionStyle","cornerSize","rotatingPointOffset","usageStatistics","margin","createdDate","setEditorMode","components_Editor_Editor","axios","then","barSizes","replace","handleSaveFile","fileId","content","toastEditorRef","getInstance","_x2","FilesTreeAndProperties_FilesTree_FilesTree","SizeDragController","addClass","startValue","Properties_FileProperties","newVersionResources","notSavedResources","currentPageId","currentTemplateId","currentPluginId","globalSettingsPageId","globalSettingsTemplateId","homepage","hidden","folderPage","published","propagating","isGeneralSettings","toLowerCase","minWidth","allowEmpty","linkModalVisible","setLinkModalVisible","requiredRightsIndex","resourceStructureAttributeChange","templateOptions","handleSaveResource","linkModal","modal","visible","onOk","onCancel","userSelect","CopyOutlined_default","customDomain","whiteSpace","DesktopOutlined_default","saveManu","isGlobalSettingsPage","addResource","add","generalSettings","mouseEnterDelay","showSearch","confirm","template","revertResource","CloudDownloadOutlined_default","structureIndex","resourceItemIndex","templatesStructure","to","publishResource","deleteResource","handlePublishRevert","filter","home","ResourcesTree_Buttons","isEqualStructuresWithOmit","_ref3","nextParent","_ref4","splitText","start","end","textToSpan","selectionStart","selectionEnd","elementValues","handleSelectionChange","changeProperty","textMode","ForkOutlined_default","SplitCellsOutlined_default","StarOutlined_default","onKeyUp","onMouseUp","parseHTML","editorValue","Properties_propertiesSuggestedList","websiterMenu","baseHtmlProps","Refresh","sizeIsChanging","box","setBox","flexDirection","HTMLEditor_Refresh","ts","apiKey","init","plugins","toolbar","edit","view","insert","format","tools","table","help","menubar","image_advtab","classesFileTree","padding","treeDataSource","chosenFileItem","attrName","fileDetailesTable","classesAdvancedBar","width3","elementId","fileUrl","shouldCopyOnOutsideDrop","dndType","tabs","defaultActiveKey","animated","TabPane","tab","es_checkbox","checked","attrThumb","_props$changeProperty","_props$changeProperty2","_props$changeProperty3","pannelClass","tabClass","propertiesSuggestedList","handlePropertiesChange","variableOptions","toConsumableArray","propagatingPlugins","rangeValue","setRangeValue","CMSVariableSystemName","cursorPosition","propertiesString","CMSVariableDescription","components_HTMLEditor_HTMLEditor","CMSVariableDefaultValue","getContent","MenuItems","slider","defaultValue","max","step","toString","options","react_color_lib","colors","defaultColor","onChangeComplete","rgb","Properties_FileItems_FileItems","presetColors","disableAlpha","resourceDraft","plugin","changes","isPlugin","checkIfCapital","charAt","Properties_TextProperty_TextProperty","isCMSVariable","CMSPannels","Properties_ParseProperty_ParseProperty","forceRender","slice","currentPluginDraftExists","currentPluginDraft","components_ResourcesTree_ResourcesTree","width2","ElementsTree","ElementsTreeAndProperties_Properties_Properties","templateCMSElementValues","pageTemplateDraft","forPropagatingPlugin","_element$forPropagati","pluginId","variable","templateDraft","getCurrentResourceValue","currentPageDraftExists","currentPageDraft","PageProperties","currentTemplateDraftExists","currentTemplateDraft","loading","maxStorage","deleteUser","logout","all","LogoutOutlined_default","saveDomainName","changeWebsiteProperty","verifyCustomDomain","websiteElement","setDomainValue","setCustomDomainValue","domainValue","customDomainValue","domainHidden","EyeInvisibleOutlined_default","TextInput","changed","customDomainHidden","customDomainVerified","SafetyCertificateOutlined_default","cname","_id","currentUserInWebsiteSharing","chooseUserInWebsiteSharing","addUserInWebsiteSharing","deleteUserInWebsiteSharing","user","sharingRightsChange","transferWebsite","isOwner","sharingItem","newSharing","sharing","ownerAccount","unshift","ShareAltOutlined_default","SendOutlined_default","account","accountInfo","displayName","photos","backgroundImage","es_switch","WebsitesProperties","WebsitesProperties_DomainsProperties_DomainsProperties","WebsitesProperties_SharingProperties_SharingProperties","WebsitesTree","Websites_WebsitesProperties_WebsitesProperties","changeBarSize","initiator","toggleFindMode","savePropertiesOnLeave","useBeforeunload","Tabs","tabBarExtraContent","vertical","AdvancedBar_Pages_Pages","AdvancedBar_Templates_Templates","AdvancedBar_Plugins_Plugins","AdvancedBar_Files_Files","AdvancedBar_Websites_Websites","AdvancedBar_Account_Account","esm","handleWidth","handleHeight","onResize","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_defineProperty","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","done","err","_iterableToArrayLimit","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","match","regex","userAgent","test","isMobile","ua","navigator","tmp","split","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","defaultResult","forEach","getOwnPropertyDescriptors","_typeof","noop","getKeyFromChildrenIndex","child","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","cb","React","c","isMenuItemGroup","c2","menuAllProps","getWidth","elem","getBoundingClientRect","toFixed","getPosition","rect","setStyle","styleProperty","isMobileDevice","autoAdjustOverflow","adjustX","adjustY","placements","topLeft","points","offset","bottomLeft","leftTop","rightTop","placementsRtl","_defineProperties","_getPrototypeOf","o","_assertThisInitialized","_setPrototypeOf","p","guid","popupPlacementMap","horizontal","vertical-left","vertical-right","updateDefaultActiveFirst","store","defaultActiveFirst","menuId","getState","SubMenu","_React$Component","onDestroy","keyCode","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","onMouseEnter","_this$props2","domEvent","onMouseLeave","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","addKeyPath","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","openChange","trigger","mouseenterTimeout","isChildrenSelected","ret","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","ReactDOM","findDOMNode","offsetWidth","saveSubMenuTitle","getBaseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","internalMenuId","manualRef","itemIcon","expandIcon","direction","getMotion","haveRendered","_this$props6","leavedClassName","removeOnLeave","motionAppear","isRootMenu","componentDidUpdate","_this$props7","minWidthTimeout","_this$props8","clearTimeout","_this3","baseProps","mergedMotion","haveOpened","CSSMotion","mergedClassName","classNames","popupMenuBlockClasses","SubPopupMenu","_classNames2","isInlineMode","active","disabled","isSub","popupMenuItemClasses","topMenuItemClasses","mouseEvents","titleClickEvents","titleMouseEvents","paddingRight","ariaOwns","aria-owns","role","aria-expanded","aria-haspopup","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","popupClassName","placement","Trigger","popupVisible","popup","action","mouseLeaveDelay","connected","activeKey","subMenuKey","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","ulSizes","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","getMenuItemNodesOver","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","_copy$props","propStyle","rest","visibility","k","setChildrenWidthAndResize","ulChildrenNodes","menuItemNodesOver","currentDisplayState","lastOverflowedIndicatorPlaceholder","menuItemNodes","overflowedIndicatorWidth","handleResize","liWidth","menuUl","ResizeObserver","entries","observe","MutationObserver","disconnect","attributes","childList","subTree","reduce","acc","childNode","overflowed","cloneElement","Tag","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","getFlatInstanceArray","activeItem","selectInfo","len","reverse","activeIndex","every","ci","renderCommonMenuItem","extraProps","childProps","isActive","newChildProps","renderMenuItem","createChainedFunction","addProps","shallowEqual","topMenuBlockClasses","topMenuItemActiveClasses","popupMenuItemActiveClasses","domProps","activeKeys","openAnimation","openTransitionName","warning","motionName","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","event","processSingle","oneChanged","splice","_selectedKeys2","getOpenTransitionName","transitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","0-menu-","updateMiniStore","updateClassesInMiniStore","Provider","MenuItem","isSelected","saveNode","callRef","scrollIntoView","scrollMode","boundary","block","_classNames","attrs","attribute","aria-disabled","aria-selected","mouseEvent","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","SubMenu1","esm_extends","MenuModule_SubMenu","pageInStructure","MenuModule_MenuItem","newTab","location","SubMenu2","pagesStructure","currentPageItem","getElementById","builtItems","menuItems","structureAfterVariables","parentPluginProps","page","l","buildMenuItems","buildItemsForMenu","menuElements","Menu_SubMenu1","refinedProperties","MenuModule","overflowIcon","Drawer","onSwitch","handler","rc_drawer_es","onClose","autoHandler","getContainer","onHandleClick","setBoxProperties","ownRefinedProperties","inheritedPropertyName","getInheritedPropertyName","styleToObject","camelCase","ex","styleToCamelcase","htmlFor","for","refineProperties","findMode","routePlugin","sourcePlugin","emptyTags","headTags","BuilderElement","sourceResource","saveHoveredElementRect","fromFrame","elementRef","newScript","_refineProperties","currentPath","getModulePropertiesNodes","nodes","possibleNodes","modulesPropertyNodes","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","nodeItem","forModule","itemInn","pluginsPathArray","childrenForPlugin","_iterator","return","childrenMainElement","forPlugin","fromResource","isHead","parseText","sanitize","allowedTags","allowedAttributes","PluginElement","onMouseMove","SiteBuilder_Menu_Menu","SiteBuilder_Drawer_Drawer","originalClass","react_slick_lib_default","dots","infinite","speed","slidesToShow","slidesToScroll","original","pluginStructure","hoveredElementSize","hoverMode","iframe","scrollY","contentWindow","pageYOffset","scrollX","pageXOffset","parents","addHoverBoxes","parent","isEmpty","pointerEvents","zIndex","borderRadius","boxShadow","findParents","innerItem","methods_refreshPageStructure","pageDraft","globalSettings","templateId","currentId","_refreshPageStructure3","refreshPageStructure","arrayId","pageStructure","templateStructure","pageStructureWithoutPropagating","templateIds","pageIds","oldItem","newId","propagatingPluginsVariablesIds","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","itemIdInTemplate","newValues","structureWithOldAndPropagating","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","itemValue","newItem","currentMenuItem","currentMenuId","childTemplateId","childTemplateDraft","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_loop2","innerChildPath","childrenOfItem","_refreshPageStructure","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_loop3","valuesOfChildren","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_refreshPageStructure2","_iterator6","_iterator3","draft","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","SiteBuilder","headValue","currentScroll","prod","process","isRefreshing","iframeElement","scrollTop","scrollTo","newProps","refreshedGlobalStructure","saveElementsStructureFromBuilder","currentPageDraftStructure","pageTemplateDraftStructure","refreshedPageStructure","newHead","SiteBuilder_BuilderElement_BuilderElement","pageTemplateId","newHeadString","renderToString","es","shouldRefresh","markRefreshing","markShouldRefreshing","frame","zoom","bodyValues","bodyStyle","htmlValues","htmlStyle","StopRefresh","Frame_default","msZoom","MozTransform","MozTransformOrigin","OTransform","OTransformOrigin","WebkitTransform","WebkitTransformOrigin","systemClassMenu","SiteBuilder_HoveredBoxHighlight_HoveredBoxHighlight","UI_Overlay_Overlay","mapStateToProps","addVariable","resourceVariable","templateItemId","itemValues","defaultMenuItems","defaultFileUrl","fileThumbnail","r","g","b","_ret","forPluginId","forPluginDraft","propagatingValue","propagatingItem","childVariables","refine","refinedPropertiesPage","currentPageFSBDraft","pageTemplateFSBDraft","pageTemplateFSBId","refinedPropertiesGlobal","globalSettingsPageDraft","globalSettingsTemplateDraft","refinePropertiesFromCMS","bodyRawValues","htmlRawValues","element_1","element_01","currentPageDraftStructureGlobalSettings","pageTemplateDraftStructureGlobalSettings","pageZoom","mapDispatchToProps","refreshing","saveElementsStructure","span","ResizeLayer","userObject","DndProvider","backend","MultiBackend","HTML5toTouch","Helmet","href","flexWrap","containers_SiteBuilder_SiteBuilder","containers_AdvancedBar_AdvancedBar","ReserveWebsite","_useDragLayer","useDragLayer","monitor","getItem","currentOffset","getDifferenceFromInitialOffset","delayedChange","useCallback","throttle","y","x","noShowAlert","sessionStorage","tryWebsiter","allow","handleButtonClick","react__WEBPACK_IMPORTED_MODULE_1___default","antd_es_dropdown__WEBPACK_IMPORTED_MODULE_6__","buttonsRender","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","leftButton","antd_es_tooltip__WEBPACK_IMPORTED_MODULE_4__","antd_es_button__WEBPACK_IMPORTED_MODULE_5__","_ant_design_icons_DownOutlined__WEBPACK_IMPORTED_MODULE_7___default","Container","LastContainer","reactTabs","reactTabsTabPanelSelected","reactTabsTab","TabSelected","mainContainer","heightControll","widthControll","TabList","setSizeIsChanging","_useDrag","useDrag","begin","_useDrag2","drag","preview","getEmptyImage","captureDraggingState","borderBottom","Hovered","ChosenBlur","ChosenGreen","IconsContainer","IconsContainerPage","IconsContainerNotPage","TreeContainer","selectContainer","older","younger","some","d","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","parentPropsBlur","parentPropsFocus","parentPropsMaxLength","parentPropsMaxWidth","react__WEBPACK_IMPORTED_MODULE_2___default","InspectorDiv","react_autocomplete__WEBPACK_IMPORTED_MODULE_3___default","shouldItemRender","getItemValue","renderItem","isHighlighted","ItemHighlighted","renderMenu","styles","paddingBottom","renderInput","inputEl","InputHidden","doBuildItems","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","ImageContainer","ImageInput","handleSearchOnChange","_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_3__","_ant_design_icons_LeftOutlined__WEBPACK_IMPORTED_MODULE_4___default","selectPrevMatch","_ant_design_icons_RightOutlined__WEBPACK_IMPORTED_MODULE_5___default","selectNextMatch","_ant_design_icons_CloseOutlined__WEBPACK_IMPORTED_MODULE_6___default","pluginElementsStructures","resourceDraftStructure","resourceDraftValues","structureWithPluginChildren","populateStructureWithPluginChildrenAndPropagating","copyBox","cutBox","pasteBox","inside","duplicateBox","mergeBoxToPlugin","onlyChildren","dissolvePluginToBox","searchOnHover","structureIds","saveStructureIds","newStructureIds","getBoxType","generateButtonRules","_UI_ControlPanel__WEBPACK_IMPORTED_MODULE_22__","_Buttons__WEBPACK_IMPORTED_MODULE_17__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_5__","prevParent","allModules","forChildren","searchMethod2","_UI_TreeSearch_TreeSearch__WEBPACK_IMPORTED_MODULE_10__","_UI_OverlayOnSizeIsChanging_OverlayOnSizeIsChanging__WEBPACK_IMPORTED_MODULE_18__","websiterDrawer","websiterGallery","OlContainer","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","pagesStructureWithAll","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","menuItem","handleOnePropertyChange","newMenuItems","react__WEBPACK_IMPORTED_MODULE_4___default","_UI_ControlPanel__WEBPACK_IMPORTED_MODULE_19__","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_16__","_ant_design_icons_DeleteOutlined__WEBPACK_IMPORTED_MODULE_8___default","react_sortable_tree__WEBPACK_IMPORTED_MODULE_6__","_result","newItems","findNewItem","newCurrentMenuId","saveItems","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_containers_AdvancedBar_SizeDragController_SizeDragController__WEBPACK_IMPORTED_MODULE_15__","antd_es_tabs__WEBPACK_IMPORTED_MODULE_7__","_UI_TextInput_TextInput__WEBPACK_IMPORTED_MODULE_17__","unControlled","uniqueId","antd_es_switch__WEBPACK_IMPORTED_MODULE_20__","datatestid","wrong","createContext","Consumer","SectionHeight","InnerDiv","touchDrag","DropDown","Label","populateStructure","currentResourceItem","excludeItems","pluginItem","pluginElementStructure","neededChildren","currentChildren","existingChild","newElement","neededChildrenNames","addMenu","antd_es_menu__WEBPACK_IMPORTED_MODULE_3__","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_2__","_ant_design_icons_PlusOutlined__WEBPACK_IMPORTED_MODULE_4___default","antd_es_divider__WEBPACK_IMPORTED_MODULE_10__","_ant_design_icons_FullscreenExitOutlined__WEBPACK_IMPORTED_MODULE_5___default","_ant_design_icons_FullscreenOutlined__WEBPACK_IMPORTED_MODULE_6___default","_ant_design_icons_DeleteOutlined__WEBPACK_IMPORTED_MODULE_7___default","_ant_design_icons_SearchOutlined__WEBPACK_IMPORTED_MODULE_8___default","_ant_design_icons_RedoOutlined__WEBPACK_IMPORTED_MODULE_9___default"],"mappings":"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CI,GAuCfA,EAAQsG,UAAY,CAChBtQ,SAAUkM,EAAYpB,QAAQ6F,QAAQM,WACtC5C,gBAAiBnC,EAAYpB,QAAQ2F,KAAKQ,WAC1C3C,iBAAkBpC,EAAYpB,QAAQ2F,KAAKQ,YAE/ChU,EAAQ6N,QAAUd,iICrHlBhN,EAAAC,QAAA,CAAkBgN,QAAA,4HCDHiH,EAAA,CACX,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,OACA,WACA,MACA,MACA,UACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,MACA,MACA,KACA,KACA,UACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,UACA,MACA,SACA,QACA,SACA,KACA,OACA,UACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,OACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,YACA,YACA,MACA,WACA,IACA,aACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MACA,iBACA,eACA,kBACA,4EC0SWnT,gBAjDS,SAACC,EAAO/B,GAC5B,IAAMkV,EAAcnT,EAAM+F,GAAGqN,IAAmBnV,EAAMO,OAAO6U,UAAUC,KACnE,SAAAC,GAAI,OAAIA,EAAKjT,KAAOrC,EAAMoD,KAAKf,KAEnC,OAAK6S,EAGE,CACHK,aACIxT,EAAM+F,GAAGqN,IAAmBnV,EAAMO,OAAOiV,aACzCN,EAAY7S,GAChBoT,UAAW1T,EAAM2T,kBAAoB1V,EAAMO,KAAO,WAClD2U,cACAS,kBACI5T,EAAM+F,GAA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","file":"static/js/4.449b905d.chunk.js","sourcesContent":["// import type { Props } from '../ElementsTree'\n\nexport default (props, currentBoxType) => {\n    if (currentBoxType === 'trash') return {}\n    const buttonRules = {}\n\n    if (\n        currentBoxType !== 'isCMSVariable' &&\n        currentBoxType !== 'isElementFromCMSVariable' &&\n        currentBoxType !== 'CMSRoute' &&\n        currentBoxType !== 'isFromPropagatingPlugin'\n    )\n        buttonRules.addText = true\n\n    if (\n        currentBoxType !== 'CMSRoute' &&\n        currentBoxType !== 'isFromPropagatingPlugin'\n    )\n        buttonRules.addFromCMSVariable = true\n\n    if (\n        ![\n            'childrenTo',\n            'isElementFromCMSVariable',\n            'isFromPropagatingPlugin',\n            'headBody',\n            'html',\n        ].includes(currentBoxType)\n    )\n        buttonRules.addNext = true\n\n    if (props.mode === 'plugin') buttonRules.addChildren = true\n\n    if (\n        currentBoxType !== 'plugin' &&\n        currentBoxType !== 'children' &&\n        currentBoxType !== 'isElementFromCMSVariable' &&\n        currentBoxType !== 'text'\n    )\n        buttonRules.addInside = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'text' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children'\n    )\n        buttonRules.duplicate = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'text')\n        buttonRules.mergeToPlugin = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'headBody')\n        buttonRules.mergeToPluginChildren = true\n\n    if (currentBoxType === 'plugin') buttonRules.dissolve = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children' ||\n        currentBoxType === 'isElementFromCMSVariable' ||\n        currentBoxType === 'isCMSVariable' ||\n        currentBoxType === 'text'\n    )\n        buttonRules.delete = true\n\n    return buttonRules\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"TextProperty_Textarea__2wNAE\",\"Editors\":\"TextProperty_Editors__3uGEn\",\"SelectContainer\":\"TextProperty_SelectContainer__zyD1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"ParseProperty_Textarea__3tqLc\",\"Editors\":\"ParseProperty_Editors__3-_wF\",\"SelectContainer\":\"ParseProperty_SelectContainer__1uKK3\"};","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectWithoutProperties,\n    isDescendant,\n    _toConsumableArray,\n    _objectSpread,\n} from '../../../../utils/sortTreeMethods'\nimport Svg from '../../../Svg/Svg'\n\n// import type {\n//     menuItemType,\n//     initialStateType,\n// } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     chooseMenuItem: typeof actions.chooseMenuItem,\n//     changeMenuItemProperty: typeof actions.changeMenuItemProperty,\n//     resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n//     connectDragPreview: Function,\n//     scaffoldBlockPxWidth: number,\n//     toggleChildrenVisibility: Function,\n//     connectDragPreview: Function,\n//     connectDragSource: Function,\n//     isDragging: boolean,\n//     canDrop: boolean,\n//     canDrag: boolean,\n//     node: menuItemType & { children: Array<menuItemType>, expanded: boolean },\n//     draggedNode: {},\n//     path: Array<string>,\n//     treeIndex: number,\n//     isSearchMatch: boolean,\n//     isSearchFocus: boolean,\n//     className: string,\n//     style: string,\n//     didDrop: boolean,\n//     currentPage: $PropertyType<initialStateType, 'currentPage'>,\n//     currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n//     currentTemplate: $PropertyType<initialStateType, 'currentTemplate'>,\n// }\n\nconst ItemRenderer = props => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop,\n        otherProps = _objectWithoutProperties(_this$props, [\n            'scaffoldBlockPxWidth',\n            'toggleChildrenVisibility',\n            'connectDragPreview',\n            'connectDragSource',\n            'isDragging',\n            'canDrop',\n            'canDrag',\n            'node',\n            'title',\n            'subtitle',\n            'draggedNode',\n            'path',\n            'treeIndex',\n            'isSearchMatch',\n            'isSearchFocus',\n            'buttons',\n            'className',\n            'style',\n            'didDrop',\n            'treeId',\n            'isOver',\n            'parentNode',\n            'currentPage',\n            'currentPlugin',\n            'resourcesObjects',\n            'chooseMenuItem',\n            'changeMenuItemProperty',\n            'isSub',\n            'name',\n            'id',\n            'sourceItem',\n            'type',\n            'generatedFrom',\n            'rowDirection',\n            'currentTemplate',\n        ])\n\n    var handle\n\n    if (canDrag) {\n        if (typeof node.children === 'function' && node.expanded) {\n            handle = (\n                <div className={classes.rst__loadingHandle}>\n                    <div className={classes.rst__loadingCircle}>\n                        {_toConsumableArray(new Array(12)).map(function(\n                            _,\n                            index\n                        ) {\n                            return (\n                                <div\n                                    key={index}\n                                    className={classes.rst__loadingCirclePoint}\n                                />\n                            )\n                        })}\n                        )}\n                    </div>\n                </div>\n            )\n        } else {\n            handle = connectDragSource(\n                <div className={classes.rst__moveHandle}>\n                    <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg>' />\n                </div>\n            )\n        }\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, sourceItem, type, generatedFrom } = props.node\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } }, otherProps)}\n            onMouseDown={() => props.changeBoxPropertyInValues(type, id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {sourceItem ? (\n                                    name\n                                ) : (\n                                    <InspectorValue\n                                        value={name}\n                                        blur={value =>\n                                            props.changeMenuItemProperty(\n                                                type,\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        maxLength=\"30\"\n                                        maxWidth=\"220px\"\n                                    />\n                                )}\n                            </div>\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                <div>\n                                    {generatedFrom === 'link' ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"></path></svg>' />\n                                    ) : generatedFrom === 'variable' ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        userId: state.userId,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        changeBoxPropertyInValues: (type, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(\n                    type,\n                    'currentMenuItem',\n                    id,\n                    true\n                )\n            ),\n        changeMenuItemProperty: (type, key, value, itemId) =>\n            dispatch(actions.changeMenuItemProperty(type, key, value, itemId)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"TextInput_Div__1cUnp\",\"Input\":\"TextInput_Input__iGsIp\",\"StyleControls\":\"TextInput_StyleControls__2aGfC\",\"Wrong\":\"TextInput_Wrong__2kJTR\",\"Inline\":\"TextInput_Inline__3BzMb\",\"Right\":\"TextInput_Right__3iZqV\"};","import React, { memo } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../../../../components/ResourcesTree/ResourcesTree.module.css'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport SmallButton from '../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport ItemRenderer from './ItemRenderer'\nimport * as wsActions from '../../../../websocketActions'\nimport isEqual from 'lodash/isEqual'\nimport OverlayOnSizeIsChanging from '../../../../components/UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport Divider from 'antd/es/divider'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\nimport ControlPanel from '../../../../components/UI/ControlPanel'\n\n// type Props = {\n//     notVirtual?: boolean,\n// }\n\nconst WebsitesTree = props => (\n    <>\n        <ControlPanel>\n            <SmallButton\n                title=\"Add\"\n                buttonClicked={() => props.addWebsite()}\n                icon={<PlusOutlined />}\n                tooltip=\"Add a new website\"\n            />\n            <Divider type=\"vertical\" />\n            {/* <SmallButton\n                    mD={props.mD}\n                    inline\n                    buttonClicked={() => wsActions.addWebsite(props.mD, true)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    tooltip=\"Duplicate website\"\n                /> */}\n            <SmallButton\n                title=\"Delete\"\n                buttonClicked={() => props.deleteWebsite()}\n                icon={<DeleteOutlined />}\n                tooltip=\"Delete website.<br>This action can not be reverted.\"\n            />\n        </ControlPanel>\n        <div className={classes.TreeContainer}>\n            <SortableTree\n                treeData={props.treeData}\n                onChange={() => {}}\n                nodeContentRenderer={ItemRenderer}\n                canDrop={() => false}\n                canDrag={() => false}\n                generateNodeProps={({ node }) => ({\n                    className:\n                        node.id === props.currentWebsiteId\n                            ? [classes.Chosen]\n                            : null,\n                })}\n                isVirtualized={!props.notVirtual}\n                onMoveNode={({ node, treeIndex, path }) =>\n                    global.console.debug(\n                        'node:',\n                        node,\n                        'treeIndex:',\n                        treeIndex,\n                        'path:',\n                        path\n                    )\n                }\n                scaffoldBlockPxWidth={22}\n                rowHeight={20}\n                style={{\n                    flex: '1 1',\n                    height: 'auto !important',\n                    overflow: 'auto',\n                }}\n                slideRegionSize={20}\n            />\n            <OverlayOnSizeIsChanging />\n        </div>\n    </>\n)\n\nconst mapStateToProps = state => {\n    const treeData = state.mD.websites.map(website => {\n        return {\n            name: state.resourcesObjects[website.id]\n                ? state.resourcesObjects[website.id].name\n                : 'Loading...',\n            id: website.id,\n            children: {},\n        }\n    })\n    return {\n        treeData,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addWebsite: () => dispatch(wsActions.addWebsite()),\n        deleteWebsite: () => dispatch(wsActions.deleteWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(\n        WebsitesTree,\n        (prevProps, nextProps) =>\n            isEqual(prevProps.treeData, nextProps.treeData) &&\n            prevProps.currentWebsiteId === nextProps.currentWebsiteId\n    )\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './WebsitesTree.module.css'\nimport InspectorValue from '../../../../components/UI/InspectorValue/InspectorValue'\nimport { _extends, _objectSpread } from '../../../../utils/sortTreeMethods'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport * as wsActions from '../../../../websocketActions'\n\n// import type { initialStateType } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     chooseWebsite: typeof actions.chooseWebsite,\n//     connectDragPreview: Function,\n//     className: string,\n//     style: string,\n//     node: { name: string, id: string },\n//     userId: $PropertyType<initialStateType, 'userId'>,\n// }\n\nconst ItemRenderer = props => {\n    var _this$props = props,\n        connectDragPreview = _this$props.connectDragPreview,\n        className = _this$props.className,\n        style = _this$props.style\n\n    const { name, id } = props.node\n    const rowClasses = [classes.rst__row, className]\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => {\n                props.chooseWebsite(id)\n            }}\n            data-testid={name}\n        >\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            className={[\n                                classes.rst__rowContents,\n                                classes.rst__rowContentsDragDisabled,\n                            ].join(' ')}\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <InspectorValue\n                                    value={name}\n                                    items={[]}\n                                    blur={value => {\n                                        if (!props.checkUserRights(['owner']))\n                                            return\n                                        else if (value !== name)\n                                            wsActions.changeWebsiteProperty(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                    }}\n                                    withState\n                                    maxLength=\"30\"\n                                    maxWidth=\"220px\"\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseWebsite: id => dispatch(actions.chooseWebsite(id)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"WebsitesTree_rst__virtualScrollOverride__3zbIC\",\"ReactVirtualized__Grid__innerScrollContainer\":\"WebsitesTree_ReactVirtualized__Grid__innerScrollContainer__2P6dm\",\"rst__rtl\":\"WebsitesTree_rst__rtl__3iVcx\",\"ReactVirtualized__Grid\":\"WebsitesTree_ReactVirtualized__Grid__1cJYw\",\"rst__node\":\"WebsitesTree_rst__node__3jU7p\",\"rst__nodeContent\":\"WebsitesTree_rst__nodeContent__29s16\",\"rst__lineBlock\":\"WebsitesTree_rst__lineBlock__1_T2J\",\"rst__absoluteLineBlock\":\"WebsitesTree_rst__absoluteLineBlock__4gyz3\",\"rst__lineHalfHorizontalRight\":\"WebsitesTree_rst__lineHalfHorizontalRight__1IMJ8\",\"rst__lineFullVertical\":\"WebsitesTree_rst__lineFullVertical__1OWaW\",\"rst__lineHalfVerticalTop\":\"WebsitesTree_rst__lineHalfVerticalTop__39jCq\",\"rst__lineHalfVerticalBottom\":\"WebsitesTree_rst__lineHalfVerticalBottom__2qsPL\",\"rst__highlightLineVertical\":\"WebsitesTree_rst__highlightLineVertical__2DrSL\",\"arrow-pulse\":\"WebsitesTree_arrow-pulse__3fbyg\",\"rst__highlightTopLeftCorner\":\"WebsitesTree_rst__highlightTopLeftCorner__1VjlE\",\"rst__highlightBottomLeftCorner\":\"WebsitesTree_rst__highlightBottomLeftCorner__8cL4Q\",\"rst__rowWrapper\":\"WebsitesTree_rst__rowWrapper__3N8x9\",\"rst__row\":\"WebsitesTree_rst__row__sOpMM\",\"rst__rowLandingPad\":\"WebsitesTree_rst__rowLandingPad__8iBh_\",\"rst__rowCancelPad\":\"WebsitesTree_rst__rowCancelPad__168WQ\",\"rst__rowSearchMatch\":\"WebsitesTree_rst__rowSearchMatch__3tvfk\",\"rst__rowSearchFocus\":\"WebsitesTree_rst__rowSearchFocus__i0tQK\",\"rst__rowContents\":\"WebsitesTree_rst__rowContents__2gjT5\",\"rst__rowLabel\":\"WebsitesTree_rst__rowLabel__2vqlv\",\"rst__rowToolbar\":\"WebsitesTree_rst__rowToolbar__1ywUi\",\"rst__moveHandle\":\"WebsitesTree_rst__moveHandle__ZTCAp\",\"rst__toolbarButton\":\"WebsitesTree_rst__toolbarButton__1WSvf\",\"rst__rowContentsDragDisabled\":\"WebsitesTree_rst__rowContentsDragDisabled__UefNT\",\"rst__loadingHandle\":\"WebsitesTree_rst__loadingHandle__3Nd3-\",\"rst__loadingCircle\":\"WebsitesTree_rst__loadingCircle__2N8ti\",\"rst__loadingCirclePoint\":\"WebsitesTree_rst__loadingCirclePoint__2UkRf\",\"pointFade\":\"WebsitesTree_pointFade__3_7pL\",\"rst__rowTitle\":\"WebsitesTree_rst__rowTitle__3cKTG\",\"rst__rowTitleWithSubtitle\":\"WebsitesTree_rst__rowTitleWithSubtitle__1PmlO\",\"rst__rowSubtitle\":\"WebsitesTree_rst__rowSubtitle__3UVA_\",\"rst__collapseButton\":\"WebsitesTree_rst__collapseButton__33uiF\",\"rst__expandButton\":\"WebsitesTree_rst__expandButton__1Xkuw\",\"rst__lineChildren\":\"WebsitesTree_rst__lineChildren__2vODD\",\"rst__placeholder\":\"WebsitesTree_rst__placeholder__2LIHl\",\"rst__placeholderLandingPad\":\"WebsitesTree_rst__placeholderLandingPad__1pKvB\",\"rst__placeholderCancelPad\":\"WebsitesTree_rst__placeholderCancelPad__3-6r7\",\"ReactVirtualized__Table__headerRow\":\"WebsitesTree_ReactVirtualized__Table__headerRow__29v2k\",\"ReactVirtualized__Table__row\":\"WebsitesTree_ReactVirtualized__Table__row__1YT8P\",\"ReactVirtualized__Table__headerTruncatedText\":\"WebsitesTree_ReactVirtualized__Table__headerTruncatedText__3M-mT\",\"ReactVirtualized__Table__headerColumn\":\"WebsitesTree_ReactVirtualized__Table__headerColumn__VGmzH\",\"ReactVirtualized__Table__rowColumn\":\"WebsitesTree_ReactVirtualized__Table__rowColumn__3lTTO\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderColumn__2q3-M\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIconContainer__UrZlv\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIcon__X_qVi\",\"Chosen\":\"WebsitesTree_Chosen__4l8J5\",\"Loaded\":\"WebsitesTree_Loaded__3Jl7q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"DomainsProperties_Span__2bgyT\",\"Input\":\"DomainsProperties_Input__1sfvF\",\"Button\":\"DomainsProperties_Button__1eWcl\",\"LocalDomain\":\"DomainsProperties_LocalDomain__2LikX\",\"Title\":\"DomainsProperties_Title__1O_-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"SharingProperties_Span__2_cvY\",\"Input\":\"SharingProperties_Input__t_zUN\",\"Button\":\"SharingProperties_Button__9sYGP\",\"LocalDomain\":\"SharingProperties_LocalDomain__GHfyW\",\"Title\":\"SharingProperties_Title__2OTNF\",\"SharingTable\":\"SharingProperties_SharingTable__3D-F0\",\"Active\":\"SharingProperties_Active__1jgt1\",\"Ava\":\"SharingProperties_Ava__3tBDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"SiteBuilder_Content__1Cixl\",\"Overlay\":\"SiteBuilder_Overlay__Ed0dz\"};","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContext = undefined\n\nvar _Context = require('./Context')\n\nObject.defineProperty(exports, 'FrameContext', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContext\n    },\n})\nObject.defineProperty(exports, 'FrameContextConsumer', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContextConsumer\n    },\n})\n\nvar _Frame = require('./Frame')\n\nvar _Frame2 = _interopRequireDefault(_Frame)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nexports.default = _Frame2.default\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _extends =\n    Object.assign ||\n    function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i]\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key]\n                }\n            }\n        }\n        return target\n    }\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _reactDom = require('react-dom')\n\nvar _reactDom2 = _interopRequireDefault(_reactDom)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nvar _Context = require('./Context')\n\nvar _Content = require('./Content')\n\nvar _Content2 = _interopRequireDefault(_Content)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n}\n\nvar Frame = (function(_Component) {\n    _inherits(Frame, _Component)\n\n    // React warns when you render directly into the body since browser extensions\n    // also inject into the body and can mess up React. For this reason\n    // initialContent is expected to have a div inside of the body\n    // element that we render react into.\n    function Frame(props, context) {\n        _classCallCheck(this, Frame)\n\n        var _this = _possibleConstructorReturn(\n            this,\n            (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(\n                this,\n                props,\n                context\n            )\n        )\n\n        _this.handleLoad = function() {\n            _this.forceUpdate()\n        }\n\n        _this._isMounted = false\n        return _this\n    }\n\n    _createClass(Frame, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this._isMounted = true\n\n                var doc = this.getDoc()\n                if (doc && doc.readyState === 'complete') {\n                    this.forceUpdate()\n                } else {\n                    this.node.addEventListener('load', this.handleLoad)\n                }\n            },\n        },\n        {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this._isMounted = false\n\n                this.node.removeEventListener('load', this.handleLoad)\n            },\n        },\n        {\n            key: 'getDoc',\n            value: function getDoc() {\n                return this.node.contentDocument // eslint-disable-line\n            },\n        },\n        {\n            key: 'getMountTarget',\n            value: function getMountTarget() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.body\n            },\n        },\n        {\n            key: 'getMountTargetHtml',\n            value: function getMountTargetHtml() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.documentElement\n            },\n        },\n        {\n            key: 'renderFrameContents',\n            value: function renderFrameContents() {\n                if (!this._isMounted) {\n                    return null\n                }\n\n                var doc = this.getDoc()\n\n                var contentDidMount = this.props.contentDidMount\n                var contentDidUpdate = this.props.contentDidUpdate\n\n                var win = doc.defaultView || doc.parentView\n                if (this.props.updateHead) this._setInitialContent = false\n                var initialRender = !this._setInitialContent\n                var contents = _react2.default.createElement(\n                    _Content2.default,\n                    {\n                        contentDidMount: contentDidMount,\n                        contentDidUpdate: contentDidUpdate,\n                    },\n                    _react2.default.createElement(\n                        _Context.FrameContextProvider,\n                        { value: { document: doc, window: win } },\n\n                        this.props.children\n                    )\n                )\n\n                if (initialRender) {\n                    doc.open('text/html', 'replace')\n                    doc.write(\n                        '<!DOCTYPE html><html><head>' +\n                            this.props.base +\n                            '</head><body></body></html>'\n                    )\n                    doc.close()\n                    this._setInitialContent = true\n                }\n                function decodeEntities(encodedString) {\n                    var textArea = document.createElement('textarea')\n                    textArea.innerHTML = encodedString\n                    return textArea.value\n                }\n                doc.head.innerHTML =\n                    decodeEntities(this.props.initialContent) + this.props.base\n\n                // .replace(\n                //     /&(l|g|quo)t;/g,\n                //     function(a, b) {\n                //         return {\n                //             l: '<',\n                //             g: '>',\n                //             quo: '\"',\n                //         }[b]\n                //     }\n                // )\n\n                var mountTarget = this.getMountTarget()\n                for (let attr in this.props.bodyProps) {\n                    mountTarget.setAttribute(attr, this.props.bodyProps[attr])\n                }\n\n                var mountTargetHtml = this.getMountTargetHtml()\n                for (let attr in this.props.htmlProps) {\n                    mountTargetHtml.setAttribute(\n                        attr,\n                        this.props.htmlProps[attr]\n                    )\n                }\n                return [\n                    //_reactDom2.default.createPortal(this.props.head, this.getDoc().head),\n                    _reactDom2.default.createPortal(contents, mountTarget),\n                ]\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                var _this2 = this\n\n                var props = _extends({}, this.props, {\n                    children: undefined, // The iframe isn't ready so we drop children from props here. #12, #17\n                })\n                delete props.head\n                delete props.initialContent\n                delete props.mountTarget\n                delete props.contentDidMount\n                delete props.contentDidUpdate\n                delete props.bodyProps\n                delete props.htmlProps\n                delete props.base\n                return _react2.default.createElement(\n                    'iframe',\n                    _extends({}, props, {\n                        ref: function ref(node) {\n                            _this2.node = node\n                        },\n                    }),\n                    this.renderFrameContents()\n                )\n            },\n        },\n    ])\n\n    return Frame\n})(_react.Component)\n\nFrame.propTypes = {\n    style: _propTypes2.default.object, // eslint-disable-line\n    head: _propTypes2.default.node,\n    base: _propTypes2.default.string,\n    bodyProps: _propTypes2.default.object,\n    htmlProps: _propTypes2.default.object,\n    initialContent: _propTypes2.default.string,\n    mountTarget: _propTypes2.default.string,\n    contentDidMount: _propTypes2.default.func,\n    contentDidUpdate: _propTypes2.default.func,\n    children: _propTypes2.default.oneOfType([\n        _propTypes2.default.element,\n        _propTypes2.default.arrayOf(_propTypes2.default.element),\n    ]),\n}\nFrame.defaultProps = {\n    style: {},\n    base: '',\n    head: null,\n    bodyProps: {},\n    htmlProps: {},\n    children: undefined,\n    mountTarget: undefined,\n    contentDidMount: function contentDidMount() {},\n    contentDidUpdate: function contentDidUpdate() {},\n    initialContent: '<!DOCTYPE html><html><head></head><body></body></html>',\n}\nexports.default = Frame\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n} // eslint-disable-line no-unused-vars\n\nvar Content = (function(_Component) {\n    _inherits(Content, _Component)\n\n    function Content() {\n        _classCallCheck(this, Content)\n\n        return _possibleConstructorReturn(\n            this,\n            (Content.__proto__ || Object.getPrototypeOf(Content)).apply(\n                this,\n                arguments\n            )\n        )\n    }\n\n    _createClass(Content, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this.props.contentDidMount()\n            },\n        },\n        {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                this.props.contentDidUpdate()\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                return _react.Children.only(this.props.children)\n            },\n        },\n    ])\n\n    return Content\n})(_react.Component)\n\nContent.propTypes = {\n    children: _propTypes2.default.element.isRequired,\n    contentDidMount: _propTypes2.default.func.isRequired,\n    contentDidUpdate: _propTypes2.default.func.isRequired,\n}\nexports.default = Content\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__3WlT_\"};","export default [\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'base',\n    'basefont',\n    'bdi',\n    'bdo',\n    'bgsound',\n    'big',\n    'blink',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'content',\n    'data',\n    'datalist',\n    'dd',\n    'decorator',\n    'del',\n    'details',\n    'dfn',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'element',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'isindex',\n    'kbd',\n    'keygen',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'map',\n    'mark',\n    'marquee',\n    'menu',\n    'menuitem',\n    'meta',\n    'meter',\n    'nav',\n    'nobr',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'parseHTML',\n    'plaintext',\n    'pre',\n    'progress',\n    'q',\n    'richEditor',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'shadow',\n    'small',\n    'source',\n    'spacer',\n    'span',\n    'strike',\n    'strong',\n    'style',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'title',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n    'websiterDrawer',\n    'websiterMenu',\n    'websiterGallery',\n    'xmp',\n]\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n} from '../../../utils/sortTreeMethods'\nimport tagItems from '../../../utils/tagItems'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\n\n// import type {\n//     initialStateType,\n//     elementType,\n//     resourceType,\n// } from '../../../store/reducer/reducer'\n\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport { SmallButton } from '../../UI/Buttons/SmallButton/SmallButton'\nimport Svg from '../../Svg/Svg'\n\n// type Props = {\n//     changeBoxProperty: typeof actions.changeBoxProperty,\n//     chooseBox: typeof actions.chooseBox,\n//     hoverBox: typeof actions.hoverBox,\n//     unhoverBox: typeof actions.unhoverBox,\n//     connectDragPreview: Function,\n//     scaffoldBlockPxWidth: number,\n//     toggleChildrenVisibility: Function,\n//     connectDragPreview: Function,\n//     connectDragSource: Function,\n//     isDragging: boolean,\n//     canDrop: boolean,\n//     canDrag: boolean,\n//     node & {\n//         children: Array<elementType>,\n//         expanded: boolean,\n//         resourceDraft: resourceType,\n//         currentResource:\n//             | $PropertyType<initialStateType, 'currentPage'>\n//             | $PropertyType<initialStateType, 'currentPlugin'>,\n//         pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n//         mode: 'page' | 'plugin',\n//         itemPath: Array<{}>,\n//     },\n//     draggedNode: {},\n//     path: Array<string>,\n//     treeIndex: number,\n//     isSearchMatch: boolean,\n//     isSearchFocus: boolean,\n//     className: string,\n//     style: string,\n//     didDrop: boolean,\n//     type: 'page' | 'plugin' | 'template',\n//     tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n//     websites: $PropertyType<initialStateType, 'websites'>,\n//     loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n//     userId: $PropertyType<initialStateType, 'userId'>,\n//     mode: string,\n// }\n\nconst ItemRenderer = props => {\n    if (!props.currentNode) return null\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg>' />\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { id, mode, itemPath } = props.node\n\n    const {\n        currentResource,\n        pluginsStructure,\n        currentNodeValues,\n        isCurrentBox,\n    } = props\n\n    const {\n        tag,\n        text,\n        isChildren,\n        isElementFromCMSVariable,\n        childrenTo,\n        isPropagatingItem,\n    } = props.currentNode\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive)\n        rowClasses.push(\n            isCurrentBox\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : id === props.hoveredElementId\n                ? [classes.Hovered]\n                : null\n        )\n\n    const handleRename = value => {\n        if (\n            !props.checkUserRights(\n                props.mode === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        if (value !== tag) {\n            if (mode === 'plugin') {\n                const currentPlugin = pluginsStructure.find(\n                    item => item.id === currentResource\n                )\n                if (!currentPlugin) return\n                if (value === currentPlugin.name) {\n                    alert('Plugin can not be inside itself.')\n                    return\n                }\n            }\n            props.changeBoxPropertyInStructure(mode, 'tag', value, false, id)\n        }\n    }\n    return (\n        <div\n            // {..._extends({ style: { height: '100%' } }, otherProps)}\n            {..._extends({ style: { height: '100%' } }, {})}\n            onMouseDown={() => props.chooseBox(mode, id)}\n            // onMouseEnter={() => props.hoverBox(id, mode)}\n            // onMouseMove={() => props.hoverBox(id, mode)}\n            // onMouseLeave={() => props.unhoverBox()}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread({\n                            opacity: isDraggedDescendant ? 0.5 : 1,\n                        })}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {text && currentNodeValues ? (\n                                    'text' +\n                                    (currentNodeValues.textContent\n                                        ? ' - \"' +\n                                          currentNodeValues.textContent.substr(\n                                              0,\n                                              25\n                                          ) +\n                                          (currentNodeValues.textContent\n                                              .length > 25\n                                              ? '...'\n                                              : '') +\n                                          '\"'\n                                        : '')\n                                ) : (\n                                    <>\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? '<'\n                                            : isElementFromCMSVariable\n                                            ? 'From CMS variable - '\n                                            : ''}\n                                        {(mode === 'plugin' &&\n                                            itemPath.length > 0) ||\n                                        ((mode === 'template' &&\n                                            itemPath.length > 1) ||\n                                            itemPath[0] === 'element_02') ||\n                                        isPropagatingItem ? (\n                                            props.checkUserRights(\n                                                mode === 'page'\n                                                    ? ['content']\n                                                    : ['developer'],\n                                                true\n                                            ) ? (\n                                                <InspectorValue\n                                                    readonly={childrenTo}\n                                                    value={tag}\n                                                    items={tagItems.map(\n                                                        item => {\n                                                            return {\n                                                                abbr: item,\n                                                                name: item,\n                                                            }\n                                                        }\n                                                    )}\n                                                    blur={handleRename}\n                                                    withState\n                                                    maxLength=\"30\"\n                                                    maxWidth=\"220px\"\n                                                />\n                                            ) : (\n                                                tag\n                                            )\n                                        ) : (\n                                            tag\n                                        )}\n                                        {currentNodeValues ? (\n                                            currentNodeValues.properties ? (\n                                                <>\n                                                    {currentNodeValues\n                                                        .properties.id\n                                                        ? ` id=\"${currentNodeValues.properties.id.substr(\n                                                              0,\n                                                              25\n                                                          ) +\n                                                              (currentNodeValues\n                                                                  .properties.id\n                                                                  .length > 25\n                                                                  ? '...'\n                                                                  : '')}\"`\n                                                        : ''}\n                                                    {currentNodeValues\n                                                        .properties.class\n                                                        ? ` class=\"${currentNodeValues.properties.class.substr(\n                                                              0,\n                                                              25\n                                                          ) +\n                                                              (currentNodeValues\n                                                                  .properties\n                                                                  .class\n                                                                  .length > 25\n                                                                  ? '...'\n                                                                  : '')}\"`\n                                                        : ''}\n                                                </>\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )}\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? ' >'\n                                            : isElementFromCMSVariable\n                                            ? ''\n                                            : ' (inherited children)'}\n                                    </>\n                                )}\n                            </div>\n                            {mode === 'page' ? (\n                                <div>\n                                    {(currentNodeValues.CMSVariableType &&\n                                        currentNodeValues.CMSVariableType.indexOf(\n                                            'propagating_'\n                                        ) === 0) ||\n                                    currentNodeValues.CMSVariableType ===\n                                        'array' ? (\n                                        <SmallButton\n                                            inline\n                                            buttonClicked={() => {\n                                                if (\n                                                    !props.checkUserRights([\n                                                        'content',\n                                                    ])\n                                                )\n                                                    return\n                                                props.addBox(mode, 'inside')\n                                            }}\n                                            icon={<PlusOutlined />}\n                                            tooltip=\"Add a new item inside the chosen element (Ctrl + A)\"\n                                            // requiredRights={['content']}\n                                        />\n                                    ) : null}\n                                    {isPropagatingItem ? (\n                                        <>\n                                            {itemPath.length > 0 &&\n                                            itemPath[0] !== 'trash' ? (\n                                                <SmallButton\n                                                    inline\n                                                    buttonClicked={() => {\n                                                        if (\n                                                            !props.checkUserRights(\n                                                                ['content']\n                                                            )\n                                                        )\n                                                            return\n                                                        props.addBox(mode)\n                                                    }}\n                                                    icon={<PlusOutlined />}\n                                                    tooltip=\"Add a new item below (Ctrl + A)\"\n                                                    // requiredRights={['content']}\n                                                />\n                                            ) : null}\n                                            <SmallButton\n                                                inline\n                                                buttonClicked={() => {\n                                                    if (\n                                                        !props.checkUserRights([\n                                                            'content',\n                                                        ])\n                                                    )\n                                                        return\n                                                    props.deleteBox(mode, true)\n                                                }}\n                                                icon={<DeleteOutlined />}\n                                                tooltip=\"Delete item (Delete)\"\n                                                // requiredRights={['content']}\n                                            />\n                                        </>\n                                    ) : null}\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const currentNode = state.mD[resourceDraftIndex[props.mode]].structure.find(\n        item => item.id === props.node.id\n    )\n    if (!currentNode) {\n        return {}\n    }\n    return {\n        isCurrentBox:\n            state.mD[resourceDraftIndex[props.mode]].currentBox ===\n            currentNode.id,\n        isFocused: state.activeContainer === props.mode + 'elements',\n        currentNode,\n        currentNodeValues:\n            state.mD[resourceDraftIndex[props.mode]].values[currentNode.id],\n        currentResource: state.mD[currentIndex[props.mode]],\n        pluginsStructure: state.mD.pluginsStructure,\n        hoveredElementId: -100,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        chooseBox: (type, id) => dispatch(actions.chooseBox(type, id)),\n        changeBoxPropertyInStructure: (\n            type,\n            key,\n            value,\n            notForHistory,\n            boxId\n        ) =>\n            dispatch(\n                actions.changeBoxPropertyInStructure(\n                    type,\n                    key,\n                    value,\n                    false,\n                    boxId\n                )\n            ),\n        hoverBox: (id, mode) => dispatch(actions.hoverBox(id, mode)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        addBox: (mode, type) => dispatch(actions.addBox(mode, type)),\n        deleteBox: (mode, withChildren) =>\n            dispatch(actions.deleteBox(mode, withChildren)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","export const getFileUrl = (\n    structure,\n    id,\n    noVersion,\n    thumbnail,\n    domain,\n    addProtocolAndLiveDomain\n) => {\n    const file = structure.find(item => item.id === id || item.relUrl === id)\n    if (!file) return ''\n    const protocol = addProtocolAndLiveDomain\n        ? process.env.NODE_ENV === 'development'\n            ? 'http://live.websiter.test:5000/'\n            : 'https://live.websiter.dev/'\n        : ''\n    const domainString = domain ? domain + '/' : ''\n    // const path = file.path.reduce(\n    //     (totalPath, fileId) =>\n    //         totalPath +\n    //         structure.find(fileInn => fileInn.id === fileId).name +\n    //         '/',\n    //     ''\n    // )\n    let query = noVersion ? '' : 'v=' + (file.v || '0')\n    query =\n        (query.length > 0 ? query + '&' : '') + (thumbnail ? 'thumbnail=1' : '')\n    return protocol + domainString + file.relUrl + (query ? '?' + query : '')\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './FilesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n} from '../../../utils/sortTreeMethods'\nimport Svg from '../../Svg/Svg'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport * as wsActions from '../../../websocketActions'\nimport bytes from 'bytes'\nimport LazyLoad from 'react-lazy-load'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../utils/getFileUrl'\nimport { structure } from '../../../utils/resourceTypeIndex'\n// import { bucket, CloudFrontUrl } from '../../../awsConfig'\n\n// type Props = {\n//     changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n//     chooseResource: typeof actions.chooseResource,\n//     connectDragPreview: Function,\n//     scaffoldBlockPxWidth: number,\n//     toggleChildrenVisibility: Function,\n//     connectDragPreview: Function,\n//     connectDragSource: Function,\n//     isDragging: boolean,\n//     canDrop: boolean,\n//     canDrag: boolean,\n//     node: pageType & { children: Array<pageType>, expanded: boolean },\n//     draggedNode: {},\n//     path: Array<string>,\n//     treeIndex: number,\n//     isSearchMatch: boolean,\n//     isSearchFocus: boolean,\n//     className: string,\n//     style: string,\n//     didDrop: boolean,\n//     saveResourcesStructure: typeof actions.saveResourcesStructure,\n//     notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n//     userId: $PropertyType<initialStateType, 'userId'>,\n// }\n\nconst ItemRenderer = props => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg>' />\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, size, type } = props.node\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        if (!props.checkUserRights(['content', 'developer'])) {\n            return\n        }\n        value = value.trim()\n        const newStructure = cloneDeep(props.structure)\n        const element = newStructure.find(item => item.id === id)\n\n        if (element[key] !== value) {\n            element[key] = value\n            props.sendUpdate(\n                'website',\n                {\n                    filesStructure: newStructure,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (props.currentFileId !== id) props.chooseResource(id)\n    }\n\n    // const edits = {\n    //     resize: {\n    //         width: 40,\n    //         height: 40,\n    //         fit: 'contain',\n    //         background: { r: 0, g: 0, b: 0, alpha: 0 },\n    //     },\n    // }\n    // if (type !== 'image/png') edits.toFormat = 'png'\n    // const imageRequest = JSON.stringify({\n    //     bucket: bucket,\n    //     key: serverName,\n    //     edits,\n    // })\n    // const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n    // let imageClass = classes.ImageContainer\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {props.checkUserRights(\n                                    ['content', 'developer'],\n                                    true\n                                ) ? (\n                                    <InspectorValue\n                                        value={name}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        requiredRights={[\n                                            'content',\n                                            'developer',\n                                        ]}\n                                        maxLength=\"38\"\n                                        maxWidth=\"320px\"\n                                    />\n                                ) : (\n                                    name\n                                )}\n                                <div\n                                    style={{\n                                        display: 'inline-block',\n                                    }}\n                                >\n                                    {bytes(size, { decimalPlaces: 1 })}\n                                </div>\n                                <div\n                                    style={{\n                                        color: '#777',\n                                        paddingLeft: '5px',\n                                    }}\n                                >\n                                    <TimeAgo date={props.node.modifiedDate} />\n                                </div>\n                                <div\n                                    style={{\n                                        position: 'absolute',\n                                        right: '-40px',\n                                        top: '0px',\n                                        width: '40px',\n                                        height: '40px',\n                                        overflow: 'hidden',\n                                        background: '#fff',\n                                        border: '1px solid #eee',\n                                        boxSizing: 'border-box',\n                                        lineHeight: '40px',\n                                        textAlign: 'center',\n                                    }}\n                                >\n                                    {type.indexOf('image') >= 0 ? (\n                                        <LazyLoad height={40}>\n                                            <img\n                                                src={getFileUrl(\n                                                    props.structure,\n                                                    id,\n                                                    false,\n                                                    true,\n                                                    props.currentWebsiteObject\n                                                        .domain\n                                                )}\n                                                style={{\n                                                    maxWidth: '100%',\n                                                    maxHeight: '100%',\n                                                    verticalAlign: 'middle',\n                                                }}\n                                                alt=\"websiter\"\n                                            />\n                                        </LazyLoad>\n                                    ) : (\n                                        <Svg icon='<svg width=\"40\" height=\"30\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        userId: state.userId,\n        structure: state.mD.filesStructure,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentFileId: state.mD.currentFileId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: id => dispatch(actions.chooseResource(id, 'file')),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","export default str => {\n    const el = document.createElement('textarea') // Create a <textarea> element\n    el.value = str // Set its value to the string that you want copied\n    el.setAttribute('readonly', '') // Make it readonly to be tamper-proof\n    el.style.position = 'absolute'\n    el.style.left = '-9999px' // Move outside the screen to make it invisible\n\n    document.body.appendChild(el) // Append the <textarea> element to the HTML document\n    const selected =\n        document.getSelection().rangeCount > 0 // Check if there is any content selected previously\n            ? document.getSelection().getRangeAt(0) // Store selection if found\n            : false // Mark as false to know no selection existed before\n    const selectedElement = document.activeElement\n    el.select() // Select the <textarea> content\n    document.execCommand('copy') // Copy - only works as a result of a user action (e.g. click events)\n\n    document.body.removeChild(el) // Remove the <textarea> element\n    if (selected) {\n        // If a selection existed before copying\n\n        document.getSelection().removeAllRanges() // Unselect everything on the HTML document\n\n        document.getSelection().addRange(selected) // Restore the original selection\n    }\n    if (selectedElement) selectedElement.focus()\n}\n","import React, { useState, useRef } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './FilesTree.module.css'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport { buildTree } from '../../../utils/basic'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport * as wsActions from '../../../websocketActions'\nimport { connect } from 'react-redux'\n\nimport copyToClipboard from '../../../utils/copyToClipboard'\nimport OverlayOnSizeIsChanging from '../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport { getFileUrl } from '../../../utils/getFileUrl'\nimport buildRelUrls from '../../../utils/buildRelUrls'\nimport ControlPanel from '../../UI/ControlPanel'\n\nimport Dropdown from 'antd/es/dropdown'\nimport Menu from 'antd/es/menu'\nimport Button from 'antd/es/button'\nimport Divider from 'antd/es/divider'\nimport UploadOutlined from '@ant-design/icons/UploadOutlined'\nimport SaveOutlined from '@ant-design/icons/SaveOutlined'\nimport LinkOutlined from '@ant-design/icons/LinkOutlined'\nimport DownOutlined from '@ant-design/icons/DownOutlined'\n\nconst FilesTree = props => {\n    const {\n        structure,\n        currentResource,\n        currentResourcesStructureElement,\n    } = props\n    const treeData = buildTree(structure)\n\n    const handleChange = items => {\n        let result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, structure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    structure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            )\n                if (!props.checkUserRights(['content', 'developer'])) {\n                    return\n                }\n            result = buildRelUrls(result)\n            props.sendUpdate(\n                'website',\n                {\n                    filesStructure: result,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleCopyPath = () => {\n        if (currentResourcesStructureElement) {\n            const path = getFileUrl(\n                props.structure,\n                currentResourcesStructureElement.id,\n                true\n            )\n            // currentResourcesStructureElement.path.reduce(\n            //     (totalPath, item) => (totalPath = totalPath + '/' + item.name),\n            //     '/'\n            // )\n            // + currentResourcesStructureElement.name\n            copyToClipboard(path)\n        }\n    }\n\n    const createFile = () => {\n        const file = new File([''], 'New file.css', {\n            type: 'text/css',\n        })\n        props.uploadFile([file])\n    }\n\n    const [state, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        className:\n            node.id === currentResource\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : null,\n        type: props.type,\n    })\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer('filesresources')\n        } else {\n            props.setActiveContainer('filesresources')\n            if (e) {\n                const code = e.code\n\n                if (!props.checkUserRights(['content', 'developer'])) {\n                    return\n                }\n\n                switch (code) {\n                    case 'KeyA':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            if (e.shiftKey) {\n                                createFile()\n                            } else {\n                                if (fileUploadRef.current)\n                                    fileUploadRef.current.click()\n                            }\n                        }\n                        break\n                    case 'KeyS':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.saveFile(currentResource, !e.shiftKey)\n                        }\n                        break\n                    case 'KeyF':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            setState({\n                                ...state,\n                                searchOpen: !state.searchOpen,\n                            })\n                        }\n                        break\n                    case 'Delete':\n                        e.preventDefault()\n                        props.deleteFile(currentResource)\n                        break\n                    case 'KeyL':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handleCopyPath()\n                        }\n                        break\n                    default:\n                        break\n                }\n            }\n        }\n    }\n    const fileUploadRef = useRef(null)\n\n    const moreMenu = currentResourcesStructureElement && (\n        <Menu onClick={handleButtonMenuClick}>\n            <Menu.Item key=\"create\">\n                Create new file (Ctrl + Shift + A)\n            </Menu.Item>\n            <Menu.Item key=\"saveNew\">Save as new</Menu.Item>\n            <Menu.Item key=\"delete\">Delete file (Delete)</Menu.Item>\n            <Menu.Item key=\"search\">Show or hide search (Ctrl + F)</Menu.Item>\n        </Menu>\n    )\n\n    const handleButtonMenuClick = e => {\n        if (!props.checkUserRights(['developer', 'content'])) {\n            return\n        }\n        switch (e.key) {\n            case 'create':\n                createFile()\n                break\n            case 'saveNew':\n                props.saveFile(currentResource)\n                break\n            case 'delete':\n                props.deleteFile(currentResource)\n                break\n\n            case 'search':\n                setState({\n                    ...state,\n                    searchOpen: !state.searchOpen,\n                })\n                break\n            default:\n                break\n        }\n    }\n\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <ControlPanel>\n                <input\n                    ref={fileUploadRef}\n                    className={classes.ImageInput}\n                    type=\"file\"\n                    onChange={e => {\n                        if (props.checkUserRights(['developer', 'content']))\n                            props.uploadFile(e.target.files)\n                    }}\n                />\n                <SmallButton\n                    icon={<UploadOutlined />}\n                    title=\"Upload\"\n                    buttonClicked={() =>\n                        fileUploadRef.current && fileUploadRef.current.click()\n                    }\n                    tooltip=\"Upload a new file (Ctrl + A)\"\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    title=\"Save\"\n                    icon={<SaveOutlined />}\n                    buttonClicked={() => props.saveFile(currentResource, true)}\n                    tooltip=\"Save file (Ctrl + S)\"\n                    requiredRights={['developer', 'content']}\n                />\n                <Divider type=\"vertical\" />\n\n                <SmallButton\n                    title=\"Link\"\n                    icon={<LinkOutlined />}\n                    buttonClicked={handleCopyPath}\n                    tooltip=\"Copy path to the media file to clipboard.<br>You can paste it where needed. (Ctrl + L)\"\n                    requiredRights={['developer', 'content']}\n                />\n                <Divider type=\"vertical\" />\n                <Dropdown overlay={moreMenu}>\n                    <Button size=\"small\">\n                        More <DownOutlined />\n                    </Button>\n                </Dropdown>\n            </ControlPanel>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    isVirtualized={true}\n                    rowHeight={40}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                        overflow: 'auto',\n                    }}\n                    generateNodeProps={generateNodePropsHandle}\n                    slideRegionSize={20}\n                />\n                <OverlayOnSizeIsChanging />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        structure: state.mD.filesStructure,\n        currentResource: state.mD.currentFileId,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentResourcesStructureElement: state.mD.currentFileItem,\n        isFocused: state.activeContainer === 'filesresources',\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n        uploadFile: files => dispatch(actions.uploadFile(files)),\n        deleteFile: file => dispatch(actions.deleteFile(file)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FilesTree)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n// import * as actions from '../../store/actions/index'\nimport AceEditor from 'react-ace'\n\nimport ace from 'ace-builds'\nimport 'ace-builds/src-noconflict/mode-css'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/mode-javascript'\nimport 'ace-builds/src-noconflict/mode-text'\nimport 'ace-builds/src-noconflict/mode-html'\nimport 'ace-builds/src-noconflict/mode-xml'\nimport 'ace-builds/src-noconflict/theme-github'\nimport 'ace-builds/src-min-noconflict/ext-searchbox'\nimport 'ace-builds/src-min-noconflict/ext-language_tools'\nimport checkUserRights from '../../utils/checkUserRights'\n\n// import beautify from 'ace-builds/src-min-noconflict/ext-beautify'\nimport beautify_js, { css as beautify_css } from 'js-beautify'\nimport Select from 'antd/es/select'\nimport ControlPanel from '../UI/ControlPanel'\n\n// import type { elementType } from '../../../../store/reducer/reducer'\n\nace.config.set('basePath', '/ace-builds/src-noconflict')\nace.config.set('modePath', '/ace-builds/src-noconflict')\nace.config.set('themePath', '/ace-builds/src-noconflict')\nace.config.set('workerPath', '/ace-builds/src-noconflict')\n\n// var editor = ace.edit('editor') // get reference to editor\n\n// type Props = {\n//     currentElement: $PropertyType<elementType, 'id'>,\n//     elementValue: $PropertyType<elementType, 'propertiesString'>,\n//     elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n//     editorMode: 'json' | 'css',\n//     handleChange: (value: string, cursorPosition: {}) => {},\n//     readOnly?: boolean,\n// }\n\n// type State = {\n//     value: string,\n//     updateValue: boolean,\n//     isBeatifying: boolean,\n// }\n\nclass Editor extends Component {\n    onChange = value => {\n        if (!this.props.checkUserRights(this.props.requiredRights)) {\n            return\n        }\n        this.setState({\n            value,\n            updateValue: false,\n        })\n        if (this.state.isBeatifying) return\n        setTimeout(\n            () =>\n                this.props.handleChange(\n                    value,\n                    this.editor.getSelection().getCursor()\n                ),\n            10\n        )\n    }\n\n    handleSelectProperty = (value, selectedOption) => {\n        console.log(selectedOption)\n        if (!selectedOption) return\n        let obj\n        try {\n            obj = JSON.parse(this.state.value)\n        } catch (e) {\n            obj = null\n        }\n        if (obj) {\n            obj[selectedOption.children] = selectedOption.value\n            const resultString = JSON.stringify(obj)\n            this.onChange(resultString)\n        }\n        this.makeCodePrettier()\n    }\n\n    makeCodePrettier = () => {\n        setTimeout(() => {\n            this.editor.moveCursorToPosition(\n                this.props.elementCurrentCursor || {\n                    column: 0,\n                    row: 0,\n                }\n            )\n            if (!this.state.updateValue) {\n                this.setState({ isBeatifying: true })\n                if (this.props.editorMode === 'json') {\n                    let obj\n                    try {\n                        obj = JSON.parse(this.state.value)\n                    } catch (e) {\n                        obj = null\n                    }\n                    if (obj) {\n                        this.setState({\n                            value: JSON.stringify(obj, null, '\\t'),\n                            updateValue: false,\n                        })\n                    }\n                } else {\n                    // beautify.beautify(this.editor.session)\n                    if (this.props.editorMode === 'css') {\n                        const newValue = beautify_css(this.state.value)\n                        this.setState({ value: newValue })\n                    } else if (this.props.editorMode === 'javascript') {\n                        const newValue = beautify_js(this.state.value)\n                        this.setState({ value: newValue })\n                    }\n                }\n                this.setState({ isBeatifying: false })\n            }\n        }, 10)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { props } = this\n        if (\n            prevState.updateValue === false &&\n            this.state.updateValue === true\n        ) {\n        } else {\n            if (\n                props.currentElement !== prevProps.currentElement ||\n                props.currentResource !== prevProps.currentResource ||\n                this.state.updateValue ||\n                props.editorMode !== prevProps.editorMode\n            ) {\n                if (!props.currentElement) {\n                    this.setState({\n                        value: '',\n                        updateValue: false,\n                    })\n                } else {\n                    this.setState({\n                        value: props.elementValue,\n                        updateValue: false,\n                    })\n                    this.makeCodePrettier()\n                }\n            }\n        }\n    }\n    editor: any\n    componentDidMount() {\n        this.editor = this.refs.aceEditor.editor\n        setInterval(() => {\n            this.editor.resize()\n        }, 1000)\n        this.setState({\n            value: this.props.elementValue,\n            updateValue: false,\n        })\n        this.makeCodePrettier()\n    }\n    constructor(props) {\n        super(props)\n        this.state = { value: '', updateValue: false, isBeatifying: false }\n        this.onChange = this.onChange.bind(this)\n    }\n\n    render() {\n        return (\n            <>\n                {this.props.suggestOptions ? (\n                    <ControlPanel>\n                        <Select\n                            onSelect={this.handleSelectProperty}\n                            dropdownMatchSelectWidth={false}\n                            //requiredRights={['content']}\n                            size=\"small\"\n                            style={{ width: '100%' }}\n                            placeholder=\"Suggested properties and attributes\"\n                        >\n                            {this.props.suggestOptions.map(option => (\n                                <Select.Option\n                                    key={'select' + option.value}\n                                    value={option.value}\n                                >\n                                    {option.label}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </ControlPanel>\n                ) : null}\n                <AceEditor\n                    ref=\"aceEditor\"\n                    value={this.state.value}\n                    mode={this.props.editorMode}\n                    readOnly={this.props.readOnly}\n                    theme=\"github\"\n                    onChange={this.onChange}\n                    name={this.props.name}\n                    fontSize={14}\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    style={{ flex: '1', width: 'auto', height: 'auto' }}\n                    placeholder=\"Put your code here\"\n                    setOptions={{\n                        enableBasicAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableLiveAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableSnippets: this.props.editorMode !== 'text',\n                        showLineNumbers: this.props.editorMode !== 'text',\n                        tabSize: 2,\n                        useWorker: false,\n                        // setAutoScrollEditorIntoView: true,\n                    }}\n                    // commands={[\n                    //     {\n                    //         name: 'undo',\n                    //         bindKey: { win: 'Ctrl-z', mac: 'Command-z' },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.undoResourceVersion()\n                    //         },\n                    //     },\n                    //     {\n                    //         name: 'redo',\n                    //         bindKey: {\n                    //             win: 'Ctrl-Shift-z',\n                    //             mac: 'Command-Shift-z',\n                    //         },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.redoResourceVersion()\n                    //         },\n                    //     },\n                    // ]}\n                />\n            </>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        // undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        // redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps,\n    null,\n    { forwardRef: true }\n)(Editor)\n","import React, { useEffect, useState, forwardRef } from 'react'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport * as classes from './FileProperties.module.css'\nimport Editor from '../../Editor/Editor'\nimport Select from 'antd/es/select'\n\nimport Svg from '../../Svg/Svg'\nimport 'tui-image-editor/dist/tui-image-editor.css'\nimport 'tui-color-picker/dist/tui-color-picker.min.css'\nimport ImageEditor from '@toast-ui/react-image-editor'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport {\n    resizeImageFromSrcToSpecificSize,\n    urltoFile,\n} from '../../../store/actions/files'\nimport bytes from 'bytes'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../utils/getFileUrl'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport InputNumber from 'antd/es/input-number'\n\nconst FileProperties = forwardRef((props, ref) => {\n    useEffect(() => {\n        props.setLoaded(false)\n    }, [props.currentFileId])\n\n    const [resolution, setResolution] = useState(\n        props.currentFileItem.resolution\n    )\n    const [fileSize, setFileSize] = useState(props.currentFileItem.size)\n    const [sourceDataUrl, setSourceDataUrl] = useState()\n\n    if (!props.currentFileItem) return null\n\n    const loadFile = () => {\n        axios.get(props.currentFileItem.url).then(response => {\n            props.setValue(response.data)\n            props.setEditorMode(props.currentFileItem.editorMode || 'css')\n            props.setLoaded(true)\n        })\n    }\n\n    const handleChangeResolution = (value, type) => {\n        if (type === 'width') {\n            setResolution({\n                width: value,\n                height:\n                    value *\n                    (props.currentFileItem.resolution.height /\n                        props.currentFileItem.resolution.width),\n            })\n        } else {\n            setResolution({\n                width:\n                    value *\n                    (props.currentFileItem.resolution.width /\n                        props.currentFileItem.resolution.height),\n                height: value,\n            })\n        }\n    }\n\n    const handleApplyResolutionChange = () => {\n        resizeImageFromSrcToSpecificSize(\n            sourceDataUrl,\n            resolution,\n            async data => {\n                props.setValue(data)\n                const file = await urltoFile(\n                    data,\n                    props.currentFileItem.name + ' (copy)'\n                )\n                setFileSize(file.size)\n            }\n        )\n        props.setValue()\n    }\n\n    function toDataURL(url, callback) {\n        var xhr = new XMLHttpRequest()\n        xhr.open('get', url)\n        xhr.responseType = 'blob'\n        xhr.onload = function() {\n            var fr = new FileReader()\n\n            fr.onload = function() {\n                callback(this.result)\n            }\n\n            fr.readAsDataURL(xhr.response) // async call\n        }\n\n        xhr.send()\n    }\n    const loadFileToDataUrl = () => {\n        const reqUrl = getFileUrl(\n            props.structure,\n            props.currentFileItem.id,\n            false,\n            false,\n            props.currentWebsiteObject.domain\n        )\n        toDataURL(reqUrl, dataUrl => {\n            setSourceDataUrl(dataUrl)\n            props.setValue(dataUrl)\n        })\n    }\n\n    if (props.currentFileItem.type.indexOf('image') >= 0) {\n        const myTheme = {\n            // Theme object to extends default dark theme.\n        }\n\n        return props.loaded ? (\n            props.loaded === 'resize' ? (\n                <div>\n                    <div>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>Current size</td>\n                                    <td>\n                                        {bytes(fileSize, {\n                                            decimalPlaces: 1,\n                                        })}\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Current resolution</td>\n                                    <td>\n                                        {props.currentFileItem.resolution.width}{' '}\n                                        X{' '}\n                                        {\n                                            props.currentFileItem.resolution\n                                                .height\n                                        }\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Set new resolution</td>\n                                    <td>\n                                        <InputNumber\n                                            min={0}\n                                            onChange={value =>\n                                                handleChangeResolution(\n                                                    value,\n                                                    'width'\n                                                )\n                                            }\n                                            value={parseInt(resolution.width)}\n                                            inline={true}\n                                        />{' '}\n                                        X{' '}\n                                        <InputNumber\n                                            min={0}\n                                            onChange={value =>\n                                                handleChangeResolution(\n                                                    value,\n                                                    'height'\n                                                )\n                                            }\n                                            value={parseInt(resolution.height)}\n                                            inline={true}\n                                        />\n                                        <SmallButton\n                                            title=\"Apply\"\n                                            inline={true}\n                                            buttonClicked={\n                                                handleApplyResolutionChange\n                                            }\n                                        />\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <img alt=\"Is loading\" src={props.value} />\n                </div>\n            ) : (\n                <ImageEditor\n                    ref={ref}\n                    includeUI={{\n                        loadImage: {\n                            //path: props.currentFileItem.url,\n                            path: getFileUrl(\n                                props.structure,\n                                props.currentFileItem.id,\n                                false,\n                                false,\n                                props.currentWebsiteObject.domain\n                            ),\n                            name: 'SampleImage',\n                        },\n                        theme: myTheme,\n                        menu: [\n                            'crop',\n                            'flip',\n                            'rotate',\n                            'draw',\n                            'shape',\n                            'icon',\n                            'text',\n                            'mask',\n                            'filter',\n                        ],\n                        initMenu: 'filter',\n                        uiSize: {\n                            width: '1000px',\n                            height: '700px',\n                        },\n                        menuBarPosition: 'right',\n                    }}\n                    cssMaxHeight={500}\n                    cssMaxWidth={700}\n                    selectionStyle={{\n                        cornerSize: 20,\n                        rotatingPointOffset: 70,\n                    }}\n                    usageStatistics={false}\n                />\n            )\n        ) : (\n            <div style={{ margin: '30px auto' }}>\n                <button onClick={() => props.setLoaded(true)}>Edit</button>\n                <button\n                    onClick={() => {\n                        props.setLoaded('resize')\n                        loadFileToDataUrl()\n                    }}\n                >\n                    Resize\n                </button>\n                <img\n                    src={getFileUrl(\n                        props.structure,\n                        props.currentFileItem.id,\n                        false,\n                        true,\n                        props.currentWebsiteObject.domain\n                    )}\n                    style={{\n                        maxHeight: '120',\n                        maxWidth: '120',\n                        display: 'block',\n                    }}\n                    alt=\"websiter\"\n                />\n                {props.currentFileItem ? (\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td>Name</td>\n                                <td>{props.currentFileItem.name}</td>\n                            </tr>\n                            <tr>\n                                <td>Size</td>\n                                <td>\n                                    {bytes(props.currentFileItem.size, {\n                                        decimalPlaces: 1,\n                                    })}\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Type</td>\n                                <td>{props.currentFileItem.type}</td>\n                            </tr>\n                            <tr>\n                                <td>Date created</td>\n                                <td>\n                                    <TimeAgo\n                                        date={props.currentFileItem.createdDate}\n                                    />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Date modified</td>\n                                <td>\n                                    <TimeAgo\n                                        date={\n                                            props.currentFileItem.modifiedDate\n                                        }\n                                    />\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                ) : null}\n            </div>\n        )\n    } else if (props.currentFileItem.type.indexOf('text') >= 0) {\n        const editorModeOptions = [\n            { value: 'text', label: 'text' },\n            { value: 'css', label: 'css' },\n            { value: 'javascript', label: 'javascript' },\n            { value: 'json', label: 'json' },\n            { value: 'html', label: 'html' },\n            { value: 'xml', label: 'xml' },\n        ]\n        return props.loaded ? (\n            <>\n                <Select\n                    onSelect={value => {\n                        if (!props.checkUserRights(['developer', 'content']))\n                            return\n                        props.setEditorMode(value)\n                    }}\n                    dropdownMatchSelectWidth={false}\n                    size=\"small\"\n                    style={{ border: '1px solid #ccc', margin: '10px' }}\n                    value={props.editorMode}\n                >\n                    {editorModeOptions.map(option => (\n                        <Select.Option\n                            key={'select' + option.value}\n                            value={option.value}\n                        >\n                            {option.label}\n                        </Select.Option>\n                    ))}\n                </Select>\n                <Editor\n                    currentElement={props.currentFileId}\n                    elementValue={props.value}\n                    editorMode={props.editorMode}\n                    handleChange={value => props.setValue(value)}\n                    name=\"editorProperties\"\n                    requiredRights={['developer']}\n                    currentResource=\"0\"\n                />\n            </>\n        ) : (\n            <div style={{ margin: '30px auto' }}>\n                <button onClick={loadFile}>Edit</button>\n                <Svg icon='<svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n            </div>\n        )\n    }\n    return (\n        <div style={{ margin: '30px auto' }}>\n            <Svg icon='<svg width=\"100\" height=\"100\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n        </div>\n    )\n})\n\nconst mapStateToProps = state => {\n    return {\n        currentFileItem: state.mD.currentFileItem,\n        currentFileId: state.mD.currentFileId,\n        structure: state.mD.filesStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    null,\n    { forwardRef: true }\n)(FileProperties)\n","import React, { useState, useRef } from 'react'\nimport { connect } from 'react-redux'\n\n// import * as classes from './Images.module.css'\nimport * as classes from '../AdvancedBar.module.css'\nimport * as actions from '../../../store/actions'\nimport FilesTree from '../../../components/FilesTreeAndProperties/FilesTree/FilesTree'\nimport FileProperties from '../../../components/FilesTreeAndProperties/Properties/FileProperties'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport { urltoFile } from '../../../store/actions/files'\n\nconst Files = props => {\n    const [value, setValue] = useState('')\n    const [editorMode, setEditorMode] = useState('css')\n    const [loaded, setLoaded] = useState(false)\n\n    const handleSaveFile = async (fileId, replace) => {\n        if (fileId === props.currentFileItem.id) {\n            let file\n            if (loaded === 'resize') {\n                file = await urltoFile(\n                    value,\n                    props.currentFileItem.name + ' (copy)'\n                )\n            } else if (\n                toastEditorRef.current &&\n                props.currentFileItem.type.indexOf('image') >= 0\n            ) {\n                const content = toastEditorRef.current.getInstance().toDataURL()\n                file = await urltoFile(\n                    content,\n                    props.currentFileItem.name + ' (copy)'\n                )\n            } else {\n                file = new File(\n                    [value],\n                    props.currentFileItem.name + ' (copy)',\n                    {\n                        type: props.currentFileItem.type,\n                    }\n                )\n            }\n            if (replace) replace = props.currentFileItem\n            props.uploadFile([file], replace, editorMode)\n        }\n    }\n\n    const toastEditorRef = useRef(null)\n    return props.currentWebsiteObject ? (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <FilesTree saveFile={handleSaveFile} />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentFileItem ? (\n                <div className={classes.LastContainer}>\n                    <FileProperties\n                        ref={toastEditorRef}\n                        value={value}\n                        setValue={setValue}\n                        editorMode={editorMode}\n                        setEditorMode={setEditorMode}\n                        loaded={loaded}\n                        setLoaded={setLoaded}\n                    />\n                </div>\n            ) : null}\n        </div>\n    ) : null\n}\nconst mapStateToProps = state => {\n    return {\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        barSizes: state.barSizes,\n        currentFileItem: state.mD.currentFileItem,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        uploadFile: (files, replace, editorMode) =>\n            dispatch(actions.uploadFile(files, replace, editorMode)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Files)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport InspectorValue from '../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n} from '../../utils/sortTreeMethods'\nimport Svg from '../Svg/Svg'\nimport { structure } from '../../utils/resourceTypeIndex'\nimport checkUserRights from '../../utils/checkUserRights'\nimport * as wsActions from '../../websocketActions'\n\n// import type { pageType, initialStateType } from '../../store/reducer/reducer'\n\n// type Props = {\n//     changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n//     chooseResource: typeof actions.chooseResource,\n//     connectDragPreview: Function,\n//     scaffoldBlockPxWidth: number,\n//     toggleChildrenVisibility: Function,\n//     connectDragPreview: Function,\n//     connectDragSource: Function,\n//     isDragging: boolean,\n//     canDrop: boolean,\n//     canDrag: boolean,\n//     node: pageType & { children: Array<pageType>, expanded: boolean },\n//     draggedNode: {},\n//     path: Array<string>,\n//     treeIndex: number,\n//     isSearchMatch: boolean,\n//     isSearchFocus: boolean,\n//     className: string,\n//     style: string,\n//     didDrop: boolean,\n//     type: 'page' | 'plugin' | 'template',\n//     saveResourcesStructure: typeof actions.saveResourcesStructure,\n//     notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n//     userId: $PropertyType<initialStateType, 'userId'>,\n// }\n\nconst ItemRenderer = props => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(\n            <div className={classes.rst__moveHandle}>\n                <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg>' />\n            </div>\n        )\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const {\n        name,\n        id,\n        url,\n        homepage,\n        hidden,\n        folderPage,\n        published,\n\n        propagating,\n    } = props.node\n\n    const isGeneralSettings =\n        id === props.globalSettingsPageId ||\n        id === props.globalSettingsTemplateId\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        if (\n            !props.checkUserRights(\n                props.type === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        value = value.trim()\n        if (key === 'url') {\n            value = value.replace(/\\s+/g, '-').toLowerCase()\n        }\n        const newStructure = cloneDeep(props.structure)\n        const element = newStructure.find(item => item.id === id)\n\n        if (element[key] !== value) {\n            element[key] = value\n            props.sendUpdate(\n                'website',\n                {\n                    [structure[props.type]]: newStructure,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (\n            props.currentPageId !== id &&\n            props.currentTemplateId !== id &&\n            props.currentPluginId !== id\n        )\n            props.chooseResource(id, props.type)\n    }\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                            style={\n                                props.type === 'page'\n                                    ? {\n                                          minWidth: '350px',\n                                      }\n                                    : {}\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {props.checkUserRights(\n                                    props.type === 'page'\n                                        ? ['content']\n                                        : ['developer'],\n                                    true\n                                ) && !isGeneralSettings ? (\n                                    <InspectorValue\n                                        value={name}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        requiredRights={\n                                            props.type === 'page'\n                                                ? ['content']\n                                                : ['developer']\n                                        }\n                                        maxLength=\"30\"\n                                        maxWidth=\"220px\"\n                                    />\n                                ) : (\n                                    name\n                                )}\n                            </div>\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                <div>\n                                    {props.notSavedResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {!published ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {props.newVersionResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.89,4,2.01,4.89,2.01,6L2,18c0,1.11,0.89,2,2,2h16c1.11,0,2-0.89,2-2V6C22,4.89,21.11,4,20,4z M8.5,15H7.3 l-2.55-3.5V15H3.5V9h1.25l2.5,3.5V9H8.5V15z M13.5,10.26H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4V10.26z M20.5,14 c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25V14z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {homepage ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {!isGeneralSettings ? (\n                                    <div>\n                                        {hidden ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {folderPage && hidden ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n\n                                {props.type === 'plugin' ? (\n                                    <div>\n                                        {propagating ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M8,8H6v7c0,1.1,0.9,2,2,2h9v-2H8V8z\"></path><path d=\"M20,3h-8c-1.1,0-2,0.9-2,2v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V5C22,3.9,21.1,3,20,3z M20,11h-8V7h8V11z\"></path><path d=\"M4,12H2v7c0,1.1,0.9,2,2,2h9v-2H4V12z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                            </div>\n                            {props.type === 'page' && !isGeneralSettings ? (\n                                <div className={classes.rst__rowLabel}>\n                                    url:\n                                    {props.checkUserRights(\n                                        props.type === 'page'\n                                            ? ['content']\n                                            : ['developer'],\n\n                                        true\n                                    ) ? (\n                                        <InspectorValue\n                                            value={url}\n                                            items={[]}\n                                            blur={value =>\n                                                handlePropertyChange(\n                                                    'url',\n                                                    value,\n                                                    id\n                                                )\n                                            }\n                                            withState\n                                            allowEmpty\n                                            maxLength=\"30\"\n                                            maxWidth=\"220px\"\n                                        />\n                                    ) : (\n                                        url\n                                    )}\n                                </div>\n                            ) : null}\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        notSavedResources: state.notSavedResources,\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n        structure: state.mD[structure[props.type]],\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentPageId: state.mD.currentPageId,\n        currentTemplateId: state.mD.currentTemplateId,\n        currentPluginId: state.mD.currentPluginId,\n        globalSettingsPageId: state.mD.globalSettingsPageId,\n        globalSettingsTemplateId: state.mD.globalSettingsTemplateId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: (id, type) =>\n            dispatch(actions.chooseResource(id, type)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState, memo } from 'react'\nimport Modal from 'antd/es/modal'\nimport Menu from 'antd/es/menu'\nimport Select from 'antd/es/select'\nimport Dropdown from 'antd/es/dropdown'\nimport Button from 'antd/es/button'\nimport Tooltip from 'antd/es/tooltip'\nimport copyToClipboard from '../../utils/copyToClipboard'\nimport Divider from 'antd/es/divider'\n\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport SaveOutlined from '@ant-design/icons/SaveOutlined'\nimport LinkOutlined from '@ant-design/icons/LinkOutlined'\nimport DownOutlined from '@ant-design/icons/DownOutlined'\nimport CopyOutlined from '@ant-design/icons/CopyOutlined'\nimport DesktopOutlined from '@ant-design/icons/DesktopOutlined'\nimport CloudDownloadOutlined from '@ant-design/icons/CloudDownloadOutlined'\nimport SmallButton from '../UI/Buttons/SmallButton/SmallButton'\n\nconst Buttons = props => {\n    const [linkModalVisible, setLinkModalVisible] = useState(false)\n    const {\n        requiredRightsIndex,\n        handleButtonMenuClick,\n        currentResourcesStructureElement,\n        resourceStructureAttributeChange,\n        templateOptions,\n        handleSaveResource,\n        currentResource,\n    } = props\n\n    const linkModal = currentResourcesStructureElement && (\n        <Modal\n            title={currentResourcesStructureElement.name + ' links'}\n            visible={linkModalVisible}\n            onOk={() => setLinkModalVisible(false)}\n            onCancel={() => setLinkModalVisible(false)}\n            width={800}\n        >\n            <table style={{ width: '100%' }}>\n                <tbody>\n                    <tr>\n                        <td>Relative url</td>\n                        <td>\n                            <span style={{ userSelect: 'all' }}>\n                                {currentResourcesStructureElement.relUrl}\n                            </span>\n                        </td>\n                        <td>\n                            <SmallButton\n                                icon={<CopyOutlined />}\n                                buttonClicked={() =>\n                                    copyToClipboard(\n                                        currentResourcesStructureElement.relUrl\n                                    )\n                                }\n                                tooltip=\"Copy.\"\n                            />\n                        </td>\n                    </tr>\n                    {props.currentWebsiteObject.customDomain ? (\n                        <tr>\n                            <td style={{ whiteSpace: 'nowrap' }}>\n                                Custom domain url\n                            </td>\n                            <td>\n                                <span\n                                    style={{\n                                        userSelect: 'all',\n                                    }}\n                                >\n                                    {'https://' +\n                                        props.currentWebsiteObject\n                                            .customDomain +\n                                        '/' +\n                                        currentResourcesStructureElement.relUrl}\n                                </span>\n                            </td>\n                            <td style={{ whiteSpace: 'nowrap' }}>\n                                <SmallButton\n                                    icon={<CopyOutlined />}\n                                    buttonClicked={() =>\n                                        copyToClipboard(\n                                            'https://' +\n                                                props.currentWebsiteObject\n                                                    .customDomain +\n                                                '/' +\n                                                currentResourcesStructureElement.relUrl\n                                        )\n                                    }\n                                    tooltip=\"Copy.\"\n                                />\n                                <SmallButton\n                                    icon={<DesktopOutlined />}\n                                    buttonClicked={() => {\n                                        window.open(\n                                            'https://' +\n                                                props.currentWebsiteObject\n                                                    .customDomain +\n                                                '/' +\n                                                currentResourcesStructureElement.relUrl,\n                                            '_blank'\n                                        )\n                                    }}\n                                    tooltip=\"Open in a new tab\"\n                                />\n                            </td>\n                        </tr>\n                    ) : null}\n                    <tr>\n                        <td style={{ whiteSpace: 'nowrap' }}>\n                            Local domain url\n                        </td>\n                        <td>\n                            <span style={{ userSelect: 'all' }}>\n                                {'http://live.websiter.test:5000/' +\n                                    props.currentWebsiteObject.domain +\n                                    '/' +\n                                    currentResourcesStructureElement.relUrl}\n                            </span>\n                        </td>\n                        <td style={{ whiteSpace: 'nowrap' }}>\n                            <SmallButton\n                                icon={<CopyOutlined />}\n                                buttonClicked={() =>\n                                    copyToClipboard(\n                                        'http://live.websiter.test:5000/' +\n                                            props.currentWebsiteObject.domain +\n                                            '/' +\n                                            currentResourcesStructureElement.relUrl\n                                    )\n                                }\n                                tooltip=\"Copy.\"\n                            />\n                            <SmallButton\n                                icon={<DesktopOutlined />}\n                                buttonClicked={() => {\n                                    window.open(\n                                        'http://live.websiter.test:5000/' +\n                                            props.currentWebsiteObject.domain +\n                                            '/' +\n                                            currentResourcesStructureElement.relUrl,\n                                        '_blank'\n                                    )\n                                }}\n                                tooltip=\"Open in a new tab\"\n                            />\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </Modal>\n    )\n\n    const saveManu = currentResourcesStructureElement && (\n        <Menu onClick={handleButtonMenuClick}>\n            <Menu.Item key=\"publish\">Publish</Menu.Item>\n            <Menu.Item key=\"revertSave\">Revert to saved</Menu.Item>\n            <Menu.Item key=\"revertPublish\">Revert to published</Menu.Item>\n        </Menu>\n    )\n\n    const moreMenu = (\n        <Menu onClick={handleButtonMenuClick}>\n            {!props.isGlobalSettingsPage &&\n                currentResourcesStructureElement && (\n                    <Menu.Item key=\"duplicate\">\n                        Duplicate resource (Ctrl + D)\n                    </Menu.Item>\n                )}\n            {!props.isGlobalSettingsPage &&\n                currentResourcesStructureElement && (\n                    <Menu.Item key=\"delete\">Delete resource (Delete)</Menu.Item>\n                )}\n            {props.type === 'page' &&\n                !props.isGlobalSettingsPage &&\n                currentResourcesStructureElement && (\n                    <Menu.Item key=\"homepage\">Set as the homepage</Menu.Item>\n                )}\n            {!props.isGlobalSettingsPage &&\n                currentResourcesStructureElement && (\n                    <Menu.Item key=\"hide\">Hide/Show</Menu.Item>\n                )}\n            {props.type === 'page' &&\n                currentResourcesStructureElement &&\n                currentResourcesStructureElement.hidden &&\n                !props.isGlobalSettingsPage &&\n                currentResourcesStructureElement && (\n                    <Menu.Item key=\"folder\">Folder</Menu.Item>\n                )}\n            {props.type === 'plugin' && currentResourcesStructureElement && (\n                <Menu.Item key=\"propagating\">Propagating plugin</Menu.Item>\n            )}\n            <Menu.Item key=\"search\">Search</Menu.Item>\n        </Menu>\n    )\n\n    return (\n        <>\n            <SmallButton\n                buttonClicked={() => props.addResource(props.type)}\n                icon={<PlusOutlined />}\n                tooltip=\"Add new resource (page, template or plugin) (Ctrl + A)\"\n                requiredRights={requiredRightsIndex.add}\n            />\n            <Divider type=\"vertical\" />\n            {props.type === 'page' && currentResourcesStructureElement ? (\n                !currentResourcesStructureElement.generalSettings ? (\n                    <>\n                        <Tooltip title=\"Choose template\" mouseEnterDelay={0.2}>\n                            <Select\n                                showSearch\n                                onSelect={value => {\n                                    if (\n                                        window.confirm(\n                                            'All unsaved edits on this page will be deleted. Are you sure you want to change the template?'\n                                        )\n                                    )\n                                        resourceStructureAttributeChange(\n                                            'template',\n                                            value\n                                        )\n                                }}\n                                value={\n                                    currentResourcesStructureElement.template\n                                }\n                                dropdownMatchSelectWidth={false}\n                                //requiredRights={['content']}\n                                size=\"small\"\n                                placeholder=\"Template\"\n                                style={{ width: 120 }}\n                            >\n                                {templateOptions.map(option => (\n                                    <Select.Option\n                                        key={'select' + option.value}\n                                        value={option.value}\n                                    >\n                                        {option.label}\n                                    </Select.Option>\n                                ))}\n                            </Select>\n                        </Tooltip>\n                        <Divider type=\"vertical\" />\n                    </>\n                ) : null\n            ) : null}\n\n            <SmallButton\n                tooltip=\"Save all changes in the resource.<br>Saved changes are not visible on the live version if they are not published. (Ctrl + S)\"\n                requiredRights={requiredRightsIndex.add}\n                icon={<SaveOutlined />}\n                buttonClicked={() => handleSaveResource()}\n                overlay={saveManu}\n            />\n            <Divider type=\"vertical\" />\n            {props.newVersionResources.includes(currentResource) ? (\n                <>\n                    <SmallButton\n                        buttonClicked={() =>\n                            props.revertResource(props.type, 'draft')\n                        }\n                        icon={<CloudDownloadOutlined />}\n                        tooltip=\"A new version of this resource is available. Press the button to load the new version.\"\n                    />\n                    <Divider type=\"vertical\" />\n                </>\n            ) : null}\n            {props.type === 'page' &&\n            !props.isGlobalSettingsPage &&\n            currentResourcesStructureElement ? (\n                <>\n                    <SmallButton\n                        buttonClicked={() => setLinkModalVisible(true)}\n                        icon={<LinkOutlined />}\n                        tooltip=\"Copy link to page or visit page.\"\n                    />\n                    {linkModal}\n                    <Divider type=\"vertical\" />\n                </>\n            ) : null}\n\n            <Dropdown overlay={moreMenu}>\n                <Button>\n                    More <DownOutlined />\n                </Button>\n            </Dropdown>\n        </>\n    )\n}\n\nexport default memo(Buttons)\n","import React, { useState } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\nimport isEqual from 'lodash/isEqual'\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport { buildItems } from '../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../UI/TreeSearch/TreeSearch'\nimport { buildTree, isEqualStructuresWithOmit } from '../../utils/basic'\nimport checkUserRights from '../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    structure as structureIndex,\n    resourceItemIndex,\n} from '../../utils/resourceTypeIndex'\nimport * as wsActions from '../../websocketActions'\nimport { connect } from 'react-redux'\n\nimport OverlayOnSizeIsChanging from '../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\n\nimport buildRelUrls from '../../utils/buildRelUrls'\nimport Buttons from './Buttons'\nimport ControlPanel from '../UI/ControlPanel'\n\n// export type Props = {\n//     type: 'page' | 'plugin' | 'template',\n//     addResource: typeof actions.addResource,\n//     duplicateResource: typeof actions.addResource,\n//     deleteResource: typeof actions.deleteResource,\n//     saveResourcesStructure: typeof actions.saveResourcesStructure,\n//     saveResource: typeof actions.saveResource,\n//     publishRevertResource: typeof actions.publishRevertResource,\n//     revertResourceToSaved: typeof actions.revertResourceToSaved,\n// }\n\nconst ResourcesTree = props => {\n    const {\n        structure,\n        currentResource,\n        currentResourcesStructureElement,\n    } = props\n\n    const treeData = buildTree(structure)\n\n    const handleChange = items => {\n        let result: Array<{}> = []\n        buildItems(items, [], result)\n        if (!isEqual(result, structure)) {\n            if (!isEqualStructuresWithOmit(result, structure))\n                if (!props.checkUserRights(requiredRightsIndex.add)) {\n                    return\n                }\n            if (props.type === 'page') result = buildRelUrls(result, true)\n            props.sendUpdate(\n                'website',\n                {\n                    [structureIndex[props.type]]: result,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const resourceStructureAttributeChange = (key, value) => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = structure.map(item => {\n            if (item.id === currentResource) {\n                return {\n                    ...item,\n                    [key]: value,\n                }\n            } else {\n                if (key === 'homepage') return { ...item, homepage: false }\n                else return item\n            }\n        })\n        props.sendUpdate(\n            'website',\n            {\n                [structureIndex[props.type]]: newStructure,\n            },\n            props.currentWebsiteId\n        )\n    }\n\n    const handleSaveResource = () => {\n        if (!currentResourcesStructureElement) return\n        props.sendUpdate(props.type, {}, currentResource)\n    }\n\n    const handlePublishRevert = () => {\n        if (!currentResourcesStructureElement) return\n        props.publishResource(props.type)\n    }\n\n    const [state, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    const templateOptions = props.templatesStructure\n        .filter(item => !item.generalSettings && !item.hidden)\n        .map(item => ({\n            label: item.name,\n            value: item.name,\n        }))\n\n    const canDropHandle = ({ nextParent }) => {\n        if (nextParent) if (nextParent.generalSettings) return false\n        return true\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.generalSettings) return false\n        return true\n    }\n    const generateNodePropsHandle = ({ node }) => ({\n        className:\n            node.id === currentResource\n                ? props.isFocused\n                    ? [classes.Chosen]\n                    : [classes.ChosenBlur]\n                : null,\n        type: props.type,\n    })\n\n    const requiredRightsIndex = {\n        add: props.type === 'page' ? ['content'] : ['developer'],\n        home: ['content'],\n    }\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer(props.type + 'resources')\n        } else {\n            props.setActiveContainer(props.type + 'resources')\n            if (e) {\n                if (!props.checkUserRights(requiredRightsIndex.add)) {\n                    return\n                }\n\n                switch (e.code) {\n                    case 'KeyA':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.addResource(props.type)\n                        }\n                        break\n                    case 'KeyD':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            props.addResource(props.type, true)\n                        }\n                        break\n                    case 'KeyH':\n                        if (e.ctrlKey)\n                            if (currentResourcesStructureElement) {\n                                e.preventDefault()\n\n                                resourceStructureAttributeChange(\n                                    'hidden',\n                                    !currentResourcesStructureElement.hidden\n                                )\n                            }\n                        break\n                    case 'KeyS':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handleSaveResource()\n                        }\n                        break\n                    case 'KeyP':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            handlePublishRevert()\n                        }\n                        break\n                    case 'KeyF':\n                        if (e.ctrlKey) {\n                            e.preventDefault()\n                            setState({\n                                ...state,\n                                searchOpen: !state.searchOpen,\n                            })\n                        }\n                        break\n                    case 'Delete':\n                        e.preventDefault()\n                        props.deleteResource(props.type)\n                        break\n                    default:\n                        break\n                }\n            }\n        }\n    }\n\n    const handleButtonMenuClick = e => {\n        if (!props.checkUserRights(requiredRightsIndex.add)) {\n            return\n        }\n        switch (e.key) {\n            case 'duplicate':\n                props.addResource(props.type, true)\n                break\n            case 'delete':\n                props.deleteResource(props.type)\n                break\n            case 'homepage':\n                resourceStructureAttributeChange('homepage', true)\n                break\n            case 'hide':\n                if (currentResourcesStructureElement)\n                    resourceStructureAttributeChange(\n                        'hidden',\n                        !currentResourcesStructureElement.hidden\n                    )\n                break\n            case 'folder':\n                if (currentResourcesStructureElement)\n                    resourceStructureAttributeChange(\n                        'folderPage',\n                        !currentResourcesStructureElement.folderPage\n                    )\n                break\n            case 'propagating':\n                if (currentResourcesStructureElement) {\n                    if (currentResourcesStructureElement.propagating)\n                        if (\n                            !window.confirm(\n                                'Are you sure you want to turn off propagating of this plugin? This will remove all CMS variables of this plugin.'\n                            )\n                        )\n                            return\n                    resourceStructureAttributeChange(\n                        'propagating',\n                        !currentResourcesStructureElement.propagating\n                    )\n                }\n                break\n            case 'search':\n                setState({\n                    ...state,\n                    searchOpen: !state.searchOpen,\n                })\n                break\n            case 'publish':\n                handlePublishRevert()\n                break\n            case 'revertSave':\n                props.revertResource(props.type, 'draft')\n                break\n            case 'revertPublish':\n                props.revertResource(props.type, 'published')\n                break\n            default:\n                break\n        }\n    }\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <ControlPanel>\n                {\n                    <Buttons\n                        handleButtonMenuClick={handleButtonMenuClick}\n                        requiredRightsIndex={requiredRightsIndex}\n                        currentResourcesStructureElement={\n                            currentResourcesStructureElement\n                        }\n                        resourceStructureAttributeChange={\n                            resourceStructureAttributeChange\n                        }\n                        templateOptions={templateOptions}\n                        handleSaveResource={handleSaveResource}\n                        currentResource={currentResource}\n                        newVersionResources={props.newVersionResources}\n                        type={props.type}\n                        currentWebsiteObject={props.currentWebsiteObject}\n                        revertResource={props.revertResource}\n                        checkUserRights={props.checkUserRights}\n                        sendUpdate={props.sendUpdate}\n                        publishResource={props.publishResource}\n                        addResource={props.addResource}\n                        deleteResource={props.deleteResource}\n                        isGlobalSettingsPage={props.isGlobalSettingsPage}\n                    />\n                }\n            </ControlPanel>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    isVirtualized={true}\n                    rowHeight={20}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                    }}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    generateNodeProps={generateNodePropsHandle}\n                    slideRegionSize={20}\n                />\n                <OverlayOnSizeIsChanging />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        structure: state.mD[structureIndex[props.type]],\n        currentResource: state.mD[currentIndex[props.type]],\n        isGlobalSettingsPage:\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsPageId ||\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsTemplateId,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentResourcesStructureElement:\n            state.mD[resourceItemIndex[props.type]],\n        templatesStructure: state.mD.templatesStructure,\n        isFocused: state.activeContainer === props.type + 'resources',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        revertResource: (mD, type, to) =>\n            dispatch(wsActions.revertResource(mD, type, to)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n        publishResource: type => dispatch(wsActions.publishResource(type)),\n        addResource: (type, withChildren) =>\n            dispatch(wsActions.addResource(type, withChildren)),\n        deleteResource: type => dispatch(wsActions.deleteResource(type)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ResourcesTree)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './TextProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport Select from 'antd/es/select'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport StarOutlined from '@ant-design/icons/StarOutlined'\nimport SplitCellsOutlined from '@ant-design/icons/SplitCellsOutlined'\nimport ForkOutlined from '@ant-design/icons/ForkOutlined'\nimport ControlPanel from '../../../UI/ControlPanel'\nimport Divider from 'antd/es/divider'\n\n// import type { elementType } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     element,\n//     changeProperty: (key: string | {}, value: string) => {},\n//     splitText: typeof actions.splitText,\n//     textToSpan: typeof actions.textToSpan,\n//     requiredRights: Array<string>,\n// }\n\nconst TextProperty = props => {\n    const [state, setState] = useState({\n        selectionStart: 0,\n        selectionEnd: 0,\n        value: '',\n    })\n\n    const editor = useRef(null)\n\n    useEffect(() => {\n        if (props.elementValues.textContent !== state.value) {\n            setState({\n                selectionStart: 0,\n                selectionEnd: 0,\n                value: props.elementValues.textContent,\n            })\n        }\n    }, [props.elementValues.textContent])\n\n    const handleTextChangeCss = value => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        value = value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        props.changeProperty('textContent', value)\n    }\n\n    const handleTextChangeText = e => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        const value = e.target.value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        if (props.elementValues.textMode === 'text')\n            setState({\n                selectionStart: e.target.selectionStart,\n                selectionEnd: e.target.selectionEnd,\n                value,\n            })\n        props.changeProperty('textContent', value)\n    }\n\n    const handleSelectionChange = e => {\n        setState({\n            ...state,\n            selectionStart: e.target.selectionStart,\n            selectionEnd: e.target.selectionEnd,\n        })\n    }\n\n    return props.elementValues ? (\n        <>\n            <ControlPanel>\n                <Select\n                    onSelect={value => {\n                        if (!props.checkUserRights(props.requiredRights)) return\n                        props.changeProperty('textMode', value)\n                    }}\n                    dropdownMatchSelectWidth={false}\n                    size=\"small\"\n                    style={{ border: '1px solid #ccc' }}\n                    value={props.elementValues.textMode}\n                    placeholder=\"Choose one option\"\n                >\n                    {[\n                        { value: 'text', label: 'text' },\n                        { value: 'css', label: 'css' },\n                        { value: 'javascript', label: 'javascript' },\n                    ].map(option => (\n                        <Select.Option\n                            key={'select' + option.value}\n                            value={option.value}\n                        >\n                            {option.label}\n                        </Select.Option>\n                    ))}\n                </Select>\n\n                {props.elementValues.textMode === 'text' ? (\n                    <>\n                        <SmallButton\n                            title=\"Split\"\n                            tooltip=\"Split the text into separate text elements\"\n                            buttonClicked={() => {\n                                props.splitText(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon={<ForkOutlined />}\n                            requiredRights={props.requiredRights}\n                        />\n                        <Divider type=\"vertical\" />\n                        <SmallButton\n                            title=\"To span\"\n                            tooltip=\"Put the highlighted text into a sparate span element\"\n                            buttonClicked={() => {\n                                props.textToSpan(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon={<SplitCellsOutlined />}\n                            requiredRights={props.requiredRights}\n                        />\n                    </>\n                ) : (\n                    <SmallButton\n                        buttonClicked={() => {\n                            editor.current.makeCodePrettier()\n                        }}\n                        title=\"Beautify\"\n                        icon={<StarOutlined />}\n                        tooltip=\"Beautify the code\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </ControlPanel>\n            <div className={classes.Editors}>\n                {props.elementValues.textMode === 'text' ? (\n                    <textarea\n                        className={classes.Textarea}\n                        onChange={handleTextChangeText}\n                        value={state.value}\n                        onKeyUp={handleSelectionChange}\n                        onMouseUp={handleSelectionChange}\n                    />\n                ) : (\n                    <Editor\n                        ref={editor}\n                        currentElement={props.element.id}\n                        elementValue={props.elementValues.textContent || ''}\n                        // elementCurrentCursor={element.cursorPosition}\n                        editorMode={props.elementValues.textMode}\n                        handleChange={handleTextChangeCss}\n                        name=\"editorText\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        splitText: (type, start, end) =>\n            dispatch(actions.splitText(type, start, end)),\n        textToSpan: (type, start, end) =>\n            dispatch(actions.textToSpan(type, start, end)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(TextProperty)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './ParseProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport checkUserRights from '../../../../utils/checkUserRights'\n\n// import type {\n//     resourceType,\n//     elementType,\n//     initialStateType,\n// } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     element,\n//     resourceDraft: resourceType,\n//     changeProperty: (key: string | {}, value: string) => {},\n//     currentResource:\n//         | $PropertyType<initialStateType, 'currentPlugin'>\n//         | $PropertyType<initialStateType, 'currentPage'>,\n//     splitText: typeof actions.splitText,\n//     textToSpan: typeof actions.textToSpan,\n//     tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n//     websites: $PropertyType<initialStateType, 'websites'>,\n//     loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n//     userId: $PropertyType<initialStateType, 'userId'>,\n//     requiredRights: Array<string>,\n// }\n\nconst ParseProperty = props => {\n    const [value, setValue] = useState('')\n\n    const handleTextChange = editorValue => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        setValue(editorValue)\n    }\n\n    return props.element ? (\n        <>\n            <div>\n                <SmallButton\n                    title=\"Parse the code\"\n                    buttonClicked={() => {\n                        props.parseHTML(props.type, value)\n                    }}\n                    requiredRights={props.requiredRights}\n                />\n            </div>\n            <div className={classes.Editors}>\n                <Editor\n                    currentElement={props.currentBox}\n                    editorValue=\"\"\n                    editorMode=\"html\"\n                    handleChange={handleTextChange}\n                    name=\"editorParse\"\n                    requiredRights={['developer']}\n                />\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        parseHTML: (type, value) => dispatch(actions.parseHTML(type, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(ParseProperty)\n","export default {\n    websiterMenu: [\n        {\n            value: 'horizontal | vertical',\n            label: 'mode',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemActiveClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemActiveClasses',\n        },\n    ],\n    baseHtmlProps: [\n        {\n            value: 'id',\n            label: 'id',\n        },\n        {\n            value: 'class',\n            label: 'class',\n        },\n    ],\n}\n","import React, { useState, useEffect } from 'react'\n\nimport { Editor } from '@tinymce/tinymce-react'\nimport { connect } from 'react-redux'\nimport checkUserRights from '../../utils/checkUserRights'\n\n// import type { elementType, initialStateType } from '../../store/reducer/reducer'\n// type Props = {\n//     elementValue: $PropertyType<elementType, 'propertiesString'>,\n//     elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n//     editorMode: 'json' | 'css',\n//     handleChange: (value: string, cursorPosition: {}) => {},\n//     readOnly?: boolean,\n//     sizeIsChanging: $PropertyType<initialStateType, 'sizeIsChanging'>,\n//     requiredRights: Array<string>,\n//     value: string,\n// }\n\nconst HTMLEditor = props => {\n    const [state, setState] = useState(false)\n    const [value, setValue] = useState(props.value)\n    const [box, setBox] = useState(props.currentBox)\n\n    useEffect(() => {\n        setValue(props.value)\n        setBox(props.currentBox)\n        setState(true)\n    }, [\n        props.currentBox,\n        props.currentPageId,\n        props.currentTemplateId,\n        props.currentPluginId,\n    ])\n\n    const handleChange = (e, editor) => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        props.handleChange(e, editor, box)\n    }\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flex: '1',\n                flexDirection: 'column',\n                height: '100%',\n                position: 'relative',\n            }}\n        >\n            {!state ? (\n                <Editor\n                    apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n                    value={value}\n                    init={{\n                        // skin_url: `../../../skins/`,\n                        readonly: props.readOnly ? 1 : 0,\n                        // height: 500,\n                        plugins: [\n                            'advlist autolink lists link image charmap print preview anchor',\n                            'searchreplace visualblocks code fullscreen',\n                            'insertdatetime media table contextmenu paste',\n                        ],\n                        toolbar:\n                            'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n                        menu: {\n                            file: {\n                                title: 'File',\n                                items: ' print ',\n                            },\n                            edit: {\n                                title: 'Edit',\n                                items:\n                                    'undo redo | cut copy paste | selectall | searchreplace',\n                            },\n                            view: {\n                                title: 'View',\n                                items:\n                                    'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen',\n                            },\n                            insert: {\n                                title: 'Insert',\n                                items:\n                                    'image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime',\n                            },\n                            format: {\n                                title: 'Format',\n                                items:\n                                    'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat',\n                            },\n                            tools: {\n                                title: 'Tools',\n                                items:\n                                    'spellchecker spellcheckerlanguage | code wordcount',\n                            },\n                            table: {\n                                title: 'Table',\n                                items:\n                                    'inserttable | cell row column | tableprops deletetable',\n                            },\n                            help: { title: 'Help', items: 'help' },\n                        },\n                        menubar: true,\n                        image_advtab: true,\n                        // plugins: [\n                        //     'advlist autolink lists link image charmap print preview anchor',\n                        //     'searchreplace visualblocks code fullscreen',\n                        //     'insertdatetime media table paste code help wordcount',\n                        // ],\n                        // toolbar:\n                        //     'insertfile undo redo | formatselect | bold italic backcolor | \\\n                        //  alignleft aligncenter alignright alignjustify | \\\n                        //  bullist numlist outdent indent | removeformat | help | table | ',\n                    }}\n                    onChange={handleChange}\n                    onKeyUp={handleChange}\n                    onMouseUp={handleChange}\n                />\n            ) : (\n                <Refresh setState={setState} />\n            )}\n            {props.sizeIsChanging ? (\n                <div\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        opacity: '0',\n                        position: 'absolute',\n                    }}\n                />\n            ) : null}\n        </div>\n    )\n}\n\nconst Refresh = props => {\n    useEffect(() => {\n        props.setState(false)\n    })\n    return null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n        currentPageId: state.mD.currentPageId,\n        currentTemplateId: state.mD.currentTemplateId,\n        currentPluginId: state.mD.currentPluginId,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(HTMLEditor)\n\n// import React, { useEffect, useState } from 'react'\n\n// // Initialize the app\n\n// import SunEditor, { buttonList } from 'suneditor-react'\n// import 'suneditor/dist/css/suneditor.min.css'\n// import type { elementType } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     currentElement: $PropertyType<elementType, 'id'>,\n//     elementValue: $PropertyType<elementType, 'propertiesString'>,\n//     elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n//     editorMode: 'json' | 'css',\n//     handleChange: (value: string, cursorPosition: {}) => {},\n//     readOnly?: boolean,\n// }\n\n// const HTMLEditor = props => {\n//     const [state, setState] = useState(props.value)\n//     useEffect(() => {\n//         setState(props.value)\n//     }, [props.currentElement, props.currentResource])\n//     return (\n//         <SunEditor\n//             setContents={state}\n//             onChange={props.handleChange}\n//             setOptions={{ buttonList: buttonList.complex }}\n//         />\n//     )\n// }\n\n// export default HTMLEditor\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../FilesTreeAndProperties/FilesTree/FilesTree.module.css'\nimport * as classesFileTree from './FileItem.module.css'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n} from '../../../../utils/sortTreeMethods'\nimport Svg from '../../../Svg/Svg'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport LazyLoad from 'react-lazy-load'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\n\n// import { bucket, CloudFrontUrl } from '../../../awsConfig'\n\n// type Props = {\n//     changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n//     chooseResource: typeof actions.chooseResource,\n//     connectDragPreview: Function,\n//     scaffoldBlockPxWidth: number,\n//     toggleChildrenVisibility: Function,\n//     connectDragPreview: Function,\n//     connectDragSource: Function,\n//     isDragging: boolean,\n//     canDrop: boolean,\n//     canDrag: boolean,\n//     node: pageType & { children: Array<pageType>, expanded: boolean },\n//     draggedNode: {},\n//     path: Array<string>,\n//     treeIndex: number,\n//     isSearchMatch: boolean,\n//     isSearchFocus: boolean,\n//     className: string,\n//     style: string,\n//     didDrop: boolean,\n//     saveResourcesStructure: typeof actions.saveResourcesStructure,\n//     notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n//     userId: $PropertyType<initialStateType, 'userId'>,\n// }\n\nconst ItemRenderer = props => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, size, type } = props.node\n\n    const rowClasses = [classes.rst__row, classesFileTree.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handleChoose = id => {\n        props.changeProperty('currentFileId', id)\n    }\n\n    // const edits = {\n    //     resize: {\n    //         width: 40,\n    //         height: 40,\n    //         fit: 'contain',\n    //         background: { r: 0, g: 0, b: 0, alpha: 0 },\n    //     },\n    // }\n    // if (type !== 'image/png') edits.toFormat = 'png'\n    // const imageRequest = JSON.stringify({\n    //     bucket: bucket,\n    //     key: serverName,\n    //     edits,\n    // })\n    // const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n    // let imageClass = classes.ImageContainer\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            style={{\n                                width: '100px',\n                                height: '60px',\n                                overflow: 'hidden',\n\n                                boxSizing: 'border-box',\n                                lineHeight: '60px',\n                                textAlign: 'center',\n                            }}\n                        >\n                            {type.indexOf('image') >= 0 ? (\n                                <LazyLoad height={60}>\n                                    <img\n                                        src={getFileUrl(\n                                            props.structure,\n                                            id,\n                                            false,\n                                            true,\n                                            props.currentWebsiteObject.domain\n                                        )}\n                                        style={{\n                                            maxWidth: '100%',\n                                            maxHeight: '100%',\n                                            verticalAlign: 'middle',\n                                        }}\n                                        alt=\"websiter\"\n                                    />\n                                </LazyLoad>\n                            ) : (\n                                <Svg icon='<svg width=\"40\" height=\"30\" viewBox=\"0 0 24 24\"><path fill=\"#555\" d=\"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z\"></path></svg>' />\n                            )}\n                        </div>\n                        <div\n                            style={{ padding: '0 7px 0 15px', border: 'none' }}\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <div>{name}</div>\n                                <div style={{ color: '#555' }}>\n                                    <TimeAgo date={props.node.modifiedDate} />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        userId: state.userId,\n        structure: state.mD.filesStructure,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: id => dispatch(actions.chooseResource(id, 'file')),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\nimport Tabs from 'antd/es/tabs'\nimport * as actions from '../../../../store/actions/index'\n\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesFileTree from './FileItem.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport SizeDragController from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport OverlayOnSizeIsChanging from '../../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport bytes from 'bytes'\nimport TimeAgo from 'react-timeago'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\nimport Checkbox from 'antd/es/checkbox'\nimport Divider from 'antd/es/divider'\n\nconst FileItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n\n    useEffect(() => {\n        const treeDataSource = buildTree(props.filesStructure).map(item => ({\n            ...item,\n            // type: props.mode,\n        }))\n        setState({ ...state, treeDataSource })\n    }, [props.filesStructure])\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer('filesitems')\n        } else {\n            props.setActiveContainer('filesitems')\n        }\n    }\n\n    const currentFileItem = props.filesStructure.find(\n        item => item.id === props.elementValues.currentFileId\n    )\n\n    const chosenFileItem = props.filesStructure.find(item => {\n        return (\n            getFileUrl(props.filesStructure, item.id, true) ===\n            props.elementValues[props.attrName]\n        )\n    })\n\n    const fileDetailesTable = file => (\n        <table>\n            <tbody>\n                <tr>\n                    <td>Name</td>\n                    <td>{file.name}</td>\n                </tr>\n                <tr>\n                    <td>Size</td>\n                    <td>\n                        {bytes(file.size, {\n                            decimalPlaces: 1,\n                        })}\n                    </td>\n                </tr>\n                <tr>\n                    <td>Type</td>\n                    <td>{file.type}</td>\n                </tr>\n                <tr>\n                    <td>Date created</td>\n                    <td>\n                        <TimeAgo date={file.createdDate} />\n                    </td>\n                </tr>\n                <tr>\n                    <td>Date modified</td>\n                    <td>\n                        <TimeAgo date={file.modifiedDate} />\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    )\n\n    return props.element && props.elementValues ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n                tabIndex=\"0\"\n                onKeyDown={e => {\n                    setActiveAndKeyDown(e.nativeEvent)\n                }}\n                onMouseDown={() => {\n                    setActiveAndKeyDown()\n                }}\n                onTouchStart={() => {\n                    setActiveAndKeyDown()\n                }}\n                onFocus={() => {\n                    setActiveAndKeyDown()\n                }}\n                onBlur={() => {\n                    setActiveAndKeyDown('blur')\n                }}\n            >\n                <div className={classes.TreeContainer}>\n                    <SortableTree\n                        className={classesFileTree.FilesTree}\n                        treeData={state.treeDataSource}\n                        nodeContentRenderer={ItemRenderer}\n                        isVirtualized={true}\n                        generateNodeProps={({ node }) => ({\n                            type: props.type,\n                            className:\n                                chosenFileItem && node.id === chosenFileItem.id\n                                    ? [classes.ChosenGreen]\n                                    : node.id ===\n                                      props.elementValues.currentFileId\n                                    ? props.isFocused\n                                        ? [classes.Chosen]\n                                        : [classes.ChosenBlur]\n                                    : null,\n                            changeProperty: props.changeProperty,\n                            elementId: props.element.id,\n                            fileUrl: props.elementValues[props.attrName],\n                            attrName: props.attrName,\n                        })}\n                        rowHeight={60}\n                        scaffoldBlockPxWidth={22}\n                        canDrop={() => false}\n                        canDrag={() => false}\n                        shouldCopyOnOutsideDrop={true}\n                        dndType={props.attrName}\n                        style={{\n                            flex: '1 1',\n                            height: 'auto !important',\n                            overflow: 'auto',\n                        }}\n                        onChange={items =>\n                            setState({ ...state, treeDataSource: items })\n                        }\n                        slideRegionSize={20}\n                    />\n                    <OverlayOnSizeIsChanging />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    type={'width3'}\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs defaultActiveKey=\"high\" animated={false} size=\"small\">\n                    <Tabs.TabPane tab=\"Highlighted file\" key=\"high\">\n                        {currentFileItem && (\n                            <div style={{ flex: 1 }}>\n                                {currentFileItem.type.indexOf('image') >= 0 ? (\n                                    <>\n                                        <Checkbox\n                                            checked={\n                                                props.elementValues[\n                                                    props.attrName\n                                                ] ===\n                                                    getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ) &&\n                                                !props.elementValues[\n                                                    props.attrThumb\n                                                ]\n                                            }\n                                            onChange={value => {\n                                                props.changeProperty({\n                                                    [props.attrName]: getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ),\n                                                    [props.attrThumb]: false,\n                                                })\n                                            }}\n                                        >\n                                            Select original size\n                                        </Checkbox>\n                                        <div />\n                                        <Checkbox\n                                            checked={\n                                                props.elementValues[\n                                                    props.attrName\n                                                ] ===\n                                                    getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ) &&\n                                                props.elementValues[\n                                                    props.attrThumb\n                                                ]\n                                            }\n                                            onChange={value => {\n                                                props.changeProperty({\n                                                    [props.attrName]: getFileUrl(\n                                                        props.filesStructure,\n                                                        currentFileItem.id,\n                                                        true\n                                                    ),\n                                                    [props.attrThumb]: true,\n                                                })\n                                            }}\n                                        >\n                                            Select thumbnail size\n                                        </Checkbox>\n                                        <Divider />\n\n                                        <img\n                                            src={getFileUrl(\n                                                props.filesStructure,\n                                                props.elementValues\n                                                    .currentFileId,\n                                                false,\n                                                true,\n                                                props.currentWebsiteObject\n                                                    .domain\n                                            )}\n                                            style={{\n                                                maxWidth: '100%',\n                                                maxHeight: '100%',\n                                                verticalAlign: 'middle',\n                                            }}\n                                            alt=\"websiter\"\n                                        />\n                                    </>\n                                ) : (\n                                    <Checkbox\n                                        checked={\n                                            props.elementValues[\n                                                props.attrName\n                                            ] ===\n                                                getFileUrl(\n                                                    props.filesStructure,\n                                                    currentFileItem.id,\n                                                    true\n                                                ) && !props.thumbnail\n                                        }\n                                        onChange={value => {\n                                            props.changeProperty({\n                                                [props.attrName]: getFileUrl(\n                                                    props.filesStructure,\n                                                    currentFileItem.id,\n                                                    true\n                                                ),\n                                                [props.attrThumb]: false,\n                                            })\n                                        }}\n                                    >\n                                        Select file\n                                    </Checkbox>\n                                )}\n                                {fileDetailesTable(currentFileItem)}\n                            </div>\n                        )}\n                        <OverlayOnSizeIsChanging />\n                    </Tabs.TabPane>\n                    <Tabs.TabPane tab=\"Chosen file\" key=\"chosen\">\n                        {props.elementValues[props.attrName] && (\n                            <>\n                                <div style={{ flex: 1 }}>\n                                    <img\n                                        src={\n                                            getFileUrl(\n                                                props.filesStructure,\n                                                props.elementValues[\n                                                    props.attrName\n                                                ],\n                                                false,\n                                                true,\n                                                props.currentWebsiteObject\n                                                    .domain\n                                            )\n                                            // 'http://live.websiter.dev:5000/' +\n                                            // props.currentWebsiteObject.domain +\n                                            // props.elementValues[props.attrName]\n                                        }\n                                        style={{\n                                            maxWidth: '100%',\n                                            maxHeight: '100%',\n                                            verticalAlign: 'middle',\n                                        }}\n                                        alt=\"websiter\"\n                                    />\n                                    {chosenFileItem\n                                        ? fileDetailesTable(chosenFileItem)\n                                        : null}\n                                </div>\n                            </>\n                        )}\n                        <OverlayOnSizeIsChanging />\n                    </Tabs.TabPane>\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        filesStructure: state.mD.filesStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        isFocused: state.activeContainer === 'filesitems',\n    }\n}\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(FileItems)\n","import React, { useState } from 'react'\nimport Tabs from 'antd/es/tabs'\nimport * as classes from '../Properties.module.css'\nimport Select from 'antd/es/select'\nimport { getCurrentResourceValue } from '../../../../utils/basic'\nimport Editor from '../../../Editor/Editor'\nimport MenuItems from '../MenuItems/MenuItems'\nimport FileItems from '../FileItems/FileItems'\nimport HTMLEditor from '../../../HTMLEditor/HTMLEditor'\nimport { SketchPicker, CirclePicker } from 'react-color'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport { connect } from 'react-redux'\nimport InputNumber from 'antd/es/input-number'\nimport Slider from 'antd/es/slider'\n\nconst CMSPannel = props => {\n    const {\n        pannelClass,\n        tabClass,\n        elementValues,\n        currentBox,\n        currentResource,\n        element,\n        propertiesSuggestedList,\n        handlePropertiesChange,\n        changeProperty,\n        mode,\n    } = props\n    const variableOptions = [\n        {\n            label: 'Plain text',\n            value: 'text',\n        },\n        {\n            label: 'HTML',\n            value: 'html',\n        },\n        {\n            label: 'Number',\n            value: 'number',\n        },\n        {\n            label: 'Range',\n            value: 'range',\n        },\n        {\n            label: 'Select',\n            value: 'select',\n        },\n        {\n            label: 'File',\n            value: 'file',\n        },\n        {\n            label: 'Color',\n            value: 'color',\n        },\n        {\n            label: 'Color select',\n            value: 'colorSelect',\n        },\n        {\n            label: 'Menu tems',\n            value: 'menuItems',\n        },\n        {\n            label: 'Array',\n            value: 'array',\n        },\n        ...props.propagatingPlugins,\n    ]\n\n    const [rangeValue, setRangeValue] = useState()\n    return (\n        <Tabs defaultActiveKey=\"type\" animated={false} size=\"small\">\n            <Tabs.TabPane tab=\"Type\" key=\"type\">\n                <Select\n                    onSelect={value => {\n                        if (!props.checkUserRights(['developer'])) return\n                        changeProperty('CMSVariableType', value)\n                    }}\n                    dropdownMatchSelectWidth={false}\n                    size=\"small\"\n                    style={{ border: '1px solid #ccc', margin: '10px' }}\n                    value={elementValues.CMSVariableType}\n                    showSearch={true}\n                    placeholder=\"Choose one option\"\n                >\n                    {variableOptions.map(option => (\n                        <Select.Option\n                            key={'select' + option.value}\n                            value={option.value}\n                        >\n                            {option.label}\n                        </Select.Option>\n                    ))}\n                </Select>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"System name\" key=\"sysName\">\n                <Editor\n                    currentElement={currentBox}\n                    elementValue={elementValues.CMSVariableSystemName}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"text\"\n                    handleChange={value =>\n                        changeProperty('CMSVariableSystemName', value)\n                    }\n                    name=\"editorCMSName\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Properties\" key=\"props\">\n                <Editor\n                    suggestOptions={[\n                        ...(element.tag !== 'menu'\n                            ? propertiesSuggestedList.baseHtmlProps\n                            : []),\n                        ...(propertiesSuggestedList[element.tag]\n                            ? propertiesSuggestedList[element.tag]\n                            : []),\n                    ]}\n                    currentElement={currentBox}\n                    elementValue={elementValues.propertiesString || '{}'}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"json\"\n                    handleChange={handlePropertiesChange}\n                    name=\"editorProperties\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Desription\" key=\"desr\">\n                <Editor\n                    currentElement={currentBox}\n                    elementValue={elementValues.CMSVariableDescription}\n                    elementCurrentCursor={elementValues.cursorPosition}\n                    editorMode=\"text\"\n                    handleChange={value =>\n                        changeProperty('CMSVariableDescription', value)\n                    }\n                    name=\"editorCMSDescription\"\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Default value\" key=\"default\">\n                {elementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={elementValues.CMSVariableDefaultValue}\n                        handleChange={(e, editor) => {\n                            changeProperty(\n                                'CMSVariableDefaultValue',\n                                editor.getContent()\n                            )\n                        }}\n                        requiredRights={['developer']}\n                    />\n                ) : elementValues.CMSVariableType === 'menuItems' ? (\n                    <MenuItems\n                        elementValues={elementValues}\n                        element={element}\n                        changeProperty={changeProperty}\n                        mode={mode}\n                        attrName=\"defaultMenuItems\"\n                    />\n                ) : elementValues.CMSVariableType === 'text' ? (\n                    <Editor\n                        currentElement={currentBox}\n                        elementValue={elementValues.CMSVariableDefaultValue}\n                        elementCurrentCursor={elementValues.cursorPosition}\n                        editorMode=\"text\"\n                        handleChange={value =>\n                            changeProperty('CMSVariableDefaultValue', value)\n                        }\n                        name=\"editorCMSDefaultValue\"\n                        requiredRights={['developer']}\n                        currentResource={currentResource}\n                    />\n                ) : elementValues.CMSVariableType === 'number' ||\n                  elementValues.CMSVariableType === 'range' ? (\n                    <>\n                        {elementValues.CMSVariableType === 'range' && (\n                            <Slider\n                                style={{ margin: '10px' }}\n                                defaultValue={\n                                    elementValues.CMSVariableDefaultValue\n                                }\n                                value={rangeValue}\n                                onChange={value => {\n                                    setRangeValue(value)\n                                    if (!props.checkUserRights(['developer']))\n                                        return\n                                    changeProperty(\n                                        'CMSVariableDefaultValue',\n                                        value\n                                    )\n                                }}\n                                max={\n                                    elementValues.properties &&\n                                    elementValues.properties.max\n                                }\n                                min={\n                                    elementValues.properties &&\n                                    elementValues.properties.min\n                                }\n                                step={\n                                    elementValues.properties &&\n                                    elementValues.properties.step\n                                }\n                            />\n                        )}\n                        <InputNumber\n                            style={{ margin: '10px' }}\n                            defaultValue={elementValues.CMSVariableDefaultValue}\n                            value={rangeValue}\n                            onChange={value => {\n                                setRangeValue(value)\n                                if (!props.checkUserRights(['developer']))\n                                    return\n                                changeProperty('CMSVariableDefaultValue', value)\n                            }}\n                            max={\n                                elementValues.properties &&\n                                elementValues.properties.max\n                            }\n                            min={\n                                elementValues.properties &&\n                                elementValues.properties.min\n                            }\n                            step={\n                                elementValues.properties &&\n                                elementValues.properties.step\n                            }\n                        />\n                    </>\n                ) : elementValues.CMSVariableType === 'select' ? (\n                    <Select\n                        onSelect={value => {\n                            if (!props.checkUserRights(['developer'])) return\n                            changeProperty('CMSVariableDefaultValue', value)\n                        }}\n                        dropdownMatchSelectWidth={false}\n                        size=\"small\"\n                        style={{ border: '1px solid #ccc', margin: '10px' }}\n                        value={elementValues.CMSVariableDefaultValue.toString()}\n                        showSearch={true}\n                        placeholder=\"Choose one option\"\n                        requiredRights={['developer']}\n                    >\n                        {(elementValues.properties\n                            ? elementValues.properties.options || []\n                            : []\n                        ).map(option => (\n                            <Select.Option\n                                key={'select' + option.value}\n                                value={option.value}\n                            >\n                                {option.label}\n                            </Select.Option>\n                        ))}\n                    </Select>\n                ) : elementValues.CMSVariableType === 'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                elementValues.properties\n                                    ? elementValues.properties.colors\n                                    : undefined\n                            }\n                            color={elementValues.defaultColor}\n                            onChangeComplete={value => {\n                                if (!props.checkUserRights(['developer']))\n                                    return\n                                changeProperty('defaultColor', value.rgb)\n                            }}\n                        />\n                    </div>\n                ) : elementValues.CMSVariableType === 'file' ? (\n                    <FileItems\n                        elementValues={elementValues}\n                        element={element}\n                        changeProperty={changeProperty}\n                        mode={mode}\n                        attrName=\"defaultFileUrl\"\n                    />\n                ) : elementValues.CMSVariableType === 'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            elementValues.properties\n                                ? elementValues.properties.colors\n                                : undefined\n                        }\n                        color={elementValues.defaultColor}\n                        onChangeComplete={value => {\n                            if (!props.checkUserRights(['developer'])) return\n                            changeProperty('defaultColor', value.rgb)\n                        }}\n                        disableAlpha={\n                            elementValues.properties\n                                ? elementValues.properties.disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : (\n                    <div>\n                        Default value for array and propagating plugin variable\n                        cannot be set.\n                    </div>\n                )}\n            </Tabs.TabPane>\n        </Tabs>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(CMSPannel)\n","import React from 'react'\nimport Tabs from 'antd/es/tabs'\n\nimport { connect } from 'react-redux'\n\nimport * as classes from './Properties.module.css'\nimport TextProperty from './TextProperty/TextProperty'\nimport ParseProperty from './ParseProperty/ParseProperty'\nimport { checkIfCapital } from '../../../utils/basic'\nimport propertiesSuggestedList from './propertiesSuggestedList'\nimport Editor from '../../Editor/Editor'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport CMSPannels from './Property pannels/CMSPannels'\n// import type { resourceType, elementType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     resourceDraft: resourceType,\n//     changeProperty: (key: string | {}, value: string) => ?{},\n//     mode: 'page' | 'plugin' | 'template',\n// }\n\nconst Properties = props => {\n    const { element, elementValues, currentBox, currentResource } = props\n\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const handlePropertiesChange = (value, cursorPosition) => {\n        if (value) {\n            const changes = {}\n            changes.cursorPosition = cursorPosition\n            changes['propertiesString'] = value\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            if (obj) {\n                changes['properties'] = obj\n                changes['propertiesString'] = JSON.stringify(obj)\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n\n    const handleStyleChange = (value, cursorPosition) => {\n        if (typeof value === 'string') {\n            value = value.trim()\n            if (value.length < 3) {\n                value = ''\n            } else {\n                if (value.charAt(0) === '{') {\n                    value = value.slice(1)\n                }\n                if (value.charAt(value.length - 1) === '}') {\n                    value = value.slice(0, value.length - 2)\n                }\n                value = value.trim()\n            }\n            const changes = {\n                style: value,\n                cursorPosition,\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n    const isPlugin = element ? checkIfCapital(element.tag.charAt(0)) : false\n\n    let result = null\n\n    if (element && elementValues && !element.isElementFromCMSVariable) {\n        if (props.mode === 'page') {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                />\n            )\n        } else if (element.isCMSVariable) {\n            result = (\n                <CMSPannels\n                    tabClass={tabClass}\n                    pannelClass={pannelClass}\n                    propagatingPlugins={props.propagatingPlugins}\n                    elementValues={elementValues}\n                    currentBox={currentBox}\n                    currentResource={currentResource}\n                    element={element}\n                    propertiesSuggestedList={propertiesSuggestedList}\n                    handlePropertiesChange={handlePropertiesChange}\n                    changeProperty={props.changeProperty}\n                    mode={props.mode}\n                />\n            )\n        } else if (element.text && !isPlugin) {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                    requiredRights={['developer']}\n                />\n            )\n        } else if (element.tag === 'richEditor') {\n            result = (\n                <HTMLEditor\n                    value={elementValues.textContent}\n                    handleChange={(e, editor, id) => {\n                        props.changeProperty(\n                            'textContent',\n                            editor.getContent(),\n                            id\n                        )\n                    }}\n                    requiredRights={['developer']}\n                    currentBox={currentBox}\n                />\n            )\n        } else if (element.tag === 'parseHTML') {\n            result = (\n                <ParseProperty\n                    type={props.mode}\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                    currentBox={currentBox}\n                    element={element}\n                />\n            )\n        } else {\n            result = (\n                <Tabs defaultActiveKey=\"style\" animated={false} size=\"small\">\n                    {!isPlugin && (\n                        <Tabs.TabPane\n                            tab=\"Style\"\n                            key=\"style\"\n                            forceRender={true}\n                        >\n                            <Editor\n                                currentElement={currentBox}\n                                elementValue={\n                                    '{ ' + (elementValues.style || '') + ' }'\n                                }\n                                elementCurrentCursor={\n                                    elementValues.cursorPosition\n                                }\n                                editorMode=\"css\"\n                                handleChange={handleStyleChange}\n                                name=\"editorStyle\"\n                                requiredRights={['developer']}\n                                currentResource={currentResource}\n                            />\n                        </Tabs.TabPane>\n                    )}\n                    <Tabs.TabPane\n                        tab=\"Properties\"\n                        key=\"props\"\n                        forceRender={true}\n                    >\n                        <Editor\n                            suggestOptions={[\n                                ...(element.tag !== 'menu'\n                                    ? propertiesSuggestedList.baseHtmlProps\n                                    : []),\n                                ...(propertiesSuggestedList[element.tag]\n                                    ? propertiesSuggestedList[element.tag]\n                                    : []),\n                            ]}\n                            currentElement={currentBox}\n                            elementValue={\n                                elementValues.propertiesString || '{}'\n                            }\n                            elementCurrentCursor={elementValues.cursorPosition}\n                            editorMode=\"json\"\n                            handleChange={handlePropertiesChange}\n                            name=\"editorProperties\"\n                            requiredRights={['developer']}\n                            currentResource={currentResource}\n                        />\n                    </Tabs.TabPane>\n                </Tabs>\n            )\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null\n    if (resourceDraft.structure) {\n        element = resourceDraft.structure.find(\n            item => resourceDraft.currentBox === item.id\n        )\n        if (element) {\n            elementValues = resourceDraft.values[element.id]\n        }\n    }\n\n    const propagatingPlugins = state.mD.pluginsStructure\n        .filter(plugin => plugin.propagating)\n        .map(plugin => ({\n            label: plugin.name + ' (for propagating plugin)',\n            value: 'propagating_' + plugin.id,\n        }))\n\n    return {\n        element,\n        elementValues,\n\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD[currentIndex[props.mode]],\n        propagatingPlugins,\n    }\n}\n\nexport default connect(mapStateToProps)(Properties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     barSizes: $PropertyType<initialStateType, 'barSizes'>,\n//     changeBoxProperty: typeof actions.changeBoxProperty,\n// }\n\nconst Plugins = props => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('plugin', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"plugin\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentPluginDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"plugin\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"plugin\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPluginDraftExists:\n            typeof state.mD.currentPluginDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Plugins)\n","import React, { useState } from 'react'\nimport Tabs from 'antd/es/tabs'\n\nimport { connect } from 'react-redux'\n\nimport * as classes from '../Properties/Properties.module.css'\nimport MenuItems from '../Properties/MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport { resourceDraftIndex } from '../../../utils/resourceTypeIndex'\nimport { SketchPicker, CirclePicker } from 'react-color'\n\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport Select from 'antd/es/select'\nimport InputNumber from 'antd/es/input-number'\nimport Slider from 'antd/es/slider'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\nimport FileItems from '../Properties/FileItems/FileItems'\n\n// type Props = {\n//     changeProperty: (key: string | {}, value: string) => ?{},\n//     mode: 'page' | 'plugin' | 'template',\n//     currentResource:\n//         | $PropertyType<initialStateType, 'currentPlugin'>\n//         | $PropertyType<initialStateType, 'currentPage'>\n//         | $PropertyType<initialStateType, 'currentTemplate'>,\n// }\n\nconst Properties = props => {\n    const [rangeValue, setRangeValue] = useState()\n    return props.element && props.templateCMSElementValues ? (\n        <Tabs defaultActiveKey=\"value\" animated={false} size=\"small\">\n            <Tabs.TabPane tab=\"Value\" key=\"value\">\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={props.elementValues.value}\n                        handleChange={(e, editor) => {\n                            props.changeProperty('value', editor.getContent())\n                        }}\n                        requiredRights={['content']}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.elementValues}\n                        element={props.element}\n                        changeProperty={props.changeProperty}\n                        mode={props.mode}\n                        attrName={'menuItems'}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'text' ? (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={props.elementValues.value}\n                        elementCurrentCursor={\n                            props.elementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={value =>\n                            props.changeProperty('value', value)\n                        }\n                        name=\"editorPageValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                      'number' ||\n                  props.templateCMSElementValues.CMSVariableType === 'range' ? (\n                    <>\n                        {props.templateCMSElementValues.CMSVariableType ===\n                            'range' && (\n                            <Slider\n                                style={{ margin: '10px' }}\n                                defaultValue={props.elementValues.value}\n                                value={rangeValue}\n                                onChange={value => {\n                                    setRangeValue(value)\n                                    if (!props.checkUserRights(['content']))\n                                        return\n                                    props.changeProperty('value', value)\n                                }}\n                                max={\n                                    props.templateCMSElementValues.properties\n                                        ? props.templateCMSElementValues\n                                              .properties.max\n                                        : undefined\n                                }\n                                min={\n                                    props.templateCMSElementValues.properties\n                                        ? props.templateCMSElementValues\n                                              .properties.min\n                                        : undefined\n                                }\n                                step={\n                                    props.templateCMSElementValues.properties\n                                        ? props.templateCMSElementValues\n                                              .properties.step\n                                        : undefined\n                                }\n                            />\n                        )}\n                        <InputNumber\n                            style={{ margin: '10px' }}\n                            defaultValue={props.elementValues.value}\n                            value={rangeValue}\n                            onChange={value => {\n                                setRangeValue(value)\n                                if (!props.checkUserRights(['content'])) return\n                                props.changeProperty('value', value)\n                            }}\n                            max={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .max\n                                    : undefined\n                            }\n                            min={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .min\n                                    : undefined\n                            }\n                            step={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .step\n                                    : undefined\n                            }\n                        />\n                    </>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'select' ? (\n                    <Select\n                        onSelect={value => {\n                            if (!props.checkUserRights(['developer'])) return\n                            props.changeProperty('value', value)\n                        }}\n                        dropdownMatchSelectWidth={false}\n                        size=\"small\"\n                        style={{ border: '1px solid #ccc', margin: '10px' }}\n                        value={props.elementValues.value.toString()}\n                        showSearch={true}\n                        placeholder=\"Choose one option\"\n                    >\n                        {(props.templateCMSElementValues.properties\n                            ? props.templateCMSElementValues.properties\n                                  .options || []\n                            : []\n                        ).map(option => (\n                            <Select.Option\n                                key={'select' + option.value}\n                                value={option.value}\n                            >\n                                {option.label}\n                            </Select.Option>\n                        ))}\n                    </Select>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .colors\n                                    : undefined\n                            }\n                            color={props.elementValues.color}\n                            onChangeComplete={value => {\n                                if (!props.checkUserRights(['content'])) return\n                                props.changeProperty('color', value.rgb)\n                            }}\n                        />\n                    </div>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .colors\n                                : undefined\n                        }\n                        color={props.elementValues.color}\n                        onChangeComplete={value => {\n                            if (!props.checkUserRights(['content'])) return\n                            props.changeProperty('color', value.rgb)\n                        }}\n                        disableAlpha={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'file' ? (\n                    <FileItems\n                        elementValues={props.elementValues}\n                        element={props.element}\n                        changeProperty={props.changeProperty}\n                        mode={props.mode}\n                        attrName=\"fileUrl\"\n                        attrThumb=\"fileThumbnail\"\n                    />\n                ) : (\n                    <div>\n                        Value for propagating plugin variable cannot be set.\n                    </div>\n                )}\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Description\" key=\"desc\">\n                <Editor\n                    currentElement={props.currentBox}\n                    elementValue={\n                        props.templateCMSElementValues.CMSVariableDescription\n                    }\n                    elementCurrentCursor={\n                        props.templateCMSElementValues.cursorPosition\n                    }\n                    editorMode=\"text\"\n                    handleChange={() => {}}\n                    readOnly\n                    name=\"editorPageCMSDescription\"\n                    requiredRights={['content']}\n                    currentResource={props.currentResource}\n                />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Default value\" key=\"default\">\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        handleChange={() => {}}\n                        readOnly={true}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.templateCMSElementValues}\n                        element={props.element}\n                        changeProperty={() => {}}\n                        mode={props.mode}\n                        attrName={'defaultMenuItems'}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'text' ? (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        elementCurrentCursor={\n                            props.templateCMSElementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={() => {}}\n                        readOnly\n                        name=\"editorPageCMSDefaultValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                      'number' ||\n                  props.templateCMSElementValues.CMSVariableType === 'range' ? (\n                    <>\n                        {props.templateCMSElementValues.CMSVariableType ===\n                            'range' && (\n                            <Slider\n                                style={{ margin: '10px' }}\n                                defaultValue={\n                                    props.templateCMSElementValues\n                                        .CMSVariableDefaultValue\n                                }\n                                readOnly\n                            />\n                        )}\n                        <InputNumber\n                            style={{ margin: '10px' }}\n                            value={\n                                props.templateCMSElementValues\n                                    .CMSVariableDefaultValue\n                            }\n                            readOnly\n                        />\n                    </>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'select' ? (\n                    <Select\n                        onSelect={value => {}}\n                        dropdownMatchSelectWidth={false}\n                        size=\"small\"\n                        style={{ border: '1px solid #ccc', margin: '10px' }}\n                        value={props.templateCMSElementValues.CMSVariableDefaultValue.toString()}\n                        showSearch={true}\n                        placeholder=\"Choose one option\"\n                    >\n                        {(props.templateCMSElementValues.properties\n                            ? props.templateCMSElementValues.properties\n                                  .options || []\n                            : []\n                        ).map(option => (\n                            <Select.Option\n                                key={'select' + option.value}\n                                value={option.value}\n                            >\n                                {option.label}\n                            </Select.Option>\n                        ))}\n                    </Select>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'colorSelect' ? (\n                    <div style={{ padding: '10px' }}>\n                        <CirclePicker\n                            colors={\n                                props.templateCMSElementValues.properties\n                                    ? props.templateCMSElementValues.properties\n                                          .colors\n                                    : undefined\n                            }\n                            color={props.templateCMSElementValues.defaultColor}\n                        />\n                    </div>\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'color' ? (\n                    <SketchPicker\n                        presetColors={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .colors\n                                : undefined\n                        }\n                        color={props.templateCMSElementValues.defaultColor}\n                        disableAlpha={\n                            props.templateCMSElementValues.properties\n                                ? props.templateCMSElementValues.properties\n                                      .disableAlpha\n                                : undefined\n                        }\n                    />\n                ) : (\n                    <div>\n                        There is no default value for propagating plugin\n                        variable.\n                    </div>\n                )}\n            </Tabs.TabPane>\n        </Tabs>\n    ) : null\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null,\n        templateCMSElementValues = null\n    if (resourceDraft) {\n        if (resourceDraft.structure) {\n            element = resourceDraft.structure.find(\n                item => resourceDraft.currentBox === item.id\n            )\n            if (element && state.mD.pageTemplateDraft) {\n                elementValues = resourceDraft.values[element.id]\n                if (element.forPropagatingPlugin) {\n                    const { pluginId, variable } = element.forPropagatingPlugin\n                    const templateDraft = getCurrentResourceValue(\n                        pluginId,\n                        state.mD.resourcesObjects\n                    )\n                    if (templateDraft)\n                        templateCMSElementValues =\n                            templateDraft.values[variable]\n                } else {\n                    templateCMSElementValues =\n                        state.mD.pageTemplateDraft.values[element.id]\n                }\n            }\n        }\n    }\n\n    return {\n        element,\n        elementValues,\n        templateCMSElementValues,\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD.currentPageId,\n    }\n}\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Properties)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport PageProperties from '../../../components/ElementsTreeAndProperties/PageProperties/PageProperties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     barSizes: $PropertyType<initialStateType, 'barSizes'>,\n//     changeBoxProperty: typeof actions.changeBoxProperty,\n// }\n\nconst Pages = props => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('page', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"page\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type={'width'}\n                />\n            </div>\n            {props.currentPageDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"page\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type={'width2'}\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <PageProperties\n                            mode=\"page\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPageDraftExists: typeof state.mD.currentPageDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(Pages))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     barSizes: $PropertyType<initialStateType, 'barSizes'>,\n//     changeBoxProperty: typeof actions.changeBoxProperty,\n// }\n\nconst Templates = props => {\n    const handleChangeBoxProperty = (key, value, id) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('template', key, value, id)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"template\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentTemplateDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"template\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"template\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentTemplateDraftExists:\n            typeof state.mD.currentTemplateDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(type, key, value, false, id)\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Templates)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SmallButton from '../../../components/UI/Buttons/SmallButton/SmallButton'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\nimport LogoutOutlined from '@ant-design/icons/LogoutOutlined'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     maxStorage: $PropertyType<initialStateType, 'maxStorage'>,\n//     logout: typeof actions.logout,\n//     // switchTooltips: typeof actions.switchTooltips,\n//     deleteUser: typeof actions.deleteUser,\n// }\n\nconst Account = props => {\n    return (\n        <div className={classes.Content}>\n            <div>\n                <div style={{ margin: '10px' }}>\n                    User ID:{' '}\n                    <span style={{ userSelect: 'all' }}>{props.userId}</span>\n                </div>\n\n                <SmallButton\n                    buttonClicked={props.logout}\n                    title=\"Logout\"\n                    icon={<LogoutOutlined />}\n                    style={{ margin: '10px' }}\n                />\n                <SmallButton\n                    buttonClicked={() => props.logout(true)}\n                    title=\"Logout on all devices\"\n                    icon={<LogoutOutlined />}\n                    style={{ margin: '10px' }}\n                />\n\n                <SmallButton\n                    buttonClicked={props.deleteUser}\n                    title=\"Delete account\"\n                    icon={<DeleteOutlined />}\n                    style={{ margin: '10px' }}\n                />\n            </div>\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        loading: state.loading,\n        maxStorage: state.maxStorage,\n        userId: state.userId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        deleteUser: () => dispatch(actions.deleteUser()),\n        logout: all => dispatch(actions.logout(all)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Account)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './DomainsProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport TextInput from '../../../../../components/UI/TextInput/TextInput'\nimport * as wsActions from '../../../../../websocketActions'\nimport SaveOutlined from '@ant-design/icons/SaveOutlined'\nimport EyeInvisibleOutlined from '@ant-design/icons/EyeInvisibleOutlined'\nimport DesktopOutlined from '@ant-design/icons/DesktopOutlined'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\nimport SafetyCertificateOutlined from '@ant-design/icons/SafetyCertificateOutlined'\nimport Divider from 'antd/es/divider'\n\nconst DomainsProperties = props => {\n    useEffect(() => {\n        const websiteElement = props.currentWebsiteObject\n        let value = ''\n        if (websiteElement) {\n            value = websiteElement.domain\n        }\n        setDomainValue(value)\n        value = ''\n        if (websiteElement) {\n            value = websiteElement.customDomain || ''\n        }\n        if (value === '__delete__') {\n            value = ''\n        }\n        setCustomDomainValue(value)\n    }, [\n        props.currentWebsiteId,\n        props.currentWebsiteObject.domain,\n        props.currentWebsiteObject.customDomain,\n    ])\n    const [domainValue, setDomainValue] = useState('')\n    const [customDomainValue, setCustomDomainValue] = useState('')\n    const website = props.currentWebsiteObject\n    return website ? (\n        <div className={classes.DomainSettings}>\n            <div className={classes.LocalDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        <>{website.domainHidden && <EyeInvisibleOutlined />}</>\n                    ) : null}\n                    <span>Local domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>\n                        https://live.websiter.dev/\n                    </span>\n                    <TextInput\n                        changed={value => setDomainValue(value)}\n                        value={domainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n                <Divider type=\"vertical\" />\n\n                <SmallButton\n                    icon={<SaveOutlined />}\n                    buttonClicked={() => {\n                        props.saveDomainName(domainValue, 'domain')\n                        setDomainValue(website.domain)\n                    }}\n                    tooltip=\"Save local domain name\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<EyeInvisibleOutlined />}\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainHidden',\n                                !website.domainHidden\n                            )\n                    }}\n                    tooltip=\"Hide/show local domain\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<DesktopOutlined />}\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                // 'https://live.websiter.dev/' +\n                                website.domain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                />\n            </div>\n            <div className={classes.CustomDomain}>\n                <div className={classes.Title}>\n                    {website && website.customDomainHidden && (\n                        <EyeInvisibleOutlined />\n                    )}\n                    {website && website.customDomainVerified && (\n                        <SafetyCertificateOutlined />\n                    )}\n                    <span>Custom domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>https://</span>\n                    <TextInput\n                        changed={value => setCustomDomainValue(value)}\n                        value={customDomainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<SaveOutlined />}\n                    buttonClicked={() => {\n                        if (website)\n                            props.saveDomainName(\n                                customDomainValue,\n                                'customDomain'\n                            )\n                        setCustomDomainValue(website.customDomain)\n                    }}\n                    tooltip=\"Save custom domain name\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<EyeInvisibleOutlined />}\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'customDomainHidden',\n                                !website.customDomainHidden\n                            )\n                    }}\n                    tooltip=\"Toggle visibility\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<DesktopOutlined />}\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://' + website.customDomain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<SafetyCertificateOutlined />}\n                    buttonClicked={() => props.verifyCustomDomain()}\n                    tooltip=\"Verify website ownership\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"vertical\" />\n                <SmallButton\n                    icon={<DeleteOutlined />}\n                    buttonClicked={() =>\n                        props.saveDomainName('__delete__', 'customDomain')\n                    }\n                    tooltip=\"Delete custom domain\"\n                    requiredRights={['admin', 'developer']}\n                />\n                <Divider type=\"horizontal\" />\n                {website ? (\n                    website.customDomain && website.cname ? (\n                        <div>\n                            <p>\n                                In order to use your custom domain you need to\n                                create the following CNAME DNS record:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website.cname}\n                                </span>\n                            </p>\n\n                            <p>\n                                Usually it takes 1-3 hours to connect a new\n                                domain. Please, allow this time and check the\n                                status.\n                            </p>\n                            <p>\n                                If you want to verify your domain ownership and\n                                make sure that nobody else could connect this\n                                domain to other website add the following TXT\n                                DNS record and press verify button:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website._id}\n                                </span>\n                            </p>\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveDomainName: (value, key) =>\n            dispatch(wsActions.saveDomainName(value, key)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        verifyCustomDomain: () => dispatch(wsActions.verifyCustomDomain()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(DomainsProperties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../../store/actions/index'\nimport * as classes from './SharingProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport * as wsActions from '../../../../../websocketActions'\nimport Divider from 'antd/es/divider'\nimport ControlPanel from '../../../../../components/UI/ControlPanel'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\nimport SendOutlined from '@ant-design/icons/SendOutlined'\nimport ShareAltOutlined from '@ant-design/icons/ShareAltOutlined'\nimport Switch from 'antd/es/switch'\n// type Props = {\n//     currentUserInWebsiteSharing: string,\n//     chooseUserInWebsiteSharing: typeof actions.chooseUserInWebsiteSharing,\n// }\n\nconst SharingProperties = props => {\n    let website = props.currentWebsiteObject\n    if (!website) return null\n    let isOwner\n    let sharingItem = {\n        rights: [],\n    }\n    const newSharing = [...website.sharing]\n    let ownerAccount = newSharing.find(item => item.userId === website.user)\n    if (!ownerAccount) {\n        ownerAccount = {\n            userId: website.user,\n            rights: ['owner', 'admin', 'developer', 'content'],\n        }\n        newSharing.unshift(ownerAccount)\n        props.changeWebsiteProperty('sharing', newSharing)\n    }\n\n    if (website.user === props.userId) isOwner = true\n    sharingItem =\n        newSharing.find(item => item.userId === props.userId) || sharingItem\n\n    return props.currentWebsiteId && website ? (\n        isOwner || sharingItem.rights.includes('admin') ? (\n            <div style={{ width: '100%' }}>\n                <ControlPanel>\n                    <SmallButton\n                        icon={<ShareAltOutlined />}\n                        buttonClicked={() => props.addUserInWebsiteSharing()}\n                        tooltip=\"Share the website with a new user. You need to know the user's id which can be found in the user's Account menu tab. The user will need to refresh page in browser to see the shared website.\"\n                        requiredRights={['admin', 'user']}\n                        title=\"Share\"\n                    />\n                    <Divider type=\"vertical\" />\n\n                    <SmallButton\n                        icon={<DeleteOutlined />}\n                        buttonClicked={() => {\n                            if (\n                                props.currentUserInWebsiteSharing ===\n                                website.user\n                            )\n                                return\n                            props.deleteUserInWebsiteSharing(\n                                props.currentUserInWebsiteSharing\n                            )\n                        }}\n                        tooltip=\"Stop sharing the website with this user.\"\n                        requiredRights={['admin', 'user']}\n                        title=\"Delete\"\n                    />\n                    {website.user === props.userId && (\n                        <>\n                            <Divider type=\"vertical\" />\n\n                            <SmallButton\n                                icon={<SendOutlined />}\n                                buttonClicked={() => props.transferWebsite()}\n                                tooltip=\"Transfer the website to another user.\"\n                                requiredRights={['owner']}\n                                title=\"Transfer\"\n                            />\n                        </>\n                    )}\n                </ControlPanel>\n                <div style={{ width: '100%' }}>\n                    <table className={classes.SharingTable}>\n                        <tbody>\n                            <tr>\n                                <th>User id</th>\n                                <th>Name</th>\n                                <th />\n                                <th>Owner</th>\n                                <th>Admin</th>\n                                <th>Developer</th>\n                                <th>Content manager</th>\n                            </tr>\n                            {newSharing.map((account, index) => (\n                                <tr\n                                    key={index}\n                                    className={\n                                        props.currentUserInWebsiteSharing ===\n                                        account.userId\n                                            ? classes.Active\n                                            : ''\n                                    }\n                                    onMouseDown={() =>\n                                        props.chooseUserInWebsiteSharing(\n                                            account.userId\n                                        )\n                                    }\n                                >\n                                    <td>{account.userId}</td>\n                                    <td>\n                                        {account.accountInfo\n                                            ? account.accountInfo.displayName ||\n                                              ''\n                                            : ''}\n                                    </td>\n                                    <td>\n                                        {account.accountInfo ? (\n                                            account.accountInfo.photos ? (\n                                                account.accountInfo\n                                                    .photos[0] ? (\n                                                    <div\n                                                        style={{\n                                                            backgroundImage:\n                                                                'url(' +\n                                                                account\n                                                                    .accountInfo\n                                                                    .photos[0]\n                                                                    .value +\n                                                                ')',\n                                                        }}\n                                                        className={classes.Ava}\n                                                    />\n                                                ) : (\n                                                    ''\n                                                )\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )}\n                                    </td>\n                                    <td>\n                                        <Switch\n                                            checked={\n                                                website.user === account.userId\n                                                    ? true\n                                                    : false\n                                            }\n                                            onChange={() => {}}\n                                        />\n                                    </td>\n                                    {website.user === account.userId ? (\n                                        <td>\n                                            <Switch\n                                                checked={true}\n                                                onChange={() => {}}\n                                            />\n                                        </td>\n                                    ) : null}\n                                    {[\n                                        ...(website.user === account.userId\n                                            ? []\n                                            : ['admin']),\n                                        ...['developer', 'content'],\n                                    ].map((right, index) => (\n                                        <td key={index}>\n                                            <Switch\n                                                checked={account.rights.includes(\n                                                    right\n                                                )}\n                                                onChange={value =>\n                                                    props.sharingRightsChange(\n                                                        account.userId,\n                                                        right,\n                                                        value\n                                                    )\n                                                }\n                                            />\n                                        </td>\n                                    ))}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        ) : (\n            <p>\n                You are not the owner of the website and you do not have the\n                admin rights.\n            </p>\n        )\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentUserInWebsiteSharing: state.currentUserInWebsiteSharing,\n        userId: state.mD.userId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseUserInWebsiteSharing: id =>\n            dispatch(actions.chooseUserInWebsiteSharing(id)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        addUserInWebsiteSharing: () =>\n            dispatch(wsActions.addUserInWebsiteSharing()),\n        deleteUserInWebsiteSharing: user =>\n            dispatch(wsActions.deleteUserInWebsiteSharing(user)),\n        sharingRightsChange: (user, right, value) =>\n            dispatch(wsActions.sharingRightsChange(user, right, value)),\n        transferWebsite: () => dispatch(wsActions.transferWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SharingProperties)\n","import React from 'react'\nimport Tabs from 'antd/es/tabs'\nimport DomainsProperties from './DomainsProperties/DomainsProperties'\nimport SharingProperties from './SharingProperties/SharingProperties'\n\nconst WebsitesProperties = props => (\n    <Tabs defaultActiveKey=\"domain\" animated={false} size=\"small\">\n        <Tabs.TabPane tab=\"Domains\" key=\"domain\">\n            <DomainsProperties />\n        </Tabs.TabPane>\n        <Tabs.TabPane tab=\"Sharing\" key=\"sharing\">\n            <SharingProperties />\n        </Tabs.TabPane>\n    </Tabs>\n)\n\nexport default WebsitesProperties\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../AdvancedBar.module.css'\nimport WebsitesTree from './WebsitesTree/WebsitesTree'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport WebsitesProperties from './WebsitesProperties/WebsitesProperties'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     barSizes: $PropertyType<initialStateType, 'barSizes'>,\n//     notVirtual?: boolean,\n// }\n\nconst Websites = props => (\n    <div className={classes.Content}>\n        <div\n            className={classes.Container}\n            style={{ flex: '0 0 ' + props.barSizes.width + 'px' }}\n        >\n            {props.websites ? (\n                <WebsitesTree notVirtual={props.notVirtual} />\n            ) : null}\n            <SizeDragController\n                addClass={classes.widthControll}\n                startValue={props.barSizes.width}\n                type=\"width\"\n            />\n        </div>\n        <div className={classes.LastContainer}>\n            {props.currentWebsiteObject ? <WebsitesProperties /> : null}\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        websites: state.mD.websites,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nexport default connect(mapStateToProps)(Websites)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\n// import { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport Tabs from 'antd/es/tabs'\n\nimport * as classes from './AdvancedBar.module.css'\nimport SizeDragController from './SizeDragController/SizeDragController'\nimport * as actions from '../../store/actions'\nimport Files from './Files/Files'\nimport Plugins from './Plugins/Plugins'\nimport Pages from './Pages/Pages'\nimport Templates from './Templates/Templates'\nimport Account from './Account/Account'\nimport Websites from './Websites/Websites'\nimport { useBeforeunload } from 'react-beforeunload'\nimport ReactResizeDetector from 'react-resize-detector'\nimport { initialStateType, initialState } from '../../store/reducer/reducer'\n\ntype Props = {\n    changeBarSize: typeof actions.changeBarSize\n    toggleFindMode: typeof actions.toggleFindMode\n    savePropertiesOnLeave: typeof actions.savePropertiesOnLeave\n    barSizes: typeof initialState.barSizes\n    notSavedResources: typeof initialState.notSavedResources\n}\n\nconst AdvancedBar = (props: Props) => {\n    useBeforeunload(() => {\n        if (props.notSavedResources.length > 0) {\n            setTimeout(() => props.savePropertiesOnLeave(), 1)\n            return 'Some data is not saved.'\n        } else {\n            props.savePropertiesOnLeave()\n            return undefined\n        }\n    })\n\n    const changeBarSize = () => props.changeBarSize()\n    const { TabPane } = Tabs\n    return (\n        <div\n            style={{ flex: '0 0 ' + props.barSizes.height + 'px' }}\n            className={classes.mainContainer}\n            tabIndex=\"0\"\n        >\n            <div>\n                <Tabs\n                    defaultActiveKey=\"pages\"\n                    animated={false}\n                    size=\"small\"\n                    tabBarExtraContent={\n                        <SizeDragController\n                            addClass={classes.heightControll}\n                            vertical\n                            startValue={props.barSizes.height}\n                            type=\"height\"\n                        />\n                    }\n                >\n                    <TabPane tab=\"Pages\" key=\"pages\" forceRender={true}>\n                        <Pages />\n                    </TabPane>\n                    <TabPane tab=\"Templates\" key=\"templates\" forceRender={true}>\n                        <Templates />\n                    </TabPane>\n                    <TabPane tab=\"Plugins\" key=\"plugins\" forceRender={true}>\n                        <Plugins />\n                    </TabPane>\n                    <TabPane tab=\"Files\" key=\"files\" forceRender={true}>\n                        <Files />\n                    </TabPane>\n                    <TabPane tab=\"Websites\" key=\"websites\" forceRender={true}>\n                        <Websites />\n                    </TabPane>\n                    <TabPane tab=\"Account\" key=\"account\" forceRender={true}>\n                        <Account />\n                    </TabPane>\n                </Tabs>\n\n                <ReactResizeDetector\n                    handleWidth\n                    handleHeight\n                    onResize={changeBarSize}\n                />\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state: initialStateType) => {\n    return {\n        barSizes: state.barSizes,\n        loading: state.loading,\n        notSavedResources: state.notSavedResources,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        savePropertiesOnLeave: () => dispatch(actions.savePropertiesOnLeave()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(AdvancedBar))\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// MIT License from https://github.com/kaimallea/isMobile\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","import React from 'react'\nimport isMobile from './utils/isMobile'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n    var prefix = menuEventKey || ''\n    return child.key || ''.concat(prefix, 'item_').concat(index)\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n    return ''.concat(eventKey, '-menu-')\n}\nexport function loopMenuItem(children, cb) {\n    var index = -1\n    React.Children.forEach(children, function(c) {\n        index += 1\n\n        if (c && c.type && c.type.isMenuItemGroup) {\n            React.Children.forEach(c.props.children, function(c2) {\n                index += 1\n                cb(c2, index)\n            })\n        } else {\n            cb(c, index)\n        }\n    })\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n    /* istanbul ignore if */\n    if (!children || ret.find) {\n        return\n    }\n\n    React.Children.forEach(children, function(c) {\n        if (c) {\n            var construct = c.type\n\n            if (\n                !construct ||\n                !(\n                    construct.isSubMenu ||\n                    construct.isMenuItem ||\n                    construct.isMenuItemGroup\n                )\n            ) {\n                return\n            }\n\n            if (keys.indexOf(c.key) !== -1) {\n                ret.find = true\n            } else if (c.props.children) {\n                loopMenuItemRecursively(c.props.children, keys, ret)\n            }\n        }\n    })\n}\nexport var menuAllProps = [\n    'defaultSelectedKeys',\n    'selectedKeys',\n    'defaultOpenKeys',\n    'openKeys',\n    'mode',\n    'getPopupContainer',\n    'onSelect',\n    'onDeselect',\n    'onDestroy',\n    'openTransitionName',\n    'openAnimation',\n    'subMenuOpenDelay',\n    'subMenuCloseDelay',\n    'forceSubMenuRender',\n    'triggerSubMenuAction',\n    'level',\n    'selectable',\n    'multiple',\n    'onOpenChange',\n    'visible',\n    'focusable',\n    'defaultActiveFirst',\n    'prefixCls',\n    'inlineIndent',\n    'parentMenu',\n    'title',\n    'rootPrefixCls',\n    'eventKey',\n    'active',\n    'onItemHover',\n    'onTitleMouseEnter',\n    'onTitleMouseLeave',\n    'onTitleClick',\n    'popupAlign',\n    'popupOffset',\n    'isOpen',\n    'renderMenuItem',\n    'manualRef',\n    'subMenuKey',\n    'disabled',\n    'index',\n    'isSelected',\n    'store',\n    'activeKey',\n    'builtinPlacements',\n    'overflowedIndicator',\n    'motion', // the following keys found need to be removed from test regression\n    'attribute',\n    'value',\n    'popupClassName',\n    'inlineCollapsed',\n    'menu',\n    'theme',\n    'itemIcon',\n    'expandIcon',\n] // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n    var width =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect().width\n\n    if (width) {\n        width = +width.toFixed(6)\n    }\n\n    return width || 0\n}\nexport var getPosition = function getPosition(elem) {\n    var rect =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect()\n    return { left: rect.left, right: rect.right }\n}\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n    if (elem && _typeof(elem.style) === 'object') {\n        elem.style[styleProperty] = value\n    }\n}\nexport var isMobileDevice = function isMobileDevice() {\n    return isMobile.any\n}\n","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport var placementsRtl = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  rightTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  leftTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Trigger from 'rc-trigger'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport CSSMotion from 'rc-animate/es/CSSMotion'\nimport classNames from 'classnames'\nimport { connect } from 'mini-store'\nimport SubPopupMenu from './SubPopupMenu'\nimport { placements, placementsRtl } from './placements'\nimport {\n    noop,\n    loopMenuItemRecursively,\n    getMenuIdFromSubMenuEventKey,\n    menuAllProps,\n} from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\nvar guid = 0\nvar popupPlacementMap = {\n    horizontal: 'bottomLeft',\n    vertical: 'rightTop',\n    'vertical-left': 'rightTop',\n    'vertical-right': 'leftTop',\n}\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(\n    store,\n    eventKey,\n    defaultActiveFirst\n) {\n    var menuId = getMenuIdFromSubMenuEventKey(eventKey)\n    var state = store.getState()\n    store.setState({\n        defaultActiveFirst: _objectSpread(\n            {},\n            state.defaultActiveFirst,\n            _defineProperty({}, menuId, defaultActiveFirst)\n        ),\n    })\n}\n\nexport var SubMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubMenu, _React$Component)\n\n        function SubMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubMenu).call(this, props)\n            )\n\n            _this.onDestroy = function(key) {\n                _this.props.onDestroy(key)\n            }\n            /**\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n                var menu = _this.menuInstance\n                var _this$props = _this.props,\n                    isOpen = _this$props.isOpen,\n                    store = _this$props.store\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onTitleClick(e)\n\n                    updateDefaultActiveFirst(store, _this.props.eventKey, true)\n                    return true\n                }\n\n                if (keyCode === KeyCode.RIGHT) {\n                    if (isOpen) {\n                        menu.onKeyDown(e)\n                    } else {\n                        _this.triggerOpenChange(true) // need to update current menu's defaultActiveFirst value\n\n                        updateDefaultActiveFirst(\n                            store,\n                            _this.props.eventKey,\n                            true\n                        )\n                    }\n\n                    return true\n                }\n\n                if (keyCode === KeyCode.LEFT) {\n                    var handled\n\n                    if (isOpen) {\n                        handled = menu.onKeyDown(e)\n                    } else {\n                        return undefined\n                    }\n\n                    if (!handled) {\n                        _this.triggerOpenChange(false)\n\n                        handled = true\n                    }\n\n                    return handled\n                }\n\n                if (\n                    isOpen &&\n                    (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)\n                ) {\n                    return menu.onKeyDown(e)\n                }\n\n                return undefined\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onPopupVisibleChange = function(visible) {\n                _this.triggerOpenChange(\n                    visible,\n                    visible ? 'mouseenter' : 'mouseleave'\n                )\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    key = _this$props2.eventKey,\n                    onMouseEnter = _this$props2.onMouseEnter,\n                    store = _this$props2.store\n                updateDefaultActiveFirst(store, _this.props.eventKey, false)\n                onMouseEnter({\n                    key: key,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props3 = _this.props,\n                    parentMenu = _this$props3.parentMenu,\n                    eventKey = _this$props3.eventKey,\n                    onMouseLeave = _this$props3.onMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleMouseEnter = function(domEvent) {\n                var _this$props4 = _this.props,\n                    key = _this$props4.eventKey,\n                    onItemHover = _this$props4.onItemHover,\n                    onTitleMouseEnter = _this$props4.onTitleMouseEnter\n                onItemHover({\n                    key: key,\n                    hover: true,\n                })\n                onTitleMouseEnter({\n                    key: key,\n                    domEvent: domEvent,\n                })\n            }\n\n            _this.onTitleMouseLeave = function(e) {\n                var _this$props5 = _this.props,\n                    parentMenu = _this$props5.parentMenu,\n                    eventKey = _this$props5.eventKey,\n                    onItemHover = _this$props5.onItemHover,\n                    onTitleMouseLeave = _this$props5.onTitleMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onTitleMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleClick = function(e) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                props.onTitleClick({\n                    key: props.eventKey,\n                    domEvent: e,\n                })\n\n                if (props.triggerSubMenuAction === 'hover') {\n                    return\n                }\n\n                _this.triggerOpenChange(!props.isOpen, 'click')\n\n                updateDefaultActiveFirst(\n                    props.store,\n                    _this.props.eventKey,\n                    false\n                )\n            }\n\n            _this.onSubMenuClick = function(info) {\n                // in the case of overflowed submenu\n                // onClick is not copied over\n                if (typeof _this.props.onClick === 'function') {\n                    _this.props.onClick(_this.addKeyPath(info))\n                }\n            }\n\n            _this.onSelect = function(info) {\n                _this.props.onSelect(info)\n            }\n\n            _this.onDeselect = function(info) {\n                _this.props.onDeselect(info)\n            }\n\n            _this.getPrefixCls = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu')\n            }\n\n            _this.getActiveClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-active')\n            }\n\n            _this.getDisabledClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-disabled')\n            }\n\n            _this.getSelectedClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-selected')\n            }\n\n            _this.getOpenClassName = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu-open')\n            }\n\n            _this.saveMenuInstance = function(c) {\n                // children menu instance\n                _this.menuInstance = c\n            }\n\n            _this.addKeyPath = function(info) {\n                return _objectSpread({}, info, {\n                    keyPath: (info.keyPath || []).concat(_this.props.eventKey),\n                })\n            }\n\n            _this.triggerOpenChange = function(open, type) {\n                var key = _this.props.eventKey\n\n                var openChange = function openChange() {\n                    _this.onOpenChange({\n                        key: key,\n                        item: _assertThisInitialized(_this),\n                        trigger: type,\n                        open: open,\n                    })\n                }\n\n                if (type === 'mouseenter') {\n                    // make sure mouseenter happen after other menu item's mouseleave\n                    _this.mouseenterTimeout = setTimeout(function() {\n                        openChange()\n                    }, 0)\n                } else {\n                    openChange()\n                }\n            }\n\n            _this.isChildrenSelected = function() {\n                var ret = {\n                    find: false,\n                }\n                loopMenuItemRecursively(\n                    _this.props.children,\n                    _this.props.selectedKeys,\n                    ret\n                )\n                return ret.find\n            }\n\n            _this.isOpen = function() {\n                return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1\n            }\n\n            _this.adjustWidth = function() {\n                /* istanbul ignore if */\n                if (!_this.subMenuTitle || !_this.menuInstance) {\n                    return\n                }\n\n                var popupMenu = ReactDOM.findDOMNode(_this.menuInstance)\n\n                if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n                    return\n                }\n                /* istanbul ignore next */\n\n                popupMenu.style.minWidth = ''.concat(\n                    _this.subMenuTitle.offsetWidth,\n                    'px'\n                )\n            }\n\n            _this.saveSubMenuTitle = function(subMenuTitle) {\n                _this.subMenuTitle = subMenuTitle\n            }\n\n            _this.getBaseProps = function() {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                return {\n                    mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n                    visible: _this.props.isOpen,\n                    level: props.level + 1,\n                    inlineIndent: props.inlineIndent,\n                    focusable: false,\n                    onClick: _this.onSubMenuClick,\n                    onSelect: _this.onSelect,\n                    onDeselect: _this.onDeselect,\n                    onDestroy: _this.onDestroy,\n                    selectedKeys: props.selectedKeys,\n                    eventKey: ''.concat(props.eventKey, '-menu-'),\n                    openKeys: props.openKeys,\n                    motion: props.motion,\n                    onOpenChange: _this.onOpenChange,\n                    subMenuOpenDelay: props.subMenuOpenDelay,\n                    parentMenu: _assertThisInitialized(_this),\n                    subMenuCloseDelay: props.subMenuCloseDelay,\n                    forceSubMenuRender: props.forceSubMenuRender,\n                    triggerSubMenuAction: props.triggerSubMenuAction,\n                    builtinPlacements: props.builtinPlacements,\n                    defaultActiveFirst: props.store.getState()\n                        .defaultActiveFirst[\n                        getMenuIdFromSubMenuEventKey(props.eventKey)\n                    ],\n                    multiple: props.multiple,\n                    prefixCls: props.rootPrefixCls,\n                    id: _this.internalMenuId,\n                    manualRef: _this.saveMenuInstance,\n                    itemIcon: props.itemIcon,\n                    expandIcon: props.expandIcon,\n                    direction: props.direction,\n                }\n            }\n\n            _this.getMotion = function(mode, visible) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    haveRendered = _assertThisInitialize3.haveRendered\n\n                var _this$props6 = _this.props,\n                    motion = _this$props6.motion,\n                    rootPrefixCls = _this$props6.rootPrefixCls // don't show transition on first rendering (no animation for opened menu)\n                // show appear transition if it's not visible (not sure why)\n                // show appear transition if it's not inline mode\n\n                var mergedMotion = _objectSpread({}, motion, {\n                    leavedClassName: ''.concat(rootPrefixCls, '-hidden'),\n                    removeOnLeave: false,\n                    motionAppear: haveRendered || !visible || mode !== 'inline',\n                })\n\n                return mergedMotion\n            }\n\n            var store = props.store,\n                eventKey = props.eventKey\n\n            var _store$getState = store.getState(),\n                defaultActiveFirst = _store$getState.defaultActiveFirst\n\n            _this.isRootMenu = false\n            var value = false\n\n            if (defaultActiveFirst) {\n                value = defaultActiveFirst[eventKey]\n            }\n\n            updateDefaultActiveFirst(store, eventKey, value)\n            return _this\n        }\n\n        _createClass(SubMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.componentDidUpdate()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    var _this2 = this\n\n                    var _this$props7 = this.props,\n                        mode = _this$props7.mode,\n                        parentMenu = _this$props7.parentMenu,\n                        manualRef = _this$props7.manualRef // invoke customized ref to expose component to mixin\n\n                    if (manualRef) {\n                        manualRef(this)\n                    }\n\n                    if (\n                        mode !== 'horizontal' ||\n                        !parentMenu.isRootMenu ||\n                        !this.props.isOpen\n                    ) {\n                        return\n                    }\n\n                    this.minWidthTimeout = setTimeout(function() {\n                        return _this2.adjustWidth()\n                    }, 0)\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var _this$props8 = this.props,\n                        onDestroy = _this$props8.onDestroy,\n                        eventKey = _this$props8.eventKey\n\n                    if (onDestroy) {\n                        onDestroy(eventKey)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.minWidthTimeout) {\n                        clearTimeout(this.minWidthTimeout)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.mouseenterTimeout) {\n                        clearTimeout(this.mouseenterTimeout)\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    var baseProps = this.getBaseProps() // [Legacy] getMotion must be called before `haveRendered`\n\n                    var mergedMotion = this.getMotion(\n                        baseProps.mode,\n                        baseProps.visible\n                    )\n                    this.haveRendered = true\n                    this.haveOpened =\n                        this.haveOpened ||\n                        baseProps.visible ||\n                        baseProps.forceSubMenuRender // never rendered not planning to, don't render\n\n                    if (!this.haveOpened) {\n                        return React.createElement('div', null)\n                    }\n\n                    var direction = baseProps.direction\n                    return React.createElement(\n                        CSSMotion,\n                        Object.assign(\n                            {\n                                visible: baseProps.visible,\n                            },\n                            mergedMotion\n                        ),\n                        function(_ref) {\n                            var className = _ref.className,\n                                style = _ref.style\n                            var mergedClassName = classNames(\n                                ''.concat(baseProps.prefixCls, '-sub'),\n                                className,\n                                _ref.popupMenuBlockClasses,\n                                _defineProperty(\n                                    {},\n                                    ''.concat(baseProps.prefixCls, '-rtl'),\n                                    direction === 'rtl'\n                                )\n                            )\n                            return React.createElement(\n                                SubPopupMenu,\n                                Object.assign({}, baseProps, {\n                                    id: _this3.internalMenuId,\n                                    className: mergedClassName,\n                                    style: style,\n                                }),\n                                children\n                            )\n                        }\n                    )\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames2\n\n                    var props = _objectSpread({}, this.props)\n\n                    var isOpen = props.isOpen\n                    var prefixCls = this.getPrefixCls()\n                    var isInlineMode = props.mode === 'inline'\n                    var className = classNames(\n                        prefixCls,\n                        ''.concat(prefixCls, '-').concat(props.mode),\n                        ((_classNames2 = {}),\n                        _defineProperty(\n                            _classNames2,\n                            props.className,\n                            !!props.className\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getOpenClassName(),\n                            isOpen\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getActiveClassName(),\n                            props.active || (isOpen && !isInlineMode)\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getSelectedClassName(),\n                            this.isChildrenSelected()\n                        ),\n                        _classNames2)\n                    )\n                    className = [\n                        className,\n                        props.isSub\n                            ? props.store.getState().popupMenuItemClasses\n                            : props.store.getState().topMenuItemClasses,\n                    ].join(' ')\n\n                    if (!this.internalMenuId) {\n                        if (props.eventKey) {\n                            this.internalMenuId = ''.concat(\n                                props.eventKey,\n                                '$Menu'\n                            )\n                        } else {\n                            guid += 1\n                            this.internalMenuId = '$__$'.concat(guid, '$Menu')\n                        }\n                    }\n\n                    var mouseEvents = {}\n                    var titleClickEvents = {}\n                    var titleMouseEvents = {}\n\n                    if (!props.disabled) {\n                        mouseEvents = {\n                            onMouseLeave: this.onMouseLeave,\n                            onMouseEnter: this.onMouseEnter,\n                        } // only works in title, not outer li\n\n                        titleClickEvents = {\n                            onClick: this.onTitleClick,\n                        }\n                        titleMouseEvents = {\n                            onMouseEnter: this.onTitleMouseEnter,\n                            onMouseLeave: this.onTitleMouseLeave,\n                        }\n                    }\n\n                    var style = {}\n                    var direction = props.direction\n\n                    if (isInlineMode) {\n                        if (direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    var ariaOwns = {} // only set aria-owns when menu is open\n                    // otherwise it would be an invalid aria-owns value\n                    // since corresponding node cannot be found\n\n                    if (this.props.isOpen) {\n                        ariaOwns = {\n                            'aria-owns': this.internalMenuId,\n                        }\n                    } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n                    var icon = null\n\n                    if (props.mode !== 'horizontal') {\n                        icon = this.props.expandIcon // ReactNode\n\n                        if (typeof this.props.expandIcon === 'function') {\n                            icon = React.createElement(\n                                this.props.expandIcon,\n                                _objectSpread({}, this.props)\n                            )\n                        }\n                    }\n\n                    var title = React.createElement(\n                        'div',\n                        Object.assign(\n                            {\n                                ref: this.saveSubMenuTitle,\n                                style: style,\n                                className: ''.concat(prefixCls, '-title'),\n                                role: 'button',\n                            },\n                            titleMouseEvents,\n                            titleClickEvents,\n                            {\n                                'aria-expanded': isOpen,\n                            },\n                            ariaOwns,\n                            {\n                                'aria-haspopup': 'true',\n                                title:\n                                    typeof props.title === 'string'\n                                        ? props.title\n                                        : undefined,\n                            }\n                        ),\n                        props.title,\n                        icon ||\n                            React.createElement('i', {\n                                className: ''.concat(prefixCls, '-arrow'),\n                            })\n                    )\n                    var children = this.renderChildren(props.children)\n                    var getPopupContainer = props.parentMenu.isRootMenu\n                        ? props.parentMenu.props.getPopupContainer\n                        : function(triggerNode) {\n                              return triggerNode.parentNode\n                          }\n                    var popupPlacement = popupPlacementMap[props.mode]\n                    var popupAlign = props.popupOffset\n                        ? {\n                              offset: props.popupOffset,\n                          }\n                        : {}\n                    var popupClassName =\n                        props.mode === 'inline' ? '' : props.popupClassName\n                    popupClassName +=\n                        direction === 'rtl' ? ' '.concat(prefixCls, '-rtl') : ''\n                    var disabled = props.disabled,\n                        triggerSubMenuAction = props.triggerSubMenuAction,\n                        subMenuOpenDelay = props.subMenuOpenDelay,\n                        forceSubMenuRender = props.forceSubMenuRender,\n                        subMenuCloseDelay = props.subMenuCloseDelay,\n                        builtinPlacements = props.builtinPlacements\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.isSub\n                    var placement =\n                        direction === 'rtl'\n                            ? Object.assign(\n                                  {},\n                                  placementsRtl,\n                                  builtinPlacements\n                              )\n                            : Object.assign({}, placements, builtinPlacements)\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, mouseEvents, {\n                            className: className,\n                            role: 'menuitem',\n                        }),\n                        isInlineMode && title,\n                        isInlineMode && children,\n                        !isInlineMode &&\n                            React.createElement(\n                                Trigger,\n                                {\n                                    prefixCls: prefixCls,\n                                    popupClassName: classNames(\n                                        ''.concat(prefixCls, '-popup'),\n                                        popupClassName\n                                    ),\n                                    getPopupContainer: getPopupContainer,\n                                    builtinPlacements: placement,\n                                    popupPlacement: popupPlacement,\n                                    popupVisible: isOpen,\n                                    popupAlign: popupAlign,\n                                    popup: children,\n                                    action: disabled\n                                        ? []\n                                        : [triggerSubMenuAction],\n                                    mouseEnterDelay: subMenuOpenDelay,\n                                    mouseLeaveDelay: subMenuCloseDelay,\n                                    onPopupVisibleChange: this\n                                        .onPopupVisibleChange,\n                                    forceRender: forceSubMenuRender,\n                                },\n                                title\n                            )\n                    )\n                },\n            },\n        ])\n\n        return SubMenu\n    })(React.Component)\nSubMenu.defaultProps = {\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    onTitleMouseEnter: noop,\n    onTitleMouseLeave: noop,\n    onTitleClick: noop,\n    manualRef: noop,\n    mode: 'vertical',\n    title: '',\n}\nvar connected = connect(function(_ref2, _ref3) {\n    var openKeys = _ref2.openKeys,\n        activeKey = _ref2.activeKey,\n        selectedKeys = _ref2.selectedKeys\n    var eventKey = _ref3.eventKey,\n        subMenuKey = _ref3.subMenuKey\n    return {\n        isOpen: openKeys.indexOf(eventKey) > -1,\n        active: activeKey[subMenuKey] === eventKey,\n        selectedKeys: selectedKeys,\n    }\n})(SubMenu)\nconnected.isSubMenu = true\nexport default connected\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport SubMenu from './SubMenu'\nimport { getWidth, setStyle, menuAllProps, getPosition } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n\nfunction _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i]\n        }\n        return arr2\n    }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed'\nvar FLOAT_PRECISION_ADJUST = 0.5\n\nvar DOMWrap =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(DOMWrap, _React$Component)\n\n        function DOMWrap() {\n            var _this\n\n            _classCallCheck(this, DOMWrap)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(DOMWrap).apply(this, arguments)\n            )\n            _this.resizeObserver = null\n            _this.mutationObserver = null // original scroll size of the list\n\n            _this.originalTotalWidth = 0 // copy of overflowed items\n\n            _this.overflowedItems = [] // cache item of the original items (so we can track the size and order)\n            _this.ulSizes = {}\n            _this.menuItemSizes = []\n            _this.state = {\n                lastVisibleIndex: undefined,\n            } // get all valid menuItem nodes\n\n            _this.getMenuItemNodes = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) < 0\n                    )\n                })\n            }\n\n            _this.getMenuItemNodesOver = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) >= 0\n                    )\n                })\n            }\n\n            _this.getOverflowedSubMenuItem = function(\n                keyPrefix,\n                overflowedItems,\n                renderPlaceholder\n            ) {\n                var _this$props = _this.props,\n                    overflowedIndicator = _this$props.overflowedIndicator,\n                    level = _this$props.level,\n                    mode = _this$props.mode,\n                    prefixCls = _this$props.prefixCls,\n                    theme = _this$props.theme\n\n                if (level !== 1 || mode !== 'horizontal') {\n                    return null\n                } // put all the overflowed item inside a submenu\n                // with a title of overflow indicator ('...')\n\n                var copy = _this.props.children[0]\n\n                var _copy$props = copy.props,\n                    throwAway = _copy$props.children,\n                    title = _copy$props.title,\n                    propStyle = _copy$props.style,\n                    rest = _objectWithoutProperties(_copy$props, [\n                        'children',\n                        'title',\n                        'style',\n                    ])\n\n                var style = _objectSpread({}, propStyle)\n\n                var key = ''.concat(keyPrefix, '-overflowed-indicator')\n                var eventKey = ''.concat(keyPrefix, '-overflowed-indicator')\n\n                if (\n                    overflowedItems.length === 0 &&\n                    renderPlaceholder !== true\n                ) {\n                    style = _objectSpread({}, style, {\n                        display: 'none',\n                    })\n                } else if (renderPlaceholder) {\n                    style = _objectSpread({}, style, {\n                        visibility: 'hidden',\n                        // prevent from taking normal dom space\n                        position: 'absolute',\n                    })\n                    key = ''.concat(key, '-placeholder')\n                    eventKey = ''.concat(eventKey, '-placeholder')\n                }\n\n                var popupClassName = theme\n                    ? ''.concat(prefixCls, '-').concat(theme)\n                    : ''\n                var props = {}\n                menuAllProps.forEach(function(k) {\n                    if (rest[k] !== undefined) {\n                        props[k] = rest[k]\n                    }\n                })\n                return React.createElement(\n                    SubMenu,\n                    Object.assign(\n                        {\n                            title: overflowedIndicator,\n                            className: ''.concat(\n                                prefixCls,\n                                '-overflowed-submenu'\n                            ),\n                            popupClassName: popupClassName,\n                        },\n                        props,\n                        {\n                            key: key,\n                            eventKey: eventKey,\n                            disabled: false,\n                            style: style,\n                        }\n                    ),\n                    overflowedItems\n                )\n            } // memorize rendered menuSize\n\n            _this.setChildrenWidthAndResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var ulChildrenNodes = ul.children\n\n                if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n                    return\n                }\n                var menuItemNodesOver = _this.getMenuItemNodesOver()\n                var currentDisplayState = menuItemNodesOver.map(\n                    item => item.style.display\n                )\n                menuItemNodesOver.forEach(item => {\n                    setStyle(item, 'display', 'none')\n                })\n                var lastOverflowedIndicatorPlaceholder =\n                    ul.children[ulChildrenNodes.length - 1] // need last overflowed indicator for calculating length;\n\n                setStyle(\n                    lastOverflowedIndicatorPlaceholder,\n                    'display',\n                    'inline-block'\n                )\n\n                var menuItemNodes = _this.getMenuItemNodes() // reset display attribute for all hidden elements caused by overflow to calculate updated width\n                // and then reset to original state after width calculation\n                var overflowedItems = menuItemNodes.filter(function(c) {\n                    return (\n                        c.className\n                            .split(' ')\n                            .indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0\n                    )\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'inline-block')\n                })\n                _this.menuItemSizes = menuItemNodes.map(function(c) {\n                    return getPosition(c)\n                })\n                _this.ulSizes = getPosition(ul)\n\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'none')\n                })\n                menuItemNodesOver.forEach(\n                    (item, index) =>\n                        (item.style.display = currentDisplayState[index])\n                )\n                ul.children[ul.children.length - 1].style.display =\n                    'inline-block'\n                _this.overflowedIndicatorWidth = getWidth(\n                    ul.children[ul.children.length - 1]\n                )\n\n                if (_this.menuItemSizes.length > 0) {\n                    _this.originalTotalWidth =\n                        _this.menuItemSizes[_this.menuItemSizes.length - 1]\n                            .right - _this.ulSizes.left\n                }\n\n                _this.handleResize() // prevent the overflowed indicator from taking space;\n\n                setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none')\n            }\n\n            _this.handleResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var width = _this.ulSizes.right - _this.ulSizes.left\n                _this.overflowedItems = []\n\n                var lastVisibleIndex // float number comparison could be problematic\n                // e.g. 0.1 + 0.2 > 0.3 =====> true\n                // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n                if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n                    lastVisibleIndex = -1\n                    _this.menuItemSizes.forEach(function(liWidth, index) {\n                        if (index > 0) {\n                            if (\n                                liWidth.left + _this.overflowedIndicatorWidth <=\n                                _this.ulSizes.right\n                            ) {\n                                lastVisibleIndex += 1\n                            }\n                        }\n                    })\n                }\n\n                _this.setState({\n                    lastVisibleIndex: lastVisibleIndex,\n                })\n            }\n\n            return _this\n        }\n\n        _createClass(DOMWrap, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var _this2 = this\n\n                    this.setChildrenWidthAndResize()\n\n                    if (\n                        this.props.level === 1 &&\n                        this.props.mode === 'horizontal'\n                    ) {\n                        var menuUl = ReactDOM.findDOMNode(this)\n\n                        if (!menuUl) {\n                            return\n                        }\n\n                        this.resizeObserver = new ResizeObserver(function(\n                            entries\n                        ) {\n                            entries.forEach(_this2.setChildrenWidthAndResize)\n                        })\n                        ;[].slice\n                            .call(menuUl.children)\n                            .concat(menuUl)\n                            .forEach(function(el) {\n                                _this2.resizeObserver.observe(el)\n                            })\n\n                        if (typeof MutationObserver !== 'undefined') {\n                            this.mutationObserver = new MutationObserver(\n                                function() {\n                                    _this2.resizeObserver.disconnect()\n                                    ;[].slice\n                                        .call(menuUl.children)\n                                        .concat(menuUl)\n                                        .forEach(function(el) {\n                                            _this2.resizeObserver.observe(el)\n                                        })\n\n                                    _this2.setChildrenWidthAndResize()\n                                }\n                            )\n                            this.mutationObserver.observe(menuUl, {\n                                attributes: false,\n                                childList: true,\n                                subTree: false,\n                            })\n                        }\n                    }\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    if (this.resizeObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n\n                    if (this.mutationObserver) {\n                        this.mutationObserver.disconnect()\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    // need to take care of overflowed items in horizontal mode\n                    var lastVisibleIndex = this.state.lastVisibleIndex\n                    return (children || []).reduce(function(\n                        acc,\n                        childNode,\n                        index\n                    ) {\n                        var item = childNode\n\n                        if (_this3.props.mode === 'horizontal') {\n                            var overflowed = _this3.getOverflowedSubMenuItem(\n                                childNode.props.eventKey,\n                                []\n                            )\n\n                            if (\n                                lastVisibleIndex !== undefined &&\n                                _this3.props.className.indexOf(\n                                    ''.concat(_this3.props.prefixCls, '-root')\n                                ) !== -1\n                            ) {\n                                if (index > lastVisibleIndex) {\n                                    item = React.cloneElement(\n                                        childNode, // 这里修改 eventKey 是为了防止隐藏状态下还会触发 openkeys 事件\n                                        {\n                                            style: {\n                                                display: 'none',\n                                            },\n                                            eventKey: ''.concat(\n                                                childNode.props.eventKey,\n                                                '-hidden'\n                                            ),\n\n                                            /**\n                                             * Legacy code. Here `className` never used:\n                                             * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                                             */\n                                            className: ''.concat(\n                                                MENUITEM_OVERFLOWED_CLASSNAME\n                                            ),\n                                        }\n                                    )\n                                }\n\n                                if (index === lastVisibleIndex + 1) {\n                                    _this3.overflowedItems = children\n                                        .slice(lastVisibleIndex + 1)\n                                        .map(function(c) {\n                                            return React.cloneElement(\n                                                c, // children[index].key will become '.$key' in clone by default,\n                                                // we have to overwrite with the correct key explicitly\n                                                {\n                                                    key: c.props.eventKey,\n                                                    mode: 'vertical-left',\n                                                }\n                                            )\n                                        })\n                                    overflowed = _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        _this3.overflowedItems\n                                    )\n                                }\n                            }\n\n                            var ret = [].concat(_toConsumableArray(acc), [\n                                overflowed,\n                                item,\n                            ])\n\n                            if (index === children.length - 1) {\n                                // need a placeholder for calculating overflowed indicator width\n                                ret.push(\n                                    _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        [],\n                                        true\n                                    )\n                                )\n                            }\n\n                            return ret\n                        }\n\n                        return [].concat(_toConsumableArray(acc), [item])\n                    },\n                    [])\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this$props2 = this.props,\n                        visible = _this$props2.visible,\n                        prefixCls = _this$props2.prefixCls,\n                        overflowedIndicator = _this$props2.overflowedIndicator,\n                        mode = _this$props2.mode,\n                        level = _this$props2.level,\n                        tag = _this$props2.tag,\n                        children = _this$props2.children,\n                        theme = _this$props2.theme,\n                        rest = _objectWithoutProperties(_this$props2, [\n                            'visible',\n                            'prefixCls',\n                            'overflowedIndicator',\n                            'mode',\n                            'level',\n                            'tag',\n                            'children',\n                            'theme',\n                        ])\n\n                    var Tag = tag\n                    return React.createElement(\n                        Tag,\n                        Object.assign({}, rest),\n                        this.renderChildren(children)\n                    )\n                },\n            },\n        ])\n\n        return DOMWrap\n    })(React.Component)\n\nDOMWrap.defaultProps = {\n    tag: 'div',\n    className: '',\n}\nexport default DOMWrap\n","import React from 'react'\nimport { connect } from 'mini-store'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport createChainedFunction from 'rc-util/es/createChainedFunction'\nimport shallowEqual from 'shallowequal'\nimport classNames from 'classnames'\nimport {\n    getKeyFromChildrenIndex,\n    loopMenuItem,\n    noop,\n    menuAllProps,\n    isMobileDevice,\n} from './util'\nimport DOMWrap from './DOMWrap'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction allDisabled(arr) {\n    if (!arr.length) {\n        return true\n    }\n\n    return arr.every(function(c) {\n        return !!c.props.disabled\n    })\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n    var state = store.getState()\n    store.setState({\n        activeKey: _objectSpread(\n            {},\n            state.activeKey,\n            _defineProperty({}, menuId, activeKey)\n        ),\n    })\n}\n\nfunction getEventKey(props) {\n    // when eventKey not available ,it's menu and return menu id '0-menu-'\n    return props.eventKey || '0-menu-'\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n    var activeKey = originalActiveKey\n    var children = props.children,\n        eventKey = props.eventKey\n\n    if (activeKey) {\n        var found\n        loopMenuItem(children, function(c, i) {\n            if (\n                c &&\n                c.props &&\n                !c.props.disabled &&\n                activeKey === getKeyFromChildrenIndex(c, eventKey, i)\n            ) {\n                found = true\n            }\n        })\n\n        if (found) {\n            return activeKey\n        }\n    }\n\n    activeKey = null\n\n    if (props.defaultActiveFirst) {\n        loopMenuItem(children, function(c, i) {\n            if (!activeKey && c && !c.props.disabled) {\n                activeKey = getKeyFromChildrenIndex(c, eventKey, i)\n            }\n        })\n        return activeKey\n    }\n\n    return activeKey\n}\nexport function saveRef(c) {\n    if (c) {\n        var index = this.instanceArray.indexOf(c)\n\n        if (index !== -1) {\n            // update component if it's already inside instanceArray\n            this.instanceArray[index] = c\n        } else {\n            // add component if it's not in instanceArray yet;\n            this.instanceArray.push(c)\n        }\n    }\n}\nexport var SubPopupMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubPopupMenu, _React$Component)\n\n        function SubPopupMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubPopupMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubPopupMenu).call(this, props)\n            )\n            /**\n             * all keyboard events callbacks run from here at first\n             *\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e, callback) {\n                var keyCode = e.keyCode\n                var handled\n\n                _this.getFlatInstanceArray().forEach(function(obj) {\n                    if (obj && obj.props.active && obj.onKeyDown) {\n                        handled = obj.onKeyDown(e)\n                    }\n                })\n\n                if (handled) {\n                    return 1\n                }\n\n                var activeItem = null\n\n                if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n                    activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1)\n                }\n\n                if (activeItem) {\n                    e.preventDefault()\n                    updateActiveKey(\n                        _this.props.store,\n                        getEventKey(_this.props),\n                        activeItem.props.eventKey\n                    )\n\n                    if (typeof callback === 'function') {\n                        callback(activeItem)\n                    }\n\n                    return 1\n                }\n\n                return undefined\n            }\n\n            _this.onItemHover = function(e) {\n                var key = e.key,\n                    hover = e.hover\n                updateActiveKey(\n                    _this.props.store,\n                    getEventKey(_this.props),\n                    hover ? key : null\n                )\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                _this.props.onDeselect(selectInfo)\n            }\n\n            _this.onSelect = function(selectInfo) {\n                _this.props.onSelect(selectInfo)\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onDestroy = function(key) {\n                /* istanbul ignore next */\n                _this.props.onDestroy(key)\n            }\n\n            _this.getFlatInstanceArray = function() {\n                return _this.instanceArray\n            }\n\n            _this.step = function(direction) {\n                var children = _this.getFlatInstanceArray()\n\n                var activeKey = _this.props.store.getState().activeKey[\n                    getEventKey(_this.props)\n                ]\n\n                var len = children.length\n\n                if (!len) {\n                    return null\n                }\n\n                if (direction < 0) {\n                    children = children.concat().reverse()\n                } // find current activeIndex\n\n                var activeIndex = -1\n                children.every(function(c, ci) {\n                    if (c && c.props.eventKey === activeKey) {\n                        activeIndex = ci\n                        return false\n                    }\n\n                    return true\n                })\n\n                if (\n                    !_this.props.defaultActiveFirst &&\n                    activeIndex !== -1 &&\n                    allDisabled(children.slice(activeIndex, len - 1))\n                ) {\n                    return undefined\n                }\n\n                var start = (activeIndex + 1) % len\n                var i = start\n\n                do {\n                    var child = children[i]\n\n                    if (!child || child.props.disabled) {\n                        i = (i + 1) % len\n                    } else {\n                        return child\n                    }\n                } while (i !== start)\n\n                return null\n            }\n\n            _this.renderCommonMenuItem = function(child, i, extraProps) {\n                var state = _this.props.store.getState()\n\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                var key = getKeyFromChildrenIndex(child, props.eventKey, i)\n                var childProps = child.props // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n                if (!childProps || typeof child.type === 'string') {\n                    return child\n                }\n\n                var isActive = key === state.activeKey\n\n                var newChildProps = _objectSpread(\n                    {\n                        mode: childProps.mode || props.mode,\n                        level: props.level,\n                        inlineIndent: props.inlineIndent,\n                        renderMenuItem: _this.renderMenuItem,\n                        rootPrefixCls: props.prefixCls,\n                        index: i,\n                        parentMenu: props.parentMenu,\n                        // customized ref function, need to be invoked manually in child's componentDidMount\n                        manualRef: childProps.disabled\n                            ? undefined\n                            : createChainedFunction(\n                                  child.ref,\n                                  saveRef.bind(_assertThisInitialized(_this))\n                              ),\n                        eventKey: key,\n                        active: !childProps.disabled && isActive,\n                        multiple: props.multiple,\n                        onClick: function onClick(e) {\n                            ;(childProps.onClick || noop)(e)\n\n                            _this.onClick(e)\n                        },\n                        onItemHover: _this.onItemHover,\n                        motion: props.motion,\n                        subMenuOpenDelay: props.subMenuOpenDelay,\n                        subMenuCloseDelay: props.subMenuCloseDelay,\n                        forceSubMenuRender: props.forceSubMenuRender,\n                        onOpenChange: _this.onOpenChange,\n                        onDeselect: _this.onDeselect,\n                        onSelect: _this.onSelect,\n                        builtinPlacements: props.builtinPlacements,\n                        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n                        expandIcon:\n                            childProps.expandIcon || _this.props.expandIcon,\n                    },\n                    extraProps,\n                    {\n                        direction: props.direction,\n                    }\n                ) // ref: https://github.com/ant-design/ant-design/issues/13943\n\n                if (props.mode === 'inline' || isMobileDevice()) {\n                    newChildProps.triggerSubMenuAction = 'click'\n                }\n\n                return React.cloneElement(child, newChildProps)\n            }\n\n            _this.renderMenuItem = function(c, i, subMenuKey, addProps) {\n                /* istanbul ignore if */\n                if (!c) {\n                    return null\n                }\n\n                var state = _this.props.store.getState()\n\n                var extraProps = {\n                    openKeys: state.openKeys,\n                    selectedKeys: state.selectedKeys,\n                    triggerSubMenuAction: _this.props.triggerSubMenuAction,\n                    subMenuKey: subMenuKey,\n                    ...addProps,\n                }\n                return _this.renderCommonMenuItem(c, i, extraProps)\n            }\n\n            props.store.setState({\n                activeKey: _objectSpread(\n                    {},\n                    props.store.getState().activeKey,\n                    _defineProperty(\n                        {},\n                        props.eventKey,\n                        getActiveKey(props, props.activeKey)\n                    )\n                ),\n            })\n            _this.instanceArray = []\n            return _this\n        }\n\n        _createClass(SubPopupMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'shouldComponentUpdate',\n                value: function shouldComponentUpdate(nextProps) {\n                    var props = this.props\n                    return (\n                        this.props.visible ||\n                        nextProps.visible ||\n                        !shallowEqual(\n                            [\n                                this.props.className,\n                                props.store.getState().topMenuBlockClasses,\n                                props.store.getState().topMenuItemClasses,\n                                props.store.getState().topMenuItemActiveClasses,\n                                props.store.getState().popupMenuBlockClasses,\n                                props.store.getState().popupMenuItemClasses,\n                                props.store.getState()\n                                    .popupMenuItemActiveClasses,\n                            ],\n                            [\n                                nextProps.className,\n                                nextProps.topMenuBlockClasses,\n                                nextProps.topMenuItemClasses,\n                                nextProps.topMenuItemActiveClasses,\n                                nextProps.popupMenuBlockClasses,\n                                nextProps.popupMenuItemClasses,\n                                nextProps.popupMenuItemActiveClasses,\n                            ]\n                        ) ||\n                        !shallowEqual(this.props.style, nextProps.style)\n                    )\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var props = this.props\n                    var originalActiveKey =\n                        'activeKey' in props\n                            ? props.activeKey\n                            : props.store.getState().activeKey[\n                                  getEventKey(props)\n                              ]\n                    var activeKey = getActiveKey(props, originalActiveKey)\n\n                    if (activeKey !== originalActiveKey) {\n                        updateActiveKey(\n                            props.store,\n                            getEventKey(props),\n                            activeKey\n                        )\n                    } else if ('activeKey' in prevProps) {\n                        // If prev activeKey is not same as current activeKey,\n                        // we should set it.\n                        var prevActiveKey = getActiveKey(\n                            prevProps,\n                            prevProps.activeKey\n                        )\n\n                        if (activeKey !== prevActiveKey) {\n                            updateActiveKey(\n                                props.store,\n                                getEventKey(props),\n                                activeKey\n                            )\n                        }\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this2 = this\n\n                    var props = _extends({}, this.props)\n\n                    this.instanceArray = []\n                    var className = classNames(\n                        props.prefixCls,\n                        props.className,\n                        ''.concat(props.prefixCls, '-').concat(props.mode)\n                    )\n                    var domProps = {\n                        className: [\n                            className,\n                            props.level < 2\n                                ? props.store.getState().topMenuBlockClasses\n                                : props.store.getState().popupMenuBlockClasses,\n                        ].join(' '),\n                        // role could be 'select' and by default set to menu\n                        role: props.role || 'menu',\n                    }\n\n                    if (props.id) {\n                        domProps.id = props.id\n                    }\n\n                    if (props.focusable) {\n                        domProps.tabIndex = 0\n                        domProps.onKeyDown = this.onKeyDown\n                    }\n\n                    var prefixCls = props.prefixCls,\n                        eventKey = props.eventKey,\n                        visible = props.visible,\n                        level = props.level,\n                        mode = props.mode,\n                        overflowedIndicator = props.overflowedIndicator,\n                        theme = props.theme\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Otherwise, the propagated click event will trigger another onClick\n\n                    delete props.onClick\n                    delete props.topMenuBlockClasses\n                    delete props.topMenuItemClasses\n                    delete props.topMenuItemActiveClasses\n                    delete props.popupMenuBlockClasses\n                    delete props.popupMenuItemClasses\n                    delete props.popupMenuItemActiveClasses\n                    delete props.activeKeys\n\n                    return React.createElement(\n                        DOMWrap,\n                        Object.assign(\n                            {},\n                            props,\n                            {\n                                prefixCls: prefixCls,\n                                mode: mode,\n                                tag: 'ul',\n                                level: level,\n                                theme: theme,\n                                visible: visible,\n                                overflowedIndicator: overflowedIndicator,\n                            },\n                            domProps\n                        ),\n                        React.Children.map(props.children, function(c, i) {\n                            return _this2.renderMenuItem(\n                                c,\n                                i,\n                                eventKey || '0-menu-',\n                                { isSub: level > 1 }\n                            )\n                        })\n                    )\n                },\n            },\n        ])\n\n        return SubPopupMenu\n    })(React.Component)\nSubPopupMenu.defaultProps = {\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    level: 1,\n    inlineIndent: 24,\n    visible: true,\n    focusable: true,\n    style: {},\n    manualRef: noop,\n}\nvar connected = connect()(SubPopupMenu)\nexport default connected\n","import warning from 'rc-util/es/warning'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function getMotion(_ref) {\n    var prefixCls = _ref.prefixCls,\n        motion = _ref.motion,\n        openAnimation = _ref.openAnimation,\n        openTransitionName = _ref.openTransitionName\n\n    if (motion) {\n        return motion\n    }\n\n    if (_typeof(openAnimation) === 'object' && openAnimation) {\n        warning(\n            false,\n            'Object type of `openAnimation` is removed. Please use `motion` instead.'\n        )\n    } else if (typeof openAnimation === 'string') {\n        return {\n            motionName: ''.concat(prefixCls, '-open-').concat(openAnimation),\n        }\n    }\n\n    if (openTransitionName) {\n        return {\n            motionName: openTransitionName,\n        }\n    }\n\n    return null\n}\n","import React from 'react'\nimport { Provider, create } from 'mini-store'\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu'\nimport { noop } from './util'\nimport { getMotion } from './utils/legacyUtil'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar Menu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(Menu, _React$Component)\n\n        function Menu(props) {\n            var _this\n\n            _classCallCheck(this, Menu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(Menu).call(this, props)\n            )\n\n            _this.onSelect = function(selectInfo) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                if (props.selectable) {\n                    // root menu\n                    var _this$store$getState = _this.store.getState(),\n                        _selectedKeys = _this$store$getState.selectedKeys\n\n                    var selectedKey = selectInfo.key\n\n                    if (props.multiple) {\n                        _selectedKeys = _selectedKeys.concat([selectedKey])\n                    } else {\n                        _selectedKeys = [selectedKey]\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys,\n                        })\n                    }\n\n                    props.onSelect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys,\n                        })\n                    )\n                }\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            } // onKeyDown needs to be exposed as a instance method\n            // e.g., in rc-select, we need to navigate menu item while\n            // current active item is rc-select input box rather than the menu itself\n\n            _this.onKeyDown = function(e, callback) {\n                _this.innerMenu.getWrappedInstance().onKeyDown(e, callback)\n            }\n\n            _this.onOpenChange = function(event) {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                var openKeys = _this.store.getState().openKeys.concat()\n\n                var changed = false\n\n                var processSingle = function processSingle(e) {\n                    var oneChanged = false\n\n                    if (e.open) {\n                        oneChanged = openKeys.indexOf(e.key) === -1\n\n                        if (oneChanged) {\n                            openKeys.push(e.key)\n                        }\n                    } else {\n                        var index = openKeys.indexOf(e.key)\n                        oneChanged = index !== -1\n\n                        if (oneChanged) {\n                            openKeys.splice(index, 1)\n                        }\n                    }\n\n                    changed = changed || oneChanged\n                }\n\n                if (Array.isArray(event)) {\n                    // batch change call\n                    event.forEach(processSingle)\n                } else {\n                    processSingle(event)\n                }\n\n                if (changed) {\n                    if (!('openKeys' in _this.props)) {\n                        _this.store.setState({\n                            openKeys: openKeys,\n                        })\n                    }\n\n                    props.onOpenChange(openKeys)\n                }\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize3.props\n\n                if (props.selectable) {\n                    var _selectedKeys2 = _this.store\n                        .getState()\n                        .selectedKeys.concat()\n\n                    var selectedKey = selectInfo.key\n\n                    var index = _selectedKeys2.indexOf(selectedKey)\n\n                    if (index !== -1) {\n                        _selectedKeys2.splice(index, 1)\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys2,\n                        })\n                    }\n\n                    props.onDeselect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys2,\n                        })\n                    )\n                }\n            }\n\n            _this.getOpenTransitionName = function() {\n                var _assertThisInitialize4 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize4.props\n\n                var transitionName = props.openTransitionName\n                var animationName = props.openAnimation\n\n                if (!transitionName && typeof animationName === 'string') {\n                    transitionName = ''\n                        .concat(props.prefixCls, '-open-')\n                        .concat(animationName)\n                }\n\n                return transitionName\n            }\n\n            _this.setInnerMenu = function(node) {\n                _this.innerMenu = node\n            }\n\n            _this.isRootMenu = true\n            var selectedKeys = props.defaultSelectedKeys\n            var openKeys = props.defaultOpenKeys\n\n            if ('selectedKeys' in props) {\n                selectedKeys = props.selectedKeys || []\n            }\n\n            if ('openKeys' in props) {\n                openKeys = props.openKeys || []\n            }\n\n            _this.store = create({\n                selectedKeys: selectedKeys,\n                openKeys: openKeys,\n                activeKey: {\n                    '0-menu-': getActiveKey(props, props.activeKey),\n                },\n            })\n            return _this\n        }\n\n        _createClass(Menu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'updateMiniStore',\n                value: function updateMiniStore() {\n                    if ('selectedKeys' in this.props) {\n                        this.store.setState({\n                            selectedKeys: this.props.selectedKeys || [],\n                        })\n                    }\n\n                    if ('openKeys' in this.props) {\n                        this.store.setState({\n                            openKeys: this.props.openKeys || [],\n                        })\n                    }\n                    this.updateClassesInMiniStore()\n                },\n            },\n            {\n                key: 'updateClassesInMiniStore',\n                value: function updateClassesInMiniStore() {\n                    if ('topMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            topMenuBlockClasses:\n                                this.props.topMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemClasses:\n                                this.props.topMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemActiveClasses:\n                                this.props.topMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuBlockClasses:\n                                this.props.popupMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemClasses:\n                                this.props.popupMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemActiveClasses:\n                                this.props.popupMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('activeKeys' in this.props) {\n                        this.store.setState({\n                            activeKeys: this.props.activeKeys || [],\n                        })\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    this.updateClassesInMiniStore()\n                    var props = _objectSpread({}, this.props)\n\n                    props.className += ' '.concat(props.prefixCls, '-root')\n\n                    if (props.direction === 'rtl') {\n                        props.className += ' '.concat(props.prefixCls, '-rtl')\n                    }\n\n                    props = _objectSpread({}, props, {\n                        onClick: this.onClick,\n                        onOpenChange: this.onOpenChange,\n                        onDeselect: this.onDeselect,\n                        onSelect: this.onSelect,\n                        parentMenu: this,\n                        motion: getMotion(this.props),\n                    })\n                    delete props.openAnimation\n                    delete props.openTransitionName\n                    return React.createElement(\n                        Provider,\n                        {\n                            store: this.store,\n                        },\n                        React.createElement(\n                            SubPopupMenu,\n                            Object.assign({}, props, {\n                                ref: this.setInnerMenu,\n                            }),\n                            this.props.children\n                        )\n                    )\n                },\n            },\n        ])\n\n        return Menu\n    })(React.Component)\n\nMenu.defaultProps = {\n    selectable: true,\n    onClick: noop,\n    onSelect: noop,\n    onOpenChange: noop,\n    onDeselect: noop,\n    defaultSelectedKeys: [],\n    defaultOpenKeys: [],\n    subMenuOpenDelay: 0.1,\n    subMenuCloseDelay: 0.1,\n    triggerSubMenuAction: 'hover',\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    style: {},\n    builtinPlacements: {},\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7'),\n    topMenuBlockClasses: [],\n    topMenuItemClasses: [],\n    topMenuItemActiveClasses: [],\n    popupMenuBlockClasses: [],\n    popupMenuItemClasses: [],\n    popupMenuItemActiveClasses: [],\n    activeKeys: [],\n}\nexport default Menu\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport classNames from 'classnames'\nimport scrollIntoView from 'scroll-into-view-if-needed'\nimport { connect } from 'mini-store'\nimport { noop, menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nexport var MenuItem =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItem, _React$Component)\n\n        function MenuItem() {\n            var _this\n\n            _classCallCheck(this, MenuItem)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItem).apply(this, arguments)\n            )\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onClick(e)\n\n                    return true\n                }\n\n                return undefined\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props = _this.props,\n                    eventKey = _this$props.eventKey,\n                    onItemHover = _this$props.onItemHover,\n                    onMouseLeave = _this$props.onMouseLeave\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    eventKey = _this$props2.eventKey,\n                    onItemHover = _this$props2.onItemHover,\n                    onMouseEnter = _this$props2.onMouseEnter\n                onItemHover({\n                    key: eventKey,\n                    hover: true,\n                })\n                onMouseEnter({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onClick = function(e) {\n                var _this$props3 = _this.props,\n                    eventKey = _this$props3.eventKey,\n                    multiple = _this$props3.multiple,\n                    onClick = _this$props3.onClick,\n                    onSelect = _this$props3.onSelect,\n                    onDeselect = _this$props3.onDeselect,\n                    isSelected = _this$props3.isSelected\n                var info = {\n                    key: eventKey,\n                    keyPath: [eventKey],\n                    item: _assertThisInitialized(_this),\n                    domEvent: e,\n                }\n                onClick(info)\n\n                if (multiple) {\n                    if (isSelected) {\n                        onDeselect(info)\n                    } else {\n                        onSelect(info)\n                    }\n                } else if (!isSelected) {\n                    onSelect(info)\n                }\n            }\n\n            _this.saveNode = function(node) {\n                _this.node = node\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItem, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var _this$props4 = this.props,\n                        active = _this$props4.active,\n                        parentMenu = _this$props4.parentMenu,\n                        eventKey = _this$props4.eventKey // 在 parentMenu 上层保存滚动状态，避免重复的 MenuItem key 导致滚动跳动\n                    // https://github.com/ant-design/ant-design/issues/16181\n\n                    if (\n                        !prevProps.active &&\n                        active &&\n                        (!parentMenu ||\n                            !parentMenu['scrolled-'.concat(eventKey)])\n                    ) {\n                        if (this.node) {\n                            scrollIntoView(this.node, {\n                                scrollMode: 'if-needed',\n                                // eslint-disable-next-line react/no-find-dom-node\n                                boundary: ReactDOM.findDOMNode(parentMenu),\n                                block: 'nearest',\n                            })\n                            parentMenu['scrolled-'.concat(eventKey)] = true\n                        }\n                    } else if (\n                        parentMenu &&\n                        parentMenu['scrolled-'.concat(eventKey)]\n                    ) {\n                        delete parentMenu['scrolled-'.concat(eventKey)]\n                    }\n\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var props = this.props\n\n                    if (props.onDestroy) {\n                        props.onDestroy(props.eventKey)\n                    }\n                },\n            },\n            {\n                key: 'getPrefixCls',\n                value: function getPrefixCls() {\n                    return ''.concat(this.props.rootPrefixCls, '-item')\n                },\n            },\n            {\n                key: 'getActiveClassName',\n                value: function getActiveClassName() {\n                    return ''.concat(this.getPrefixCls(), '-active')\n                },\n            },\n            {\n                key: 'getSelectedClassName',\n                value: function getSelectedClassName() {\n                    return ''.concat(this.getPrefixCls(), '-selected')\n                },\n            },\n            {\n                key: 'getDisabledClassName',\n                value: function getDisabledClassName() {\n                    return ''.concat(this.getPrefixCls(), '-disabled')\n                },\n            },\n            {\n                key: 'callRef',\n                value: function callRef() {\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames\n\n                    var props = _objectSpread({}, this.props)\n\n                    var className = classNames(\n                        this.getPrefixCls(),\n                        props.className,\n                        ((_classNames = {}),\n                        _defineProperty(\n                            _classNames,\n                            this.getActiveClassName(),\n                            !props.disabled && props.active\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getSelectedClassName(),\n                            props.isSelected\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _classNames)\n                    )\n                    var attrs = _objectSpread({}, props.attribute, {\n                        title: props.title,\n                        // className: className,\n                        className: [\n                            className,\n                            ...(props.isSub || props.mode === 'vertical-left'\n                                ? props.store.getState().popupMenuItemClasses\n                                : props.store.getState().topMenuItemClasses),\n                            ...(props.store\n                                .getState()\n                                .activeKeys.includes(this.props.eventKey)\n                                ? props.isSub || props.mode === 'vertical-left'\n                                    ? props.store.getState()\n                                          .popupMenuItemActiveClasses\n                                    : props.store.getState()\n                                          .topMenuItemActiveClasses\n                                : []),\n                        ].join(' '),\n\n                        // set to menuitem by default\n                        role: props.role || 'menuitem',\n                        'aria-disabled': props.disabled,\n                    })\n\n                    if (props.role === 'option') {\n                        // overwrite to option\n                        attrs = _objectSpread({}, attrs, {\n                            role: 'option',\n                            'aria-selected': props.isSelected,\n                        })\n                    } else if (props.role === null || props.role === 'none') {\n                        // sometimes we want to specify role inside <li/> element\n                        // <li><a role='menuitem'>Link</a></li> would be a good example\n                        // in this case the role on <li/> should be \"none\" to\n                        // remove the implied listitem role.\n                        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n                        attrs.role = 'none'\n                    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n                    var mouseEvent = {\n                        onClick: props.disabled ? null : this.onClick,\n                        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n                        onMouseEnter: props.disabled ? null : this.onMouseEnter,\n                    }\n\n                    var style = _objectSpread({}, props.style)\n\n                    if (props.mode === 'inline') {\n                        if (props.direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    })\n                    delete props.direction\n                    var icon = this.props.itemIcon\n\n                    if (typeof this.props.itemIcon === 'function') {\n                        // TODO: This is a bug which should fixed after TS refactor\n                        icon = React.createElement(\n                            this.props.itemIcon,\n                            this.props\n                        )\n                    }\n                    delete props.isSub\n\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, attrs, mouseEvent, {\n                            style: style,\n                            ref: this.saveNode,\n                        }),\n                        props.children,\n                        icon\n                    )\n                },\n            },\n        ])\n\n        return MenuItem\n    })(React.Component)\nMenuItem.isMenuItem = true\nMenuItem.defaultProps = {\n    onSelect: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    manualRef: noop,\n}\nvar connected = connect(function(_ref, _ref2) {\n    var activeKey = _ref.activeKey,\n        selectedKeys = _ref.selectedKeys\n    var eventKey = _ref2.eventKey,\n        subMenuKey = _ref2.subMenuKey\n    return {\n        active: activeKey[subMenuKey] === eventKey,\n        isSelected: selectedKeys.indexOf(eventKey) !== -1,\n    }\n})(MenuItem)\nexport default connected\n","import React from 'react'\nimport { menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MenuItemGroup =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItemGroup, _React$Component)\n\n        function MenuItemGroup() {\n            var _this\n\n            _classCallCheck(this, MenuItemGroup)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItemGroup).apply(this, arguments)\n            )\n\n            _this.renderInnerMenuItem = function(item) {\n                var _this$props = _this.props,\n                    renderMenuItem = _this$props.renderMenuItem,\n                    index = _this$props.index\n                return renderMenuItem(item, index, _this.props.subMenuKey)\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItemGroup, [\n            {\n                key: 'render',\n                value: function render() {\n                    var props = _extends({}, this.props)\n\n                    var _props$className = props.className,\n                        className =\n                            _props$className === void 0 ? '' : _props$className,\n                        rootPrefixCls = props.rootPrefixCls\n                    var titleClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-title'\n                    )\n                    var listClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-list'\n                    )\n                    var title = props.title,\n                        children = props.children\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, {\n                            className: ''\n                                .concat(className, ' ')\n                                .concat(rootPrefixCls, '-item-group'),\n                        }),\n                        React.createElement(\n                            'div',\n                            {\n                                className: titleClassName,\n                                title:\n                                    typeof title === 'string'\n                                        ? title\n                                        : undefined,\n                            },\n                            title\n                        ),\n                        React.createElement(\n                            'ul',\n                            {\n                                className: listClassName,\n                            },\n                            React.Children.map(\n                                children,\n                                this.renderInnerMenuItem\n                            )\n                        )\n                    )\n                },\n            },\n        ])\n\n        return MenuItemGroup\n    })(React.Component)\n\nMenuItemGroup.isMenuItemGroup = true\nMenuItemGroup.defaultProps = {\n    disabled: true,\n}\nexport default MenuItemGroup\n","import React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","import React, { useEffect } from 'react'\nimport Menu, { SubMenu, MenuItem } from './MenuModule/index'\nimport buildItemsForMenu from './methods/buildItemsForMenu'\nimport { connect } from 'react-redux'\n\n// import type { elementType, pageType } from '../../../store/reducer/reducer'\n\n// export type Props = {\n//     pageInStructure: pageType,\n//     element,\n//     document: {},\n//     parentPluginProps: $PropertyType<elementType, 'properties'>,\n// }\n\nconst activeKeys = []\n\nconst MenuElement = props => {\n    useEffect(() => {\n        if (!props.document.getElementById('__menu__popup__container__')) {\n            const container = props.document.createElement('div')\n            container.setAttribute('id', '__menu__popup__container__')\n            container.setAttribute(\n                'style',\n                'z-index:100000;position: absolute;'\n            )\n            props.document.body.appendChild(container)\n        }\n    })\n    const builtItems = buildItemsForMenu(props)\n\n    activeKeys.length = 0\n    const menuElements = builtItems.map((item, index) => {\n        const key = item.id + '_' + index\n        if (item.children.length === 0) {\n            if (\n                item.url === '/' + props.pageInStructure.relUrl ||\n                (item.url === '' && props.pageInStructure.homepage)\n            )\n                activeKeys.push(key)\n            return (\n                <MenuItem\n                    key={key}\n                    className={item.properties ? item.properties.class : ''}\n                >\n                    <div\n                        style={{ height: '100%', width: '100%' }}\n                        onClick={() =>\n                            item.properties.newTab\n                                ? window.open(item.url, '_blank')\n                                : (window.location = item.url)\n                        }\n                    >\n                        {item.name}\n                    </div>\n                </MenuItem>\n            )\n        } else {\n            return (\n                <SubMenu1\n                    item={item}\n                    key={key}\n                    pageInStructure={props.pageInStructure}\n                />\n            )\n        }\n    })\n    console.log(activeKeys)\n    console.log(props.pageInStructure.relUrl)\n    console.log(builtItems)\n    console.log(props.refinedProperties)\n    return (\n        <Menu\n            prefixCls={'systemclass_menu'}\n            getPopupContainer={() =>\n                props.document.getElementById('__menu__popup__container__')\n            }\n            topMenuBlockClasses={props.refinedProperties.topMenuBlockClasses}\n            topMenuItemClasses={props.refinedProperties.topMenuItemClasses}\n            topMenuItemActiveClasses={\n                props.refinedProperties.topMenuItemActiveClasses\n            }\n            popupMenuBlockClasses={\n                props.refinedProperties.popupMenuBlockClasses\n            }\n            popupMenuItemClasses={props.refinedProperties.popupMenuItemClasses}\n            popupMenuItemActiveClasses={\n                props.refinedProperties.popupMenuItemActiveClasses\n            }\n            mode={props.refinedProperties.mode}\n            selectable={false}\n            triggerSubMenuAction={props.refinedProperties.trigger}\n            activeKeys={activeKeys}\n            overflowedIndicator={props.overflowIcon}\n        >\n            {menuElements}\n        </Menu>\n    )\n}\n\nconst SubMenu1 = props => {\n    const { ...other } = props\n    return (\n        <SubMenu {...other} key={props.key} title={props.item.name}>\n            {props.item.children.map((item, index) => {\n                const key = props.key + '_' + index\n                if (item.children.length === 0) {\n                    if (\n                        item.url === '/' + props.pageInStructure.relUrl ||\n                        (item.url === '' && props.pageInStructure.homepage)\n                    )\n                        activeKeys.push(key)\n                    return (\n                        <MenuItem key={key}>\n                            <div\n                                style={{ height: '100%', width: '100%' }}\n                                onClick={() =>\n                                    item.properties.newTab\n                                        ? window.open(item.url, '_blank')\n                                        : (window.location = item.url)\n                                }\n                            >\n                                {item.name}\n                            </div>\n                        </MenuItem>\n                    )\n                } else {\n                    return (\n                        <SubMenu2\n                            {...other}\n                            item={item}\n                            key={key}\n                            pageInStructure={props.pageInStructure}\n                        />\n                    )\n                }\n            })}\n        </SubMenu>\n    )\n}\n\nconst SubMenu2 = SubMenu1\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.mD.pagesStructure,\n        pageInStructure: state.mD.currentPageItem,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuElement)\n","import { buildTree } from '../../../../utils/basic'\n\n// import type { Props } from '../Menu'\n\nexport default props => {\n    const buildMenuItems = menuItems => {\n        let structureAfterVariables = []\n        const structure = []\n        if (menuItems) {\n            menuItems.forEach(item => {\n                if (item.generatedFrom === 'variable') {\n                    if (props.parentPluginProps[item.name]) {\n                        structureAfterVariables = [\n                            ...structureAfterVariables,\n                            ...props.parentPluginProps[item.name],\n                        ]\n                    }\n                } else {\n                    structureAfterVariables.push(item)\n                }\n            })\n\n            structureAfterVariables.forEach(item => {\n                if (item.generatedFrom === 'all') {\n                    props.pagesStructure.forEach(page => {\n                        if (!page.hidden) {\n                            structure.push({\n                                name: page.name,\n                                properties: item.properties,\n                                id: item.id + page.id,\n                                path: [\n                                    ...item.path,\n                                    ...page.path.map(l => item.id + l),\n                                ],\n                                url: '/' + page.relUrl,\n                            })\n                        }\n                    })\n                } else if (item.all) {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.path.includes(item.generatedFrom) &&\n                            !page.hidden\n                        ) {\n                            structure.push({\n                                id: item.id + page.id,\n                                name: page.name,\n                                properties: item.properties,\n                                path: [\n                                    ...item.path,\n                                    ...page.path\n                                        .slice(\n                                            page.path.indexOf(\n                                                item.generatedFrom\n                                            ) + 1\n                                        )\n                                        .map(l => item.id + l),\n                                ],\n                                url: '/' + page.relUrl,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom !== 'link') {\n                    props.pagesStructure.forEach(page => {\n                        if (page.id === item.generatedFrom && !page.hidden) {\n                            structure.push({\n                                id: item.id,\n                                name: item.name,\n                                properties: item.properties,\n                                path: item.path,\n                                url: '/' + page.relUrl,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom === 'link') {\n                    structure.push({\n                        id: item.id,\n                        name: item.name,\n                        path: item.path,\n                        url: item.properties.url || '',\n                        properties: item.properties,\n                    })\n                }\n            })\n        }\n        return structure\n    }\n    // const hiddenPages = []\n    // props.pagesStructure.forEach(page => {\n    //     if (page.hidden) hiddenPages.push(page.id)\n    // })\n    // props.pagesStructure.forEach(page => {\n    //     page.path.forEach(id => {\n    //         if (hiddenPages.includes(id)) {\n    //             hiddenPages.push(page.id)\n    //         }\n    //     })\n    // })\n\n    return buildTree(buildMenuItems(props.elementValues.menuItems))\n}\n","import React, { useState } from 'react'\nimport DrawerElement from 'rc-drawer'\n\nconst Drawer = props => {\n    const [state, setState] = useState()\n\n    const onTouchEnd = () => {\n        setState(false)\n    }\n    const onSwitch = () => {\n        setState(!state)\n    }\n    return (\n        <>\n            {props.handler && <div onClick={onSwitch}>{props.handler}</div>}\n            <DrawerElement\n                open={state}\n                onClose={onTouchEnd}\n                handler={props.autoHandler}\n                level={null}\n                width=\"200px\"\n                getContainer={() =>\n                    props.refinedProperties.container\n                        ? props.document.getElementById(\n                              props.refinedProperties.container\n                          ) || props.document.body\n                        : props.document.body\n                }\n                onHandleClick={onSwitch}\n            >\n                {props.content}\n            </DrawerElement>\n        </>\n    )\n}\n\nexport default Drawer\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\n// import type Props from '../BuilderElement'\nimport camelCase from 'camelcase'\nimport styleToObject from 'style-to-object'\n\nconst styleToCamelcase = style => {\n    const result = {}\n    try {\n        styleToObject(style, (name, value) => {\n            result[camelCase(name)] = value\n        })\n    } catch (ex) {}\n\n    return result\n}\n\nexport const setBoxProperties = (\n    ownRefinedProperties,\n    props,\n    elementValues\n) => {\n    const result = {}\n\n    if (elementValues.style) {\n        const style = elementValues.style.replace(\n            /\\$[A-Za-z0-9_-]*\\$/g,\n            match => {\n                const inheritedPropertyName = getInheritedPropertyName(match)\n                return inheritedPropertyName\n                    ? props.parentPluginProps[inheritedPropertyName] || ''\n                    : ''\n            }\n        )\n        result.style = styleToCamelcase(style)\n    }\n\n    for (let attribute in ownRefinedProperties) {\n        const attr = attribute.toLowerCase()\n        switch (attr) {\n            case 'style':\n                break\n            case '':\n                break\n            case 'class':\n                result.className = ownRefinedProperties.class\n                break\n            case 'for':\n                result.htmlFor = ownRefinedProperties.for\n                break\n            // case 'href':\n            //     if (\n            //         ownRefinedProperties[attr].indexOf('http://') > -1 ||\n            //         ownRefinedProperties[attr].indexOf('https://') > -1\n            //     ) {\n            //         result.href = ownRefinedProperties[attr]\n            //     } else {\n            //         result.href = props.mD.baseUrl + ownRefinedProperties[attr]\n            //     }\n            //     break\n            default:\n                result[attr] = ownRefinedProperties[attr]\n                break\n        }\n    }\n    return result\n}\n// export const setBoxProperties = (\n//     box: HTMLElement,\n//     refinedProperties: {},\n//     props: Props\n// ) => {\n//     while (box.attributes.length > 0)\n//         box.removeAttribute(box.attributes[0].name)\n//     if (props.elementValues.style) {\n//         const style = props.elementValues.style.replace(\n//             //eslint-disable-next-line\n//             ///\\$[^:;\\$\\s]*\\$/g,\n//             /\\$[A-Za-z0-9_-]*\\$/g,\n//             match => {\n//                 const inheritedPropertyName = getInheritedPropertyName(match)\n//                 return inheritedPropertyName\n//                     ? props.parentPluginProps[inheritedPropertyName] || ''\n//                     : ''\n//             }\n//         )\n//         box.setAttribute('style', style)\n//     }\n\n//     for (let attribute in refinedProperties) {\n//         const attr = attribute.toLowerCase()\n//         switch (attr) {\n//             case 'style':\n//                 break\n//             case '':\n//                 break\n//             default:\n//                 box.setAttribute(attr, refinedProperties[attr])\n//                 break\n//         }\n//     }\n// }\n\nexport const saveHoveredElementRect = (box, props) => {\n    const rect = box.getBoundingClientRect()\n    const iframe = document.getElementById('builderFrame')\n    const scrollY = iframe ? iframe.contentWindow.pageYOffset : 0\n    const scrollX = iframe ? iframe.contentWindow.pageXOffset : 0\n\n    props.saveHoveredElementRect(\n        [\n            ...props.pluginsPathArray,\n            {\n                id: props.element.id,\n                plugin: null,\n            },\n        ],\n        {\n            left: rect.left + scrollX,\n            top: rect.top + scrollY,\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top,\n        }\n    )\n}\n","import {\n    getInheritedPropertyName,\n    getCurrentResourceValue,\n} from '../../../../utils/basic'\nimport isEqual from 'lodash/isEqual'\n// import { CloudFrontUrl, bucket } from '../../../../awsConfig'\n\n// import type Props from '../BuilderElement'\nimport { getFileUrl } from '../../../../utils/getFileUrl'\n\nconst toRGBAString = rgb =>\n    rgb ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${rgb.a})` : 'rgba(0,0,0,0)'\n\nexport default props => {\n    const result = {}\n    for (let attribute in props.elementValues.properties) {\n        const inheritedPropertyName = getInheritedPropertyName(\n            props.elementValues.properties[attribute]\n        )\n        result[attribute] = inheritedPropertyName\n            ? props.parentPluginProps[inheritedPropertyName]\n            : props.elementValues.properties[attribute]\n        if (result[attribute])\n            result[attribute] = JSON.parse(\n                JSON.stringify(result[attribute]).replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9_-]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            )\n        // if (attribute === 'src') {\n        //     let url = result[attribute] || ''\n        //     const path = url.split('/')\n        //     if (path.length > 1) {\n        //         if (path[0] === 'websiter') {\n        //             path.shift()\n        //             let width, height\n        //             if (path.length > 1) {\n        //                 const sizes = path[path.length - 1]\n        //                 const indexW = sizes.indexOf('w')\n        //                 const indexH = sizes.indexOf('h')\n        //                 if (indexW > -1 && indexH > -1) {\n        //                     if (indexW < indexH) {\n        //                         width = sizes.substr(indexW + 1, indexH - 1)\n        //                         height = sizes.substr(indexH + 1)\n        //                     } else {\n        //                         height = sizes.substr(indexH + 1, indexW - 1)\n        //                         width = sizes.substr(indexW + 1)\n        //                     }\n        //                 } else {\n        //                     if (indexW > -1) width = sizes.substr(indexW + 1)\n        //                     if (indexH > -1) height = sizes.substr(indexH + 1)\n        //                 }\n        //             }\n\n        //             if (isNaN(width)) width = null\n        //             else width = parseInt(width)\n        //             if (isNaN(height)) height = null\n        //             else height = parseInt(height)\n\n        //             if (width || height) {\n        //                 path.pop()\n        //             }\n\n        //             const imageRequest = JSON.stringify({\n        //                 bucket: bucket,\n        //                 key: path.join('/'),\n        //                 edits: {\n        //                     resize: {\n        //                         width: width || '',\n        //                         height: height || null,\n        //                         fit: 'cover',\n        //                         background: { r: 0, g: 0, b: 0, alpha: 0 },\n        //                     },\n        //                     toFormat: 'png',\n        //                 },\n        //             })\n\n        //             url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n        //             result[attribute] = url\n        //         }\n        //     }\n        // }\n    }\n    return {\n        refinedProperties: { ...props.parentPluginProps, ...result },\n        ownRefinedProperties: result,\n    }\n}\n\nexport const refinePropertiesFromCMS = mD => {\n    const addVariable = (\n        item,\n        currentPageDraft,\n        pageTemplateDraft,\n        pluginId\n    ) => {\n        if (!pageTemplateDraft) return\n        const resourceVariable = currentPageDraft.values[item.id]\n        const templateItemId = item.forPropagatingPlugin\n            ? item.forPropagatingPlugin.variable\n            : item.id\n\n        const itemValues = pageTemplateDraft.values[templateItemId]\n        if (itemValues.CMSVariableSystemName)\n            if (itemValues.CMSVariableType === 'menuItems') {\n                return {\n                    [itemValues.CMSVariableSystemName]: resourceVariable\n                        ? resourceVariable.menuItems\n                            ? resourceVariable.menuItems.length > 0\n                                ? resourceVariable.menuItems\n                                : itemValues.defaultMenuItems\n                            : itemValues.defaultMenuItems\n                        : itemValues.defaultMenuItems,\n                }\n            } else if (itemValues.CMSVariableType === 'file') {\n                return {\n                    [itemValues.CMSVariableSystemName]: getFileUrl(\n                        mD.filesStructure,\n                        resourceVariable\n                            ? resourceVariable.fileUrl ||\n                                  itemValues.defaultFileUrl\n                            : itemValues.defaultFileUrl,\n                        false,\n                        resourceVariable\n                            ? resourceVariable.fileThumbnail ||\n                                  itemValues.fileThumbnail\n                            : itemValues.fileThumbnail,\n                        mD.currentWebsiteObject.domain\n                    ),\n                    // 'http://live.websiter.dev:5000/' +\n                    // mD.currentWebsiteObject.domain +\n                    // (resourceVariable\n                    //     ? resourceVariable.fileUrl ||\n                    //       itemValues.defaultFileUrl\n                    //     : itemValues.defaultFileUrl),\n                }\n            } else if (\n                itemValues.CMSVariableType === 'colorSelect' ||\n                itemValues.CMSVariableType === 'color'\n            ) {\n                return {\n                    [itemValues.CMSVariableSystemName]: toRGBAString(\n                        resourceVariable && resourceVariable.color\n                            ? resourceVariable.color\n                            : itemValues.defaultColor\n                    ),\n                }\n            } else if (\n                itemValues.CMSVariableType.indexOf('propagating_') === 0 ||\n                itemValues.CMSVariableType === 'array'\n            ) {\n                const forPluginId =\n                    itemValues.CMSVariableType === 'array'\n                        ? pluginId\n                        : itemValues.CMSVariableType.slice(\n                              'propagating_'.length\n                          )\n                const forPluginDraft = getCurrentResourceValue(\n                    forPluginId,\n                    mD.resourcesObjects\n                )\n                const propagatingValue = []\n                const children = currentPageDraft.structure.filter(el =>\n                    isEqual([...item.path, item.id], el.path)\n                )\n\n                for (let child of children) {\n                    let propagatingItem = {}\n                    const innerChildPath = [...child.path, child.id]\n                    const childVariables = currentPageDraft.structure\n                        .filter(el =>\n                            isEqual(\n                                el.path.slice(0, innerChildPath.length),\n                                innerChildPath\n                            )\n                        )\n                        .filter(el =>\n                            el.forPropagatingPlugin\n                                ? el.forPropagatingPlugin.pluginId ===\n                                  forPluginId\n                                : false\n                        )\n\n                    for (let el of childVariables) {\n                        const value = addVariable(\n                            el,\n                            currentPageDraft,\n                            forPluginDraft,\n                            forPluginId\n                        )\n\n                        if (value) {\n                            propagatingItem = {\n                                ...propagatingItem,\n                                ...value,\n                            }\n                        }\n                    }\n                    propagatingValue.push(propagatingItem)\n                }\n                return {\n                    [itemValues.CMSVariableSystemName]: propagatingValue,\n                }\n            } else {\n                return {\n                    [itemValues.CMSVariableSystemName]: resourceVariable\n                        ? resourceVariable.value ||\n                          itemValues.CMSVariableDefaultValue\n                        : itemValues.CMSVariableDefaultValue,\n                }\n            }\n    }\n    const refine = (currentPageDraft, pageTemplateDraft, templateId) => {\n        let result = {}\n        if (pageTemplateDraft && currentPageDraft) {\n            for (let item of pageTemplateDraft.structure) {\n                if (item.path.length > 0) {\n                    if (item.path[0] === 'element_02') {\n                        if (\n                            !item.path.find(\n                                el =>\n                                    pageTemplateDraft.values[el]\n                                        .CMSVariableType === 'array'\n                            )\n                        ) {\n                            const value = addVariable(\n                                {\n                                    ...item,\n                                    path: item.path.filter(\n                                        id => id !== 'element_02'\n                                    ),\n                                },\n                                currentPageDraft,\n                                pageTemplateDraft,\n                                templateId\n                            )\n                            if (value) {\n                                result = { ...result, ...value }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return result\n    }\n    const refinedPropertiesPage = refine(\n        mD.currentPageFSBDraft,\n        mD.pageTemplateFSBDraft,\n        mD.pageTemplateFSBId\n    )\n    const refinedPropertiesGlobal = refine(\n        mD.globalSettingsPageDraft,\n        mD.globalSettingsTemplateDraft,\n        mD.globalSettingsTemplateId\n    )\n    return { ...refinedPropertiesGlobal, ...refinedPropertiesPage }\n}\n","// import type Props from '../BuilderElement'\n\nexport const hoverBox = (e, props) => {\n    e.stopPropagation()\n    // let Tag = props.element.tag || 'div'\n\n    // Tag = Tag.length > 0 ? Tag : 'div'\n    // const isPlugin = checkIfCapital(Tag.charAt(0))\n    // const isPlugin = true\n    if (props.findMode === 'page') {\n        props.hoverBox(\n            // isPlugin ?\n            props.routePlugin || props.element.id,\n            //  : props.element.id,\n            'page',\n            true\n        )\n    } else if (props.findMode === 'plugin') {\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n            props.hoverBox(props.element.id, 'plugin', true)\n        }\n    }\n}\n\nexport const unhoverBox = (e, props) => {\n    if (props.findMode) {\n        e.stopPropagation()\n        props.unhoverBox()\n    }\n}\n\nexport const chooseBox = (e, props) => {\n    if (props.findMode === 'page') {\n        e.stopPropagation()\n        props.chooseBox(\n            props.findMode, /// not sure\n            props.routePlugin || props.element.id\n        )\n    } else if (props.findMode === 'plugin') {\n        e.stopPropagation()\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n\n            props.chooseBox(\n                props.findMode, /// not sure\n                props.element.id\n            )\n        }\n    }\n    props.toggleFindMode()\n}\n","export const emptyTags = [\n    'area',\n    'base',\n    'br',\n    'col',\n    'embed',\n    'hr',\n    'img',\n    'input',\n    'keygen',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n    'menuitem',\n    'command',\n    'keygen',\n]\n\nexport const headTags = [\n    'meta',\n    'title',\n    'link',\n    'base',\n    'style',\n    'script',\n    'noscript',\n    'text',\n]\n","import React, { useRef, useEffect, memo } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport Menu from '../Menu/Menu'\nimport Drawer from '../Drawer/Drawer'\nimport 'slick-carousel/slick/slick.css'\nimport 'slick-carousel/slick/slick-theme.css'\nimport Slider from 'react-slick'\n\nimport { getCurrentResourceValue } from '../../../utils/basic'\n\nimport * as actions from '../../../store/actions/index'\nimport { checkIfCapital, getInheritedPropertyName } from '../../../utils/basic'\n\nimport { setBoxProperties } from './methods/useEffect'\nimport refineProperties from './methods/refineProperties'\nimport { hoverBox, unhoverBox, chooseBox } from './methods/boxMethods'\nimport { emptyTags, headTags } from './methods/tagsLibrary'\n\nimport parse from 'html-react-parser'\nimport sanitize from 'sanitize-html'\n\nimport { modulesPropertyNodes } from '../../../utils/modulesIndex'\n// import type {\n//     elementType,\n//     resourceType,\n//     initialStateType,\n// } from '../../../store/reducer/reducer'\n\n// export type Props = {\n//     element,\n//     saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n//     structure: $PropertyType<resourceType, 'structure'>,\n//     document: {},\n//     pluginsPathArray: Array<{\n//         id: string,\n//         plugin: string,\n//     }>,\n//     findMode: $PropertyType<initialStateType, 'findMode'>,\n//     parentPluginProps: $PropertyType<elementType, 'properties'>,\n//     sourcePlugin: string,\n//     routePlugin: string,\n//     hoverBox: typeof actions.hoverBox,\n//     chooseResource: typeof actions.chooseResource,\n//     unhoverBox: typeof actions.unhoverBox,\n//     chooseBox: typeof actions.chooseBox,\n//     toggleFindMode: typeof actions.toggleFindMode,\n//     childrenForPlugin: Array<elementType>,\n//     isHead?: boolean,\n// }\n\nconst _BuilderElement = props => {\n    const elementRef = useRef(null)\n\n    useEffect(() => {\n        const box = elementRef.current\n        if (box && ownRefinedProperties) {\n            if (Tag === 'script') {\n                const newScript = props.document.createElement(Tag)\n                newScript.textContent = box.textContent\n                // setBoxProperties(newScript, ownRefinedProperties, props)\n                box.parentNode.appendChild(newScript)\n\n                // box.parentNode.removeChild(box)\n            } else {\n                // saveHoveredElementRect(box, props)\n                // setBoxProperties(box, ownRefinedProperties, props)\n            }\n        }\n    })\n\n    if (!props.elementValues) {\n        return null\n    }\n\n    const { refinedProperties, ownRefinedProperties } = refineProperties(props)\n    const attributes = setBoxProperties(\n        ownRefinedProperties,\n        props,\n        props.elementValues\n    )\n    const currentPath = [...props.element.path, props.element.id]\n\n    let Tag = props.element.tag || 'div'\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n    const getModulePropertiesNodes = tag => {\n        const nodes = {}\n        const possibleNodes = modulesPropertyNodes[tag] || []\n        for (let el of possibleNodes) {\n            const nodeItem = props.structure.find(\n                item =>\n                    item.forModule === props.element.id &&\n                    item.childrenTo === el.id\n            )\n            let node\n            if (nodeItem) {\n                node = props.structure\n                    .filter(item =>\n                        isEqual(item.path, [...nodeItem.path, nodeItem.id])\n                    )\n                    .map(item => (\n                        <BuilderElement\n                            key={item.id}\n                            structure={props.structure.filter(itemInn =>\n                                itemInn.path.includes(item.id)\n                            )}\n                            element={item}\n                            document={props.document}\n                            pluginsPathArray={props.pluginsPathArray}\n                            sourcePlugin={props.sourcePlugin}\n                            routePlugin={props.routePlugin}\n                            parentPluginProps={props.parentPluginProps}\n                            childrenForPlugin={props.childrenForPlugin}\n                            currentResource={props.currentResource}\n                        />\n                    ))\n            }\n            if (node) nodes[el.id] = node\n        }\n        return nodes\n    }\n    if (props.element.childrenTo) {\n        return null\n    } else if (props.element.isChildren) {\n        const childrenMainElement = props.childrenForPlugin.find(\n            itemInn =>\n                itemInn.childrenTo === props.element.id &&\n                itemInn.forPlugin === props.sourcePlugin\n        )\n\n        if (childrenMainElement) {\n            const newStructure = props.childrenForPlugin.filter(itemInn =>\n                itemInn.path.includes(childrenMainElement.id)\n            )\n\n            return newStructure\n                .filter(itemInn => {\n                    if (itemInn.path.length > 0) {\n                        if (\n                            itemInn.path[itemInn.path.length - 1] ===\n                            childrenMainElement.id\n                        )\n                            return true\n                    }\n                    return false\n                })\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={newStructure}\n                        element={item}\n                        document={props.document}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={childrenMainElement.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        currentResource={item.fromResource}\n                        isHead={props.isHead}\n                    />\n                ))\n        }\n        return null\n    } else if (props.element.isElementFromCMSVariable) {\n        const inheritedPropertyName = props.element.tag\n\n        let parseText = ''\n        if (inheritedPropertyName) {\n            if (props.parentPluginProps[inheritedPropertyName]) {\n                parseText = props.parentPluginProps[inheritedPropertyName]\n            }\n        }\n\n        return parse(\n            sanitize(parseText, {\n                allowedTags: false,\n                allowedAttributes: false,\n            })\n        )\n    } else if (checkIfCapital(Tag.charAt(0))) {\n        const plugin = props.pluginsStructure.find(\n            item => item.name === Tag && !item.hidden\n        )\n        if (plugin) {\n            const childrenForPlugin = [\n                ...props.structure\n                    .filter(itemInn => itemInn.path.includes(props.element.id))\n                    .map(itemInn => ({\n                        ...itemInn,\n                        fromResource: props.currentResource,\n                    })),\n                ...(props.childrenForPlugin ? props.childrenForPlugin : []),\n            ]\n            if (\n                props.pluginsPathArray.find(item => item.plugin === plugin.id)\n            ) {\n                return null\n            }\n            return (\n                <PluginElement\n                    pluginsStructure={props.pluginsStructure}\n                    plugin={plugin}\n                    tag={Tag}\n                    document={props.document}\n                    routePlugin={props.routePlugin || props.element.id}\n                    pluginsPathArray={[\n                        ...props.pluginsPathArray,\n                        {\n                            id: props.element.id,\n                            plugin: plugin.id,\n                        },\n                    ]}\n                    parentPluginProps={refinedProperties}\n                    childrenForPlugin={childrenForPlugin}\n                    currentResource={plugin.id}\n                    isHead={props.isHead}\n                />\n            )\n        }\n        return null\n    } else if (!props.isHead || headTags.includes(Tag)) {\n        if (Tag === 'websiterMenu') {\n            return (\n                <div\n                    {...attributes}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Menu\n                        element={props.element}\n                        elementValues={props.elementValues}\n                        refinedProperties={refinedProperties}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        {...getModulePropertiesNodes(Tag)}\n                    />\n                </div>\n            )\n        } else if (Tag === 'websiterDrawer') {\n            return (\n                <div\n                    {...attributes}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Drawer\n                        element={props.element}\n                        refinedProperties={refinedProperties}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        {...getModulePropertiesNodes(Tag)}\n                    />\n                </div>\n            )\n        } else if (Tag === 'websiterGallery') {\n            let items = refinedProperties.items || []\n            if (refinedProperties.originalClass) {\n                items = items.map(item => ({\n                    ...item,\n                    originalClass: refinedProperties.originalClass,\n                }))\n            }\n            const settings = {\n                dots: true,\n                infinite: true,\n                speed: 500,\n                slidesToShow: 1,\n                slidesToScroll: 1,\n            }\n            return (\n                <div\n                    {...attributes}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Slider\n                        // element={props.element}\n                        // elementValues={props.elementValues}\n                        // document={props.document}\n                        // parentPluginProps={props.parentPluginProps}\n                        // childrenForPlugin={props.childrenForPlugin}\n                        {...settings}\n                        {...refinedProperties}\n                        {...getModulePropertiesNodes(Tag)}\n                    >\n                        <div>\n                            <div\n                                style={{\n                                    width: '100px',\n                                    height: '100px',\n                                    background: 'red',\n                                }}\n                            >\n                                sdfsdf\n                            </div>\n                        </div>\n                        {props.currentWebsiteObject && props.filesStructure\n                            ? items.map(item => {\n                                  return (\n                                      <div>\n                                          <img src={item.original} />\n                                      </div>\n                                  )\n                              })\n                            : null}\n                    </Slider>\n                </div>\n            )\n        } else if (Tag === 'richEditor') {\n            return parse(\n                sanitize(props.elementValues.textContent, {\n                    allowedTags: false,\n                    allowedAttributes: false,\n                })\n            )\n        } else if (props.element.text) {\n            if (props.elementValues.textContent) {\n                return props.elementValues.textContent.replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            } else {\n                return props.isHead ? '' : null\n            }\n        } else {\n            Tag = Tag.replace(/[^a-z]/g, '')\n            Tag = Tag.trim()\n            return emptyTags.includes(Tag) ? (\n                <Tag\n                    {...attributes}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                />\n            ) : (\n                <Tag\n                    {...attributes}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                >\n                    {Tag !== 'menu'\n                        ? props.structure\n                              .filter(item => isEqual(item.path, currentPath))\n                              .map(item => (\n                                  <BuilderElement\n                                      key={item.id}\n                                      structure={props.structure.filter(\n                                          itemInn =>\n                                              itemInn.path.includes(item.id)\n                                      )}\n                                      element={item}\n                                      document={props.document}\n                                      pluginsPathArray={props.pluginsPathArray}\n                                      sourcePlugin={props.sourcePlugin}\n                                      routePlugin={props.routePlugin}\n                                      parentPluginProps={\n                                          props.parentPluginProps\n                                      }\n                                      childrenForPlugin={\n                                          props.childrenForPlugin\n                                      }\n                                      currentResource={props.currentResource}\n                                  />\n                              ))\n                        : null}\n                </Tag>\n            )\n        }\n    } else {\n        return null\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    const sourceResource = props.sourcePlugin || props.currentResource\n\n    let elementValues\n    if (sourceResource)\n        elementValues = getCurrentResourceValue(\n            sourceResource,\n            state.resourcesObjects\n        ).values[props.element.id]\n\n    return {\n        findMode: state.findMode,\n        elementValues,\n        pluginsStructure: state.mD.pluginsStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        filesStructure: state.mD.filesStructure,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveHoveredElementRect: (path, size) =>\n            dispatch(actions.saveHoveredElementRect(path, size)),\n        hoverBox: (id, mode, fromFrame) =>\n            dispatch(actions.hoverBox(id, mode, fromFrame)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        chooseBox: (id, currentResource) =>\n            dispatch(actions.chooseBox(id, currentResource)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        chooseResource: (id, type, mD) =>\n            dispatch(actions.chooseResource(id, type, mD)),\n    }\n}\n\nconst BuilderElement = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    // debounceRender(\n    memo(\n        _BuilderElement,\n        (prevProps, nextProps) => isEqual(prevProps, nextProps)\n        //  &&\n        // isEqual(prevProps.structure, nextProps.structure) &&\n        // isEqual(prevProps.parentPluginProps, nextProps.parentPluginProps)\n    )\n    // ,\n    //     300\n    // )\n)\n\nexport default BuilderElement\n\nconst PluginElementRaw = props => {\n    console.log(props.parentPluginProps)\n    if (!props.plugin.hidden && props.pluginStructure) {\n        //Pass children to plugin\n        if (props.plugin.propagating) {\n            return Array.isArray(props.parentPluginProps.items)\n                ? props.parentPluginProps.items.map(item =>\n                      props.pluginStructure\n                          .filter(itemInn =>\n                              isEqual(itemInn.path, ['element_0'])\n                          )\n                          .map(itemInn => (\n                              <BuilderElement\n                                  key={itemInn.id}\n                                  structure={props.pluginStructure}\n                                  element={itemInn}\n                                  document={props.document}\n                                  sourcePlugin={props.plugin.id}\n                                  routePlugin={props.routePlugin}\n                                  pluginsPathArray={props.pluginsPathArray}\n                                  parentPluginProps={{\n                                      ...props.parentPluginProps,\n                                      ...item,\n                                  }}\n                                  childrenForPlugin={props.childrenForPlugin}\n                                  currentResource={props.currentResource}\n                                  isHead={props.isHead}\n                              />\n                          ))\n                  )\n                : null\n        } else {\n            return props.pluginStructure\n                .filter(itemInn => isEqual(itemInn.path, ['element_0']))\n                .map(itemInn => (\n                    <BuilderElement\n                        key={itemInn.id}\n                        structure={props.pluginStructure}\n                        element={itemInn}\n                        document={props.document}\n                        sourcePlugin={props.plugin.id}\n                        routePlugin={props.routePlugin}\n                        pluginsPathArray={props.pluginsPathArray}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        currentResource={props.currentResource}\n                        isHead={props.isHead}\n                    />\n                ))\n        }\n    }\n\n    return null\n}\n\nconst mapStateToPropsPlugin = (state, props) => {\n    const plugin = getCurrentResourceValue(\n        props.plugin.id,\n        state.resourcesObjects\n    )\n    return {\n        pluginStructure: plugin ? plugin.structure : [],\n    }\n}\n//props.mD.resourcesObjects[plugin.id]\nconst PluginElement = connect(mapStateToPropsPlugin)(PluginElementRaw)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport isEmpty from 'lodash/isEmpty'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// export type Props = {\n//     currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n//     hoverMode: $PropertyType<initialStateType, 'hoverMode'>,\n//     hoveredElementSize: $PropertyType<initialStateType, 'hoveredElementSize'>,\n//     hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n// }\n\nconst HoveredBoxHighlight = props => {\n    const iframe = document.getElementById('builderFrame')\n    //const innerDoc = iframe.contentDocument || iframe.contentWindow.document\n    if (!iframe) return null\n    const scrollY = iframe.contentWindow.pageYOffset\n    const scrollX = iframe.contentWindow.pageXOffset\n\n    const result = []\n    const parents = []\n    const addHoverBoxes = parent => {\n        if (!isEmpty(parent.children)) {\n            for (const item in parent.children) {\n                addHoverBoxes(parent.children[item])\n            }\n        } else {\n            result.push(\n                <div\n                    key={result.length}\n                    style={{\n                        background: 'blue',\n                        opacity: '.3',\n                        position: 'fixed',\n                        left: parent.left - scrollX + 'px',\n                        top: parent.top - scrollY + 'px',\n                        width: parent.width + 'px',\n                        height: parent.height + 'px',\n                        pointerEvents: 'none',\n                        zIndex: '2147483647',\n                        border: 'none',\n                        margin: '0px',\n                        padding: '0px',\n                        borderRadius: '0px',\n                        boxShadow: 'none',\n                        backgroundImage: 'none',\n                    }}\n                />\n            )\n        }\n    }\n    const findParents = children => {\n        for (const item in children) {\n            if (children[item].plugin === props.currentPlugin) {\n                for (const innerItem in children[item].children) {\n                    if (innerItem === props.hoveredElementId) {\n                        parents.push(children[item].children[innerItem])\n                    }\n                }\n            } else {\n                findParents(children[item].children)\n            }\n        }\n    }\n    if (props.hoveredElementId) {\n        if (props.hoverMode === 'page') {\n            if (props.hoveredElementSize[props.hoveredElementId]) {\n                addHoverBoxes(props.hoveredElementSize[props.hoveredElementId])\n            }\n        } else if (props.hoverMode === 'plugin') {\n            findParents(props.hoveredElementSize)\n            parents.forEach(element => {\n                addHoverBoxes(element)\n            })\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = state => {\n    return {\n        hoveredElementId: -100,\n        hoveredElementSize: state.hoveredElementSize,\n        hoverMode: state.hoverMode,\n        currentPlugin: state.currentPlugin,\n    }\n}\n\nexport default connect(mapStateToProps)(HoveredBoxHighlight)\n","// import type { resourceType } from '../../../store/reducer/reducer'\nimport isEqual from 'lodash/isEqual'\nimport cloneDeep from 'lodash/cloneDeep'\nimport omit from 'lodash/omit'\nimport { getCurrentResourceValue } from '../../../utils/basic'\n\nexport default (mD, pageDraft, templateDraft, globalSettings, templateId) => {\n    // console.log('start')\n    let currentId = pageDraft && pageDraft.currentId ? pageDraft.currentId : 0\n    const refreshPageStructure = (\n        resourceDraft,\n        templateDraft,\n        templateId,\n        pluginId,\n        currentPath,\n        arrayId\n    ) => {\n        // console.log('startin')\n        // console.log(cloneDeep(resourceDraft))\n        // console.log(cloneDeep(templateDraft))\n        if (!resourceDraft || !templateDraft)\n            return { structure: [], values: {} }\n\n        const pageStructure = resourceDraft.structure\n        const templateStructure = templateDraft.structure\n        if (!templateStructure || !pageStructure)\n            return { structure: [], values: {} }\n\n        const pageStructureWithoutPropagating = []\n        for (let item of pageStructure) {\n            if (\n                resourceDraft.values[item.id].CMSVariableType &&\n                resourceDraft.values[item.id].CMSVariableType.indexOf(\n                    'propagating_' !== 0\n                )\n                // &&\n                // resourceDraft.values[item.id].CMSVariableType !== 'array'\n            ) {\n                pageStructureWithoutPropagating.push(item)\n            }\n        }\n\n        const templateIds = []\n        const pageIds = []\n\n        let newStructure = templateStructure.filter(item => {\n            if (item.path.length > 0) {\n                if (item.path[0] === 'element_02') {\n                    if (\n                        !item.path.find(\n                            el =>\n                                templateDraft.values[el] &&\n                                templateDraft.values[el].CMSVariableType ===\n                                    'array'\n                        )\n                    )\n                        return true\n                }\n            }\n            return false\n        })\n\n        // console.log('cloneDeep(newStructure)')\n        // console.log(cloneDeep(newStructure))\n        // console.log(cloneDeep('pageStructureWithoutPropagating'))\n        // console.log(cloneDeep(pageStructureWithoutPropagating))\n\n        if (!pluginId) {\n            newStructure = newStructure.map(item => {\n                templateIds.push(item.id)\n                pageIds.push(item.id)\n                return {\n                    ...item,\n                    path: item.path.slice(1),\n                    isCMSVariable: false,\n                }\n            })\n        } else {\n            newStructure = newStructure\n                .map(item => {\n                    const forPropagatingPlugin = { pluginId, variable: item.id }\n                    const oldItem = pageStructureWithoutPropagating.find(el =>\n                        isEqual(el.forPropagatingPlugin, forPropagatingPlugin)\n                    )\n                    // console.log('oldItem')\n                    // console.log(oldItem)\n                    // console.log(forPropagatingPlugin)\n                    if (oldItem) {\n                        templateIds.push(item.id)\n                        pageIds.push(oldItem.id)\n                        return {\n                            ...item,\n                            forPropagatingPlugin,\n                            id: oldItem.id,\n                            isCMSVariable: false,\n                        }\n                    } else {\n                        const newId = 'elementCMS_' + currentId\n                        currentId++\n                        templateIds.push(item.id)\n                        pageIds.push(newId)\n\n                        return {\n                            ...item,\n                            id: newId,\n                            forPropagatingPlugin,\n                            isCMSVariable: false,\n                        }\n                    }\n                })\n                .map(item => {\n                    // console.log(arrayId)\n                    // const arrayIndex = item.path.indexOf(arrayId)\n                    // console.log([\n                    //     ...currentPath,\n                    //     ...item.path\n                    //         .slice(item.path.indexOf(arrayId) + 1)\n                    //         .filter(el => el !== 'element_02')\n                    //         .map(el => pageIds[templateIds.indexOf(el)]),\n                    // ])\n                    // console.log(item.path)\n                    // console.log(\n                    //     item.path.filter(\n                    //         (el, index) =>\n                    //             el !== 'element_02' && index > arrayIndex\n                    //     )\n                    // )\n\n                    // console.log('templateIds')\n                    // console.log(templateIds)\n                    // console.log('pageIds')\n                    // console.log(pageIds)\n\n                    return {\n                        ...item,\n                        path: [\n                            ...currentPath,\n                            ...item.path\n                                .slice(item.path.indexOf(arrayId) + 1)\n                                .filter(el => el !== 'element_02')\n                                .map(el => pageIds[templateIds.indexOf(el)]),\n                        ],\n                    }\n                })\n        }\n        // console.log('newStructure')\n        // console.log(newStructure)\n\n        const propagatingPluginsVariablesIds = []\n        for (let item of newStructure) {\n            const itemIdInTemplate = templateIds[pageIds.indexOf(item.id)]\n            if (\n                templateDraft.values[itemIdInTemplate].CMSVariableType.indexOf(\n                    'propagating_' === 0\n                )\n            ) {\n                propagatingPluginsVariablesIds.push(item.id)\n            }\n        }\n\n        let newValues = {}\n\n        let structureWithOldAndPropagating = []\n        for (let item of newStructure) {\n            const itemIdInTemplate = templateIds[pageIds.indexOf(item.id)]\n            const itemValue = templateDraft.values[itemIdInTemplate]\n            const oldItem = resourceDraft.structure.find(\n                itemInn => itemInn.id === item.id\n            )\n            let newItem = {\n                ...item,\n                CMSVariableType: itemValue.CMSVariableType,\n            }\n            if (oldItem) newItem = { ...newItem, expanded: oldItem.expanded }\n            newValues[item.id] = {\n                ...templateDraft.values[itemIdInTemplate],\n                value: '',\n                menuItems: [],\n                currentMenuItem: '',\n                currentMenuId: 0,\n                // properties: {},\n\n                ...(resourceDraft.values[item.id] || {}),\n                CMSVariableType:\n                    templateDraft.values[itemIdInTemplate].CMSVariableType,\n            }\n            // console.log(item.path)\n            // console.log(\n            //     item.path.filter(\n            //         id => !propagatingPluginsVariablesIds.includes(id)\n            //     )\n            // )\n            structureWithOldAndPropagating.push({\n                ...newItem,\n                // path: item.path.filter(\n                //     id => !propagatingPluginsVariablesIds.includes(id)\n                // ),\n            })\n            if (itemValue.CMSVariableType.indexOf('propagating_') === 0) {\n                const children = pageStructure.filter(el =>\n                    isEqual(el.path, [...item.path, item.id])\n                )\n                const childTemplateId = itemValue.CMSVariableType.slice(\n                    'propagating_'.length\n                )\n                const childTemplateDraft = getCurrentResourceValue(\n                    childTemplateId,\n                    mD.resourcesObjects\n                )\n                for (let child of children) {\n                    const innerChildPath = [...child.path, child.id]\n                    const childrenOfItem = pageStructure.filter(el =>\n                        isEqual(\n                            el.path.slice(0, innerChildPath.length),\n                            innerChildPath\n                        )\n                    )\n                    const { structure, values } = refreshPageStructure(\n                        { structure: childrenOfItem, values: pageDraft.values },\n                        childTemplateDraft,\n                        templateId,\n                        childTemplateId,\n                        innerChildPath,\n                        arrayId\n                    )\n                    // console.log(structure)\n                    // console.log('structure')\n                    structureWithOldAndPropagating = [\n                        ...structureWithOldAndPropagating,\n                        child,\n                        ...structure,\n                    ]\n                    newValues = {\n                        ...newValues,\n                        ...values,\n                        [child.id]: pageDraft.values[child.id],\n                    }\n                }\n            }\n\n            if (itemValue.CMSVariableType === 'array') {\n                const children = pageStructure.filter(el =>\n                    isEqual(el.path, [...item.path, item.id])\n                )\n                // console.log(cloneDeep(templateDraft))\n                const childTemplateDraft = {\n                    structure: templateDraft.structure.filter(\n                        el =>\n                            el.path.includes(item.id) ||\n                            (item.forPropagatingPlugin &&\n                                el.path.includes(\n                                    item.forPropagatingPlugin.variable\n                                ))\n                    ),\n                    values: {},\n                }\n                for (let el of childTemplateDraft.structure) {\n                    childTemplateDraft.values[el.id] =\n                        templateDraft.values[el.id]\n                }\n\n                for (let child of children) {\n                    const innerChildPath = [...child.path, child.id]\n                    const childrenOfItem = pageStructure.filter(el =>\n                        isEqual(\n                            el.path.slice(0, innerChildPath.length),\n                            innerChildPath\n                        )\n                    )\n                    const valuesOfChildren = {}\n                    for (let el of childrenOfItem) {\n                        valuesOfChildren[el.id] = pageDraft.values[el.id]\n                    }\n                    // console.log(childrenOfItem)\n                    const { structure, values } = refreshPageStructure(\n                        { structure: childrenOfItem, values: valuesOfChildren },\n                        childTemplateDraft,\n                        templateId,\n                        pluginId || templateId,\n                        innerChildPath,\n                        (item.forPropagatingPlugin &&\n                            item.forPropagatingPlugin.variable) ||\n                            item.id\n                    )\n                    structureWithOldAndPropagating = [\n                        ...structureWithOldAndPropagating,\n                        child,\n                        ...structure,\n                    ]\n                    newValues = {\n                        ...newValues,\n                        ...values,\n                        [child.id]: pageDraft.values[child.id],\n                    }\n                }\n            }\n        }\n        // console.log('fin in')\n\n        return {\n            structure: structureWithOldAndPropagating,\n            values: newValues,\n        }\n    }\n\n    if (pageDraft && templateDraft) {\n        const { structure, values } = refreshPageStructure(\n            pageDraft,\n            templateDraft,\n            templateId\n        )\n        const draft = {\n            currentId,\n            structure,\n            values,\n        }\n\n        for (let item of pageDraft.structure.filter(\n            item =>\n                item.id === 'trash' ||\n                (item.path.length > 0 && item.path[0] === 'trash')\n        )) {\n            draft.structure.push(item)\n            draft.values[item.id] = pageDraft.values[item.id]\n        }\n        draft.structure = draft.structure.map(item => omit(item, 'itemPath'))\n\n        // console.log('fin')\n        if (\n            !isEqual(\n                draft.structure.map(item =>\n                    omit(item, [\n                        'expanded',\n                        'children',\n                        'itemPath',\n                        'itemIndex',\n                    ])\n                ),\n                pageDraft.structure.map(item =>\n                    omit(item, [\n                        'expanded',\n                        'children',\n                        'itemPath',\n                        'itemIndex',\n                    ])\n                )\n            ) ||\n            !isEqual(draft.values, pageDraft.values)\n        ) {\n            return ['page', draft, globalSettings]\n        }\n    }\n\n    return false\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as classes from './Overlay.module.css'\n\nconst Overlay = props => {\n    return props.sizeIsChanging ? <div className={classes.Overlay} /> : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nexport default connect(mapStateToProps)(Overlay)\n","import React, { Component, useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from './SiteBuilder.module.css'\nimport * as actions from '../../store/actions/index'\nimport Frame, { FrameContextConsumer } from './Frame/index'\nimport BuilderElement from './BuilderElement/BuilderElement'\nimport HoveredBoxHighlight from './HoveredBoxHighlight/HoveredBoxHighlight'\nimport { systemClassMenu, systemClassDrawer } from './systemClasses'\n// import saveRect from './methods/saveRect'\nimport { Provider } from 'react-redux'\nimport { renderToString } from 'react-dom/server'\nimport { store } from '../../index'\nimport refineProperties, {\n    refinePropertiesFromCMS,\n} from './BuilderElement/methods/refineProperties'\nimport refreshPageStructure from './methods/refreshPageStructure'\nimport Overlay from '../../components/UI/Overlay/Overlay'\n\n// import type { initialStateType } from '../../store/reducer/reducer'\n\n// export type Props = {\n//     zoom: $PropertyType<initialStateType, 'pageZoom'>,\n//     hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n//     isRefreshing: $PropertyType<initialStateType, 'isRefreshing'>,\n//     notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n//     barSizes: $PropertyType<initialStateType, 'barSizes'>,\n//     markRefreshing: typeof actions.markRefreshing,\n//     savePropertiesOnLeave: typeof actions.savePropertiesOnLeave,\n//     saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n//     markShouldRefreshing: typeof actions.markShouldRefreshing,\n//     shouldRefresh?: boolean,\n//     saveElementsStructure: typeof actions.saveElementsStructure,\n//     currentSiteBuilderMode: $PropertyType<\n//         initialStateType,\n//         'currentSiteBuilderMode'\n//     >,\n// }\n\n// type State = {\n//     headValue: string,\n// }\n\nclass SiteBuilder extends Component {\n    state = {\n        headValue: '',\n    }\n\n    // componentDidMount() {\n    //     //saveRect(this.props)\n    // }\n    head = ''\n    currentScroll = 0\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.currentPageId !== this.props.currentPageId) {\n            this.currentScroll = 0\n        }\n        const iframeElement = document.getElementById('builderFrame')\n        if (iframeElement) {\n            if (!this.props.isRefreshing) {\n                setTimeout(() => {\n                    const iframeElement = document.getElementById(\n                        'builderFrame'\n                    )\n                    if (iframeElement) {\n                        iframeElement.contentWindow.document.documentElement.scrollTop = iframeElement.contentWindow.document.body.scrollTop = this.currentScroll\n                        iframeElement.contentWindow.scrollTo(\n                            this.currentScroll,\n                            this.currentScroll\n                        )\n                    }\n                }, 1)\n            }\n        }\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return !this.props.sizeIsChanging && !nextProps.sizeIsChanging\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (!newProps.isRefreshing) {\n            const iframeElement = document.getElementById('builderFrame')\n            if (iframeElement) {\n                this.currentScroll =\n                    iframeElement.contentWindow.document.documentElement\n                        .scrollTop ||\n                    iframeElement.contentWindow.document.body.scrollTop\n            }\n        }\n\n        if (newProps.pagesStructure) {\n            if (newProps.refreshedGlobalStructure) {\n                this.props.saveElementsStructureFromBuilder(\n                    ...newProps.refreshedGlobalStructure\n                )\n                return\n            }\n\n            if (\n                newProps.currentPageDraftStructure &&\n                newProps.pageTemplateDraftStructure\n            ) {\n                if (newProps.refreshedPageStructure) {\n                    this.props.saveElementsStructureFromBuilder(\n                        ...newProps.refreshedPageStructure\n                    )\n                    return\n                }\n\n                const newHead = newProps.pageTemplateDraftStructure\n                    .filter(itemInn =>\n                        isEqual(itemInn.path, ['element_01', 'element_0'])\n                    )\n                    .map(itemInn => {\n                        return (\n                            <BuilderElement\n                                key={itemInn.id}\n                                structure={newProps.pageTemplateDraftStructure}\n                                element={itemInn}\n                                hoveredElementId={newProps.hoveredElementId}\n                                document={document}\n                                pluginsPathArray={[]}\n                                parentPluginProps={newProps.refinedProperties}\n                                isHead\n                                currentResource={newProps.pageTemplateId}\n                            />\n                        )\n                    })\n\n                const newHeadString =\n                    renderToString(\n                        <Provider store={store}>{newHead}</Provider>\n                    ) || ''\n                if (\n                    newHeadString !== this.state.headValue ||\n                    newProps.shouldRefresh\n                ) {\n                    this.props.markRefreshing(true)\n                    this.props.markShouldRefreshing()\n                    this.setState({ headValue: newHeadString })\n                }\n            }\n        }\n    }\n    prod = process.env.NODE_ENV !== 'development'\n\n    render() {\n        let frame = null\n\n        if (\n            this.props.pageTemplateDraftStructure &&\n            this.props.currentPageDraftStructure\n        ) {\n            const { props } = this\n            const zoom = props.zoom / 100\n            const size = 100 / zoom + '%'\n            const structure = props.pageTemplateDraftStructure\n\n            const bodyProps = cloneDeep(props.bodyValues.properties)\n            const bodyStyle = props.bodyValues.style\n            if (typeof bodyStyle === 'string') bodyProps.style = bodyStyle\n\n            const htmlProps = cloneDeep(props.htmlValues.properties)\n            const htmlStyle = props.htmlValues.style\n            if (typeof htmlStyle === 'string') htmlProps.style = htmlStyle\n            // const iframeElement = document.getElementById('builderFrame')\n\n            // if (this.props.isRefreshing && iframeElement) {\n            //     this.setState({\n            //         currentScroll:\n            //             iframeElement.contentWindow.document.documentElement\n            //                 .scrollTop ||\n            //             iframeElement.contentWindow.document.body.scrollTop,\n            //     })\n            // }\n            frame = this.props.isRefreshing ? (\n                <StopRefresh />\n            ) : (\n                <>\n                    <Frame\n                        id=\"builderFrame\"\n                        key={1}\n                        style={{\n                            width: size,\n                            height: size,\n                            msZoom: zoom,\n                            MozTransform: `scale(${zoom})`,\n                            MozTransformOrigin: '0 0',\n                            OTransform: `scale(${zoom})`,\n                            OTransformOrigin: '0 0',\n                            WebkitTransform: `scale(${zoom})`,\n                            WebkitTransformOrigin: '0 0',\n                            border: 'none',\n                            margin: '0',\n                            padding: '0',\n                            position: 'absolute',\n                        }}\n                        bodyProps={bodyProps}\n                        htmlProps={htmlProps}\n                        base={`  <base href=\"http${\n                            this.prod ? 's' : ''\n                        }://live.websiter.${this.prod ? 'dev' : 'test:5000'}/${\n                            this.props.currentWebsiteObject.domain\n                        }/\" />  `}\n                        initialContent={\n                            systemClassMenu +\n                            ' ' +\n                            systemClassDrawer +\n                            ' ' +\n                            '<link rel=\"stylesheet\" type=\"text/css\" charset=\"UTF-8\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css\" /><link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css\" />' +\n                            this.state.headValue\n                            // +\n                            // ' <script src=\"src/tinymce_5.1.5.zip\"></script>'\n                        }\n                    >\n                        <FrameContextConsumer>\n                            {({ document, window }) => {\n                                return structure\n                                    ? structure\n                                          .filter(itemInn =>\n                                              isEqual(itemInn.path, [\n                                                  'element_01',\n                                                  'element_1',\n                                              ])\n                                          )\n                                          .map(itemInn => (\n                                              <BuilderElement\n                                                  key={itemInn.id}\n                                                  structure={structure}\n                                                  element={itemInn}\n                                                  hoveredElementId={\n                                                      props.hoveredElementId\n                                                  }\n                                                  document={document}\n                                                  pluginsPathArray={[]}\n                                                  parentPluginProps={\n                                                      props.refinedProperties\n                                                  }\n                                                  currentResource={\n                                                      props.pageTemplateId\n                                                  }\n                                              />\n                                          ))\n                                    : null\n                            }}\n                        </FrameContextConsumer>\n                        <HoveredBoxHighlight />\n                    </Frame>\n                </>\n            )\n        }\n\n        return (\n            <main\n                data-testid=\"siteBuilderLayoutMain\"\n                className={classes.Content}\n            >\n                {frame}\n                <Overlay />\n            </main>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const refinedProperties = refinePropertiesFromCMS(state.mD)\n    let bodyRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    let htmlRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    if (state.mD.pageTemplateFSBDraft) {\n        bodyRawValues = state.mD.pageTemplateFSBDraft.values.element_1\n        htmlRawValues = state.mD.pageTemplateFSBDraft.values.element_01\n    }\n\n    const bodyValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: bodyRawValues,\n        }),\n        style: bodyRawValues.style,\n    }\n\n    const htmlValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: htmlRawValues,\n        }),\n        style: htmlRawValues.style,\n    }\n\n    const currentPageDraftStructureGlobalSettings = state.mD\n        .globalSettingsPageDraft\n        ? state.mD.globalSettingsPageDraft.structure\n        : null\n    const pageTemplateDraftStructureGlobalSettings = state.mD\n        .globalSettingsTemplateDraft\n        ? state.mD.globalSettingsTemplateDraft.structure\n        : null\n\n    const currentPageDraftStructure = state.mD.currentPageFSBDraft\n        ? state.mD.currentPageFSBDraft.structure\n        : null\n    const pageTemplateDraftStructure = state.mD.pageTemplateFSBDraft\n        ? state.mD.pageTemplateFSBDraft.structure\n        : null\n    const refreshedPageStructure = refreshPageStructure(\n        state.mD,\n        state.mD.currentPageFSBDraft || null,\n        state.mD.pageTemplateFSBDraft || null,\n        false,\n        state.mD.pageTemplateFSBId\n    )\n    const refreshedGlobalStructure = refreshPageStructure(\n        state.mD,\n        state.mD.globalSettingsPageDraft || null,\n        state.mD.globalSettingsTemplateDraft || null,\n        true,\n        state.mD.globalSettingsTemplateId\n    )\n\n    return {\n        currentPageId: state.mD.currentPageId,\n        zoom: state.pageZoom,\n        isRefreshing: state.isRefreshing,\n        shouldRefresh: state.shouldRefresh,\n        pagesStructure: state.mD.pagesStructure,\n        currentPageDraftStructure,\n        pageTemplateDraftStructure,\n        currentPageDraftStructureGlobalSettings,\n        pageTemplateDraftStructureGlobalSettings,\n        refinedProperties,\n        bodyValues,\n        htmlValues,\n        pageTemplateId: state.mD.pageTemplateFSBId,\n        sizeIsChanging: state.sizeIsChanging,\n        refreshedGlobalStructure,\n        refreshedPageStructure,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        markRefreshing: refreshing =>\n            dispatch(actions.markRefreshing(refreshing)),\n        saveHoveredElementRect: (id, size) =>\n            dispatch(actions.saveHoveredElementRect(id, size)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n        saveElementsStructure: (type, structure) =>\n            dispatch(actions.saveElementsStructure(type, structure)),\n        saveElementsStructureFromBuilder: (type, structure, globalSettings) =>\n            dispatch(\n                actions.saveElementsStructureFromBuilder(\n                    type,\n                    structure,\n                    globalSettings\n                )\n            ),\n    }\n}\n\nconst StopRefresh = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(props => {\n    const span = useRef(null)\n    useEffect(() => {\n        if (span.current) {\n            props.markRefreshing(false)\n        }\n    })\n    return <span ref={span} style={{ display: 'none' }} />\n})\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SiteBuilder)\n","import React, { memo, useCallback } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../store/actions'\nimport AdvancedBar from '../AdvancedBar/AdvancedBar'\nimport SiteBuilder from '../SiteBuilder/SiteBuilder'\nimport ReserveWebsite from '../../components/ReserveWebsite/ReserveWebsite'\n\nimport { DndProvider } from 'react-dnd'\nimport MultiBackend from 'react-dnd-multi-backend'\nimport HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch'\nimport { useDragLayer } from 'react-dnd'\nimport throttle from 'lodash/throttle'\nimport { Helmet } from 'react-helmet'\nimport { initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    userObject: any\n}\n\nconst SiteBuilderLayout = (props: Props) => {\n    const prod = process.env.NODE_ENV !== 'development'\n\n    return (\n        <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n            <Helmet>\n                <base\n                    href={`http${prod ? 's' : ''}://live.websiter.${\n                        prod ? 'dev' : 'test:5000'\n                    }`}\n                />\n            </Helmet>\n            {props.userObject ? (\n                <div\n                    style={{\n                        flexDirection: 'column',\n                        display: 'flex',\n                        flexWrap: 'nowrap',\n                        height: '100%',\n                    }}\n                >\n                    <SiteBuilder />\n                    <AdvancedBar />\n                </div>\n            ) : (\n                'Loading...'\n            )}\n            <ReserveWebsite />\n            <ResizeLayer />\n        </DndProvider>\n    )\n}\n\nconst mapStateToProps = (state: initialStateType) => {\n    return {\n        userObject: state.mD.userObject,\n    }\n}\n\nexport default connect(mapStateToProps)(SiteBuilderLayout)\n\nconst ResizeLayerInn = props => {\n    const { item, currentOffset } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        currentOffset: monitor.getDifferenceFromInitialOffset(),\n    }))\n    const delayedChange = useCallback(\n        throttle(initiator => props.changeBarSize(initiator), 50),\n        []\n    )\n    if (item) {\n        if (item.type === 'barSizes') {\n            const value =\n                item.id === 'height'\n                    ? item.startValue - currentOffset.y\n                    : item.startValue + currentOffset.x\n\n            delayedChange({ key: item.id, value })\n        }\n    }\n    return <div />\n}\n\nconst mapDispatchToPropsResize = (dispatch: any) => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n    }\n}\n\nconst ResizeLayer = connect(\n    null,\n    mapDispatchToPropsResize\n)(memo(ResizeLayerInn, () => true))\n","// import type { requiredRightsType } from '../store/reducer/reducer'\n\nexport default (requiredRights, noShowAlert) => (dispatch, getState) => {\n    if (sessionStorage.getItem('tryWebsiter')) return true\n    const { mD } = getState()\n\n    if (requiredRights && !mD.tryWebsiter) {\n        if (requiredRights.length === 0) return true\n        let website = mD.currentWebsiteObject\n        if (!website) {\n            if (!noShowAlert) alert('No website.')\n            return false\n        }\n        const account = website.sharing.find(item => item.userId === mD.userId)\n        if (!account) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n        let allow = false\n        requiredRights.forEach(item => {\n            if (account.rights.includes(item)) allow = true\n        })\n        if (!allow) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n    }\n    return true\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport checkUserRights from '../../../../utils/checkUserRights'\n\nimport Tooltip from 'antd/es/tooltip'\nimport Button from 'antd/es/button'\n\nimport Dropdown from 'antd/es/dropdown'\nimport DownOutlined from '@ant-design/icons/DownOutlined'\n\ntype Props = {\n    title?: string\n    buttonClicked?: Function\n    mouseDown?: Function\n    icon?: string\n    googleFontIcon?: string\n    inline?: boolean\n    tooltip?: string\n    disabled?: boolean\n    requiredRights?: Array<string>\n}\n\nexport const SmallButton = props => {\n    const handleButtonClick = () => {\n        if (props.buttonClicked) {\n            if (props.requiredRights)\n                if (!props.checkUserRights(props.requiredRights || [])) {\n                    return\n                }\n            if (props.buttonClicked) props.buttonClicked()\n        }\n    }\n    return props.overlay ? (\n        <Dropdown.Button\n            overlay={props.overlay}\n            onClick={handleButtonClick}\n            size=\"middle\"\n            // style={{ margin: '0px 4px' }}\n            type={props.type}\n            buttonsRender={([leftButton, rightButton]) => [\n                <Tooltip title={props.tooltip} mouseEnterDelay={0.2}>\n                    {leftButton}\n                </Tooltip>,\n                <Button icon={<DownOutlined />} />,\n            ]}\n        >\n            {props.icon}\n            {props.title}\n        </Dropdown.Button>\n    ) : (\n        <Tooltip title={props.tooltip} mouseEnterDelay={0.2}>\n            <Button\n                icon={props.icon}\n                onClick={handleButtonClick}\n                size=\"middle\"\n                // style={{ margin: '0px 4px' }}\n                type={props.type}\n            >\n                {props.title}\n            </Button>\n        </Tooltip>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(SmallButton)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"AdvancedBar_Content__2eu8X\",\"Container\":\"AdvancedBar_Container__ouxly\",\"LastContainer\":\"AdvancedBar_LastContainer__2gmGl\",\"reactTabs\":\"AdvancedBar_reactTabs__PeMUE\",\"reactTabsTabPanelSelected\":\"AdvancedBar_reactTabsTabPanelSelected__3Z5LQ\",\"reactTabsTab\":\"AdvancedBar_reactTabsTab__1i-7U\",\"TabSelected\":\"AdvancedBar_TabSelected__2gsJ3\",\"mainContainer\":\"AdvancedBar_mainContainer__3Igr9\",\"heightControll\":\"AdvancedBar_heightControll__kZHcw\",\"widthControll\":\"AdvancedBar_widthControll__1TDc2\",\"TabList\":\"AdvancedBar_TabList__DeMU7\"};","import React, { memo, useEffect } from 'react'\n\nimport * as classes from './SizeDragController.module.css'\nimport { useDrag } from 'react-dnd'\nimport * as actions from '../../../store/actions'\nimport { connect } from 'react-redux'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\n\n// import type { initialStateType } from '../../../store/reducer/reducer'\n\n// type Props = {\n//     addClass: string,\n//     changed: (value: number) => {},\n//     vertical?: boolean,\n//     startValue: number,\n//     barSizes?: $PropertyType<initialStateType, 'barSizes'>,\n// }\n\nexport const SizeDragController = props => {\n    const [, drag, preview] = useDrag({\n        item: {\n            id: props.type,\n            type: 'barSizes',\n            startValue: props.startValue,\n        },\n        begin: item => {\n            props.setSizeIsChanging(true)\n        },\n        end: item => {\n            props.setSizeIsChanging(false)\n        },\n    })\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true })\n    }, [])\n\n    return (\n        <div\n            ref={drag}\n            className={[classes.SectionHeight, props.addClass].join(' ')}\n            data-testid=\"sizeDragController\"\n        >\n            {!props.vertical ? (\n                <div className={classes.InnerDiv}>\n                    {/* <div className={classes.touchDrag} /> */}\n                </div>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSizeIsChanging: value => dispatch(actions.setSizeIsChanging(value)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(\n    memo(\n        SizeDragController,\n        (prevProps, nextProps) =>\n            prevProps.type === nextProps.type &&\n            prevProps.startValue === nextProps.startValue\n    )\n)\n","import React from 'react'\n\nexport default props => (\n    <div\n        style={{\n            background: '#eee',\n            paddingLeft: '10px',\n            borderBottom: '1px solid #ccc',\n        }}\n    >\n        {props.children}\n    </div>\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"ResourcesTree_rst__virtualScrollOverride__14H_n\",\"ReactVirtualized__Grid__innerScrollContainer\":\"ResourcesTree_ReactVirtualized__Grid__innerScrollContainer__3oB7v\",\"rst__rtl\":\"ResourcesTree_rst__rtl__2v8si\",\"ReactVirtualized__Grid\":\"ResourcesTree_ReactVirtualized__Grid__2itHy\",\"rst__node\":\"ResourcesTree_rst__node__1UngL\",\"rst__nodeContent\":\"ResourcesTree_rst__nodeContent__T6EAQ\",\"rst__lineBlock\":\"ResourcesTree_rst__lineBlock__WqdmT\",\"rst__absoluteLineBlock\":\"ResourcesTree_rst__absoluteLineBlock__kLCAo\",\"rst__lineHalfHorizontalRight\":\"ResourcesTree_rst__lineHalfHorizontalRight__3y3sx\",\"rst__lineFullVertical\":\"ResourcesTree_rst__lineFullVertical__3Ymv5\",\"rst__lineHalfVerticalTop\":\"ResourcesTree_rst__lineHalfVerticalTop__3t0z_\",\"rst__lineHalfVerticalBottom\":\"ResourcesTree_rst__lineHalfVerticalBottom__2EWSD\",\"rst__highlightLineVertical\":\"ResourcesTree_rst__highlightLineVertical__2bs3i\",\"arrow-pulse\":\"ResourcesTree_arrow-pulse__33hBy\",\"rst__highlightTopLeftCorner\":\"ResourcesTree_rst__highlightTopLeftCorner__lPAZc\",\"rst__highlightBottomLeftCorner\":\"ResourcesTree_rst__highlightBottomLeftCorner__25QNo\",\"rst__rowWrapper\":\"ResourcesTree_rst__rowWrapper__3XsZ3\",\"rst__row\":\"ResourcesTree_rst__row__bcARd\",\"rst__rowLandingPad\":\"ResourcesTree_rst__rowLandingPad__1f07p\",\"rst__rowCancelPad\":\"ResourcesTree_rst__rowCancelPad__FcoMC\",\"rst__rowSearchMatch\":\"ResourcesTree_rst__rowSearchMatch__1dEhr\",\"rst__rowSearchFocus\":\"ResourcesTree_rst__rowSearchFocus__hn8oU\",\"rst__rowContents\":\"ResourcesTree_rst__rowContents__TJoCP\",\"rst__rowLabel\":\"ResourcesTree_rst__rowLabel__3YFrc\",\"rst__rowToolbar\":\"ResourcesTree_rst__rowToolbar__19RS7\",\"rst__moveHandle\":\"ResourcesTree_rst__moveHandle__3rWVj\",\"rst__toolbarButton\":\"ResourcesTree_rst__toolbarButton__evOf_\",\"rst__rowContentsDragDisabled\":\"ResourcesTree_rst__rowContentsDragDisabled__1EWBY\",\"rst__loadingHandle\":\"ResourcesTree_rst__loadingHandle__2Zu5M\",\"rst__loadingCircle\":\"ResourcesTree_rst__loadingCircle__1_Ncp\",\"rst__loadingCirclePoint\":\"ResourcesTree_rst__loadingCirclePoint__3Iqw0\",\"pointFade\":\"ResourcesTree_pointFade__DIUx5\",\"rst__rowTitle\":\"ResourcesTree_rst__rowTitle__XvyLR\",\"rst__rowTitleWithSubtitle\":\"ResourcesTree_rst__rowTitleWithSubtitle__FsOAp\",\"rst__rowSubtitle\":\"ResourcesTree_rst__rowSubtitle__33HgD\",\"rst__collapseButton\":\"ResourcesTree_rst__collapseButton__3ZMhA\",\"rst__expandButton\":\"ResourcesTree_rst__expandButton__2IdqU\",\"rst__lineChildren\":\"ResourcesTree_rst__lineChildren__3e7wI\",\"rst__placeholder\":\"ResourcesTree_rst__placeholder__3z4Y9\",\"rst__placeholderLandingPad\":\"ResourcesTree_rst__placeholderLandingPad__33C1B\",\"rst__placeholderCancelPad\":\"ResourcesTree_rst__placeholderCancelPad__1dnkd\",\"ReactVirtualized__Table__headerRow\":\"ResourcesTree_ReactVirtualized__Table__headerRow__2ItiE\",\"ReactVirtualized__Table__row\":\"ResourcesTree_ReactVirtualized__Table__row__3Dbho\",\"ReactVirtualized__Table__headerTruncatedText\":\"ResourcesTree_ReactVirtualized__Table__headerTruncatedText__Cw5HL\",\"ReactVirtualized__Table__headerColumn\":\"ResourcesTree_ReactVirtualized__Table__headerColumn__14jIY\",\"ReactVirtualized__Table__rowColumn\":\"ResourcesTree_ReactVirtualized__Table__rowColumn__3wE69\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderColumn__3a1cB\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1pMeg\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIcon__3O5xb\",\"Hovered\":\"ResourcesTree_Hovered__2-yOq\",\"Chosen\":\"ResourcesTree_Chosen__3cVK7\",\"ChosenBlur\":\"ResourcesTree_ChosenBlur__2uMjy\",\"ChosenGreen\":\"ResourcesTree_ChosenGreen__1_oSl\",\"IconsContainer\":\"ResourcesTree_IconsContainer__y_KXp\",\"IconsContainerPage\":\"ResourcesTree_IconsContainerPage__1OwQJ\",\"IconsContainerNotPage\":\"ResourcesTree_IconsContainerNotPage__1isHi\",\"TreeContainer\":\"ResourcesTree_TreeContainer__1uytI\",\"selectContainer\":\"ResourcesTree_selectContainer__JxR_e\",\"Container\":\"ResourcesTree_Container__1Fntm\"};","/* eslint-disable */\nexport function _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n\n            return target\n        }\n\n    return _extends.apply(this, arguments)\n}\n\nexport function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n\n    return target\n}\n\nexport function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n\n    var key, i\n\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n\n    return target\n}\nexport function classnames() {\n    for (\n        var _len = arguments.length, classes = new Array(_len), _key = 0;\n        _key < _len;\n        _key++\n    ) {\n        classes[_key] = arguments[_key]\n    }\n\n    // Use Boolean constructor as a filter callback\n    // Allows for loose type truthy/falsey checks\n    // Boolean(\"\") === false;\n    // Boolean(false) === false;\n    // Boolean(undefined) === false;\n    // Boolean(null) === false;\n    // Boolean(0) === false;\n    // Boolean(\"classname\") === true;\n    return classes.filter(Boolean).join(' ')\n}\nexport function isDescendant(older, younger) {\n    return (\n        !!older.children &&\n        typeof older.children !== 'function' &&\n        older.children.some(function(child) {\n            return child === younger || isDescendant(child, younger)\n        })\n    )\n}\nexport function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n\n    return obj\n}\nexport function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        var ownKeys = Object.keys(source)\n\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(\n                        source,\n                        sym\n                    ).enumerable\n                })\n            )\n        }\n\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key])\n        })\n    }\n\n    return target\n}\nexport function _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nexport function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n            arr2[i] = arr[i]\n\n        return arr2\n    }\n}\n\nexport function _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nexport function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst OverlayOnSizeIsChanging = props =>\n    props.sizeIsChanging ? (\n        <div\n            style={{\n                width: '100%',\n                height: '100%',\n                opacity: '0',\n                position: 'absolute',\n            }}\n        />\n    ) : null\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nexport default connect(mapStateToProps)(OverlayOnSizeIsChanging)\n","import React, { useState, useEffect } from 'react'\nimport Autocomplete from 'react-autocomplete'\n\nimport classes from './InspectorValue.module.css'\n\n// type Props = {\n//     value?: string,\n//     changed: Function,\n//     datatestid?: string,\n//     blur?: Function,\n//     focus?: Function,\n//     allowEmpty?: boolean,\n//     withState?: boolean,\n//     maxLength?: number,\n//     maxWidth?: string,\n// }\n\nexport const InspectorValue = props => {\n    const [state, setState] = useState({\n        active: false,\n        value: props.value,\n        startValue: props.value,\n    })\n    useEffect(() => {\n        setState({ ...state, value: props.value, startValue: props.value })\n    }, [props.value])\n\n    const matchStateToTerm = (items, value) => {\n        return (\n            items.name.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n            items.abbr.toLowerCase().indexOf(value.toLowerCase()) !== -1\n        )\n    }\n\n    const parentPropsBlur = props.blur\n    const parentPropsFocus = props.focus\n    const parentPropsMaxLength = props.maxLength\n    const parentPropsMaxWidth = props.maxWidth\n\n    const value = state.value\n    return (\n        <div\n            className={classes.InspectorDiv}\n            onKeyDown={e => e.stopPropagation()}\n        >\n            <span\n                className={classes.Span}\n                {...(props.value && props.maxLength\n                    ? props.value.length > props.maxLength\n                        ? { title: props.value }\n                        : {}\n                    : {})}\n            >\n                {props.maxLength\n                    ? value\n                        ? value.substr(0, props.maxLength) +\n                          (value.length > props.maxLength ? '...' : '')\n                        : ''\n                    : value}\n            </span>\n\n            <Autocomplete\n                items={props.items || []}\n                value={state.value}\n                onChange={(e, value) => {\n                    setState({ ...state, value: value })\n                    if (props.changed) {\n                        props.changed(value)\n                    }\n                }}\n                onSelect={value => {\n                    setState({ ...state, value: value, active: false })\n                }}\n                shouldItemRender={matchStateToTerm}\n                getItemValue={item => item.name}\n                renderItem={(item, isHighlighted) => (\n                    <div\n                        className={\n                            isHighlighted ? classes.ItemHighlighted : null\n                        }\n                        key={item.abbr}\n                        style={{ padding: '2px 5px' }}\n                    >\n                        {item.name}\n                    </div>\n                )}\n                renderMenu={(items, value, styles) => {\n                    return (\n                        <div\n                            style={{\n                                zIndex: 1000,\n                                position: 'absolute',\n                                left: '0px',\n                                top: '20px',\n                                background: 'white',\n                                border: '1px solid #ccc',\n                                color: '#333',\n                                maxHeight: '100px',\n                                overflow: 'auto',\n                                paddingBottom: '5px',\n                            }}\n                            children={items}\n                        />\n                    )\n                }}\n                renderInput={(props, inputEl) => {\n                    const maxLength = parentPropsMaxLength\n\n                    const maxWidth = parentPropsMaxWidth\n                    const value = state.value\n\n                    return (\n                        <input\n                            {...(value && maxLength\n                                ? value.length > maxLength\n                                    ? { title: value }\n                                    : {}\n                                : {})}\n                            {...props}\n                            onBlur={e => {\n                                props.onBlur(e)\n\n                                if (parentPropsBlur) {\n                                    parentPropsBlur(e.target.value)\n                                }\n                                setState({\n                                    ...state,\n                                    active: false,\n                                })\n                            }}\n                            onFocus={e => {\n                                props.onBlur(e)\n                                setState({ ...state, active: true })\n                                if (parentPropsFocus) parentPropsFocus()\n                            }}\n                            onMouseDown={e => {\n                                setState({ ...state, active: true })\n                                if (parentPropsFocus) parentPropsFocus()\n                            }}\n                            className={\n                                state.active\n                                    ? classes.Input\n                                    : [classes.Input, classes.InputHidden].join(\n                                          ' '\n                                      )\n                            }\n                            style={maxWidth ? { maxWidth } : {}}\n                            value={\n                                state.active\n                                    ? value\n                                    : maxLength\n                                    ? value\n                                        ? value.substr(0, maxLength) +\n                                          (value.length > maxLength\n                                              ? '...'\n                                              : '')\n                                        : ''\n                                    : value\n                            }\n                        />\n                    )\n                }}\n            />\n        </div>\n    )\n}\n\nexport default InspectorValue\n","import omit from 'lodash/omit'\n\nexport const buildItems = (children, path, result) => {\n    const doBuildItems = (children, path) => {\n        children.forEach(element => {\n            result.push({\n                ...omit(element, [\n                    'children',\n                    'resourceDraft',\n                    'currentResource',\n                    'mode',\n                    'pluginsStructure',\n                ]),\n                path,\n            })\n            if (element.children)\n                doBuildItems(element.children, [...path, element.id])\n        })\n    }\n    doBuildItems(children, path)\n    return result\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"FilesTree_rst__virtualScrollOverride__2zPfB\",\"ReactVirtualized__Grid__innerScrollContainer\":\"FilesTree_ReactVirtualized__Grid__innerScrollContainer__2-QLv\",\"rst__rtl\":\"FilesTree_rst__rtl__1QaYg\",\"ReactVirtualized__Grid\":\"FilesTree_ReactVirtualized__Grid__3WCin\",\"rst__node\":\"FilesTree_rst__node__1BucA\",\"rst__nodeContent\":\"FilesTree_rst__nodeContent__1Vx6z\",\"rst__lineBlock\":\"FilesTree_rst__lineBlock__1OVDj\",\"rst__absoluteLineBlock\":\"FilesTree_rst__absoluteLineBlock__1fWbt\",\"rst__lineHalfHorizontalRight\":\"FilesTree_rst__lineHalfHorizontalRight__1FhFf\",\"rst__lineFullVertical\":\"FilesTree_rst__lineFullVertical__106ef\",\"rst__lineHalfVerticalTop\":\"FilesTree_rst__lineHalfVerticalTop__FaSdr\",\"rst__lineHalfVerticalBottom\":\"FilesTree_rst__lineHalfVerticalBottom__3laM4\",\"rst__highlightLineVertical\":\"FilesTree_rst__highlightLineVertical__2xmkt\",\"arrow-pulse\":\"FilesTree_arrow-pulse__3c9kW\",\"rst__highlightTopLeftCorner\":\"FilesTree_rst__highlightTopLeftCorner__3u96X\",\"rst__highlightBottomLeftCorner\":\"FilesTree_rst__highlightBottomLeftCorner__2LBb-\",\"rst__rowWrapper\":\"FilesTree_rst__rowWrapper__TmlBB\",\"rst__row\":\"FilesTree_rst__row__24I9P\",\"rst__rowLandingPad\":\"FilesTree_rst__rowLandingPad__M7Wwz\",\"rst__rowCancelPad\":\"FilesTree_rst__rowCancelPad__1DWvZ\",\"rst__rowSearchMatch\":\"FilesTree_rst__rowSearchMatch__1R5P3\",\"rst__rowSearchFocus\":\"FilesTree_rst__rowSearchFocus__3OcV2\",\"rst__rowContents\":\"FilesTree_rst__rowContents__2rb0J\",\"rst__rowLabel\":\"FilesTree_rst__rowLabel__10aF-\",\"rst__rowToolbar\":\"FilesTree_rst__rowToolbar__3Sjn5\",\"rst__moveHandle\":\"FilesTree_rst__moveHandle__38v10\",\"rst__toolbarButton\":\"FilesTree_rst__toolbarButton__18Yni\",\"rst__rowContentsDragDisabled\":\"FilesTree_rst__rowContentsDragDisabled__3-a2-\",\"rst__loadingHandle\":\"FilesTree_rst__loadingHandle__DCv7X\",\"rst__loadingCircle\":\"FilesTree_rst__loadingCircle__2y-qD\",\"rst__loadingCirclePoint\":\"FilesTree_rst__loadingCirclePoint__1n-qD\",\"pointFade\":\"FilesTree_pointFade__TOZ39\",\"rst__rowTitle\":\"FilesTree_rst__rowTitle__2lYvX\",\"rst__rowTitleWithSubtitle\":\"FilesTree_rst__rowTitleWithSubtitle__HF5HY\",\"rst__rowSubtitle\":\"FilesTree_rst__rowSubtitle__2Izrt\",\"rst__collapseButton\":\"FilesTree_rst__collapseButton__3FVF4\",\"rst__expandButton\":\"FilesTree_rst__expandButton__3onDk\",\"rst__lineChildren\":\"FilesTree_rst__lineChildren__iWpjl\",\"rst__placeholder\":\"FilesTree_rst__placeholder__2KUYk\",\"rst__placeholderLandingPad\":\"FilesTree_rst__placeholderLandingPad__1LIQQ\",\"rst__placeholderCancelPad\":\"FilesTree_rst__placeholderCancelPad__3DIur\",\"ReactVirtualized__Table__headerRow\":\"FilesTree_ReactVirtualized__Table__headerRow__3uzao\",\"ReactVirtualized__Table__row\":\"FilesTree_ReactVirtualized__Table__row__Dtl9p\",\"ReactVirtualized__Table__headerTruncatedText\":\"FilesTree_ReactVirtualized__Table__headerTruncatedText__1g898\",\"ReactVirtualized__Table__headerColumn\":\"FilesTree_ReactVirtualized__Table__headerColumn__3SyZJ\",\"ReactVirtualized__Table__rowColumn\":\"FilesTree_ReactVirtualized__Table__rowColumn__2gE7G\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"FilesTree_ReactVirtualized__Table__sortableHeaderColumn__2UPA4\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"FilesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1uSen\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"FilesTree_ReactVirtualized__Table__sortableHeaderIcon__3VS1O\",\"Hovered\":\"FilesTree_Hovered__3IUxY\",\"Chosen\":\"FilesTree_Chosen__3K2so\",\"ChosenBlur\":\"FilesTree_ChosenBlur__24Xw9\",\"IconsContainer\":\"FilesTree_IconsContainer__13Ho9\",\"IconsContainerPage\":\"FilesTree_IconsContainerPage__2QiHO\",\"IconsContainerNotPage\":\"FilesTree_IconsContainerNotPage__1X9uD\",\"TreeContainer\":\"FilesTree_TreeContainer__3BKcR\",\"selectContainer\":\"FilesTree_selectContainer__21DWs\",\"Container\":\"FilesTree_Container__yyHP0\",\"ImageContainer\":\"FilesTree_ImageContainer__2xrj2\",\"ImageInput\":\"FilesTree_ImageInput__3Sm6j\"};","import React from 'react'\n\nimport * as classes from './TreeSearch.module.css'\nimport SmallButton from '../Buttons/SmallButton/SmallButton'\nimport LeftOutlined from '@ant-design/icons/LeftOutlined'\nimport RightOutlined from '@ant-design/icons/RightOutlined'\nimport CloseOutlined from '@ant-design/icons/CloseOutlined'\n// import type { State } from '../../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\n// type Props = {\n//     state,\n//     setState: Function,\n// }\n\nconst handleSearchOnChange = (state, setState, e) => {\n    setState({ ...state, searchString: e.target.value })\n}\n\nconst selectPrevMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFoundCount + searchFocusIndex - 1) %\n                      searchFoundCount\n                    : searchFoundCount - 1\n                : null,\n    })\n}\n\nconst selectNextMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFocusIndex + 1) % searchFoundCount\n                    : 0\n                : null,\n    })\n}\n\nexport const TreeSearch = props => (\n    <div className={classes.Container}>\n        <input\n            className={classes.Input}\n            type=\"text\"\n            onChange={e => handleSearchOnChange(props.state, props.setState, e)}\n        />\n        <div className={classes.Label}>\n            {props.state.searchFoundCount\n                ? props.state.searchFocusIndex + 1\n                : 0}\n            /{props.state.searchFoundCount}\n        </div>\n        <SmallButton\n            icon={<LeftOutlined />}\n            buttonClicked={() => selectPrevMatch(props.state, props.setState)}\n            tooltip=\"Search previous\"\n        />\n        <SmallButton\n            icon={<RightOutlined />}\n            buttonClicked={() => selectNextMatch(props.state, props.setState)}\n            tooltip=\"Search next\"\n        />\n        <SmallButton\n            icon={<CloseOutlined />}\n            buttonClicked={() =>\n                props.setState({\n                    ...props.state,\n                    searchOpen: false,\n                    searchString: '',\n                })\n            }\n            tooltip=\"Close\"\n        />\n    </div>\n)\n","import React, { useState, useEffect, memo } from 'react'\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { checkIfCapital, buildTree } from '../../../utils/basic'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport populateStructureWithPluginChildrenAndPropagating from './methods/populateStructureWithPluginChildrenAndPropagating'\nimport { searchOnHover, searchMethod, searchMethod2 } from './methods/search'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n    resourceItemIndex,\n} from '../../../utils/resourceTypeIndex'\nimport Buttons from './Buttons'\nimport OverlayOnSizeIsChanging from '../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\n// import type {\n//     resourceType,\n//     initialStateType,\n//     elementType,\n// } from '../../../store/reducer/reducer'\nimport getBoxType from '../../../utils/getBoxType'\nimport generateButtonRules from './methods/generateButtonRules'\nimport { allModules } from '../../../utils/modulesIndex'\nimport ControlPanel from '../../UI/ControlPanel'\n\n// export type State = {\n//     searchString: string,\n//     searchFocusIndex: number,\n//     searchFoundCount: null | number,\n//     searchStringHasBeenCleared: boolean,\n//     searchOpen: boolean,\n// }\n\n// export type Props = {\n//     resourceDraft: resourceType,\n//     currentResource:\n//         | $PropertyType<initialStateType, 'currentPage'>\n//         | $PropertyType<initialStateType, 'currentPlugin'>,\n//     mode: 'page' | 'plugin' | 'template',\n//     findMode: $PropertyType<initialStateType, 'findMode'>,\n//     fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n//     hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n//     chooseBox: typeof actions.chooseBox,\n//     addBox: typeof actions.addBox,\n//     duplicateBox: typeof actions.duplicateBox,\n//     deleteBox: typeof actions.deleteBox,\n//     saveElementsStructure: typeof actions.saveElementsStructure,\n//     hoverBox: typeof actions.hoverBox,\n//     unhoverBox: typeof actions.unhoverBox,\n//     mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n//     dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n//     markShouldRefreshing: typeof actions.markShouldRefreshing,\n//     toggleFindMode: typeof actions.toggleFindMode,\n//     currentBoxType:\n//         | 'html'\n//         | 'page'\n//         | 'headBody'\n//         | 'plugin'\n//         | 'children'\n//         | 'childrenTo'\n//         | 'element'\n//         | 'isCMSVariable'\n//         | 'isElementFromCMSVariable'\n//         | 'none',\n//     searchQuery: string,\n//     node,\n// }\n\nconst ElementsTree = props => {\n    const { resourceDraftStructure, structureWithPluginChildren } = props\n\n    if (!resourceDraftStructure) return null\n    let treeData = buildTree(\n        structureWithPluginChildren.map(item => ({\n            ...item,\n            itemPath: item.path,\n            mode: props.mode,\n        }))\n    )\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, resourceDraftStructure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    resourceDraftStructure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            ) {\n                if (\n                    !props.checkUserRights(\n                        props.mode === 'page' ? null : ['developer']\n                    )\n                ) {\n                    return\n                }\n            }\n            props.saveElementsStructure(\n                props.mode,\n                result,\n                resourceDraftStructure\n            )\n        }\n    }\n\n    const canDropHandle = ({ node, nextParent, prevParent }) => {\n        if (!nextParent) return false\n        if (!nextParent.itemPath) return false\n        if (nextParent.mode === 'page')\n            return (\n                nextParent.CMSVariableType &&\n                (nextParent.CMSVariableType.indexOf('propagating_') >= 0 ||\n                    nextParent.CMSVariableType === 'array')\n            )\n        if (nextParent.text) return false\n        if (nextParent.isElementFromCMSVariable) return false\n        if (nextParent.isCMSVariable || nextParent.id === 'element_02')\n            return node.isCMSVariable\n\n        // if (nextParent.mode === 'template' && nextPath[0] !== prevPath[0])\n        //     return false\n        // || nextParent.id === 'element_02'\n\n        switch (nextParent.itemPath[0]) {\n            case 'trash':\n                if (nextParent.id === 'trash') return true\n                return false\n            case 'element_02':\n                return node.isCMSVariable\n            default:\n                if (node.isCMSVariable) return false\n                if (prevParent.itemPath[0] === 'element_02') return false\n                if (nextParent.isChildren) return false\n                if (allModules.includes(nextParent.tag)) return false\n                if (\n                    checkIfCapital(nextParent.tag.charAt(0)) &&\n                    nextParent.itemPath.length !== 0 &&\n                    !nextParent.forChildren\n                )\n                    return false\n                if (\n                    nextParent.mode === 'template' &&\n                    nextParent.itemPath.length === 0\n                )\n                    return false\n                return true\n        }\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.mode === 'page') {\n            if (node.isPropagatingItem) return true\n            return false\n        }\n        if (node.itemPath[0] === 'trash' && node.itemPath.length > 1)\n            return false\n        return (\n            node.itemPath.length >\n                (node.mode === 'template' &&\n                node.itemPath[0] !== 'element_02' &&\n                node.itemPath[0] !== 'trash'\n                    ? 1\n                    : 0) && !node.childrenTo\n        )\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        mode: props.mode,\n        // itemIndex: node.itemIndex,\n    })\n\n    const onMoveNodeHandle = ({ node, treeIndex, path }) => {\n        return global.console.debug(\n            'node:',\n            node,\n            'treeIndex:',\n            treeIndex,\n            'path:',\n            path\n        )\n    }\n\n    const searchFinishCallbackHandle = matches => {\n        return\n        setState({\n            ...state,\n            searchFoundCount: matches.length,\n            searchFocusIndex:\n                matches.length > 0\n                    ? state.searchFocusIndex % matches.length\n                    : 0,\n        })\n    }\n\n    const [state, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    useEffect(() => {\n        searchOnHover(props, state, setState)\n    }, [props.hoveredElementId, props.findMode])\n\n    const [structureIds, saveStructureIds] = useState(\n        props.structureWithPluginChildren.map(item => item.id)\n    )\n\n    useEffect(() => {\n        const newStructureIds = props.structureWithPluginChildren.map(\n            item => item.id\n        )\n        const structuresAreEqual = isEqual(newStructureIds, structureIds)\n\n        if (!structuresAreEqual) {\n            props.saveElementsStructure(\n                props.mode,\n                props.structureWithPluginChildren,\n                props.resourceDraftStructure\n            )\n            saveStructureIds(newStructureIds)\n        }\n    }, [props.structureWithPluginChildren])\n\n    const currentBoxType = getBoxType(props)\n\n    const buttonRules = generateButtonRules(props, currentBoxType)\n\n    const setActiveAndKeyDown = e => {\n        if (e === 'blur') {\n            props.unsetActiveContainer(props.mode + 'elements')\n        } else {\n            props.setActiveContainer(props.mode + 'elements')\n            if (e) {\n                const code = e.code\n\n                if (!props.checkUserRights(['developer'])) return\n                if (props.mode === 'page') {\n                    switch (code) {\n                        case 'KeyA':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyD':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.duplicateBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyF':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                setState({\n                                    ...state,\n                                    searchOpen: !state.searchOpen,\n                                })\n                            }\n                            break\n                        case 'KeyR':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.markShouldRefreshing(true)\n                            }\n                            break\n                        case 'KeyC':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyX':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode, 'page')\n                            }\n                            break\n                        case 'KeyV':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode, 'page')\n                            }\n                            break\n                        case 'Delete':\n                            props.deleteBox(props.mode, 'page')\n                            break\n                        default:\n                            break\n                    }\n                } else {\n                    switch (code) {\n                        case 'KeyA':\n                            if (\n                                e.ctrlKey &&\n                                e.shiftKey &&\n                                buttonRules.addInside\n                            ) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'inside')\n                            } else if (e.ctrlKey && buttonRules.addNext) {\n                                e.preventDefault()\n                                props.addBox(props.mode)\n                            }\n                            break\n                        case 'KeyQ':\n                            if (e.ctrlKey && buttonRules.addText) {\n                                e.preventDefault()\n                                props.addBox(props.mode, 'text')\n                            }\n                            break\n                        case 'KeyD':\n                            if (buttonRules.duplicate) {\n                                if (e.ctrlKey && e.shiftKey) {\n                                    e.preventDefault()\n                                    props.duplicateBox(props.mode, true)\n                                } else if (e.ctrlKey) {\n                                    e.preventDefault()\n                                    props.duplicateBox(props.mode)\n                                }\n                            }\n                            break\n                        case 'KeyF':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                setState({\n                                    ...state,\n                                    searchOpen: !state.searchOpen,\n                                })\n                            }\n                            break\n                        case 'KeyR':\n                            if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.markShouldRefreshing(true)\n                            }\n                            break\n                        case 'KeyC':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.copyBox(props.mode)\n                            }\n                            break\n                        case 'KeyX':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.cutBox(props.mode)\n                            }\n                            break\n                        case 'KeyV':\n                            if (e.ctrlKey && e.shiftKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode, true)\n                            } else if (e.ctrlKey) {\n                                e.preventDefault()\n                                props.pasteBox(props.mode)\n                            }\n                            break\n                        case 'Delete':\n                            if (buttonRules.delete) {\n                                e.preventDefault()\n                                if (e.shiftKey)\n                                    props.deleteBox(props.mode, true)\n                                else props.deleteBox(props.mode)\n                            }\n                            break\n                        default:\n                            break\n                    }\n                }\n            }\n        }\n    }\n\n    const handleButtonMenuClick = e => {\n        if (!props.checkUserRights(['developer'])) {\n            return\n        }\n\n        switch (e.key) {\n            case 'addText':\n                props.addBox(props.mode, 'text')\n                break\n            case 'addInside':\n                props.addBox(props.mode, 'inside')\n                break\n            case 'addFromCMS':\n                props.addBox(props.mode, 'cmsVariable')\n                break\n            case 'addInheritedChildren':\n                props.addBox(props.mode, 'children')\n                break\n            case 'duplicateWithout':\n                props.duplicateBox(props.mode)\n                break\n            case 'duplicateWith':\n                props.duplicateBox(props.mode, true)\n                break\n            case 'deleteWith':\n                props.deleteBox(props.mode, true)\n                break\n\n            default:\n                break\n        }\n    }\n\n    return (\n        <div\n            className={classes.Container}\n            tabIndex=\"0\"\n            onKeyDown={e => {\n                setActiveAndKeyDown(e.nativeEvent)\n            }}\n            onMouseDown={() => {\n                setActiveAndKeyDown()\n            }}\n            onTouchStart={() => {\n                setActiveAndKeyDown()\n            }}\n            onFocus={() => {\n                setActiveAndKeyDown()\n            }}\n            onBlur={() => {\n                setActiveAndKeyDown('blur')\n            }}\n        >\n            <ControlPanel>\n                <Buttons\n                    state={state}\n                    setState={setState}\n                    mode={props.mode}\n                    addBox={props.addBox}\n                    duplicateBox={props.duplicateBox}\n                    mergeBoxToPlugin={props.mergeBoxToPlugin}\n                    dissolvePluginToBox={props.dissolvePluginToBox}\n                    deleteBox={props.deleteBox}\n                    toggleFindMode={props.toggleFindMode}\n                    markShouldRefreshing={props.markShouldRefreshing}\n                    buttonRules={buttonRules}\n                    handleButtonMenuClick={handleButtonMenuClick}\n                />\n            </ControlPanel>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    scaffoldBlockPxWidth={22}\n                    rowHeight={20}\n                    generateNodeProps={generateNodePropsHandle}\n                    isVirtualized={true}\n                    onMoveNode={onMoveNodeHandle}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={searchFinishCallbackHandle}\n                    searchMethod={props.findMode ? searchMethod2 : searchMethod}\n                    style={{\n                        flex: '1 1',\n                        height: 'auto !important',\n                        overflow: 'auto',\n                    }}\n                    slideRegionSize={20}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n            <OverlayOnSizeIsChanging />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const pluginElementsStructures = {}\n    for (let item of state.mD.pluginsStructure) {\n        let draft = getCurrentResourceValue(item.id, state.resourcesObjects)\n        pluginElementsStructures[item.id] = draft ? draft.structure : []\n    }\n    let resourceDraftStructure = null\n    let resourceDraftValues = null\n    if (state.mD[resourceDraftIndex[props.mode]]) {\n        resourceDraftStructure =\n            state.mD[resourceDraftIndex[props.mode]].structure\n        resourceDraftValues = state.mD[resourceDraftIndex[props.mode]].values\n    }\n\n    const currentResource = state.mD[currentIndex[props.mode]]\n    const pluginsStructure = state.mD.pluginsStructure\n    let structureWithPluginChildren = populateStructureWithPluginChildrenAndPropagating(\n        resourceDraftStructure,\n        currentResource,\n        pluginElementsStructures,\n        pluginsStructure,\n        props.mode,\n        state.mD[resourceItemIndex[props.mode]]\n    )\n\n    return {\n        hoveredElementId: -100,\n        findMode: state.findMode,\n        fromFrame: state.fromFrame,\n        // structure: state.mD[structureIndex[props.mode]].structure,\n        currentResource,\n        resourceDraftStructure,\n        resourceDraftValues,\n        pluginsStructure,\n        pluginElementsStructures,\n        structureWithPluginChildren,\n        currentBox: state.mD[resourceDraftIndex[props.mode]].currentBox,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        saveElementsStructure: (type, structure, resourceDraftStructure) =>\n            dispatch(\n                actions.saveElementsStructure(\n                    type,\n                    structure,\n                    resourceDraftStructure\n                )\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        setActiveContainer: container =>\n            dispatch(actions.setActiveContainer(container)),\n        unsetActiveContainer: container =>\n            dispatch(actions.unsetActiveContainer(container)),\n        copyBox: (mode, withChildren) =>\n            dispatch(actions.copyBox(mode, false, withChildren)),\n        cutBox: (mode, withChildren) =>\n            dispatch(actions.copyBox(mode, true, withChildren)),\n        pasteBox: (mode, inside) => dispatch(actions.pasteBox(mode, inside)),\n        addBox: (mode, type) => dispatch(actions.addBox(mode, type)),\n        duplicateBox: (mode, withChildren) =>\n            dispatch(actions.duplicateBox(mode, withChildren)),\n        mergeBoxToPlugin: (type, onlyChildren) =>\n            dispatch(actions.mergeBoxToPlugin(type, onlyChildren)),\n        dissolvePluginToBox: type =>\n            dispatch(actions.dissolvePluginToBox(type)),\n        deleteBox: (mode, withChildren) =>\n            dispatch(actions.deleteBox(mode, withChildren)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(ElementsTree, (prevProps, nextProps) => {\n        return (\n            isEqual(\n                prevProps.pluginElementsStructures,\n                nextProps.pluginElementsStructures\n            ) &&\n            isEqual(\n                prevProps.structureWithPluginChildren,\n                nextProps.structureWithPluginChildren\n            ) &&\n            isEqual(prevProps.currentResource, nextProps.currentResource) &&\n            isEqual(prevProps.currentBox, nextProps.currentBox)\n        )\n    })\n)\n","export const allModules = [\n    'websiterMenu',\n    'parseHTML',\n    'websiterGallery',\n    'websiterDrawer',\n]\nexport const modulesPropertyNodes = {\n    websiterMenu: [\n        { tag: 'Overflow icon', id: 'overflowIcon' },\n        { tag: 'Expand icon', id: 'expandIcon' },\n    ],\n    websiterDrawer: [\n        { tag: 'Content', id: 'content' },\n        { tag: 'Handler', id: 'handler' },\n    ],\n    websiterGallery: [],\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"Properties_OlContainer__363Ba\",\"reactTabs\":\"Properties_reactTabs__1n7Tw\",\"reactTabsTabPanelSelected\":\"Properties_reactTabsTabPanelSelected__2YQhG\",\"reactTabsTab\":\"Properties_reactTabsTab__3p2jn\"};","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport Tabs from 'antd/es/tabs'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\n\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\nimport { buildItems } from '../../../../utils/pagesStructure'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport SizeDragController from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport TextInput from '../../../UI/TextInput/TextInput'\nimport OverlayOnSizeIsChanging from '../../../UI/OverlayOnSizeIsChanging/OverlayOnSizeIsChanging'\nimport ControlPanel from '../../../UI/ControlPanel'\nimport Switch from 'antd/es/switch'\n\nconst MenuItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n    console.log(props.element)\n\n    useEffect(() => {\n        const pagesStructureWithAll = [\n            {\n                path: [],\n                all: false,\n                id: 'link',\n                generatedFrom: 'link',\n                sourceItem: true,\n                name: 'Link',\n                properties: {},\n                propertiesString: '',\n            },\n            {\n                path: [],\n                all: true,\n                id: 'all',\n                generatedFrom: 'all',\n                sourceItem: true,\n                name: 'All pages',\n                properties: {},\n                propertiesString: '',\n            },\n        ]\n        if (props.mode !== 'page' && !props.element.isCMSVariable) {\n            pagesStructureWithAll.push({\n                path: [],\n                all: false,\n                id: 'variable',\n                generatedFrom: 'variable',\n                sourceItem: true,\n                name: 'Variable',\n                properties: {},\n                propertiesString: '',\n            })\n        }\n        props.pagesStructure.forEach(element => {\n            pagesStructureWithAll.push({\n                ...element,\n                sourceItem: true,\n                all: false,\n                id: element.id,\n                generatedFrom: element.id,\n                path: ['all', ...element.path],\n                properties: {},\n                propertiesString: '',\n            })\n            pagesStructureWithAll.push({\n                path: ['all', ...element.path, element.id],\n                all: true,\n                id: element.id + '_all',\n                generatedFrom: element.id,\n                sourceItem: true,\n                name: 'All in ' + element.name,\n                properties: {},\n                propertiesString: '',\n            })\n        })\n\n        const treeDataSource = buildTree(pagesStructureWithAll)\n            .filter(item => !item.generalSettings)\n            .map(item => ({\n                ...item,\n                type: props.mode,\n            }))\n        setState({ ...state, treeDataSource })\n    }, [props.pagesStructure, props.templatesStructure])\n\n    let menuItems = props.elementValues[props.attrName] || []\n\n    menuItems = menuItems.map(item => ({\n        ...item,\n        type: props.mode,\n    }))\n    const treeData = buildTree(menuItems)\n\n    const handleChange = items => {\n        const newItems = cloneDeep(items)\n        const findNewItem = children => {\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i]\n                if (child.sourceItem) return child\n                else if (child.children.length > 0) {\n                    const newItem = findNewItem(child.children)\n                    if (newItem) return newItem\n                }\n            }\n        }\n        const newItem = findNewItem(newItems)\n\n        let newCurrentMenuId = props.elementValues.currentMenuId || 0\n        if (newItem) {\n            newItem.children = []\n            newItem.id = 'item_' + (newCurrentMenuId || 0)\n            newItem.sourceItem = false\n            newCurrentMenuId = newCurrentMenuId + 1\n        }\n\n        const saveItems = []\n        buildItems(newItems, [], saveItems)\n        const result = {\n            [props.attrName]: saveItems,\n            currentMenuId: newCurrentMenuId,\n        }\n        // if (newCurrentMenuId) result.currentMenuId = newCurrentMenuId\n        props.changeProperty(result, '')\n    }\n\n    const menuItem =\n        props.elementValues.currentMenuItem &&\n        props.elementValues[props.attrName]\n            ? props.elementValues[props.attrName].find(\n                  item => item.id === props.elementValues.currentMenuItem\n              )\n            : null\n\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value && props.elementValues.currentMenuItem) {\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            const newMenuItems = props.elementValues[props.attrName].map(\n                item => {\n                    if (item.id === props.elementValues.currentMenuItem) {\n                        const newItem = cloneDeep(item)\n                        newItem.propertiesString = value\n                        if (obj) {\n                            newItem.properties = obj\n                        }\n                        return newItem\n                    } else {\n                        return item\n                    }\n                }\n            )\n            props.changeProperty(props.attrName, newMenuItems, cursorPosition)\n        }\n    }\n\n    const handleOnePropertyChange = (key, value, id) => {\n        if (key) {\n            const newMenuItems = props.elementValues[props.attrName].map(\n                item => {\n                    if (item.id === id) {\n                        const newItem = cloneDeep(item)\n                        // newItem.propertiesString = value\n                        // if (obj) {\n                        newItem.properties[key] = value\n                        // }\n                        return newItem\n                    } else {\n                        return item\n                    }\n                }\n            )\n            props.changeProperty(props.attrName, newMenuItems)\n        }\n    }\n\n    const handleDeleteItem = () => {\n        if (props.elementValues.currentMenuItem) {\n            const newMenuItems = props.elementValues[props.attrName].filter(\n                item => item.id !== props.elementValues.currentMenuItem\n            )\n            props.changeProperty(props.attrName, newMenuItems)\n        }\n    }\n\n    return props.element && props.elementValues ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n            >\n                <ControlPanel>\n                    <SmallButton\n                        title=\"Delete\"\n                        buttonClicked={handleDeleteItem}\n                        icon={<DeleteOutlined />}\n                        tooltip=\"Delete menu item\"\n                        requiredRights={\n                            props.mode === 'page' ? ['content'] : ['developer']\n                        }\n                    />\n                </ControlPanel>\n                <div className={classes.TreeContainer}>\n                    {treeData.length === 0 ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                border: '1px dashed #777',\n                                left: '20px',\n                                padding: '4px',\n                            }}\n                        >\n                            Drop menu items here\n                        </div>\n                    ) : null}\n                    <SortableTree\n                        onChange={handleChange}\n                        treeData={treeData}\n                        nodeContentRenderer={ItemRenderer}\n                        generateNodeProps={({ node }) => ({\n                            className:\n                                node.id === props.elementValues.currentMenuItem\n                                    ? [classes.Chosen]\n                                    : null,\n                        })}\n                        isVirtualized={true}\n                        onMoveNode={({ node, treeIndex, path }) => {\n                            global.console.debug(\n                                'node:',\n                                node,\n                                'treeIndex:',\n                                treeIndex,\n                                'path:',\n                                path\n                            )\n                        }}\n                        rowHeight={20}\n                        scaffoldBlockPxWidth={22}\n                        className={classes.Tree}\n                        dndType={props.attrName}\n                        canDrop={({ nextParent }) => {\n                            if (!nextParent) return true\n\n                            return (\n                                nextParent.generatedFrom !== 'variable' &&\n                                !nextParent.all\n                            )\n                        }}\n                        style={{\n                            flex: '1 1',\n                            height: 'auto !important',\n                            overflow: 'auto',\n                        }}\n                        slideRegionSize={20}\n                    />\n                    <OverlayOnSizeIsChanging />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    type={'width3'}\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs defaultActiveKey=\"source\" animated={false} size=\"small\">\n                    <Tabs.TabPane tab=\"Source elements\" key=\"source\">\n                        <SortableTree\n                            treeData={state.treeDataSource}\n                            nodeContentRenderer={ItemRenderer}\n                            isVirtualized={true}\n                            onMoveNode={({ node, treeIndex, path }) =>\n                                global.console.debug(\n                                    'node:',\n                                    node,\n                                    'treeIndex:',\n                                    treeIndex,\n                                    'path:',\n                                    path\n                                )\n                            }\n                            rowHeight={20}\n                            scaffoldBlockPxWidth={22}\n                            canDrop={() => false}\n                            shouldCopyOnOutsideDrop={true}\n                            dndType={props.attrName}\n                            onChange={treeData =>\n                                setState({ ...state, treeDataSource: treeData })\n                            }\n                            style={{\n                                flex: '1 1',\n                                height: 'auto !important',\n                                overflow: 'auto',\n                            }}\n                            slideRegionSize={20}\n                        />\n                        <OverlayOnSizeIsChanging />\n                    </Tabs.TabPane>\n\n                    {menuItem && (\n                        <Tabs.TabPane tab=\"Item properties\" key=\"props\">\n                            {/* {menuItem.type !== 'page' ? (\n                                <Editor\n                                    currentElement={\n                                        props.elementValues.currentMenuItem\n                                    }\n                                    elementValue={menuItem.propertiesString}\n                                    elementCurrentCursor={\n                                        props.elementValues.cursorPosition\n                                    }\n                                    editorMode=\"json\"\n                                    handleChange={hanglePropertiesChange}\n                                    name=\"editorMenuItems\"\n                                />\n                            ) : menuItem.generatedFrom === 'link' ? ( */}\n                            <table>\n                                <tbody>\n                                    {menuItem.generatedFrom === 'link' ? (\n                                        <tr>\n                                            <td>Url</td>\n                                            <td>\n                                                <TextInput\n                                                    changed={value =>\n                                                        handleOnePropertyChange(\n                                                            'url',\n                                                            value,\n                                                            props.elementValues\n                                                                .currentMenuItem\n                                                        )\n                                                    }\n                                                    value={\n                                                        menuItem.properties.url\n                                                    }\n                                                    unControlled\n                                                    uniqueId={\n                                                        props.elementValues\n                                                            .currentMenuItem +\n                                                        props.element.id +\n                                                        menuItem.type\n                                                    }\n                                                />\n                                            </td>\n                                        </tr>\n                                    ) : null}\n                                    <tr>\n                                        <td>Open in a new tab</td>\n                                        <td>\n                                            <Switch\n                                                onChange={value =>\n                                                    handleOnePropertyChange(\n                                                        'newTab',\n                                                        value,\n                                                        props.elementValues\n                                                            .currentMenuItem\n                                                    )\n                                                }\n                                                checked={\n                                                    menuItem.properties.newTab\n                                                }\n                                            />\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </Tabs.TabPane>\n                    )}\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        pagesStructure: state.mD.pagesStructure,\n        templatesStructure: state.mD.templatesStructure,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuItems)\n","import React, { useState, useEffect } from 'react'\n\nimport classes from './TextInput.module.css'\n// import SmallButton from '../Buttons/SmallButton/SmallButton';\n\n// type Props = {\n//     title?: string,\n//     changed?: Function,\n//     blur?: Function,\n//     value?: string | number,\n//     datatestid?: string,\n//     wrong?: boolean,\n//     inline?: boolean,\n//     right?: boolean,\n//     minWidth?: number,\n//     unControlled?: boolean,\n//     uniqueId?: string,\n// }\n\nexport const TextInput = props => {\n    const [state, setState] = useState(props.value)\n    useEffect(() => {\n        setState(props.value || '')\n    }, [props.uniqueId])\n\n    const handleChange = e => {\n        if (props.unControlled) {\n            setState(e.target.value)\n        }\n        if (props.changed) props.changed(e.target.value)\n    }\n    return (\n        <div\n            className={[classes.Div, props.inline ? classes.Inline : ''].join(\n                ' '\n            )}\n        >\n            {props.title}\n            <input\n                data-testid={props.datatestid || 'MyInput'}\n                type=\"text\"\n                className={[\n                    classes.Input,\n                    props.wrong ? classes.Wrong : '',\n                    props.right ? classes.Right : '',\n                ].join(' ')}\n                style={{\n                    minWidth: props.minWidth ? props.minWidth + 'px' : 'auto',\n                }}\n                onChange={handleChange}\n                onBlur={e => (props.blur ? props.blur(e.target.value) : {})}\n                value={props.unControlled ? state : props.value || ''}\n            />\n        </div>\n    )\n}\n\nexport default TextInput\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nvar doc = void 0\nvar win = void 0\nif (typeof document !== 'undefined') {\n    doc = document\n}\nif (typeof window !== 'undefined') {\n    win = window\n}\n\nvar FrameContext = (exports.FrameContext = _react2.default.createContext({\n    document: doc,\n    window: win,\n}))\n\nvar FrameContextProvider = FrameContext.Provider,\n    FrameContextConsumer = FrameContext.Consumer\nexports.FrameContextProvider = FrameContextProvider\nexports.FrameContextConsumer = FrameContextConsumer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SectionHeight\":\"SizeDragController_SectionHeight__2xHTI\",\"InnerDiv\":\"SizeDragController_InnerDiv__3XbGX\",\"touchDrag\":\"SizeDragController_touchDrag__32PQq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectorDiv\":\"InspectorValue_InspectorDiv__3NoW1\",\"Input\":\"InspectorValue_Input__3jg9o\",\"InputHidden\":\"InspectorValue_InputHidden__20aPX\",\"Span\":\"InspectorValue_Span__2r1SY\",\"ItemHighlighted\":\"InspectorValue_ItemHighlighted__10tLg\",\"DropDown\":\"InspectorValue_DropDown__12yME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TreeSearch_Container__gqL_q\",\"Input\":\"TreeSearch_Input__1fDdy\",\"Label\":\"TreeSearch_Label__1_Jf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"FileProperties_OlContainer__2xDLP\",\"reactTabs\":\"FileProperties_reactTabs__3V4aV\",\"reactTabsTabPanelSelected\":\"FileProperties_reactTabsTabPanelSelected__930iU\",\"reactTabsTab\":\"FileProperties_reactTabsTab__3TJSy\"};","import {\n    checkIfCapital,\n    // getCurrentResourceValue,\n} from '../../../../utils/basic'\n\nimport {\n    modulesPropertyNodes,\n    allModules,\n} from '../../../../utils/modulesIndex'\n\n// import type { resourceType } from '../../../../store/reducer/reducer'\n\nconst populateStructure = (\n    structure,\n    currentResource,\n    pluginElementsStructures,\n    pluginsStructure,\n    mode,\n    currentResourceItem\n) => {\n    let result = []\n    let excludeItems = []\n    for (let item of structure) {\n        if (!item.childrenTo && !excludeItems.includes(item.id)) {\n            result.push(item)\n        }\n\n        if (!excludeItems.includes(item.id)) {\n            if (checkIfCapital(item.tag.charAt(0))) {\n                const pluginItem = pluginsStructure.find(\n                    element => element.name === item.tag\n                )\n                if (pluginItem) {\n                    const pluginElementStructure =\n                        pluginElementsStructures[pluginItem.id]\n\n                    if (pluginElementStructure) {\n                        const neededChildren = pluginElementStructure.filter(\n                            element => element.isChildren\n                        )\n                        const currentChildren = structure.filter(element =>\n                            element.path.includes(item.id)\n                        )\n                        excludeItems = [\n                            ...excludeItems,\n                            ...currentChildren.map(element => element.id),\n                        ]\n                        for (let child of neededChildren) {\n                            const existingChild = currentChildren.find(\n                                element => element.childrenTo === child.id\n                            )\n                            if (existingChild) {\n                                result = [\n                                    ...result,\n                                    {\n                                        ...existingChild,\n                                        tag: `Children for ${child.tag}`,\n                                    },\n                                    ...populateStructure(\n                                        currentChildren.filter(element =>\n                                            element.path.includes(\n                                                existingChild.id\n                                            )\n                                        ),\n                                        currentResource,\n                                        pluginElementsStructures,\n                                        pluginsStructure,\n                                        mode,\n                                        currentResourceItem\n                                    ),\n                                ]\n                            } else {\n                                const newElement = {\n                                    id: `${item.id}_forPlugin_${\n                                        pluginItem.id\n                                    }_childrenTo_${child.id}`,\n                                    childrenTo: child.id,\n                                    forPlugin: pluginItem.id,\n                                    sourcePlugin:\n                                        mode === 'plugin'\n                                            ? currentResource\n                                            : '',\n                                    path: [...item.path, item.id],\n                                    text: false,\n                                    isChildren: false,\n                                    forChildren: true,\n                                    tag: `Children for ${child.tag}`,\n                                }\n                                result.push(newElement)\n                            }\n                        }\n                    }\n                }\n            } else if (allModules.includes(item.tag)) {\n                const neededChildrenNames = modulesPropertyNodes[item.tag] || []\n                const currentChildren = structure.filter(element =>\n                    element.path.includes(item.id)\n                )\n\n                excludeItems = [\n                    ...excludeItems,\n                    ...currentChildren.map(element => element.id),\n                ]\n                for (let child of neededChildrenNames) {\n                    const existingChild = currentChildren.find(\n                        element =>\n                            element.childrenTo === child.id &&\n                            element.forModule === item.id\n                    )\n                    if (existingChild) {\n                        result = [\n                            ...result,\n                            {\n                                ...existingChild,\n                                tag: child.tag,\n                            },\n                            ...populateStructure(\n                                currentChildren.filter(element =>\n                                    element.path.includes(existingChild.id)\n                                ),\n                                currentResource,\n                                pluginElementsStructures,\n                                pluginsStructure,\n                                mode,\n                                currentResourceItem\n                            ),\n                        ]\n                    } else {\n                        const newElement = {\n                            id: `${item.id}_childrenTo_${child.id}`,\n                            childrenTo: child.id,\n                            forModule: item.id,\n                            sourcePlugin:\n                                mode === 'plugin' ? currentResource : '',\n                            path: [...item.path, item.id],\n                            text: false,\n                            isChildren: false,\n                            forChildren: true,\n                            tag: child.tag,\n                        }\n                        result.push(newElement)\n                    }\n                }\n            }\n        }\n    }\n    if (mode === 'plugin') {\n        if (!currentResourceItem.propagating) {\n            result = result.filter(\n                item =>\n                    !(\n                        item.id === 'element_02' ||\n                        (item.path.length > 0 && item.path[0] === 'element_02')\n                    )\n            )\n        } else {\n            if (!result.find(item => item.id === 'element_02')) {\n                result.unshift({\n                    id: 'element_02',\n                    path: [],\n                    text: false,\n                    isChildren: false,\n                    forChildren: false,\n                    tag: 'CMS variables',\n                })\n            }\n        }\n    }\n\n    return result\n}\n\nexport default populateStructure\n","// import type { Props, State } from '../ElementsTree'\n\nexport const searchOnHover = (props, state, setState) => {\n    if (props.findMode && props.fromFrame) {\n        setState({\n            ...state,\n            searchString: props.hoveredElementId || '',\n            searchStringHasBeenCleared: false,\n        })\n    } else {\n        if (!state.searchStringHasBeenCleared) {\n            setState({\n                ...state,\n                searchString: '',\n                searchStringHasBeenCleared: true,\n            })\n        }\n    }\n}\n\nexport const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n    if (!searchQuery) return false\n\n    if (node.tag.indexOf(searchQuery) > -1) return true\n    if (node.properties.id)\n        if (node.properties.id.indexOf(searchQuery) > -1) return true\n    if (node.properties.class)\n        if (node.properties.class.indexOf(searchQuery) > -1) return true\n}\n\nexport const searchMethod2 = ({ node, path, treeIndex, searchQuery }) => {\n    if (!searchQuery) return false\n\n    if (node.id.indexOf(searchQuery) > -1) return true\n}\n","import React, { memo } from 'react'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport Menu from 'antd/es/menu'\n\n// import type {\n//     resourceType,\n//     initialStateType,\n//     elementType,\n// } from '../../../store/reducer/reducer'\n\n// export type State = {\n//     searchString: string,\n//     searchFocusIndex: number,\n//     searchFoundCount: null | number,\n//     searchStringHasBeenCleared: boolean,\n//     searchOpen: boolean,\n// }\n\n// export type Props = {\n//     resourceDraft: resourceType,\n//     currentResource:\n//         | $PropertyType<initialStateType, 'currentPage'>\n//         | $PropertyType<initialStateType, 'currentPlugin'>,\n//     mode: 'page' | 'plugin' | 'template',\n//     findMode: $PropertyType<initialStateType, 'findMode'>,\n//     fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n//     hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n//     chooseBox: typeof actions.chooseBox,\n//     addBox: typeof actions.addBox,\n//     duplicateBox: typeof actions.duplicateBox,\n//     deleteBox: typeof actions.deleteBox,\n//     saveElementsStructure: typeof actions.saveElementsStructure,\n//     hoverBox: typeof actions.hoverBox,\n//     unhoverBox: typeof actions.unhoverBox,\n//     mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n//     dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n//     markShouldRefreshing: typeof actions.markShouldRefreshing,\n//     toggleFindMode: typeof actions.toggleFindMode,\n//     currentBoxType:\n//         | 'html'\n//         | 'page'\n//         | 'headBody'\n//         | 'plugin'\n//         | 'children'\n//         | 'childrenTo'\n//         | 'element'\n//         | 'isCMSVariable'\n//         | 'isElementFromCMSVariable'\n//         | 'none',\n//     searchQuery: string,\n//     node,\n// }\nimport PlusOutlined from '@ant-design/icons/PlusOutlined'\nimport FullscreenExitOutlined from '@ant-design/icons/FullscreenExitOutlined'\nimport FullscreenOutlined from '@ant-design/icons/FullscreenOutlined'\nimport DeleteOutlined from '@ant-design/icons/DeleteOutlined'\nimport SearchOutlined from '@ant-design/icons/SearchOutlined'\nimport RedoOutlined from '@ant-design/icons/RedoOutlined'\n\nimport Divider from 'antd/es/divider'\n\nconst Buttons = props => {\n    const { handleButtonMenuClick, buttonRules } = props\n\n    const addMenu = (\n        <Menu onClick={handleButtonMenuClick}>\n            {buttonRules.addText && (\n                <Menu.Item key=\"addText\">Add text element (Ctrl + Q)</Menu.Item>\n            )}\n            {buttonRules.addInside && buttonRules.addNext && (\n                <Menu.Item key=\"addInside\">\n                    Add inside (Ctrl + Shift + A)\n                </Menu.Item>\n            )}\n            {buttonRules.addNext && buttonRules.addFromCMSVariable && (\n                <Menu.Item key=\"addFromCMS\">Add from CMS variable</Menu.Item>\n            )}\n            {buttonRules.addChildren && (\n                <Menu.Item key=\"addInheritedChildren\">\n                    Add inherited children\n                </Menu.Item>\n            )}\n            {buttonRules.duplicate && (\n                <Menu.Item key=\"duplicateWithout\">\n                    Duplicate without children (Ctrl + D)\n                </Menu.Item>\n            )}\n            {buttonRules.duplicate && (\n                <Menu.Item key=\"duplicateWith\">\n                    Duplicate with children (Ctrl + Shift + D)\n                </Menu.Item>\n            )}\n        </Menu>\n    )\n\n    return (\n        <>\n            {props.mode !== 'page' && (\n                <>\n                    {/* <SmallButton\n                        inline\n                        buttonClicked={() => props.toggleFindMode(props.mode)}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z\"></path></svg>'\n                        tooltip=\"Select an element on the page\"\n                    /> */}\n                    <SmallButton\n                        tooltip={`Add a new element ${\n                            buttonRules.addNext ? 'next to' : 'inside'\n                        } the chosen element (Ctrl ${\n                            buttonRules.addNext ? '' : '+ Shift '\n                        }+ A)`}\n                        requiredRights={['developer']}\n                        icon={<PlusOutlined />}\n                        buttonClicked={() =>\n                            props.addBox(\n                                props.mode,\n                                buttonRules.addNext ? null : 'inside'\n                            )\n                        }\n                        overlay={addMenu}\n                    />\n                    <Divider type=\"vertical\" />\n                    {buttonRules.mergeToPlugin ? (\n                        <>\n                            <SmallButton\n                                tooltip=\"Merge element and children elements into a new plugin\"\n                                requiredRights={['developer']}\n                                icon={<FullscreenExitOutlined />}\n                                buttonClicked={() =>\n                                    props.mergeBoxToPlugin(props.mode)\n                                }\n                                overlay={\n                                    props.buttonRules.mergeToPluginChildren &&\n                                    props.mode !== 'page' ? (\n                                        <Menu onClick={handleButtonMenuClick}>\n                                            <Menu.Item key=\"mergeChildren\">\n                                                Merge children into plugin\n                                            </Menu.Item>\n                                        </Menu>\n                                    ) : null\n                                }\n                            />\n                            <Divider type=\"vertical\" />\n                        </>\n                    ) : (\n                        props.buttonRules.mergeToPluginChildren &&\n                        props.mode !== 'page' && (\n                            <>\n                                <SmallButton\n                                    tooltip=\"Merge children elements into a new plugin\"\n                                    requiredRights={['developer']}\n                                    icon={<FullscreenExitOutlined />}\n                                    buttonClicked={() =>\n                                        props.mergeBoxToPlugin(props.mode, true)\n                                    }\n                                />\n                                <Divider type=\"vertical\" />\n                            </>\n                        )\n                    )}\n\n                    {buttonRules.dissolve && (\n                        <>\n                            <SmallButton\n                                tooltip=\"Dissolve the plugin into elements\"\n                                requiredRights={['developer']}\n                                icon={<FullscreenOutlined />}\n                                buttonClicked={() =>\n                                    props.dissolvePluginToBox(props.mode)\n                                }\n                            />\n                            <Divider type=\"vertical\" />\n                        </>\n                    )}\n\n                    {props.buttonRules.delete && (\n                        <>\n                            <SmallButton\n                                buttonClicked={() =>\n                                    props.deleteBox(props.mode)\n                                }\n                                icon={<DeleteOutlined />}\n                                tooltip=\"Delete element without children.<br>All children will remain on the page (Delete)\"\n                                requiredRights={['developer']}\n                                overlay={\n                                    <Menu onClick={handleButtonMenuClick}>\n                                        <Menu.Item key=\"deleteWith\">\n                                            Delete with children (Shift +\n                                            Delete)\n                                        </Menu.Item>\n                                    </Menu>\n                                }\n                            />\n                            <Divider type=\"vertical\" />\n                        </>\n                    )}\n                </>\n            )}\n            <SmallButton\n                buttonClicked={() =>\n                    props.setState({\n                        ...props.state,\n                        searchOpen: !props.state.searchOpen,\n                    })\n                }\n                icon={<SearchOutlined />}\n                tooltip=\"Show or hide search (Ctrl + F)\"\n            />\n            <Divider type=\"vertical\" />\n            <SmallButton\n                buttonClicked={() => props.markShouldRefreshing(true)}\n                icon={<RedoOutlined />}\n                tooltip=\"Reload page (Ctrl + R)\"\n            />\n        </>\n    )\n}\nexport default memo(Buttons)\n"],"sourceRoot":""}