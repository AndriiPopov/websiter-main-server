{"version":3,"sources":["components/UI/LoginButton/LoginButton.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSection/ToolsSection.module.css","components/UI/Buttons/BigButtonDropDown/BigButtonDropDown.module.css","components/UI/Spinner/Spinner.module.css","components/Navigation/Toolbar/Toolbar.module.css","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItemButton/NavigationItemButton.module.css","hoc/DropDownMenu/DropDownMenu.module.css","components/SiteBuilderNavigation/Toolbar/ToolsSet/DropDownMenus/PagesMenu/PagesMenu.module.css","store/reducers/BuilderReducer/utils.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSet.module.css","hoc/Aux.js","components/UI/LoginButton/LoginButton.module.css","components/Logo/Logo.module.css","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItems.module.css","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItem/NavigationItem.module.css","components/UI/Buttons/BigButton/BigButton.module.css","components/UI/Textarea/Textarea.module.css","components/UI/Buttons/BigButtonWithCheckbox/BigButtonWithCheckbox.module.css","components/Navigation/NavigationItems/NavigationItem/NavigationItem.module.css","containers/SiteBuilder/PageOnLeaveSaveReminder/PageOnLeaveSaveReminder.module.css","components/UI/Buttons/BigButtonDropDown/BigButtonDropDown.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSet.js","hoc/withDragDropContext.js","components/UI/LoginInput/LoginInput.js","components/UI/Buttons/BigButtonWithCheckbox/BigButtonWithCheckbox.js","components/Svg/Svg.js","containers/SiteBuilder/Box/Box.css.js","components/BuilderControls/BoxControls/BoxControls.css.js","utils/dragFunction.js","utils/elementMagneticDrag.js","components/BuilderControls/BoxControls/MagneticDragHighlight/MagneticDragHighlight.css.js","components/BuilderControls/BoxControls/MagneticDragHighlight/MagneticDragHighlight.js","utils/getCombinedStyle.js","components/BuilderControls/BoxControls/BoxControls.js","containers/SiteBuilder/Box/Text/Text.js","containers/SiteBuilder/Box/Menu/Menu.css.js","utils/pagesStructure.js","containers/SiteBuilder/Box/Menu/Menu.js","containers/SiteBuilder/Box/Box.js","containers/SiteBuilder/Section/Section.css.js","components/BuilderControls/SectionControls/ControlSectionDrag/ControlSectionDrag.css.js","components/BuilderControls/SectionControls/ControlSectionDrag/ControlSectionDrag.js","components/BuilderControls/SectionControls/ControlSectionHeight/ControlSectionHeight.css.js","components/BuilderControls/SectionControls/ControlSectionHeight/ControlSectionHeight.js","components/BuilderControls/SectionControls/ControlSpaceSection/ControlSectionSpace.css.js","components/BuilderControls/SectionControls/ControlSpaceSection/ControlSectionSpace.js","containers/SiteBuilder/Section/Section.js","components/Layout/Layout.module.css","assets/icons/logo.svg","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.module.css","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItemButtonDropDown/NavigationItemButtonDropDown.module.css","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSection/ToolsBlock/ToolsBlock.module.css","components/Navigation/NavigationItems/NavigationItems.module.css","components/UI/Backdrop/Backdrop.module.css","containers/Auth/Auth.module.css","store/actions/actionTypes.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSection/ToolsBlock/ToolsBlock.js","components/UI/Buttons/BigButton/BigButton.js","store/actions/builder.js","store/actions/topMenu.js","store/actions/buffer.js","store/actions/auth.js","utils/determineCurrentPage.js","store/actions/website.js","store/actions/index.js","containers/Auth/Logout/Logout.js","hoc/asyncComponent.js","containers/Auth/Auth.js","components/Logo/Logo.js","components/Navigation/SideDrawer/DrawerToggle/DrawerToggle.js","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItem/NavigationItem.js","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItemButton/NavigationItemButton.js","components/SiteBuilderNavigation/Toolbar/NavigationItems/UndoRedo/UndoRedo.js","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItemButtonDropDown/NavigationItemButtonDropDown.js","components/UI/Textarea/Textarea.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/DropDownMenus/PageSettingsMenu/PageSettingsMenu.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/TopMenuSections/Pages.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/DropDownMenus/PagesMenu/PagesMenuList/PagesMenuList.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/DropDownMenus/PagesMenu/PagesMenu.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/DropDownMenus/BuilderZoomMenu/BuilderZoomMenu.js","components/SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItems.js","components/Navigation/Toolbar/Toolbar.js","components/Navigation/NavigationItems/NavigationItem/NavigationItem.js","components/Navigation/NavigationItems/NavigationItems.js","components/UI/Backdrop/Backdrop.js","components/Navigation/SideDrawer/SideDrawer.js","components/Layout/Layout.js","containers/LiveWebsite/LiveWebsite.js","containers/SiteBuilder/PageOnLeaveSaveReminder/PageOnLeaveSaveReminder.js","App.js","store/reducers/BuilderReducer/actions/boxAlign.js","store/reducers/BuilderReducer/builder.js","store/reducers/BuilderReducer/actions/sectionChoose.js","store/reducers/BuilderReducer/actions/sectionAddDelDuplicate.js","store/reducers/BuilderReducer/actions/sectionOrder.js","store/reducers/BuilderReducer/actions/boxAddDelDuplicate.js","store/reducers/BuilderReducer/actions/boxIndexOrder.js","store/reducers/BuilderReducer/actions/boxChooseEnterExit.js","store/reducers/BuilderReducer/actions/styleState.js","store/reducers/BuilderReducer/actions/viewSettings.js","store/reducers/BuilderReducer/actions/text.js","store/reducers/BuilderReducer/actions/loadSave.js","utils/filterUndo.js","store/reducers/topMenu.js","store/reducers/buffer.js","store/reducers/auth.js","store/reducers/website.js","index.js","components/UI/Buttons/SmallButton/SmallButton.js","components/UI/LoginInput/LoginInput.module.css","components/UI/Buttons/SmallButton/SmallButton.module.css","components/Navigation/SideDrawer/SideDrawer.module.css","components/UI/Spinner/Spinner.js","components/SiteBuilderNavigation/Toolbar/ToolsSet/ToolsSection/ToolsSection.js","hoc/DropDownMenu/DropDownMenu.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_LoginButton_module_css__WEBPACK_IMPORTED_MODULE_1__","_LoginButton_module_css__WEBPACK_IMPORTED_MODULE_1___default","LoginButton","props","a","createElement","data-testid","datatestid","disabled","className","classes","Button","btnType","join","onClick","clicked","children","module","exports","TitleDiv","ContentDiv","ContentTable","Section","Table","Visible","Hidden","Loader","load3","Cover","Toolbar","Logo","BuilderMenu","NavigationItemButton","active","DropDownMenuDiv","MenuDiv","ToolSetsContainer","Content","updateChosenBoxesAndSectionValues","newState","styledElement","hoveredElement","activeElement","boxesDragStartValues","chosenBoxesValues","chosenBoxes","forEach","box","mergeValuesOfChosenBoxes","push","width","height","left","right","top","bottom","chosenBoxesValuesStyled","endPath","concat","index","fullPath","Object","_home_ndjs_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","chosenSectionValue","chosenSection","style","source","result","attr","undefined","changeElementPropertyValue","state","action","updatedElements","getUpdatedElement","el","key","styles","includes","_home_ndjs_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","influencer","styleType","value","isSection","changed","changeElementPropertyValues","items","item","values","deselectElements","enteredBoxes","deselectInner","type","parent","length","getElementsToAdd","elements","firstLayerElements","newElementsObj","parentId","stateId","idsObj","incomeIds","generateIncomeIds","id","newId","currentId","element","styleObj","newStyleId","newElement","getElementsToDelete","toDelete","ToolsSet","aux","Success","Danger","Link","NavigationItems","NavigationItemsRight","NavigationItem","Div","Input","StyleControls","Wrong","Active","Main","BigButtonDropDown","isVisible","handleOpen","_this","setState","handleClose","react__WEBPACK_IMPORTED_MODULE_5___default","_hoc_Aux__WEBPACK_IMPORTED_MODULE_7__","this","_Svg_Svg__WEBPACK_IMPORTED_MODULE_9__","icon","title","doNotRebuild","_hoc_DropDownMenu_DropDownMenu__WEBPACK_IMPORTED_MODULE_8__","close","customClass","React","cloneElement","Component","react_redux__WEBPACK_IMPORTED_MODULE_1__","_ToolsSet_module_css__WEBPACK_IMPORTED_MODULE_2__","_ToolsSet_module_css__WEBPACK_IMPORTED_MODULE_2___default","connect","activeTopMenuItem","topMenu","isActive","react_dnd__WEBPACK_IMPORTED_MODULE_0__","react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__","react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default","DragDropContext","HTML5Backend","_LoginInput_module_css__WEBPACK_IMPORTED_MODULE_1__","_LoginInput_module_css__WEBPACK_IMPORTED_MODULE_1___default","LoginInput","inputClasses","InputElement","invalid","shouldValidate","touched","Invalid","passwordVisible","passwordToggle","password","togglePasswordVisible","PasswordIsVisible","PasswordIsHidden","Label","label","placeholder","onChange","_BigButtonWithCheckbox_module_css__WEBPACK_IMPORTED_MODULE_1__","_BigButtonWithCheckbox_module_css__WEBPACK_IMPORTED_MODULE_1___default","_Svg_Svg__WEBPACK_IMPORTED_MODULE_2__","BigButtonWithCheckbox","checked","Svg","objectSvg","svg","obj","stack","trim","indexOf","substring","pop","curObj","selfclosing","svgStringToObj","viewBox","map","svgChildrenToElements","elementIndex","d","fill","BoxInner","outline","overflow","position","display","userSelect","BoxMapIframe","border","BoxDrag","cursor","zIndex","BoxResizeLeft","background","borderRadius","boxSizing","BoxResizeRight","BoxResizeTop","BoxResizeBottom","dragStart","e","callbackMove","callbackStop","window","document","getElementById","contentWindow","startMouseX","pageX","startMouseY","pageY","prevMouseX","prevMouseY","dragMouseMove","totalDifX","totalDifY","relDifX","relDifY","addEventListener","dragMouseUp","removeEventListener","updateScrElPos","selectedBoxes","frameDoc","scrElPos","rect","body","getBoundingClientRect","keyElements","getElementsByName","toConsumableArray","isDecedant","contains","elRect","t","l","r","b","h","v","magnetizeOnElementDrag","dragType","elementId","difH","difV","lastMagneticChangeX","lastMagneticChangeY","horM","horCl","verM","verCl","hor","ver","highlightElementH","highlightLineH","highlightElementV","highlightLineV","changeX","changeY","newLeft","newRight","newVMiddle","newTop","newBottom","newHMiddle","horT","verT","c","Math","min","abs","k","s","g","max","HighlightLine","HighlightElement","MagneticDragHighlight","console","log","react_default","Aux","objectSpread","line","getCombinedStyle","styleEl","BoxControls","_Component","_getPrototypeOf2","classCallCheck","_len","arguments","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","saveHighlightInState","newValues","removeHighlightInState","handleDragMouseDown","stopPropagation","chooseBox","ctrlKey","elementsPositions","startElX","startElY","hasBeenMoved","startValues","firstTime","difX","difY","relX","relY","valueItems","startValue","changedItems","saveToHistory","handleLeftMouseDown","valueW","valueX","handleTopMouseDown","valueH","valueY","handleRightMouseDown","handleBottomMouseDown","handleEnterBox","enterBox","setActiveMenuItem","inherits","createClass","drag","onMouseDown","onDoubleClick","BoxControls_MagneticDragHighlight_MagneticDragHighlight","sideDrags","controls","previewIsOn","builder","present","preview","dispatch","itemValues","actions","ctrl","initialValue","nodes","object","leaves","text","MarkHotkey","options","onKeyDown","event","editor","next","preventDefault","toggleMark","plugins","Text","Value","fromJSON","String","JSON","parse","hasMark","activeMarks","some","mark","getMark","marks","filter","first","removeAllMarks","removeMark","nodeCreateStyle","data","marginTop","has","get","marginBottom","textIndent","textAlign","doChange","property","focus","doChangeInlineStyle","_callee","propertyValue","callback","regenerator_default","wrap","_context","prev","addMark","defineProperty","stop","doChangeBlockStyle","_callee2","blocks","_context2","setBlocks","block","newBlock","set","_callee7","_ref3","_context7","valueChange","toJSON","_ref5","asyncToGenerator","_callee3","_context3","sent","_x8","_ref6","_callee4","_context4","t0","_x9","Promise","all","_ref7","_callee6","sourceBlock","_context6","_ref8","_callee5","_context5","abrupt","_x11","_x10","saveChosenTextValues","handleClick","handleChooseTextEditor","assertThisInitialized","ref","decorateNode","node","anchor","fontSize","renderMark","color","backgroundColor","fontWeight","fontFamily","wordSpacing","letterSpacing","lineHeight","textTransform","renderNode","attributes","assign","slate_react_es","live","readOnly","textContent","MenuWrap","alignItems","justifyContent","A","textDecoration","findDirectChildren","isEqual","path","pagesStructure","website","_ref2","determineBorder","prefix","getBorder","prefix2","side","allLeft","leftResult","allRight","rightResult","allTop","topResult","allBottom","bottomResult","determineBorderBlock","determineBorderRadiusBlock","prefixSide","prefixAll","determineShadowBlock","rc_menu_es","mode","menuOrientation","openAnimation","prefixCls","selectedKeys","menuItems","addPageToMenuItems","page","newTab","name","url","itemsList","pageId","rootItems","prepareMenuItem","subItems","href","popupOffset","menuXOffsetTopNormal","menuYOffsetTopNormal","popupClassName","subItem","getMenuItems","core_browser_esm","padding","paddingLeft","menuLeftPaddingTopBlockNormal","paddingTop","menuTopPaddingTopBlockNormal","paddingRight","menuRightPaddingTopBlockNormal","paddingBottom","menuBottomPaddingTopBlockNormal","listStyle","borderLeft","borderRight","borderTop","borderBottom","boxShadow","margin","menuColorTopBlockNormal","menuColorDDBlockNormal","menuLeftPaddingDDBlockNormal","menuTopPaddingDDBlockNormal","menuRightPaddingDDBlockNormal","menuBottomPaddingDDBlockNormal","menuFontSizeTopNormal","menuFontColorTopNormal","menuFontHighlightTopNormal","menuFontFamilyTopNormal","fontStyle","menuFontItalicTopNormal","menuFontUnderlineTopNormal","menuFontStrikethroughTopNormal","menuFontOverlineTopNormal","menuFontTransformTopNormal","menuLetterSpacingTopNormal","menuWordSpacingTopNormal","menuFontColorTopHover","menuFontHighlightTopHover","menuFontUnderlineTopHover","menuFontStrikethroughTopHover","menuFontOverlineTopHover","menuFontColorTopActive","menuFontHighlightTopActive","menuFontUnderlineTopActive","menuFontStrikethroughTopActive","menuFontOverlineTopActive","menuFontSizeDDNormal","menuFontColorDDNormal","menuFontHighlightDDNormal","menuFontFamilyDDNormal","menuFontItalicDDNormal","menuFontUnderlineDDNormal","menuFontStrikethroughDDNormal","menuFontOverlineDDNormal","menuFontTransformDDNormal","menuLetterSpacingDDNormal","menuWordSpacingDDNormal","menuFontColorDDHover","menuFontHighlightDDHover","menuFontUnderlineDDHover","menuFontStrikethroughDDHover","menuFontOverlineDDHover","menuFontColorDDActive","menuFontHighlightDDActive","menuFontUnderlineDDActive","menuFontStrikethroughDDActive","menuFontOverlineDDActive","menuColorTopNormal","menuFontHorizontalAlignTopNormal","menuFontVerticalAlignTopNormal","menuWidthFlexibleTopNormal","menuWidthTopNormal","menuHeightFlexibleTopNormal","menuHeightTopNormal","menuColorTopHover","menuFontHorizontalAlignTopHover","menuFontVerticalAlignTopHover","menuColorTopActive","menuFontHorizontalAlignTopActive","menuFontVerticalAlignTopActive","menuColorDDNormal","menuFontHorizontalAlignDDNormal","menuFontVerticalAlignDDNormal","menuWidthFlexibleDDNormal","menuWidthDDNormal","menuHeightFlexibleDDNormal","menuHeightDDNormal","menuColorDDHover","menuFontHorizontalAlignDDHover","menuFontVerticalAlignDDHover","menuColorDDActive","menuFontHorizontalAlignDDActive","menuFontVerticalAlignDDActive","menuSpaceBetweenTopNormal","menuSpaceBetweenDDNormal","menuLeftPaddingTopNormal","menuTopPaddingTopNormal","menuRightPaddingTopNormal","menuBottomPaddingTopNormal","menuLeftPaddingDDNormal","menuTopPaddingDDNormal","menuRightPaddingDDNormal","menuBottomPaddingDDNormal","transition","transform","whiteSpace","marginRight","verticalAlign","clear","font","textRendering","content","animationDuration","animationFillMode","transformOrigin","opacity","animationTimingFunction","animationPlayState","animationName","0%","100%","Box","combinedStyle","borderHOffset","borderVOffset","borderBlur","borderSize","borderColor","backgroundOn","borderOn","determineStyleForState","mapOn","src","mapAddress","mapZoom","mapSatellite","frameBorder","replace","Box_Text_Text","menu","Box_Menu_Menu","BuilderControls_BoxControls_BoxControls","SectionClass","SectionInnerContent","SectionMapIframe","SectionDrag","SectionHeight","section","newValue","valueKey","SectionSpace","ownProps","space","selectSection","_ref","parseInt","outerBackgroundOn","outerBackground","mapOuter","SiteBuilder_Box_Box","SectionControls_ControlSectionDrag_ControlSectionDrag","SectionControls_ControlSectionHeight_ControlSectionHeight","ControlSpaceSection_ControlSectionSpace","p","DrawerToggle","NavigationItemButtonDropDown","Block","Backdrop","Auth","Form","Title","Subtitle","ActionBlock","Middle","RememberForgot","ForgotPassword","RememberMe","RememberMeLabel","__webpack_exports__","CHOOSE_BOX","CHOOSE_SECTION","DESELECT_ELEMENTS","CLICK_TOP_MENU_ITEM","CHANGE_ALIGN_MODE","CHANGE_ELEMENT_PROPERTY_VALUE","CHANGE_ELEMENT_PROPERTY_VALUES","DELETE_SECTION","ADD_SECTION","DUPLICATE_SECTION","MOVE_UP_SECTION","MOVE_DOWN_SECTION","DELETE_BOX","ADD_BOX","DUPLICATE_BOX","MOVE_UP_BOX","MOVE_DOWN_BOX","ZINDEX_UP_BOX","ZINDEX_DOWN_BOX","ALIGN_BOXES","CLEAR_STYLE","ENTER_BOX","EXIT_BOX","DESELECT_INNER","SAVE_TO_HISTORY","ADD_ELEMENTS_TO_BUFFER","SET_STATE_HOVER","SET_STATE_ACTIVE","UNSET_STATE_HOVER_ACTIVE","BUILDER_ZOOM_OUT","BUILDER_ZOOM_IN","BUILDER_ZOOM_RESET","LOAD_CURRENT_PAGE_TO_BUILDER","SET_CURRENT_PAGE","MARK_PAGE_AS_SAVED","MARK_PAGE_AS_LEAVING","PREVIEW_PAGE","UPDATE_TEXT_VALUES","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","DELETE_START","DELETE_SUCCESS","DELETE_FAIL","SAVE_WEBSITE_DATA_FROM_SERVER","LOAD_WEBSITE_FROM_SERVER","ACTION_START","ACTION_START_PAGE_LOAD","ACTION_FAIL","ADD_PAGE_SUCCESS","DELETE_PAGE_SUCCESS","ACTION_SUCCESS","ACTION_SUCCESS_PAGE_LOAD","SAVE_PAGE_STRUCTURE_TO_STORE","SAVE_PAGE_IN_STATE","SET_URL_IS_NOT_VALID","LOAD_GLOBALS_TO_STORE","_ToolsBlock_module_css__WEBPACK_IMPORTED_MODULE_1__","_ToolsBlock_module_css__WEBPACK_IMPORTED_MODULE_1___default","toolsBlock","_BigButton_module_css__WEBPACK_IMPORTED_MODULE_1__","_BigButton_module_css__WEBPACK_IMPORTED_MODULE_1___default","BigButton","buttonClicked","chooseBoxDo","actionTypes","chooseSection","chooseSectionDo","isNotForHistory","deleteSection","addSection","duplicateSection","moveUpSection","moveDownSection","deleteBox","addBox","rootElements","duplicateBox","moveUpBox","moveDownBox","zIndexUpBox","zIndexDownBox","copyBox","builderPresentState","bufferState","elementsToAdd","cutBox","pasteBox","exitBox","changeAlignMode","alignBoxes","alignType","setStateHover","setStateActive","builderZoomOut","builderZoomIn","builderZoomReset","previewPage","updateTextValues","loadCurrentPageToBuilder","_id","pagesObjects","pageObject","markPageAsSaved","markPageAsLeaving","setActiveTopMenuItem","addElementsToBuffer","authStart","authSuccess","authFail","error","deleteUser","axios","delete","then","response","logout","catch","err","message","localStorage","removeItem","defaults","headers","common","auth","email","isSignup","authData","post","put","Accept","stringify","setItem","token","currentAction","authCheckState","getItem","userId","determineCurrentPage","currentPage","saveWebsiteDataFromServer","createWebsite","actionStart","actionFail","loadWebsite","saveWebsiteSettings","domain","websiteData","deleteWebsite","actionSuccess","addPage","websiteId","currentPageId","addPageSuccess","deletePage","deletePageSuccess","duplicatePage","duplicate","savePagesStructure","urlNotOk","setUrlIsNotValid","savePagesStructureToStore","setCurrentPageMain","setCurrentPage","UndoActionCreators","clearHistory","savePage","savePageInState","find","isNotPublished","savePageInPagesStructure","findIndex","savePageInPagesStructureHomePage","isHomePage","publishPage","publishOne","revertPage","loadGlobalsToStore","builder_chooseBox","builder_deselectElements","builder_chooseSection","builder_changeAlignMode","builder_changeElementPropertyValue","builder_changeElementPropertyValues","builder_addSection","builder_deleteSection","builder_duplicateSection","builder_moveUpSection","builder_moveDownSection","builder_addBox","builder_deleteBox","builder_duplicateBox","builder_moveUpBox","builder_moveDownBox","builder_zIndexUpBox","builder_zIndexDownBox","builder_alignBoxes","builder_copyBox","builder_cutBox","builder_pasteBox","builder_enterBox","builder_exitBox","builder_deselectInner","builder_setStateHover","builder_setStateActive","builder_builderZoomOut","builder_builderZoomIn","builder_builderZoomReset","builder_saveToHistory","builder_previewPage","builder_loadCurrentPageToBuilder","builder_markPageAsSaved","builder_markPageAsLeaving","builder_updateTextValues","topMenu_setActiveTopMenuItem","buffer_addElementsToBuffer","auth_auth","auth_logout","auth_authCheckState","auth_deleteUser","website_saveWebsiteDataFromServer","website_createWebsite","website_loadWebsite","website_saveWebsiteSettings","website_deleteWebsite","website_savePagesStructure","website_duplicatePage","website_savePage","website_savePageInPagesStructure","website_addPage","website_deletePage","website_setCurrentPageMain","website_publishPage","website_revertPage","website_loadGlobalsToStore","Logout","onLogout","Redirect","to","asyncComponent","importComponent","_temp","component","_this2","cmp","default","C","validation","required","isEmail","valid","minLength","isPassword","isPasswordVisible","responseFacebook","responseGoogle","inputChangedHandler","controlName","updatedControls","target","checkValidity","submitHandler","onAuth","handleTogglePasswordVisible","handleRememberMe","rememberMe","rules","isValid","maxLength","test","isNumeric","location","pathname","formElementsArray","config","form","formElement","loading","Spinner","errorMessage","authRedirect","isAuthenticated","subtitile","forgotPassword","onSubmit","facebook_login_render_props_default","appId","autoLoad","fields","render","renderProps","google_login_default","clientId","onSuccess","onFailure","logo","websiterLogo","alt","drawerToggle","activeItem","clickItem","addedClasses","mapDispatchToProps","onUndo","undo","onRedo","redo","canUndo","past","canRedo","future","NavigationItems_NavigationItemButton_NavigationItemButton","sideEffect","DropDownMenu","isTopMenu","Textarea","isWrong","PageSettingsMenu","urlValue","UI_Textarea_Textarea","urlNotValid","description","currentPageState","omit","isHidden","ToolsSection","ToolsBlock","blockType","SmallButton","dropDownType","DropDownMenus_PageSettingsMenu_PageSettingsMenu","PagesMenuList","handleChange","react_sortly_lib_default","itemRenderer","connectDragSource","connectDropTarget","isDragging","isClosestDragging","marginLeft","withDragDropContext","pagesLoading","Pages","PagesMenu_PagesMenuList_PagesMenuList","cover","zoom","pageZoom","pageIsChanged","previewClicked","handleExitBox","NavigationItems_NavigationItem_NavigationItem","NavigationItems_NavigationItemButtonDropDown_NavigationItemButtonDropDown","DropDownMenus_PagesMenu_PagesMenu","DropDownMenus_BuilderZoomMenu_BuilderZoomMenu","NavigationItems_UndoRedo_UndoRedo","withRouter","drawerClicked","Toolbar_NavigationItems_NavigationItems","navigationItem","NavLink","link","exact","activeClassName","navigationItems","Navigation_NavigationItems_NavigationItem_NavigationItem","backdrop","show","websites","attachedClasses","SideDrawer","Close","open","Open","websiteOptions","currentWebsiteIndex","option","selectStyles","isDisabled","isFocused","isSelected","singleValue","control","closed","LogoContainer","react_select_esm","Select","isClearable","isSearchable","history","Navigation_NavigationItems_NavigationItems","isAuth","Layout","showSideDrawer","sideDrawerClosedHandler","drawerToggleClickedHandler","prevState","sections","sectionsOnPage","split","isLeavingBuilder","leaving","asyncWebsiteDashboard","bind","asyncSiteBuilder","asyncWebsiteSettings","asyncUserSettings","App","onTryAutoSignup","routes","Switch","Route","LiveWebsite","components_Layout_Layout","SiteBuilder_PageOnLeaveSaveReminder_PageOnLeaveSaveReminder","alignLeft","parentRect","boxesRects","alignMode","boxRect","alignRight","alignTop","alignBottom","alignHCenter","newCenter","alignVCenter","alignHDistribute","newLeftCenter","newRightCenter","start","step","quantity","sort","boxCenter","boxWidth","alignVDistribute","newTopCenter","newBottomCenter","boxHeight","initialState","saveHistory","chosenTextValues","changedStyleValues","undoableReducer","undoable","sectionChoose","_objectSpread2","header","footer","allPages","sectionAddDelDuplicate","elementsToRemove","elementsToRemoveWithStyles","currentIndex","newSectionsOnPage","sectionOrder","boxAddDelDuplicate","childrenForSort","_objectSpread3","newEl","newChildren","boxIndexOrder","_objectSpread4","elementForSwap","_objectSpread5","boxAlign","curState","prevSection","boxChooseEnterExit","styleState","viewSettings","loadSave","currState","limit","reducer","bufferElements","loadWebsiteFromServer","newPagesObjects","_loop","i","toString","actionStartPageLoad","actionSuccessPageLoad","rootReducer","store","composeEnhancers","compose","combineReducers","builderReducer","topMenuReducer","buffer","bufferReducer","authReducer","websiteReducer","createStore","applyMiddleware","thunk","interceptors","request","use","status","reject","app","es","BrowserRouter","src_App_0","root","ReactDOM","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_1__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_1___default","inline","Inline","Cell","_Spinner_module_css__WEBPACK_IMPORTED_MODULE_1__","_Spinner_module_css__WEBPACK_IMPORTED_MODULE_1___default","_hoc_Aux__WEBPACK_IMPORTED_MODULE_2__","spinner","_ToolsSection_module_css__WEBPACK_IMPORTED_MODULE_1__","_ToolsSection_module_css__WEBPACK_IMPORTED_MODULE_1___default","dropDownMenu","_home_ndjs_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ndjs_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_ndjs_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","setDropDownHeight","dropDown","dropDownDiv","current","buttonRect","previousSibling","documentElement","clientHeight","clientWidth","createRef","minWidth"],"mappings":"0FAAA,IAAAA,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAI,EAAAH,EAAA,KAAAI,EAAAJ,EAAAE,EAAAC,GAsBeE,IAVK,SAACC,GAAD,OAChBL,EAAAM,EAAAC,cAAA,UACIC,cAAaH,EAAMI,YAAc,cACjCC,SAAUL,EAAMK,SAChBC,UAAW,CAACC,IAAQC,OAAQD,IAAQP,EAAMS,UAAUC,KAAK,KACzDC,QAASX,EAAMY,SACdZ,EAAMa,gCCjBfC,EAAAC,QAAA,CAAkBC,SAAA,+BAAAC,WAAA,iCAAAC,aAAA,mCAAAC,QAAA,oDCAlBL,EAAAC,QAAA,CAAkBP,OAAA,kCAAAY,MAAA,iCAAAC,QAAA,mCAAAC,OAAA,wDCAlBR,EAAAC,QAAA,CAAkBQ,OAAA,wBAAAC,MAAA,uBAAAC,MAAA,6CCAlBX,EAAAC,QAAA,CAAkBW,QAAA,yBAAAC,KAAA,sBAAAC,YAAA,mDCAlBd,EAAAC,QAAA,CAAkBc,qBAAA,mDAAAC,OAAA,qCAAAzB,SAAA,6DCAlBS,EAAAC,QAAA,CAAkBgB,gBAAA,sCAAAN,MAAA,4BAAAO,QAAA,oDCAlBlB,EAAAC,QAAA,CAAkBW,QAAA,2BAAAO,kBAAA,qCAAAC,QAAA,gTCILC,EAAoC,SAACC,GAC9C,IAAMC,EAAgBD,EAASE,gBAAkBF,EAASG,cACpDC,EAAuB,GAE7BJ,EAASK,kBAAoB,GAC7BL,EAASM,YAAYC,QAAQ,SAAAC,GACzBC,EAAyBT,EAASQ,GAAMR,EAASK,mBACjDD,EAAqBM,KAAK,CACtBF,MACAG,MAAOX,EAASQ,GAAKG,MACrBC,OAAQZ,EAASQ,GAAKI,OACtBC,KAAMb,EAASQ,GAAKK,KACpBC,MAAOd,EAASQ,GAAKM,MACrBC,IAAKf,EAASQ,GAAKO,IACnBC,OAAQhB,EAASQ,GAAKQ,WAI9B,IAAMC,EAA0B,GAChC,GAAIhB,EAAe,CACf,IAAMiB,EAAUlB,EAASE,eAAT,IAAAiB,OACNlB,EADM,cAAAkB,OAENlB,EAFM,WAIhBD,EAASM,YAAYC,QAAQ,SAACC,EAAKY,GAC/B,IAAMC,EAAWb,EAAMU,EACnBlB,EAASqB,KACTZ,EACIT,EAASqB,GACTJ,GAEJb,EAAqBgB,GAArBE,OAAAC,EAAA,EAAAD,CAAA,GACOlB,EAAqBgB,GACrBpB,EAASqB,OAa5B,GARArB,EAASK,kBAATiB,OAAAC,EAAA,EAAAD,CAAA,GACOtB,EAASK,kBACTY,GAEPjB,EAASI,qBAAuBA,EAEhCJ,EAASwB,mBAATF,OAAAC,EAAA,EAAAD,CAAA,GAAmCtB,EAASA,EAASyB,gBAEjDxB,EAAe,CACf,IAAMyB,EACF1B,EAAQ,GAAAmB,OACDnB,EAASyB,cADR,KAAAN,OACyBlB,EADzB,KAAAkB,OAEAnB,EAASE,eAAiB,QAAU,WAG5CF,EAAS0B,KACT1B,EAASwB,mBAATF,OAAAC,EAAA,EAAAD,CAAA,GACOtB,EAASwB,mBACTxB,EAAS0B,KAIxB,OAAO1B,GAGES,EAA2B,SAACkB,EAAgBC,GACrD,IAAK,IAAMC,KAAQF,OACMG,IAAjBF,EAAOC,GACPD,EAAOC,GAAQF,EAAOE,GACfD,EAAOC,KAAUF,EAAOE,KAC/BD,EAAOC,IAAQ,GAGvB,OAAOD,GAGEG,EAA6B,SAACC,EAAeC,GACtD,IAAMC,EAAkB,GAElBC,EAAoB,SAACH,EAAOC,EAAQG,GACtC,GAAKJ,EAAM9B,gBAAmB8B,EAAM7B,cAG7B,CACH,IAAMkC,EAAML,EAAM9B,eAAN,GAAAiB,OACHiB,EADG,KAAAjB,OACGa,EAAM9B,eADT,aAAAiB,OAEHiB,EAFG,KAAAjB,OAEGa,EAAM7B,cAFT,WAGP6B,EAAMI,GAAIE,OAAOC,SAASF,KAC3BH,EAAgBE,GAAhBd,OAAAC,EAAA,EAAAD,CAAA,GACOU,EAAMI,GADb,CAEIE,OAAM,GAAAnB,OAAAG,OAAAkB,EAAA,EAAAlB,CAAMU,EAAMI,GAAIE,QAAhB,CAAwBD,OAGtCH,EAAgBG,GAAhBf,OAAAC,EAAA,EAAAD,CAAA,GACOU,EAAMK,GADb,CAEII,WAAYT,EAAM9B,eAClBwC,UAAWV,EAAM9B,eAAiB,QAAU,WAEhDgC,EAAgBG,GAAKJ,EAAOI,KAAOJ,EAAOU,WAjB1CT,EAAgBE,GAAhBd,OAAAC,EAAA,EAAAD,CAAA,GAA2BU,EAAMI,IACjCF,EAAgBE,GAAIH,EAAOI,KAAOJ,EAAOU,OA4BjD,OARKV,EAAOW,UAKRT,EAAkBH,EAAOC,EAAQD,EAAMP,eAJvCO,EAAM1B,YAAYC,QAAQ,SAAAC,GACtB2B,EAAkBH,EAAOC,EAAQzB,KAMlCT,EAAkCuB,OAAAC,EAAA,EAAAD,CAAA,GAClCU,EADiC,CAEpCa,SAAS,GACNX,KAIEY,EAA8B,SAACd,EAAeC,GACvD,IAAMC,EAAkB,GAmCxB,OANKD,EAAOW,WACRX,EAAOc,MAAMxC,QAAQ,SAAAyC,IA5BC,SAAChB,EAAOI,EAAIa,GAClC,GAAKjB,EAAM9B,gBAAmB8B,EAAM7B,cAK7B,CACH,IAAMkC,EAAML,EAAM9B,eAAN,GAAAiB,OACHiB,EADG,KAAAjB,OACGa,EAAM9B,eADT,aAAAiB,OAEHiB,EAFG,KAAAjB,OAEGa,EAAM7B,cAFT,WAGP6B,EAAMI,GAAIE,OAAOC,SAASF,KAC3BH,EAAgBE,GAAhBd,OAAAC,EAAA,EAAAD,CAAA,GACOU,EAAMI,GADb,CAEIE,OAAM,GAAAnB,OAAAG,OAAAkB,EAAA,EAAAlB,CAAMU,EAAMI,GAAIE,QAAhB,CAAwBD,OAGtCH,EAAgBG,GAAhBf,OAAAC,EAAA,EAAAD,CAAA,GACOU,EAAMK,GADb,CAEII,WAAYT,EAAM9B,eAClBwC,UAAWV,EAAM9B,eAAiB,QAAU,WAEhD+C,EAAO1C,QAAQ,SAAAoC,GACXT,EAAgBG,GAAKM,EAAMN,KAAOM,EAAMA,aApB5CT,EAAgBE,GAAhBd,OAAAC,EAAA,EAAAD,CAAA,GAA2BU,EAAMI,IACjCa,EAAO1C,QAAQ,SAAAoC,GACXT,EAAgBE,GAAIO,EAAMN,KAAOM,EAAMA,QAyB3CR,CAAkBH,EAAOgB,EAAKA,KAAMA,EAAKC,UAI1ClD,EAAkCuB,OAAAC,EAAA,EAAAD,CAAA,GAClCU,EADiC,CAEpCa,SAAS,GACNX,KAIEgB,EAAmB,SAAClB,GAAD,OAC5BjC,EAAkCuB,OAAAC,EAAA,EAAAD,CAAA,GAC3BU,EAD0B,CAE7B1B,YAAa,GACbmB,cAAe,KACf0B,aAAc,GACd9C,kBAAmB,OAGd+C,EAAgB,SAACpB,EAAeC,GACzC,IAAMkB,EAAe,GACrB,GAAgC,YAA5BnB,EAAMC,EAAOe,MAAMK,KAAoB,CACvCF,EAAazC,KAAKuB,EAAOe,MAEzB,IADA,IAAIxC,EAAMwB,EAAMC,EAAOe,MAAMM,OACF,YAApBtB,EAAMxB,GAAK6C,MACdF,EAAazC,KAAKF,GAClBA,EAAMwB,EAAMxB,GAAK8C,OAGzB,IAAMhD,EAAc,GAMpB,OALI6C,EAAaI,OAAS,GAClB,CAAC,OAAQ,QAAQhB,SAASP,EAAMmB,EAAa,IAAIE,OACjD/C,EAAYI,KAAKyC,EAAa,IAG/BpD,EAAkCuB,OAAAC,EAAA,EAAAD,CAAA,GAClCU,EADiC,CAEpC1B,YAAaA,EACb6C,aAAcA,MAeTK,EAAmB,SAAnBA,EACTxB,EACAyB,EACAC,EACAC,EACAL,EACAM,EACAC,EACAC,GAEA,GAAIJ,EAAoB,CACpB,IAAMK,EAAY,IAtBO,SAApBC,EACThC,EACAyB,EACAM,GAEAN,EAASlD,QAAQ,SAAA6B,GACb2B,EAAUrD,KAAK0B,GACf4B,EAAkBhC,EAAOA,EAAMI,GAAI3D,SAAUsF,KAgB7CC,CAAkBhC,EAAOyB,EAAUM,GACnCD,EAAS,GACTC,EAAUxD,QAAQ,SAAA0D,GACd,IAAIC,EACCL,GAIDK,EAAK,WAAA/C,OAAc0C,EAAQM,WAC3BN,EAAQM,WAAa,IAJrBD,EAAK,WAAA/C,OAAca,EAAMmC,WACzBnC,EAAMmC,WAAa,GAKvBL,EAAOG,GAAMC,IAEjBP,EAAiB,GAyCrB,GAvCAF,EAASlD,QAAQ,SAAA6D,GACb,IAAMF,EAAQJ,EAAOM,GACf9B,EAAS,GACfN,EAAMoC,GAAS9B,OAAO/B,QAAQ,SAAAmB,GAC1B,IAAM2C,EAAQ/C,OAAAC,EAAA,EAAAD,CAAA,GACPU,EAAMN,GADC,CAEVe,WACIqB,EAAO9B,EAAMN,GAAOe,aAAeT,EAAMN,GAAOe,aAElD6B,EAAU,GAAAnD,OAAM+C,EAAN,KAAA/C,OAAekD,EAAS5B,WAAxB,KAAAtB,OACZkD,EAAS3B,WAEbJ,EAAO5B,KAAK4D,GACZX,EAAeW,GAAcD,IAGjC,IAAME,EAAUjD,OAAAC,EAAA,EAAAD,CAAA,GACTU,EAAMoC,GADG,CAEZ9B,SACA7D,SAAU,KAEViF,EACAA,EAAmBhD,KAAKwD,GACjBZ,IACPiB,EAAWjB,OAASM,EACpBN,EAAO7E,SAASiC,KAAKwD,IAEzBP,EAAeO,GAASK,EACxBf,EACIxB,EACAA,EAAMoC,GAAS3F,SACf,KACAkF,EACAY,EACAL,EACAL,EACAC,KAGJJ,EACA,OAAOC,GAIFa,EAAsB,SAAtBA,EAAuBf,EAAyBzB,GACzD,IAAIyC,EAAW,GAOf,OANAhB,EAASlD,QAAQ,SAAA6D,GACbK,EAAS/D,KAAK0D,GACdK,EAAWA,EAAStD,OAChBqD,EAAoBxC,EAAMoC,GAAS3F,SAAUuD,MAG9CyC,wBC5RX/F,EAAAC,QAAA,CAAkB+F,SAAA,2BAAAhF,OAAA,2DCOHiF,IAFH,SAAC/G,GAAD,OAAkBA,EAAMa,+BCLpCC,EAAAC,QAAA,CAAkBP,OAAA,4BAAAwG,QAAA,6BAAAC,OAAA,kDCAlBnG,EAAAC,QAAA,CAAkBY,KAAA,mBAAAuF,KAAA,yCCAlBpG,EAAAC,QAAA,CAAkBoG,gBAAA,yCAAAC,qBAAA,oECAlBtG,EAAAC,QAAA,CAAkBsG,eAAA,uCAAAvF,OAAA,qDCAlBhB,EAAAC,QAAA,CAAkBP,OAAA,0BAAAY,MAAA,+CCAlBN,EAAAC,QAAA,CAAkBuG,IAAA,sBAAAC,MAAA,wBAAAC,cAAA,gCAAAC,MAAA,8CCAlB3G,EAAAC,QAAA,CAAkBP,OAAA,sCAAAY,MAAA,2DCAlBN,EAAAC,QAAA,CAAkBsG,eAAA,uCAAAK,OAAA,qDCAlB5G,EAAAC,QAAA,CAAkBU,MAAA,uCAAAkG,KAAA,+KCkBZC,6MACFxD,MAAQ,CACJyD,WAAW,KAGfC,WAAa,WACTC,EAAKC,SAAS,CAAEH,WAAYE,EAAK3D,MAAMyD,eAG3CI,YAAc,WACVF,EAAKC,SAAS,CAAEH,WAAW,6EAI3B,OACIK,EAAAjI,EAAAC,cAACiI,EAAA,EAAD,KACID,EAAAjI,EAAAC,cAAA,UACIC,cAAY,WACZG,UAAWC,IAAQC,OACnBG,QAASyH,KAAKN,YAEdI,EAAAjI,EAAAC,cAAA,SAAOI,UAAWC,IAAQa,OACtB8G,EAAAjI,EAAAC,cAAA,aACIgI,EAAAjI,EAAAC,cAAA,UACIgI,EAAAjI,EAAAC,cAAA,UACIgI,EAAAjI,EAAAC,cAACmI,EAAA,EAAD,CAAKC,KAAMF,KAAKpI,MAAMsI,SAG9BJ,EAAAjI,EAAAC,cAAA,UACIgI,EAAAjI,EAAAC,cAAA,UAAKkI,KAAKpI,MAAMuI,WAK/BH,KAAKpI,MAAMwI,aACRN,EAAAjI,EAAAC,cAACuI,EAAA,EAAD,CACIC,MAAON,KAAKH,YACZU,YACIP,KAAKhE,MAAMyD,UACLtH,IAAQc,QACRd,IAAQe,OAElBkH,aAAcJ,KAAKpI,MAAMwI,cAExBI,IAAMC,aAAaT,KAAKpI,MAAMa,SAAU,CACrC6H,MAAON,KAAKH,eAGpBG,KAAKhE,MAAMyD,UACXK,EAAAjI,EAAAC,cAACuI,EAAA,EAAD,CAAcC,MAAON,KAAKH,aACrBW,IAAMC,aAAaT,KAAKpI,MAAMa,SAAU,CACrC6H,MAAON,KAAKH,eAGpB,aAtDYa,aA4DjBlB,wCC/Ef,IAAAnI,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAsJ,EAAArJ,EAAA,GAAAsJ,EAAAtJ,EAAA,KAAAuJ,EAAAvJ,EAAAE,EAAAoJ,GAoCeE,gBANS,SAAA9E,GACpB,MAAO,CACH+E,kBAAmB/E,EAAMgF,QAAQD,oBAI1BD,CAvBS,SAAClJ,GACrB,OACIL,EAAAM,EAAAC,cAAA,SACIC,cAAY,QACZG,UACIN,EAAMmJ,oBAAsBnJ,EAAMuI,OAASvI,EAAMqJ,SAC3C,CAAC9I,IAAQuG,SAAUvG,IAAQuB,QAAQpB,KAAK,KACxCH,IAAQuG,UAGlBnH,EAAAM,EAAAC,cAAA,aACIP,EAAAM,EAAAC,cAAA,UAAKF,EAAMa,gDCxB3B,IAAAyI,EAAA5J,EAAA,IAAA6J,EAAA7J,EAAA,KAAA8J,EAAA9J,EAAAE,EAAA2J,GAGeE,8BAAgBC,uCCH/B,IAAAjK,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAkK,EAAAjK,EAAA,IAAAkK,EAAAlK,EAAAE,EAAA+J,GAoDeE,IAjCI,SAAC7J,GAChB,IAAM8J,EAAe,CAACvJ,IAAQwJ,cAE1B/J,EAAMgK,SAAWhK,EAAMiK,gBAAkBjK,EAAMkK,SAC/CJ,EAAahH,KAAKvC,IAAQ4J,SAE9B,IAAI1E,EAAOzF,EAAMyF,KACdzF,EAAMoK,kBACL3E,EAAO,QAGX,IAAM4E,EAAiBrK,EAAMsK,SACzB3K,EAAAM,EAAAC,cAAA,OACIC,cAAY,SACZQ,QAASX,EAAMuK,sBACfjK,UAAWN,EAAMoK,gBAAkB7J,IAAQiK,kBAAoBjK,IAAQkK,mBACzE,KAEN,OACI9K,EAAAM,EAAAC,cAAA,OAAKI,UAAWC,IAAQgH,OACpB5H,EAAAM,EAAAC,cAAA,SAAOI,UAAWC,IAAQmK,OAAQ1K,EAAM2K,OACxChL,EAAAM,EAAAC,cAAA,SACIC,cAAaH,EAAMI,YAAc,aACjCE,UAAWwJ,EAAapJ,KAAK,KAC7B+E,KAAMA,EACNmF,YAAa5K,EAAM4K,YACnB7F,MAAO/E,EAAM+E,MACb8F,SAAU7K,EAAMiF,UACnBoF,sCC/Cb,IAAA5K,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAqL,EAAApL,EAAA,KAAAqL,EAAArL,EAAAE,EAAAkL,GAAAE,EAAAtL,EAAA,IAuCeuL,IA3BsB,SAACjL,GAClC,OACIL,EAAAM,EAAAC,cAAA,UACIC,cAAY,WACZG,UAAWC,IAAQC,OACnBG,QAASX,EAAMY,SACfjB,EAAAM,EAAAC,cAAA,SAAOI,UAAWC,IAAQa,OACtBzB,EAAAM,EAAAC,cAAA,aACIP,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,UAAIP,EAAAM,EAAAC,cAAC8K,EAAA,EAAD,CAAK1C,KAAMtI,EAAMsI,SAEzB3I,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,SACIC,cAAY,WACZsF,KAAK,WACLoF,SAAU,aACVK,QAASlL,EAAMkL,UAAW,IAC7BlL,EAAMuI,6CC9BnC,IAAA9I,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GA0Ge0L,IA3FI,SAACnL,GAEhB,IAuEIgE,EAAS,KACb,GAAIhE,EAAMsI,KAAM,CACZ,IAAM8C,EAzEa,SAACC,GAKpB,IAJA,IAAMC,EAAM,GAENC,EAAQ,GAEPF,EAAI1F,OAAS,GAEhB,GAAyB,KADzB0F,EAAMA,EAAIG,QACHC,QAAQ,OACXJ,EAAMA,EAAIK,UAAU,IACbD,QAAQ,KAAO,GAClBJ,EAAMA,EAAIK,UAAUL,EAAII,QAAQ,MAChCF,EAAMI,OAENN,EAAM,OAEP,CAEH,IAAMO,EAAS,CACXnG,MAFJ4F,EAAMA,EAAIK,UAAUL,EAAII,QAAQ,OAElBC,UAAU,EAAGL,EAAII,QAAQ,MACnC5K,SAAU,IAGVoD,GADJoH,EAAMA,EAAIK,UAAUL,EAAII,QAAQ,OACjBC,UAAU,EAAGL,EAAII,QAAQ,MACpCI,EAAc5H,EAAKwH,QAAQ,OAAS,EAGxC,IADAJ,EAAMA,EAAIK,UAAUL,EAAII,QAAQ,KAAO,GAAGD,OACnCvH,EAAK0B,OAAS,GAAG,CACpB,IAAIlB,EAAMR,EAAKyH,UAAU,EAAGzH,EAAKwH,QAAQ,MAAMD,OAE3CzG,GADJd,EAAOA,EAAKyH,UAAUzH,EAAKwH,QAAQ,KAAO,IACzBC,UAAU,EAAGzH,EAAKwH,QAAQ,MAAMD,OACjDvH,EAAOA,EAAKyH,UAAUzH,EAAKwH,QAAQ,KAAO,GAAGD,OAC7CI,EAAOnH,GAAOM,EAEG,IAAjBwG,EAAM5F,OACN2F,EAAIxI,KAAK8I,GAETL,EAAMA,EAAM5F,OAAS,GAAG9E,SAASiC,KAAK8I,GAEtCC,GACAN,EAAMzI,KAAK8I,GAIvB,OAAON,EAAI,GA8BOQ,CAAe9L,EAAMsI,MAEvCtE,EAASrE,EAAAM,EAAAC,cAAA,OACDC,cAAaH,EAAMI,YAAc,MACjC4C,OAAQoI,EAAUpI,OAClBD,MAAOqI,EAAUrI,MACjBgJ,QAASX,EAAUW,QACnBzL,UAAWN,EAAMM,WAChB8K,EAAUvK,SAASmL,IAAK,SAACxF,EAAShD,GAAV,OAnCP,SAAxByI,EAAyBzF,EAAkB0F,GAC7C,OAAQ1F,EAAQf,MACZ,IAAK,OACD,OAAO9F,EAAAM,EAAAC,cAAA,QACCuE,IAAKyH,EACLC,EAAG3F,EAAQ2F,EACXC,KAAM5F,EAAQ4F,MACb5F,EAAQ3F,SAASmL,IAAK,SAACxH,EAAahB,GAAd,OACnByI,EAAsBzH,EAAIhB,MAG1C,IAAK,IACD,OAAO7D,EAAAM,EAAAC,cAAA,KACCuE,IAAKyH,EACLE,KAAM5F,EAAQ4F,MACb5F,EAAQ3F,SAASmL,IAAK,SAACxH,EAAahB,GAAd,OACnByI,EAAsBzH,EAAIhB,MAG1C,QACI,QAgBIyI,CAAsBzF,EAAShD,MAI/C,OAAOQ,6FCvGEqI,EAAW,CACpBC,QAAS,OACTC,SAAU,OACVC,SAAU,WACVvJ,KAAM,MACNC,MAAO,MACPC,IAAK,MACLC,OAAQ,MACRqJ,QAAS,QACTC,WAAY,QAGHC,EAAe,CACxB5J,MAAO,OACPC,OAAQ,OACR4J,OAAQ,IACRJ,SAAU,WACVvJ,KAAM,MACNE,IAAK,uDClBI0J,EAAU,CACrBL,SAAU,WACVvJ,KAAM,MACNE,IAAK,MACLC,OAAQ,MACRF,MAAO,MACP4J,OAAQ,UACRC,OAAQ,WACRN,QAAS,SAGEO,EAAgB,CAC3BP,QAAS,QACTD,SAAU,WACVvJ,KAAM,QACNE,IAAK,mBACL8J,WAAY,qBACZL,OAAQ,iBACRE,OAAQ,WACR/J,MAAO,OACPC,OAAQ,OACR+J,OAAQ,WACRG,aAAc,OACdC,UAAW,cAGAC,EAAiB,CAC5BX,QAAS,QACTD,SAAU,WACVtJ,MAAO,QACPC,IAAK,mBACL8J,WAAY,qBACZL,OAAQ,iBACRE,OAAQ,WACR/J,MAAO,OACPC,OAAQ,OACR+J,OAAQ,WACRG,aAAc,OACdC,UAAW,cAGAE,EAAe,CAC1BZ,QAAS,QACTD,SAAU,WACVrJ,IAAK,QACLF,KAAM,mBACNgK,WAAY,qBACZL,OAAQ,iBACRE,OAAQ,WACR/J,MAAO,OACPC,OAAQ,OACR+J,OAAQ,WACRG,aAAc,OACdC,UAAW,cAGAG,EAAkB,CAC7Bb,QAAS,QACTD,SAAU,WACVpJ,OAAQ,QACRH,KAAM,mBACNgK,WAAY,qBACZL,OAAQ,iBACRE,OAAQ,WACR/J,MAAO,OACPC,OAAQ,OACR+J,OAAQ,WACRG,aAAc,OACdC,UAAW,sBCpEAI,EAAY,SAACC,EAA0BC,EAAsBC,GAEtE,IAAMC,EAASC,SAASC,eAAe,gBAAgBC,cACjDC,EAAcP,EAAEQ,MAChBC,EAAcT,EAAEU,MAClBC,EAAaX,EAAEQ,MACfI,EAAaZ,EAAEU,MAEbG,EAAgB,SAAAb,GAClB,IAAMc,EAAYd,EAAEQ,MAAQD,EACtBQ,EAAYf,EAAEU,MAAQD,EACtBO,EAAUhB,EAAEQ,MAAQG,EACpBM,EAAUjB,EAAEU,MAAQE,EAC1BD,EAAaX,EAAEQ,MACfI,EAAaZ,EAAEU,MACfT,EAAaa,EAAWC,EAAWC,EAASC,IAShDd,EAAOe,iBAAiB,YAAaL,GACrCV,EAAOe,iBAAiB,UAPJ,SAAdC,IACFhB,EAAOiB,oBAAoB,YAAaP,GACxCV,EAAOiB,oBAAoB,UAAWD,GACtCjB,OCrBKmB,EAAiB,SAACC,GAE3B,IAAMC,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCoB,EAAW,GACXC,EAAOF,EAASG,KAAKC,wBACrBhM,EAAM8L,EAAK9L,IACXC,EAAS6L,EAAK7L,OACdH,EAAOgM,EAAKhM,KACZC,EAAQ+L,EAAK/L,MACbkM,EAAcL,EAASM,kBAAkB,cA2C/C,OA1CC3L,OAAA4L,EAAA,EAAA5L,CAAI0L,GAAazM,QAAQ,SAAA6D,GACtB,GAAIsI,EAAcrD,QAAQjF,EAAQH,IAAM,EAAG,CACvC,IAAIkJ,GAAa,EAKjB,GAJAT,EAAcnM,QAAQ,SAAAC,GAClB2M,EACIR,EAASlB,eAAejL,GAAK4M,SAAShJ,IAAY+I,KAErDA,EAAY,CAEb,IAAME,EAASjJ,EAAQ2I,wBACjBvP,EAAI,CACN4G,UACAkJ,EAAGD,EAAOtM,IACVwM,EAAGF,EAAOxM,KACV2M,EAAGH,EAAOvM,MACV2M,EAAGJ,EAAOrM,OACV0M,GAAIL,EAAOrM,OAASqM,EAAOtM,KAAO,EAAIsM,EAAOtM,IAC7C4M,GAAIN,EAAOvM,MAAQuM,EAAOxM,MAAQ,EAAIwM,EAAOxM,OAI3CrD,EAAE8P,EAAIvM,GAAOvD,EAAE8P,EAAItM,GAChBxD,EAAEiQ,EAAI1M,GAAOvD,EAAEiQ,EAAIzM,GACnBxD,EAAE8P,EAAIvM,GAAOvD,EAAEiQ,EAAI1M,GACnBvD,EAAEiQ,EAAIzM,GAAUxD,EAAE8P,EAAItM,KACzBxD,EAAE+P,EAAI1M,GAAQrD,EAAE+P,EAAIzM,GACjBtD,EAAEgQ,EAAI3M,GAAQrD,EAAEgQ,EAAI1M,GACpBtD,EAAE+P,EAAI1M,GAAQrD,EAAEgQ,EAAI3M,GACpBrD,EAAEgQ,EAAI1M,GAAStD,EAAE+P,EAAIzM,IAE1B8L,EAASlM,KAAKlD,OAYvBoP,GAGEgB,EAAyB,SAClChB,EACAiB,EACAC,EACAjN,EACAC,EACAC,EACAC,EACA+M,EACAC,EACAC,EACAC,GAEA,IAaIC,EACAC,EAEAC,EACAC,EAEAC,EACAC,EACAC,EAAmBC,EAAgBC,EAAmBC,EArBtDC,EAAU,EACVC,EAAU,EAERjC,EAAOrB,SACRC,eAAe,gBACfC,cAAcF,SAASC,eAAeqC,GACtCf,wBACCgC,EAAUlC,EAAKhM,KAAOkN,EAAOE,EAC7Be,EAAWnC,EAAK/L,MAAQiN,EAAOE,EAC/BgB,EAAaF,GAAWC,EAAWD,GAAW,EAC9CG,EAASrC,EAAK9L,IAAMiN,EAAOE,EAC3BiB,EAAYtC,EAAK7L,OAASgN,EAAOE,EACjCkB,EAAaF,GAAUC,EAAYD,GAAU,EAG/CG,EAAO,GAGPC,EAAO,GA4LX,GAvLA1C,EAASrM,QAAQ,SAAAgP,GACE,QAAXA,EAAElM,OAEEkL,EADW,QAAXgB,EAAElM,KACImM,KAAKC,IACPD,KAAKE,IAAIR,EAASK,EAAEjC,GACpBkC,KAAKE,IAAIP,EAAYI,EAAE9B,GACvB+B,KAAKE,IAAIR,EAASK,EAAE9B,GACpB+B,KAAKE,IAAIP,EAAYI,EAAEjC,GACvBkC,KAAKE,IAAIR,EAASK,EAAE7B,GACpB8B,KAAKE,IAAIP,EAAYI,EAAE7B,GACvB8B,KAAKE,IAAIN,EAAaG,EAAEjC,GACxBkC,KAAKE,IAAIN,EAAaG,EAAE7B,GACxB8B,KAAKE,IAAIN,EAAaG,EAAE9B,IAErB,EACM,SAAbI,GAAoC,SAAbA,IACnB2B,KAAKE,IAAIX,EAAUQ,EAAEhC,GAAK,KACrBa,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGA,QAAXE,EAAElM,OACEmM,KAAKE,IAAIX,EAAUQ,EAAE5B,GAAK,KACrBS,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGXG,KAAKE,IAAIX,EAAUQ,EAAE/B,GAAK,KACrBY,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,QAKN,UAAbxB,GAAqC,SAAbA,IACpB2B,KAAKE,IAAIV,EAAWO,EAAEhC,GAAK,KACtBa,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGA,QAAXE,EAAElM,OACEmM,KAAKE,IAAIV,EAAWO,EAAE5B,GAAK,KACtBS,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGXG,KAAKE,IAAIV,EAAWO,EAAE/B,GAAK,KACtBY,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,QAKN,SAAbxB,IACI2B,KAAKE,IAAIT,EAAaM,EAAEhC,GAAK,KACxBa,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGA,QAAXE,EAAElM,OACEmM,KAAKE,IAAIT,EAAaM,EAAE5B,GAAK,KACxBS,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,MAGXG,KAAKE,IAAIT,EAAaM,EAAE/B,GAAK,KACxBY,GAAUA,GAASG,EAAMJ,KAC1BA,EAAOI,EACPH,EAAQmB,EACRF,EAAO,SAMZ,QAAXE,EAAElM,OAEEmL,EADW,QAAXe,EAAElM,KACImM,KAAKC,IACPD,KAAKE,IAAIX,EAAUQ,EAAEhC,GACrBiC,KAAKE,IAAIV,EAAWO,EAAE/B,GACtBgC,KAAKE,IAAIX,EAAUQ,EAAE/B,GACrBgC,KAAKE,IAAIV,EAAWO,EAAEhC,GACtBiC,KAAKE,IAAIX,EAAUQ,EAAE5B,GACrB6B,KAAKE,IAAIV,EAAWO,EAAE5B,GACtB6B,KAAKE,IAAIT,EAAaM,EAAEhC,GACxBiC,KAAKE,IAAIT,EAAaM,EAAE5B,GACxB6B,KAAKE,IAAIT,EAAaM,EAAE/B,IAErB,EACM,QAAbK,GAAmC,SAAbA,IAClB2B,KAAKE,IAAIR,EAASK,EAAEjC,GAAK,KACpBgB,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGA,QAAXC,EAAElM,OACEmM,KAAKE,IAAIR,EAASK,EAAE7B,GAAK,KACpBY,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGXE,KAAKE,IAAIR,EAASK,EAAE9B,GAAK,KACpBa,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,QAKN,WAAbzB,GAAsC,SAAbA,IACrB2B,KAAKE,IAAIP,EAAYI,EAAEjC,GAAK,KACvBgB,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGA,QAAXC,EAAElM,OACEmM,KAAKE,IAAIP,EAAYI,EAAE7B,GAAK,KACvBY,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGXE,KAAKE,IAAIP,EAAYI,EAAE9B,GAAK,KACvBa,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,QAKN,SAAbzB,IACI2B,KAAKE,IAAIN,EAAaG,EAAEjC,GAAK,KACxBgB,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGA,QAAXC,EAAElM,OACEmM,KAAKE,IAAIN,EAAaG,EAAE7B,GAAK,KACxBY,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,MAGXE,KAAKE,IAAIN,EAAaG,EAAE9B,GAAK,KACxBa,GAAUA,GAASE,EAAMH,KAC1BA,EAAOG,EACPF,EAAQiB,EACRD,EAAO,WAQ3BlB,EA0CA,OAzCQ,CACJ,CAAE5Q,EAAG,KAAMmS,EAAGZ,EAASrB,EAAGU,EAAMb,EAAGgC,EAAG,EAAGK,EAAG/O,GAC5C,CAAErD,EAAG,KAAMmS,EAAGZ,EAASrB,EAAGU,EAAMT,EAAG4B,EAAG,EAAGK,EAAG/O,GAC5C,CAAErD,EAAG,KAAMmS,EAAGZ,EAASrB,EAAGU,EAAMZ,EAAG+B,EAAG,EAAGK,EAAG/O,GAC5C,CAAErD,EAAG,KAAMmS,EAAGX,EAAUtB,EAAGU,EAAMb,EAAGgC,GAAI,EAAGK,EAAG9O,GAC9C,CAAEtD,EAAG,KAAMmS,EAAGX,EAAUtB,EAAGU,EAAMT,EAAG4B,GAAI,EAAGK,EAAG9O,GAC9C,CAAEtD,EAAG,KAAMmS,EAAGX,EAAUtB,EAAGU,EAAMZ,EAAG+B,GAAI,EAAGK,EAAG9O,GAC9C,CAAEtD,EAAG,KAAMmS,EAAGV,EAAYvB,EAAGU,EAAMb,GACnC,CAAE/P,EAAG,KAAMmS,EAAGV,EAAYvB,EAAGU,EAAMT,GACnC,CAAEnQ,EAAG,KAAMmS,EAAGV,EAAYvB,EAAGU,EAAMZ,IAErCjN,QAAQ,SAAAsP,GACFR,IAASQ,EAAErS,IACXqR,EAAUgB,EAAEF,EAAIE,EAAEnC,EAED,SAAbG,GACIhN,IAAMA,GAAegP,EAAEF,EAAIE,EAAEnC,GAC7B5M,IAAOA,GAAiB+O,EAAEF,EAAIE,EAAEnC,IAEhC7M,EACAA,GAAegP,EAAEF,EAAIE,EAAEnC,EAEvB5M,GAAiB+O,EAAEF,EAAIE,EAAEnC,KAMzCe,EAAoB,CAChB9N,MAAOyN,EAAMZ,EAAIY,EAAMb,EACvB3M,OAAQwN,EAAMX,EAAIW,EAAMd,EACxBzM,KAAMuN,EAAMb,EACZxM,IAAKqN,EAAMd,GAEfoB,EAAiB,CACb/N,MAAO,EACPI,IAAKyO,KAAKC,IAAIP,EAAQd,EAAMd,GAC5B1M,OAAQ4O,KAAKM,IAAIX,EAAWf,EAAMX,GAAK+B,KAAKC,IAAIP,EAAQd,EAAMd,GAC9DzM,KAAM,GAGFwO,GACJ,IAAK,KACDX,EAAe7N,KAAOuN,EAAMb,EAAI,EAChC,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMb,GAAKa,EAAMZ,EAAIY,EAAMb,GAAK,EAAI,EAC1D,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMZ,EAC5B,MACJ,IAAK,KACDkB,EAAe7N,KAAOuN,EAAMb,EAAI,EAChC,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMb,GAAKa,EAAMZ,EAAIY,EAAMb,GAAK,EACtD,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMZ,EAC5B,MACJ,IAAK,KACDkB,EAAe7N,KAAOuN,EAAMb,EAAI,EAChC,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMb,GAAKa,EAAMZ,EAAIY,EAAMb,GAAK,EACtD,MACJ,IAAK,KACDmB,EAAe7N,KAAOuN,EAAMZ,EAC5B,MACJ,QACIkB,EAAe7N,KAAOuN,EAAMb,EAAI,EAI5C,GAAIe,EA0CA,OAzCQ,CACJ,CAAE9Q,EAAG,KAAMmS,EAAGT,EAAQxB,EAAGY,EAAMhB,EAAGiC,EAAG,EAAGK,EAAG7O,GAC3C,CAAEvD,EAAG,KAAMmS,EAAGT,EAAQxB,EAAGY,EAAMZ,EAAG6B,EAAG,EAAGK,EAAG7O,GAC3C,CAAEvD,EAAG,KAAMmS,EAAGT,EAAQxB,EAAGY,EAAMb,EAAG8B,EAAG,EAAGK,EAAG7O,GAC3C,CAAEvD,EAAG,KAAMmS,EAAGR,EAAWzB,EAAGY,EAAMhB,EAAGiC,GAAI,EAAGK,EAAG5O,GAC/C,CAAExD,EAAG,KAAMmS,EAAGR,EAAWzB,EAAGY,EAAMZ,EAAG6B,GAAI,EAAGK,EAAG5O,GAC/C,CAAExD,EAAG,KAAMmS,EAAGR,EAAWzB,EAAGY,EAAMb,EAAG8B,GAAI,EAAGK,EAAG5O,GAC/C,CAAExD,EAAG,KAAMmS,EAAGP,EAAY1B,EAAGY,EAAMhB,GACnC,CAAE9P,EAAG,KAAMmS,EAAGP,EAAY1B,EAAGY,EAAMZ,GACnC,CAAElQ,EAAG,KAAMmS,EAAGP,EAAY1B,EAAGY,EAAMb,IAErClN,QAAQ,SAAAsP,GACFP,IAASO,EAAErS,IACXsR,EAAUe,EAAEF,EAAIE,EAAEnC,EAED,SAAbG,GACI9M,IAAKA,GAAa8O,EAAEF,EAAIE,EAAEnC,GAC1B1M,IAAQA,GAAmB6O,EAAEF,EAAIE,EAAEnC,IAEnC3M,EACAA,GAAa8O,EAAEF,EAAIE,EAAEnC,EAErB1M,EAASA,EAAS6O,EAAEF,EAAIE,EAAEnC,KAM1CiB,EAAoB,CAChBhO,MAAO2N,EAAMd,EAAIc,EAAMf,EACvB3M,OAAQ0N,EAAMb,EAAIa,EAAMhB,EACxBzM,KAAMyN,EAAMf,EACZxM,IAAKuN,EAAMhB,GAEfsB,EAAiB,CACbhO,OAAQ,EACRC,KAAM2O,KAAKC,IAAIV,EAAST,EAAMf,GAC9B5M,MAAO6O,KAAKM,IAAId,EAAUV,EAAMd,GAAKgC,KAAKC,IAAIV,EAAST,EAAMf,GAC7DxM,IAAK,GAGDuO,GACJ,IAAK,KACDV,EAAe7N,IAAMuN,EAAMhB,EAAI,EAC/B,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMhB,GAAKgB,EAAMb,EAAIa,EAAMhB,GAAK,EAAI,EACzD,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMb,EAC3B,MACJ,IAAK,KACDmB,EAAe7N,IAAMuN,EAAMhB,EAAI,EAC/B,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMhB,GAAKgB,EAAMb,EAAIa,EAAMhB,GAAK,EACrD,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMb,EAC3B,MACJ,IAAK,KACDmB,EAAe7N,IAAMuN,EAAMhB,EAAI,EAC/B,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMhB,GAAKgB,EAAMb,EAAIa,EAAMhB,GAAK,EACrD,MACJ,IAAK,KACDsB,EAAe7N,IAAMuN,EAAMb,EAC3B,MACJ,QACImB,EAAe7N,IAAMuN,EAAMhB,EAAI,EAI3C,MAAO,CACHzM,OACAC,QACAC,MACAC,SACA6N,UACAC,UACAL,oBACAC,iBACAC,oBACAC,mBCnbKmB,EAAgB,CACzBlF,WAAY,UACZT,SAAU,QACVO,OAAQ,YAGCqF,EAAmB,CAC5B9F,QAAS,oBACTE,SAAU,QACVO,OAAQ,WACRE,WAAY,eCoDDoF,EApCsB,SAACrS,GAElC,OADAsS,QAAQC,IAAIvS,GAERwS,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAA,OACIC,cACIH,EAAMI,WAAN,GAAAmD,OACSvD,EAAMI,WADf,SAEM,eAEV0D,MAAKJ,OAAAgP,EAAA,EAAAhP,CAAA,GACEnD,EADF,CAEDwC,MAAO/C,EAAM2S,KAAK5P,MAAQ,KAC1BC,OAAQhD,EAAM2S,KAAK3P,OAAS,KAC5BC,KAAMjD,EAAM2S,KAAK1P,KAAO,KACxBE,IAAKnD,EAAM2S,KAAKxP,IAAM,SAG9BqP,EAAAvS,EAAAC,cAAA,OACIC,cACIH,EAAMI,WAAN,GAAAmD,OACSvD,EAAMI,WADf,YAEM,kBAEV0D,MAAKJ,OAAAgP,EAAA,EAAAhP,CAAA,GACEnD,EADF,CAEDwC,MAAO/C,EAAMwG,QAAQzD,MAAQ,KAC7BC,OAAQhD,EAAMwG,QAAQxD,OAAS,KAC/BC,KAAMjD,EAAMwG,QAAQvD,KAAO,KAC3BE,IAAKnD,EAAMwG,QAAQrD,IAAM,WCpD9ByP,EAAA,SACXpO,EACAE,EACApC,EACAC,GAyBA,IAAIsQ,EAAOnP,OAAAgP,EAAA,EAAAhP,CAAA,GAAQc,GAenB,OAdAE,EAAO/B,QAAQ,SAAAmB,GACQ,UAAfA,EAAM2B,MAAoB3B,EAAMe,aAAevC,IAC/CuQ,EAAOnP,OAAAgP,EAAA,EAAAhP,CAAA,GACAmP,EACA/O,IAGQ,WAAfA,EAAM2B,MAAqB3B,EAAMe,aAAetC,IAChDsQ,EAAOnP,OAAAgP,EAAA,EAAAhP,CAAA,GACAmP,EACA/O,MAIR+O,GC8CEC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAjL,EAAArE,OAAAuP,EAAA,EAAAvP,CAAA0E,KAAA0K,GAAA,QAAAI,EAAAC,UAAAxN,OAAAyN,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAvL,EAAArE,OAAA6P,EAAA,EAAA7P,CAAA0E,MAAA4K,EAAAtP,OAAA8P,EAAA,EAAA9P,CAAAoP,IAAAW,KAAAC,MAAAV,EAAA,CAAA5K,MAAA7E,OAAA6P,MAEIhP,MAAQ,CACJyM,kBAAmB,KACnBC,eAAgB,KAChBC,kBAAmB,KACnBC,eAAgB,MANxBjJ,EAUI4L,qBAAuB,SAACC,GACpB7L,EAAKC,SAAS,CACV6I,kBAAmB+C,EAAU/C,kBAC7BC,eAAgB8C,EAAU9C,eAC1BC,kBAAmB6C,EAAU7C,kBAC7BC,eAAgB4C,EAAU5C,kBAftCjJ,EAoBI8L,uBAAyB,WACrB9L,EAAKC,SAAS,CACV6I,kBAAmB,KACnBC,eAAgB,KAChBC,kBAAmB,KACnBC,eAAgB,QAzB5BjJ,EA8BI+L,oBAAsB,SAACtG,GAEnBA,EAAEuG,kBAEF,IAAMlB,EAAUD,EACZ7K,EAAK/H,MAAM4C,IACXmF,EAAK/H,MAAM0E,OACXqD,EAAK/H,MAAMsC,eACXyF,EAAK/H,MAAMuC,eAEfwF,EAAK/H,MAAMgU,UAAUjM,EAAK/H,MAAMqG,GAAImH,EAAEyG,SACtC,IAAIC,EAAoB,GAClBC,EAAWtB,EAAQ5P,KACnBmR,EAAWvB,EAAQ1P,IACrBkN,EAAsB,EACtBC,EAAsB,EACtB+D,GAAe,EACfC,EAAc,GACdC,GAAY,EAEhBhH,EACIC,EAEA,SAACgH,EAAMC,EAAMC,EAAMC,GAEf,IAAMf,EAAY5D,EACdkE,EACA,OACAnM,EAAK/H,MAAMqG,GACX8N,EAAWK,EACX,KACAJ,EAAWK,EACX,KACAC,EACAC,EACAtE,EACAC,GAGJD,EAAsBuD,EAAU3C,QAChCX,EAAsBsD,EAAU1C,QAG5BqD,IACAD,EAAW5Q,OAAA4L,EAAA,EAAA5L,CAAOqE,EAAK/H,MAAMsU,aAC7BJ,EAAoBrF,EAAe9G,EAAK/H,MAAM0C,aAC9C6R,GAAY,GAEhB,IAAMK,EAAa,GAGnBN,EAAY3R,QAAQ,SAAAkS,GAChBD,EAAW9R,KAAK,CACZsC,KAAMyP,EAAWjS,IACjByC,OAAQ,CACJ,CACIZ,IAAK,OACLM,MACI8P,EAAW5R,KACXuR,EACAnE,GAER,CACI5L,IAAK,MACLM,MACI8P,EAAW1R,IAAMsR,EAAOnE,QAO5CvI,EAAK/H,MAAM8U,aAAaF,GAExB7M,EAAK4L,qBAAqBC,GAC1BS,GAAe,GAGnB,WACItM,EAAK8L,yBACDQ,GACAtM,EAAK/H,MAAM+U,mBA/G/BhN,EAsHIiN,oBAAsB,SAACxH,GACnBA,EAAEuG,kBACF,IAMMI,EANUvB,EACZ7K,EAAK/H,MAAM4C,IACXmF,EAAK/H,MAAM0E,OACXqD,EAAK/H,MAAMsC,eACXyF,EAAK/H,MAAMuC,eAEUU,KACrBoN,EAAsB,EACtB6D,EAAoB,GACpBI,EAAc,GACdC,GAAY,EAEhBhH,EACIC,EACA,SAACgH,EAAMC,EAAMC,EAAMC,GACf,IAAMf,EAAY5D,EACdkE,EACA,OACAnM,EAAK/H,MAAMqG,GACX8N,EAAWK,EACX,KACA,KACA,KACAE,EACAC,EACAtE,EACA,MAGJA,EAAsBuD,EAAU3C,QAE5BsD,IACAD,EAAW5Q,OAAA4L,EAAA,EAAA5L,CAAOqE,EAAK/H,MAAMsU,aAC7BJ,EAAoBrF,EAAe9G,EAAK/H,MAAM0C,aAC9C6R,GAAY,GAEhB,IAAMK,EAAa,GACnBN,EAAY3R,QAAQ,SAAAkS,GAChB,IAAII,EAASJ,EAAW9R,MAAQyR,EAAOZ,EAAU3C,QAC7CiE,EAASL,EAAW5R,KAAOuR,EAAOnE,EAClC4E,EAAS,IACTC,EAASL,EAAW5R,KAAO4R,EAAW9R,MAAQ,EAC9CkS,EAAS,GAGbL,EAAW9R,KAAK,CACZsC,KAAMyP,EAAWjS,IACjByC,OAAQ,CACJ,CAAEZ,IAAK,OAAQM,MAAOmQ,GACtB,CAAEzQ,IAAK,QAASM,MAAOkQ,QAInClN,EAAK/H,MAAM8U,aAAaF,GAExB7M,EAAK4L,qBAAqBC,IAE9B,WACI7L,EAAK8L,yBACL9L,EAAK/H,MAAM+U,mBAnL3BhN,EAyLIoN,mBAAqB,SAAC3H,GAClBA,EAAEuG,kBACF,IAMMK,EANUxB,EACZ7K,EAAK/H,MAAM4C,IACXmF,EAAK/H,MAAM0E,OACXqD,EAAK/H,MAAMsC,eACXyF,EAAK/H,MAAMuC,eAEUY,IACrBmN,EAAsB,EACtB4D,EAAoB,GACpBI,EAAc,GACdC,GAAY,EAEhBhH,EACIC,EACA,SAACgH,EAAMC,EAAMC,EAAMC,GACf,IAAMf,EAAY5D,EACdkE,EACA,MACAnM,EAAK/H,MAAMqG,GACX,KACA,KACA+N,EAAWK,EACX,KACAC,EACAC,EACA,KACArE,GAGJA,EAAsBsD,EAAU1C,QAE5BqD,IACAD,EAAW5Q,OAAA4L,EAAA,EAAA5L,CAAOqE,EAAK/H,MAAMsU,aAC7BJ,EAAoBrF,EAAe9G,EAAK/H,MAAM0C,aAC9C6R,GAAY,GAEhB,IAAMK,EAAa,GACnBN,EAAY3R,QAAQ,SAAAkS,GAChB,IAAIO,EAASP,EAAW7R,OAASyR,EAAOb,EAAU1C,QAC9CmE,EAASR,EAAW1R,IAAMsR,EAAOnE,EACjC8E,EAAS,IACTC,EAASR,EAAW1R,IAAM0R,EAAW7R,OAAS,EAC9CoS,EAAS,GAEbR,EAAW9R,KAAK,CACZsC,KAAMyP,EAAWjS,IACjByC,OAAQ,CACJ,CAAEZ,IAAK,MAAOM,MAAOsQ,GACrB,CAAE5Q,IAAK,SAAUM,MAAOqQ,QAIpCrN,EAAK/H,MAAM8U,aAAaF,GAExB7M,EAAK4L,qBAAqBC,IAE9B,WACI7L,EAAK/H,MAAM+U,gBACXhN,EAAK8L,4BArPrB9L,EA2PIuN,qBAAuB,SAAC9H,GACpBA,EAAEuG,kBACF,IAMMI,EANUvB,EACZ7K,EAAK/H,MAAM4C,IACXmF,EAAK/H,MAAM0E,OACXqD,EAAK/H,MAAMsC,eACXyF,EAAK/H,MAAMuC,eAEUU,KACrBoN,EAAsB,EACtB6D,EAAoB,GACpBI,EAAc,GACdC,GAAY,EAEhBhH,EACIC,EACA,SAACgH,EAAMC,EAAMC,EAAMC,GACf,IAAMf,EAAY5D,EACdkE,EACA,QACAnM,EAAK/H,MAAMqG,GACX,KACA8N,EAAWK,EACX,KACA,KACAE,EACAC,EACAtE,EACA,MAGJA,EAAsBuD,EAAU3C,QAE5BsD,IACAD,EAAW5Q,OAAA4L,EAAA,EAAA5L,CAAOqE,EAAK/H,MAAMsU,aAC7BJ,EAAoBrF,EAAe9G,EAAK/H,MAAM0C,aAC9C6R,GAAY,GAEhB,IAAMK,EAAa,GACnBN,EAAY3R,QAAQ,SAAAkS,GAChB,IAAII,EAASJ,EAAW9R,MAAQyR,EAAOZ,EAAU3C,QAC7CiE,EAASL,EAAW5R,KAAOuR,EAAOnE,EAClC4E,EAAS,IACTA,EAAS,GAGbL,EAAW9R,KAAK,CACZsC,KAAMyP,EAAWjS,IACjByC,OAAQ,CACJ,CAAEZ,IAAK,QAASM,MAAOmQ,GACvB,CAAEzQ,IAAK,QAASM,MAAOkQ,QAInClN,EAAK/H,MAAM8U,aAAaF,GAExB7M,EAAK4L,qBAAqBC,IAE9B,WACI7L,EAAK/H,MAAM+U,gBACXhN,EAAK8L,4BAvTrB9L,EA6TIwN,sBAAwB,SAAC/H,GACrBA,EAAEuG,kBACF,IAMMK,EANUxB,EACZ7K,EAAK/H,MAAM4C,IACXmF,EAAK/H,MAAM0E,OACXqD,EAAK/H,MAAMsC,eACXyF,EAAK/H,MAAMuC,eAEUa,OACrBkN,EAAsB,EACtB4D,EAAoB,GACpBI,EAAc,GACdC,GAAY,EAEhBhH,EACIC,EACA,SAACgH,EAAMC,EAAMC,EAAMC,GACf,IAAMf,EAAY5D,EACdkE,EACA,SACAnM,EAAK/H,MAAMqG,GACX,KACA,KACA,KACA+N,EAAWK,EACXC,EACAC,EACA,KACArE,GAGJA,EAAsBsD,EAAU1C,QAE5BqD,IACAD,EAAW5Q,OAAA4L,EAAA,EAAA5L,CAAOqE,EAAK/H,MAAMsU,aAC7BJ,EAAoBrF,EAAe9G,EAAK/H,MAAM0C,aAC9C6R,GAAY,GAEhB,IAAMK,EAAa,GACnBN,EAAY3R,QAAQ,SAAAkS,GAChB,IAAIO,EAASP,EAAW7R,OAASyR,EAAOb,EAAU1C,QAC9CmE,EAASR,EAAW1R,IAAMsR,EAAOnE,EACjC8E,EAAS,IACTA,EAAS,GAGbR,EAAW9R,KAAK,CACZsC,KAAMyP,EAAWjS,IACjByC,OAAQ,CACJ,CAAEZ,IAAK,SAAUM,MAAOsQ,GACxB,CAAE5Q,IAAK,SAAUM,MAAOqQ,QAIpCrN,EAAK/H,MAAM8U,aAAaF,GAExB7M,EAAK4L,qBAAqBC,IAE9B,WACI7L,EAAK/H,MAAM+U,gBACXhN,EAAK8L,4BAzXrB9L,EA8XIyN,eAAiB,WACbzN,EAAK/H,MAAMyV,WACiB,SAAxB1N,EAAK/H,MAAM4C,IAAI6C,KACfsC,EAAK/H,MAAM0V,kBAAkB,QACE,SAAxB3N,EAAK/H,MAAM4C,IAAI6C,MACtBsC,EAAK/H,MAAM0V,kBAAkB,SAnYzC3N,EAAA,OAAArE,OAAAiS,EAAA,EAAAjS,CAAAoP,EAAAC,GAAArP,OAAAkS,EAAA,EAAAlS,CAAAoP,EAAA,EAAArO,IAAA,SAAAM,MAAA,WAyYQ,IAAM8Q,EAAQzN,KAAKpI,MAAMuF,aAAaZ,SAASyD,KAAKpI,MAAMqG,IAuBtD,KAtBAmM,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAA,OACIC,cAAY,cACZ2D,MAAOvD,EACPuV,YAAa1N,KAAK0L,oBAClBiC,cAAe3N,KAAKoN,iBAEvBpN,KAAKhE,MAAM0M,gBAAkB1I,KAAKhE,MAAMyM,kBACrC2B,EAAAvS,EAAAC,cAAC8V,EAAD,CACI5V,WAAW,eACXuS,KAAMvK,KAAKhE,MAAM0M,eACjBtK,QAAS4B,KAAKhE,MAAMyM,oBAExB,KACHzI,KAAKhE,MAAM4M,gBAAkB5I,KAAKhE,MAAM2M,kBACrCyB,EAAAvS,EAAAC,cAAC8V,EAAD,CACI5V,WAAW,eACXuS,KAAMvK,KAAKhE,MAAM4M,eACjBxK,QAAS4B,KAAKhE,MAAM2M,oBAExB,MAKNkF,EACF7N,KAAKpI,MAAM0C,YAAYiC,SAASyD,KAAKpI,MAAMqG,MAC1C+B,KAAKpI,MAAMuF,aAAaZ,SAASyD,KAAKpI,MAAMqG,IACzCmM,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAA,OACIC,cAAY,kBACZ2D,MAAOvD,EACPuV,YAAa1N,KAAK4M,sBAEtBxC,EAAAvS,EAAAC,cAAA,OACIC,cAAY,mBACZ2D,MAAOvD,EACPuV,YAAa1N,KAAKkN,uBAEtB9C,EAAAvS,EAAAC,cAAA,OACIC,cAAY,iBACZ2D,MAAOvD,EACPuV,YAAa1N,KAAK+M,qBAEtB3C,EAAAvS,EAAAC,cAAA,OACIC,cAAY,oBACZ2D,MAAOvD,EACPuV,YAAa1N,KAAKmN,yBAG1B,KAEJW,EACA1D,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACKoD,EACAI,GAMT,OAHI7N,KAAKpI,MAAMmW,cACXD,EAAW,MAERA,MAvcfpD,EAAA,CAAiChK,aA2elBI,cAhCS,SAAC9E,EAAOpE,GAC5B,MAAO,CACH0C,YAAa0B,EAAMgS,QAAQC,QAAQ3T,YACnC6C,aAAcnB,EAAMgS,QAAQC,QAAQ9Q,aACpC3C,IAAKwB,EAAMgS,QAAQC,QAAQrW,EAAMqG,IACjC/D,eAAgB8B,EAAMgS,QAAQC,QAAQ/T,eACtCC,cAAe6B,EAAMgS,QAAQC,QAAQ9T,cACrCmC,OAAQN,EAAMgS,QAAQC,QAAQrW,EAAMqG,IAAI3B,OAAOsH,IAC3C,SAAAlI,GAAK,OAAIM,EAAMgS,QAAQC,QAAQvS,KAEnCwQ,YAAalQ,EAAMgS,QAAQC,QAAQ7T,qBACnC2T,YAAa/R,EAAMgS,QAAQC,QAAQC,UAIhB,SAAAC,GACvB,MAAO,CACHzB,aAAc,SAAA0B,GAAU,OACpBD,EAASE,KAAoC,EAAMD,KACvDxC,UAAW,SAAC3N,EAAIqQ,GACZH,EAASE,IAAkBpQ,EAAIqQ,KAEnCjB,SAAU,WACNc,EAASE,QAEb1B,cAAe,WACXwB,EAASE,QAEbf,kBAAmB,SAAAtQ,GAAI,OAAImR,EAASE,IAA6BrR,OAI1D8D,CAGb4J,qDCrkBI6D,EAAe,CACjB/I,SAAU,CACNgJ,MAAO,CACH,CACIC,OAAQ,QACRpR,KAAM,YACNmR,MAAO,CACH,CACIC,OAAQ,OACRC,OAAQ,CACJ,CACIC,KAAM,yCAUtC,SAASC,EAAWC,GAAS,IACjBxR,EAAcwR,EAAdxR,KAAMhB,EAAQwS,EAARxS,IACd,MAAO,CACLyS,UADK,SACKC,EAAOC,EAAQC,GACvB,IAAKF,EAAMlD,SAAWkD,EAAM1S,MAAQA,EAAK,OAAO4S,IAChDF,EAAMG,iBACNF,EAAOG,WAAW9R,KAK1B,IAAM+R,EAAU,CACZR,EAAW,CAAEvS,IAAK,IAAKgB,KAAM,SAC7BuR,EAAW,CAAEvS,IAAK,IAAKgB,KAAM,SAC7BuR,EAAW,CAAEvS,IAAK,IAAKgB,KAAM,WAC7BuR,EAAW,CAAEvS,IAAK,IAAKgB,KAAM,kBAC7BuR,EAAW,CAAEvS,IAAK,IAAKgB,KAAM,eA0B3BgS,6MACFrT,MAAQ,CACJW,MAAO2S,IAAMC,SAAS5P,EAAK/H,MAAM+E,MACD,kBAArBgD,EAAK/H,MAAM+E,OAAsBgD,EAAK/H,MAAM+E,iBAAiB6S,OAChEC,KAAKC,MAAM/P,EAAK/H,MAAM+E,OACpBgD,EAAK/H,MAAM+E,MACf4R,MAIVoB,QAAU,SAAAtS,GAEN,OADkBsC,EAAK3D,MAAfW,MACKiT,YAAYC,KAAK,SAAAC,GAAI,OAAIA,EAAKzS,OAASA,OAGxD0S,QAAU,SAAA1S,GAGN,OAFkBsC,EAAK3D,MAAfW,MAEKqT,MAAMC,OAAQ,SAAAH,GAAI,OAAIA,EAAKzS,OAASA,IAAO6S,WAG5DC,eAAiB,SAAA9S,GACKsC,EAAK3D,MAAfW,MACYqT,MAAMC,OAAO,SAAAH,GAAI,OAAIA,EAAKzS,OAASA,IACjD9C,QAAS,SAAAuV,GAAI,OAAInQ,EAAKqP,OAAOoB,WAAWN,QAGlDO,gBAAkB,SAAAC,GACd,MAAO,CACHC,UAAWD,EAAKE,IAAI,cAAgBF,EAAKG,IAAI,cAAgB,KAC7DC,aAAcJ,EAAKE,IAAI,iBAAmBF,EAAKG,IAAI,iBAAmB,KACtEE,WAAYL,EAAKE,IAAI,cAAgBF,EAAKG,IAAI,cAAgB,KAC9DG,UAAWN,EAAKE,IAAI,aAAeF,EAAKG,IAAI,aAAe,SAInEI,SAAW,SAAAC,GACPnR,EAAKqP,OAAO+B,QAAQ5B,WAAW2B,MAGnCE,0DAAsB,SAAAC,EAAOH,EAAUI,EAAeC,GAAhC,OAAAC,EAAAvZ,EAAAwZ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAArC,MAAA,cAClBtP,EAAKwQ,eAAeW,GADFQ,EAAArC,KAAA,EAEZtP,EAAKqP,OAAO+B,QACjBS,QAAQ,CACLnU,KAAMyT,EACNR,KAAKhV,OAAAmW,EAAA,EAAAnW,CAAA,GAAIwV,EAAWI,KALN,OAOlBC,IAPkB,wBAAAG,EAAAI,SAAAT,kEAUtBU,yDAAqB,SAAAC,EAAOd,EAAUI,EAAeC,GAAhC,IAAAU,EAAA,OAAAT,EAAAvZ,EAAAwZ,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAA7C,MAAA,cAAA6C,EAAA7C,KAAA,EACXtP,EAAKqP,OAAO+B,QAAQgB,UADT,cAGTF,EAAWlS,EAAK3D,MAAMW,MAAtBkV,OAHSC,EAAA7C,KAAA,EAIX4C,EAAOtX,QAAS,SAAAyX,GAClB,IAAMC,EAAWD,EAAME,IAAI,OAAQF,EAAM1B,KAAK4B,IAAIpB,EAAUI,IAC5DvR,EAAKqP,OAAO+C,UAAUE,KANT,OAQjBd,IARiB,wBAAAW,EAAAJ,SAAAE,kEAWrBnP,+CAAW,SAAA0P,EAAAC,GAAA,IAAAzV,EAAAM,EAAA,OAAAmU,EAAAvZ,EAAAwZ,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAApD,MAAA,cAAStS,EAATyV,EAASzV,OACN6I,WAAa7F,EAAK3D,MAAMW,MAAM6I,UACpC7F,EAAK/H,MAAM0a,YAAY,CAAC,CACpBtV,KAAM2C,EAAK/H,MAAMqG,GACjBhB,OAAQ,CACJ,CAAIZ,IAAK,cACLM,MAAOA,EAAM4V,cAK7B5S,EAAKC,SAAS,CAAEjD,UAEVM,EAAS,GAbRoV,EAAApD,KAAA,EAeD,CAAC,SACP,gBACA,YACA,MACA,OAAO1U,QAJD,eAAAiY,EAAAlX,OAAAmX,EAAA,EAAAnX,CAAA8V,EAAAvZ,EAAAiY,KAIS,SAAA4C,EAAM5B,GAAN,OAAAM,EAAAvZ,EAAAwZ,KAAA,SAAAsB,GAAA,cAAAA,EAAApB,KAAAoB,EAAA1D,MAAA,cAAA0D,EAAA1D,KAAA,EACctP,EAAKgQ,QAAQmB,GAD3B,OACX7T,EAAO6T,GADI6B,EAAAC,KAAA,wBAAAD,EAAAjB,SAAAgB,MAJT,gBAAAG,GAAA,OAAAL,EAAAlH,MAAAtL,KAAA+K,YAAA,IAfC,cAAAsH,EAAApD,KAAA,EAuBD,CAAC,WACP,QACA,kBACA,aACA,aACA,cACA,gBACA,aACA,iBAAiB1U,QARX,eAAAuY,EAAAxX,OAAAmX,EAAA,EAAAnX,CAAA8V,EAAAvZ,EAAAiY,KAQmB,SAAAiD,EAAMjC,GAAN,IAAAhB,EAAA,OAAAsB,EAAAvZ,EAAAwZ,KAAA,SAAA2B,GAAA,cAAAA,EAAAzB,KAAAyB,EAAA/D,MAAA,cAAA+D,EAAA/D,KAAA,EACFtP,EAAKoQ,QAAQe,GADX,YACfhB,EADekD,EAAAJ,MAAA,CAAAI,EAAA/D,KAAA,eAAA+D,EAAA/D,KAAA,EAEWa,EAAKQ,KAAKG,IAAIK,GAFzB,OAAAkC,EAAAC,GAAAD,EAAAJ,KAAAI,EAAA/D,KAAA,gBAAA+D,EAAAC,GAEqC,GAFrC,QAErBhW,EAAO6T,GAFckC,EAAAC,GAAA,yBAAAD,EAAAtB,SAAAqB,MARnB,gBAAAG,GAAA,OAAAJ,EAAAxH,MAAAtL,KAAA+K,YAAA,IAvBC,cAAAsH,EAAApD,KAAA,GAoCDkE,QAAQC,IAAI,CAAC,aACnB,gBACA,aACA,aAAaxP,IAHK,eAAAyP,EAAA/X,OAAAmX,EAAA,EAAAnX,CAAA8V,EAAAvZ,EAAAiY,KAGD,SAAAwD,EAAMxC,GAAN,IAAAyC,EAAA,OAAAnC,EAAAvZ,EAAAwZ,KAAA,SAAAmC,GAAA,cAAAA,EAAAjC,KAAAiC,EAAAvE,MAAA,cAAAuE,EAAAvE,KAAA,EAEatP,EAAK3D,MAAMW,MAAMkV,OACtC5B,OADqB,eAAAwD,EAAAnY,OAAAmX,EAAA,EAAAnX,CAAA8V,EAAAvZ,EAAAiY,KACd,SAAA4D,EAAM1B,GAAN,OAAAZ,EAAAvZ,EAAAwZ,KAAA,SAAAsC,GAAA,cAAAA,EAAApC,KAAAoC,EAAA1E,MAAA,cAAA0E,EAAA1E,KAAA,EAAqB+C,EAAM1B,KAAKE,IAAIM,GAApC,cAAA6C,EAAAC,OAAA,SAAAD,EAAAf,MAAA,wBAAAe,EAAAjC,SAAAgC,MADc,gBAAAG,GAAA,OAAAJ,EAAAnI,MAAAtL,KAAA+K,YAAA,IAErBmF,QAJQ,YAEPqD,EAFOC,EAAAZ,MAAA,CAAAY,EAAAvE,KAAA,eAAAuE,EAAAvE,KAAA,EAMgBsE,EAAYjD,KAAKG,IAAIK,GANrC,OAMT7T,EAAO6T,GANE0C,EAAAZ,KAAA,wBAAAY,EAAA9B,SAAA4B,MAHC,gBAAAQ,GAAA,OAAAT,EAAA/H,MAAAtL,KAAA+K,YAAA,KApCX,QAgDPpL,EAAK/H,MAAMmc,qBAAqB9W,GAhDzB,yBAAAoV,EAAAX,SAAAS,8DAmDX6B,YAAc,WACVrU,EAAK/H,MAAMqc,uBAAX3Y,OAAA4Y,EAAA,EAAA5Y,QAAA4Y,EAAA,EAAA5Y,CAAAqE,QAKJwU,IAAM,SAAAnF,GACFrP,EAAKqP,OAASA,EACdrP,EAAK/H,MAAMqc,uBAAX3Y,OAAA4Y,EAAA,EAAA5Y,QAAA4Y,EAAA,EAAA5Y,CAAAqE,QAqBJyU,aAAe,SAACC,EAAMrF,EAAQC,GAC1B,MAAO,CAAC,CACJqF,OAAQ,EACRvD,MAAO,EACPjB,KAAM,CACFzS,KAAM,WACNiT,KAAM,CAAEiE,SAAU,WAI9BC,WAAa,SAAC5c,EAAOoX,EAAQC,GAAS,IAC1BxW,EAAmBb,EAAnBa,SAAUqX,EAASlY,EAATkY,KAClB,OAAQA,EAAKzS,MACT,IAAK,OACD,OAAO+M,EAAAvS,EAAAC,cAAA,YAAOW,GAClB,IAAK,SACD,OAAO2R,EAAAvS,EAAAC,cAAA,UAAKW,GAChB,IAAK,gBACD,OAAO2R,EAAAvS,EAAAC,cAAA,WAAMW,GACjB,IAAK,YACD,OAAO2R,EAAAvS,EAAAC,cAAA,SAAIW,GACf,IAAK,MACD,OAAO2R,EAAAvS,EAAAC,cAAA,WAAMW,GACjB,IAAK,MACD,OAAO2R,EAAAvS,EAAAC,cAAA,WAAMW,GACjB,IAAK,WACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAAC6Y,SAAUzE,EAAKQ,KAAKG,IAAI,YAAc,OAAQhY,GACvE,IAAK,QACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAAC+Y,MAAO3E,EAAKQ,KAAKG,IAAI,WAAYhY,GAC1D,IAAK,kBACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACgZ,gBAAiB5E,EAAKQ,KAAKG,IAAI,qBAAsBhY,GAC9E,IAAK,aACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACiZ,WAAY7E,EAAKQ,KAAKG,IAAI,gBAAiBhY,GACpE,IAAK,aACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACkZ,WAAY9E,EAAKQ,KAAKG,IAAI,gBAAiBhY,GACpE,IAAK,cACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACmZ,YAAa/E,EAAKQ,KAAKG,IAAI,eAAiB,OAAQhY,GAC7E,IAAK,gBACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACoZ,cAAehF,EAAKQ,KAAKG,IAAI,iBAAmB,OAAQhY,GACjF,IAAK,aACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACqZ,WAAYjF,EAAKQ,KAAKG,IAAI,cAAgB,OAAQhY,GAC3E,IAAK,gBACD,OAAO2R,EAAAvS,EAAAC,cAAA,QAAM4D,MAAO,CAACsZ,cAAelF,EAAKQ,KAAKG,IAAI,mBAAoBhY,GAC1E,QACI,OAAOwW,QAInBgG,WAAa,SAACrd,EAAOoX,EAAQC,GAAS,IAC1BiG,EAA+Btd,EAA/Bsd,WAAYzc,EAAmBb,EAAnBa,SAAU4b,EAASzc,EAATyc,KAC9B,OAAQA,EAAKhX,MACT,IAAK,YACD,OAAO+M,EAAAvS,EAAAC,cAAA,IAAAwD,OAAA6Z,OAAA,CAAGzZ,MAAOiE,EAAK0Q,gBAAgBgE,EAAK/D,OAAW4E,GAAazc,GACvE,IAAK,cACD,OAAO2R,EAAAvS,EAAAC,cAAA,aAAgBod,EAAazc,GACxC,IAAK,gBACD,OAAO2R,EAAAvS,EAAAC,cAAA,KAAQod,EAAazc,GAChC,IAAK,cACD,OAAO2R,EAAAvS,EAAAC,cAAA,KAAQod,EAAazc,GAChC,IAAK,cACD,OAAO2R,EAAAvS,EAAAC,cAAA,KAAQod,EAAazc,GAChC,IAAK,YACD,OAAO2R,EAAAvS,EAAAC,cAAA,KAAQod,EAAazc,GAChC,IAAK,gBACD,OAAO2R,EAAAvS,EAAAC,cAAA,KAAQod,EAAazc,GAChC,QACI,OAAOwW,8EAhFf,OAFA/E,QAAQC,IAAInK,KAAKhE,MAAMW,OACvBuN,QAAQC,IAAInK,KAAKpI,MAAM+E,OAEnByN,EAAAvS,EAAAC,cAACsd,EAAA,EAAD,CACIzY,MAAOqD,KAAKhE,MAAMW,MAClB8F,SAAUzC,KAAKyC,SACf2M,QAASA,EACToF,WAAYxU,KAAKwU,WACjBS,WAAYjV,KAAKiV,WACjB1c,QAAUyH,KAAKpI,MAAMyd,KAA0B,KAAnBrV,KAAKgU,YACjCG,IAAKnU,KAAKmU,IACVC,aAAcpU,KAAKoU,aACnBkB,WAAUtV,KAAKpI,MAAMyd,cAzIlB3U,aAiOJI,cAbS,SAAC9E,EAAOpE,GAC5B,MAAO,CACH+E,MAAOX,EAAMgS,QAAQC,QAAQrW,EAAMqG,IAAIsX,cAIpB,SAAApH,GACvB,MAAO,CACHmE,YAAa,SAAArV,GAAM,OAAIkR,EAASE,KAAoC,EAAMpR,KAC1E8W,qBAAsB,SAAA9W,GAAM,OAAIkR,EAASE,KAAyBpR,OAI3D6D,CAA6CuO,oBCtS/CmG,EAAW,CACpBnR,QAAS,OACToR,WAAY,MACZC,eAAgB,QAGPC,EAAI,CACbC,eAAgB,OAChBnB,MAAO,WCGEoB,EAAqB,SAC9B9Y,EACAkB,GAEA,IAAMR,EAAWV,EAAMkT,OAAO,SAAAjT,GAAI,OAAIA,EAAKiB,KAAOA,IAClD,OAAwB,IAApBR,EAASF,OACF,GAEAR,EAAMkT,OAAO,SAAAjT,GAAI,OACpB8Y,kBAAQ9Y,EAAK+Y,KAAN,GAAA5a,OAAAG,OAAA4L,EAAA,EAAA5L,CAAgBmC,EAAS,GAAGsY,MAA5B,CAAkC9X,QCmgCtC6C,cANS,SAAC9E,EAAOpE,GAC5B,MAAO,CACHoe,eAAgBha,EAAMia,QAAQD,iBAIvBlV,CAz6BF,SAAClJ,GAAiB,IAAAse,EACnB1b,EAAQ5C,EAAR4C,IAEF2b,EAAkB,SAAAC,GACpB,IAAMC,EAAY,SAACC,EAASC,EAAMnD,GAAhB,OACd5Y,EAAI,eAAiB8b,GACd9b,EAAI,iBAAmB8b,GAepBlD,EACA,KACA,IAjBJ,GAAAjY,OACgB,QAATob,GAA2B,WAATA,EAAoB,MAAQ,GADrD,KAAApb,OAEiB,SAATob,GAA4B,QAATA,EACZ/b,EAAI,mBAAqB8b,GAEtB,IADA,GAEJ9b,EAAI,mBAAqB8b,GACzB,GACA,KARdnb,OASOX,EAAI,iBAAmB8b,IAAY,EAT1C,OAAAnb,OAUiB,SAATob,GAA4B,UAATA,EAAmB,MAAQ,GAVtD,KAAApb,OAWQX,EAAI,kBAAoB8b,IACxB,gBAZR,KAAAnb,OAaSX,EAAI,mBAAqB8b,GAAqB,GAAV,SAK7C,MAEN1a,EAAS,GAEP4a,EAAUH,EAAUD,EAAS,MAAO,QAAQ,GAE5CK,EADOJ,EAAUD,EAAS,OAAQ,SACbI,EAC3B5a,EAAS6a,GAA6B,MAAfA,EAAqBA,EAAa,GAEzD,IAAMC,EAAWL,EAAUD,EAAS,MAAO,SAAS,GAE9CO,EADQN,EAAUD,EAAS,QAAS,UACbM,EAC7B9a,GACI+a,GAA+B,MAAhBA,EACE,KAAX/a,EACI,KAAO+a,EACPA,EACJ,GAEV,IAAMC,EAASP,EAAUD,EAAS,MAAO,OAAO,GAE1CS,EADMR,EAAUD,EAAS,MAAO,QACbQ,EACzBhb,GACIib,GAA2B,MAAdA,EACI,KAAXjb,EACI,KAAOib,EACPA,EACJ,GAEV,IAAMC,EAAYT,EAAUD,EAAS,MAAO,UAAU,GAEhDW,EADSV,EAAUD,EAAS,SAAU,WACbU,EAQ/B,OAPAlb,GACImb,GAAiC,MAAjBA,EACC,KAAXnb,EACI,KAAOmb,EACPA,EACJ,IAIRC,EAAuB,SAACZ,EAAgBhD,GAC1C,OAAIA,EACO5Y,EAAI,eAAiB4b,KACvB5b,EAAI,iBAAmB4b,GADrB,GAAAjb,OAEEX,EAAI,iBAAmB4b,GAFzB,aAAAjb,OAGGX,EAAI,kBAAoB4b,IAE5B,OAEC5b,EAAI,eAAiB4b,GACrB5b,EAAI,iBAAmB4b,GAIpB,OAJJ,GAAAjb,OACOX,EAAI,iBAAmB4b,IAAW,EADzC,aAAAjb,OAEQX,EAAI,kBAAoB4b,IAGhC,IAIRa,EAA6B,SAC/BC,EACAC,GAEA,OAAO3c,EAAI,eAAiB0c,GACtB1c,EAAI,mBAAqB0c,GACjB1c,EAAI,eAAiB2c,GAC7B3c,EAAI,mBAAqB2c,GACjB,GAGZC,EAAuB,SAAAhB,GAAM,OAC/B5b,EAAI,eAAiB4b,GAArB,GAAAjb,OACSX,EAAI,4BAA8B4b,IAAW,EADtD,OAAAjb,OAC6DX,EACnD,0BAA4B4b,IAC3B,EAHX,OAAAjb,OAGkBX,EAAI,iBAAmB4b,IAAW,EAHpD,OAAAjb,OAG2DX,EACjD,iBAAmB4b,IAClB,EALX,OAAAjb,OAKkBX,EAAI,kBAAoB4b,IAAW,QAC/C,QA6GV,OACIhM,EAAAvS,EAAAC,cAAA,OAAK4D,MAAOvD,GACRiS,EAAAvS,EAAAC,cAACuf,EAAA,EAAD,CACIC,KAAM9c,EAAI+c,gBACVC,cAAc,WACdC,UAAW7f,EAAMqG,GAAK,QACtByZ,aAAc,CAAC,QAjHN,WACjB,IAAMC,EAAY,GAEZC,EAAqB,SAArBA,EACFC,EACA9B,EACAK,EACA0B,GAEAH,EAAUjd,KAAK,CACXqd,KAAMF,EAAKE,KACXhC,KAAMA,EACN3C,KAAK,EACL0E,OAAQA,EACRE,IAAKH,EAAKG,IACV/Z,GAAImY,EAAS,IAAMyB,EAAK5Z,KAE5B4X,EAAmBje,EAAMoe,eAAgB6B,EAAK5Z,IAAI1D,QAAQ,SAAA6D,GAAO,OAC7DwZ,EACIxZ,EADc,GAAAjD,OAAAG,OAAA4L,EAAA,EAAA5L,CAEVya,GAFU,CAEJK,EAAS,IAAMyB,EAAK5Z,KAC9BmY,EACA0B,MAKZtd,EAAIyd,UAAU1d,QAAQ,SAAAyC,GACbA,EAAKoW,KAAqB,SAAdpW,EAAKK,KAGE,KAAhBL,EAAKkb,QAAkBlb,EAAKkb,OAY5BrC,EACIje,EAAMoe,eACNhZ,EAAKkb,QACP3d,QAAQ,SAAAsd,GACND,EACIC,EACA7a,EAAK+Y,KACL/Y,EAAKiB,GACLjB,EAAK8a,UAnBblgB,EAAMoe,eAAezb,QAAQ,SAAAsd,GACA,IAArBA,EAAK9B,KAAKxY,QACVqa,EACIC,EACA7a,EAAK+Y,KACL/Y,EAAKiB,GACLjB,EAAK8a,UATrBH,EAAUjd,KAAKsC,KA6BvB,IAAMmb,EAAY,GA8ClB,OA7CAR,EAAUpd,QAAQ,SAAAyC,GACW,IAArBA,EAAK+Y,KAAKxY,QACV4a,EAAUzd,KAAKsC,KA2ChBmb,EAAUvU,IAAI,SAAA5G,GAAI,OAvCD,SAAlBob,EAAkBpb,GACpB,IAAMqb,EAAWxC,EAAmB8B,EAAW3a,EAAKiB,IAEpD,OAAwB,IAApBoa,EAAS9a,OAEL6M,EAAAvS,EAAAC,cAACuf,EAAA,EAAD,CAAUhb,IAAKW,EAAKiB,IAChBmM,EAAAvS,EAAAC,cAAA,KAAGwgB,KAAM1gB,EAAMyd,KAAOrY,EAAKgb,IAAM,GAAItc,MAAOvD,GACxCiS,EAAAvS,EAAAC,cAAA,QAAMI,UAAU,iBACZkS,EAAAvS,EAAAC,cAAA,YAAOkF,EAAK+a,SAOxB3N,EAAAvS,EAAAC,cAACuf,EAAA,EAAD,CACI7R,SAAU5N,EAAM4N,SAChB+S,YAAa,CACT/d,EAAIge,qBACJhe,EAAIie,sBAERC,eAAe,aACfvY,MACIiK,EAAAvS,EAAAC,cAAA,KACIwgB,KAAM1gB,EAAMyd,KAAOrY,EAAKgb,IAAM,GAC9Btc,MAAOvD,GAEPiS,EAAAvS,EAAAC,cAAA,QAAMI,UAAU,qBACZkS,EAAAvS,EAAAC,cAAA,YAAOkF,EAAK+a,SAKvBM,EAASzU,IAAI,SAAA+U,GAAO,OAAIP,EAAgBO,MAM5BP,CAAgBpb,KAWpC4b,IAELxO,EAAAvS,EAAAC,cAAC+gB,EAAA,EAAD,CACIvc,QAAM4Z,EAAA,GAAA5a,OAAAmW,EAAA,EAAAnW,CAAA4a,EAED,IAAMte,EAAMqG,GAAK,QAAU,CACxBiG,QAAS,OACTwM,aAAc,EACdoI,QAAS,MACTC,YAAave,EAAIwe,8BAAgC,KACjDC,WAAYze,EAAI0e,6BAA+B,KAC/CC,aAAc3e,EAAI4e,+BAAiC,KACnDC,cACI7e,EAAI8e,gCAAkC,KAC1CC,UAAW,OACX/U,OAAQwS,EAAqB,qBAAqB,GAClDwC,WAAYxC,EAAqB,sBACjCyC,YAAazC,EACT,uBAEJ0C,UAAW1C,EAAqB,qBAChC2C,aAAc3C,EACV,wBAEJ4C,UAAWxC,EAAqB,kBAChCtS,aAAY,GAAA3J,OAAK8b,EACb,qBACA,qBAFQ,OAAA9b,OAGL8b,EACH,oBACA,qBALQ,OAAA9b,OAML8b,EACH,sBACA,qBARQ,OAAA9b,OASL8b,EACH,uBACA,qBAXQ,MAaZ5S,QAAS,eACTwV,OAAQ,EACRhV,WAAYrK,EAAIsf,0BArClBxe,OAAAmW,EAAA,EAAAnW,CAAA4a,EAwCD,IAAMte,EAAMqG,GAAK,gBAAkB,CAChC4G,WAAYrK,EAAIuf,uBAChBjB,QAAS,MACTC,YAAave,EAAIwf,6BAA+B,KAChDf,WAAYze,EAAIyf,4BAA8B,KAC9Cd,aAAc3e,EAAI0f,8BAAgC,KAClDb,cACI7e,EAAI2f,+BAAiC,KACzC3V,OAAQwS,EAAqB,oBAAoB,GACjDwC,WAAYxC,EAAqB,qBACjCyC,YAAazC,EAAqB,sBAClC0C,UAAW1C,EAAqB,oBAChC2C,aAAc3C,EACV,uBAEJ4C,UAAWxC,EAAqB,iBAChCtS,aAAY,GAAA3J,OAAK8b,EACb,oBACA,oBAFQ,OAAA9b,OAGL8b,EACH,mBACA,oBALQ,OAAA9b,OAML8b,EACH,qBACA,oBARQ,OAAA9b,OASL8b,EACH,sBACA,oBAXQ,QAxDd3b,OAAAmW,EAAA,EAAAnW,CAAA4a,EAuED,IAAMte,EAAMqG,GAAK,8BAAgC,CAC9CsW,SAAU/Z,EAAI4f,sBAAwB,KACtC3F,MAAOja,EAAI6f,uBACXxV,WAAYrK,EAAI8f,2BAChB1F,WAAYpa,EAAI+f,wBAChBC,UAAWhgB,EAAIigB,wBACT,SACA,SACN7E,eAAgB,CACZpb,EAAIkgB,2BAA6B,YAAc,GAC/ClgB,EAAImgB,+BACE,eACA,GACNngB,EAAIogB,0BAA4B,WAAa,IAC/CtiB,KAAK,KACP0c,cAAexa,EAAIqgB,2BACnB/F,cAAeta,EAAIsgB,2BAA6B,KAChDjG,YAAara,EAAIugB,yBAA2B,OAxF9Czf,OAAAmW,EAAA,EAAAnW,CAAA4a,EA0FD,IAAMte,EAAMqG,GAAK,oCAAsC,CACpDwW,MAAOja,EAAIwgB,sBACXnW,WAAYrK,EAAIygB,0BAChBrF,eAAgB,CACZpb,EAAI0gB,0BAA4B,YAAc,GAC9C1gB,EAAI2gB,8BACE,eACA,GACN3gB,EAAI4gB,yBAA2B,WAAa,IAC9C9iB,KAAK,OAnGTgD,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqGD,IACDte,EAAMqG,GACN,mBACArG,EAAMqG,GACN,kCAAoC,CAChCwW,MAAOja,EAAI6gB,uBACXxW,WAAYrK,EAAI8gB,2BAChB1F,eAAgB,CACZpb,EAAI+gB,2BAA6B,YAAc,GAC/C/gB,EAAIghB,+BACE,eACA,GACNhhB,EAAIihB,0BAA4B,WAAa,IAC/CnjB,KAAK,OAlHTgD,OAAAmW,EAAA,EAAAnW,CAAA4a,EAsHD,IAAMte,EAAMqG,GAAK,6BAA+B,CAC7CsW,SAAU/Z,EAAIkhB,qBAAuB,KACrCjH,MAAOja,EAAImhB,sBACX9W,WAAYrK,EAAIohB,0BAChBhH,WAAYpa,EAAIqhB,uBAChBrB,UAAWhgB,EAAIshB,uBACT,SACA,SACNlG,eAAgB,CACZpb,EAAIuhB,0BAA4B,YAAc,GAC9CvhB,EAAIwhB,8BACE,eACA,GACNxhB,EAAIyhB,yBAA2B,WAAa,IAC9C3jB,KAAK,KACP0c,cAAexa,EAAI0hB,0BACnBpH,cAAeta,EAAI2hB,0BAA4B,KAC/CtH,YAAara,EAAI4hB,wBAA0B,OAvI7C9gB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAyID,IAAMte,EAAMqG,GAAK,mCAAqC,CACnDwW,MAAOja,EAAI6hB,qBACXxX,WAAYrK,EAAI8hB,yBAChB1G,eAAgB,CACZpb,EAAI+hB,yBAA2B,YAAc,GAC7C/hB,EAAIgiB,6BACE,eACA,GACNhiB,EAAIiiB,wBAA0B,WAAa,IAC7CnkB,KAAK,OAlJTgD,OAAAmW,EAAA,EAAAnW,CAAA4a,EAoJD,IACDte,EAAMqG,GACN,kBACArG,EAAMqG,GACN,kCAAoC,CAChCwW,MAAOja,EAAIkiB,sBACX7X,WAAYrK,EAAImiB,0BAChB/G,eAAgB,CACZpb,EAAIoiB,0BAA4B,YAAc,GAC9CpiB,EAAIqiB,8BACE,eACA,GACNriB,EAAIsiB,yBAA2B,WAAa,IAC9CxkB,KAAK,OAjKTgD,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqKD,IAAMte,EAAMqG,GAAK,kBAAoB,CAClC4G,WAAYrK,EAAIuiB,mBAChBrH,eAAgBlb,EAAIwiB,iCACpBvH,WAAYjb,EAAIyiB,+BAChBtiB,MAAQH,EAAI0iB,2BAEN,OADA1iB,EAAI2iB,mBAAqB,KAE/BviB,OAASJ,EAAI4iB,4BAEP,OADA5iB,EAAI6iB,oBAAsB,KAEhCtY,UAAW,aACXZ,SAAU,SACVyV,UAAWzD,EAAgB,aAC3B5B,SAAU/Z,EAAI4f,sBAAwB,KACtC3F,MAAOja,EAAI6f,yBAnLb/e,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqLD,IAAMte,EAAMqG,GAAK,wBAA0B,CACxC4G,WAAYrK,EAAI8iB,kBAChB5H,eAAgBlb,EAAI+iB,gCACpB9H,WAAYjb,EAAIgjB,8BAChB5D,UAAWzD,EAAgB,cAzL7B7a,OAAAmW,EAAA,EAAAnW,CAAA4a,EA2LD,IACDte,EAAMqG,GACN,mBACArG,EAAMqG,GACN,sBAAwB,CACpB4G,WAAYrK,EAAIijB,mBAChB/H,eAAgBlb,EAAIkjB,iCACpBjI,WAAYjb,EAAImjB,+BAChB/D,UAAWzD,EAAgB,eAnM7B7a,OAAAmW,EAAA,EAAAnW,CAAA4a,EAuMD,IAAMte,EAAMqG,GAAK,iBAAmB,CACjC4G,WAAYrK,EAAIojB,kBAChBlI,eAAgBlb,EAAIqjB,gCACpBpI,WAAYjb,EAAIsjB,8BAChBnjB,MAAQH,EAAIujB,0BAEN,OADAvjB,EAAIwjB,kBAAoB,KAE9BpjB,OAASJ,EAAIyjB,2BAEP,OADAzjB,EAAI0jB,mBAAqB,KAE/BnZ,UAAW,aACXZ,SAAU,SACVyV,UAAWzD,EAAgB,cAnN7B7a,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqND,IAAMte,EAAMqG,GAAK,uBAAyB,CACvC4G,WAAYrK,EAAI2jB,iBAChBzI,eAAgBlb,EAAI4jB,+BACpB3I,WAAYjb,EAAI6jB,6BAChBzE,UAAWzD,EAAgB,aAzN7B7a,OAAAmW,EAAA,EAAAnW,CAAA4a,EA2ND,IACDte,EAAMqG,GACN,kBACArG,EAAMqG,GACN,sBAAwB,CACpB4G,WAAYrK,EAAI8jB,kBAChB5I,eAAgBlb,EAAI+jB,gCACpB9I,WAAYjb,EAAIgkB,8BAChB5E,UAAWzD,EAAgB,cAnO7B7a,OAAAmW,EAAA,EAAAnW,CAAA4a,EAuOD,IAAMte,EAAMqG,GAAK,mCAvOhB3C,OAAAmW,EAAA,EAAAnW,CAAA,GAwO2B,aAAxBd,EAAI+c,gBACC,eACA,cACF/c,EAAIikB,0BAA4B,OA3OtCnjB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+OD,IAAMte,EAAMqG,GAAK,kCAAoC,CAClDyS,aAAclW,EAAIkkB,yBAA2B,OAhP/CpjB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAoPD,IACDte,EAAMqG,GACN,+BACArG,EAAMqG,GACN,gCAAkC,CAC9B8a,YAAave,EAAImkB,yBAA2B,KAC5C1F,WAAYze,EAAIokB,wBAA0B,KAC1CzF,aAAc3e,EAAIqkB,0BAA4B,KAC9CxF,cAAe7e,EAAIskB,2BAA6B,KAChDza,QAAS,QACTK,OAAQ,YA9PVpJ,OAAAmW,EAAA,EAAAnW,CAAA4a,EAkQD,IACDte,EAAMqG,GACN,8BACArG,EAAMqG,GACN,+BAAiC,CAC7B8a,YAAave,EAAIukB,wBAA0B,KAC3C9F,WAAYze,EAAIwkB,uBAAyB,KACzC7F,aAAc3e,EAAIykB,yBAA2B,KAC7C5F,cAAe7e,EAAI0kB,0BAA4B,KAC/C7a,QAAS,QACTK,OAAQ,YA5QVpJ,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+QF,cAAe,CACXvR,OAAQ,MAhRVrJ,OAAAmW,EAAA,EAAAnW,CAAA4a,EAkRD,IAAMte,EAAMqG,GAAK,eAAiB,CAC/BoG,QAAS,SAnRX/I,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqRD,IAAMte,EAAMqG,GAAK,iBAAmB,CACjCkG,SAAU,WAtRZ7I,OAAAmW,EAAA,EAAAnW,CAAA4a,EAwRD,IAAMte,EAAMqG,GAAK,wBAA0B,CACxCkhB,WAAY,yBAzRd7jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA2RD,IAAMte,EAAMqG,GAAK,wBAA0B,CACxC4b,OAAQ,EACRf,QAAS,IA7RXxd,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+RD,IAAMte,EAAMqG,GAAK,yBAA2B,CACzCwW,MAAO,OACPM,WAAY,IACZ+D,QAAS,WACTa,aAAc,sBAnShBre,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqSD,IACDte,EAAMqG,GACN,uBACArG,EAAMqG,GACN,0BACArG,EAAMqG,GACN,sBAAwB,IA3StB3C,OAAAmW,EAAA,EAAAnW,CAAA4a,EA4SD,IAAMte,EAAMqG,GAAK,sBAAwB,CACtCmhB,UAAW,kBA7Sb9jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+SD,IAAMte,EAAMqG,GAAK,yBAA2B,IA/S3C3C,OAAAmW,EAAA,EAAAnW,CAAA4a,EAuTD,IACDte,EAAMqG,GACN,oBACArG,EAAMqG,GACN,eACArG,EAAMqG,GACN,kBACArG,EAAMqG,GACN,eACArG,EAAMqG,GACN,uBACArG,EAAMqG,GACN,eACArG,EAAMqG,GACN,wBACArG,EAAMqG,GACN,YAAc,CACV6a,QAAS,IAxUXxd,OAAAmW,EAAA,EAAAnW,CAAA4a,EA0UD,IACDte,EAAMqG,GACN,gBACArG,EAAMqG,GACN,sBAAwB,CACpB4b,OAAQ,EACRzV,SAAU,WACVC,QAAS,OACTgb,WAAY,WAlVd/jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAoVD,IACDte,EAAMqG,GACN,cACArG,EAAMqG,GACN,yBACArG,EAAMqG,GACN,uBACArG,EAAMqG,GACN,yBACArG,EAAMqG,GACN,cACArG,EAAMqG,GACN,4BACArG,EAAMqG,GACN,uBACArG,EAAMqG,GACN,yBAA2B,CACvBwW,MAAO,oBArWTnZ,OAAAmW,EAAA,EAAAnW,CAAA4a,EAuWD,IACDte,EAAMqG,GACN,WACArG,EAAMqG,GACN,qBAAuB,CACnBrD,OAAQ,MACRif,OAAQ,QACR1V,SAAU,SACV2U,QAAS,EACT/D,WAAY,EACZL,gBAAiB,YAjXnBpZ,OAAAmW,EAAA,EAAAnW,CAAA4a,EAmXD,IAAMte,EAAMqG,GAAK,sBAAwB,CACtCmG,SAAU,aApXZ9I,OAAAmW,EAAA,EAAAnW,CAAA4a,EAsXD,IACDte,EAAMqG,GACN,uCACArG,EAAMqG,GACN,2BAA6B,CACzBtD,MAAO,OACPC,OAAQ,OACR0kB,YAAa,MACbvkB,IAAK,SA9XPO,OAAAmW,EAAA,EAAAnW,CAAA4a,EAgYD,IAAMte,EAAMqG,GAAK,mBAAqB,CACnCyW,gBAAiB,UACjBlQ,OAAQ,OACRmV,aAAc,oBACdC,UAAW,OACXyF,WAAY,SACZlb,SAAU,WAtYZ7I,OAAAmW,EAAA,EAAAnW,CAAA4a,EAqZD,IACDte,EAAMqG,GACN,sBACArG,EAAMqG,GACN,mBACArG,EAAMqG,GACN,sBACArG,EAAMqG,GACN,aAAe,CACX0b,aAAc,wBACdtV,QAAS,eACTkb,cAAe,WAhajBjkB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAkaD,IACDte,EAAMqG,GACN,sBACArG,EAAMqG,GACN,0BACArG,EAAMqG,GACN,sBACArG,EAAMqG,GACN,oBAAsB,CAClB0b,aAAc,oBACdjF,gBAAiB,UACjBD,MAAO,YA7aTnZ,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+aD,IAAMte,EAAMqG,GAAK,yBAA2B,CAEzCoG,QAAS,QACTzJ,OAAQ,EACR4kB,MAAO,SAnbTlkB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA2eD,IACDte,EAAMqG,GACN,uCACArG,EAAMqG,GACN,4CACArG,EAAMqG,GACN,6CACArG,EAAMqG,GACN,kCAAoC,CAChCoG,QAAS,eACTob,KAAM,0CACNlL,SAAU,UACVgL,cAAe,WACf3O,UAAW,SACXoE,cAAe,OACf0K,cAAe,OACftb,SAAU,WACVtJ,MAAO,OACPia,WAAY,UA7fdzZ,OAAAmW,EAAA,EAAAnW,CAAA4a,EA+fD,IACDte,EAAMqG,GACN,8CACArG,EAAMqG,GACN,mDACArG,EAAMqG,GACN,oDACArG,EAAMqG,GACN,yCAA2C,CACvC0hB,QAAS,YAxgBXrkB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA0gBD,IAAMte,EAAMqG,GAAK,kCAAoC,CAClDmhB,UAAW,gBACXD,WAAY,kBA5gBd7jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA8gBD,IACDte,EAAMqG,GACN,oCACArG,EAAMqG,GACN,yCAA2C,CACvCmhB,UAAW,mBAnhBb9jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAoiBD,IACDte,EAAMqG,GACN,aACArG,EAAMqG,GACN,eAAiB,CACb6a,QAAS,EACTtU,OAAQ,OACRM,aAAc,EACd8U,UAAW,SA5iBbte,OAAAmW,EAAA,EAAAnW,CAAA4a,EAikBD,IACDte,EAAMqG,GACN,+BACArG,EAAMqG,GACN,6BAA+B,CAC3B2hB,kBAAmB,MACnBC,kBAAmB,OACnBC,gBAAiB,MACjBC,QAAS,EACTC,wBACI,oCACJC,mBAAoB,WA5kBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA8kBD,IAAMte,EAAMqG,GAAK,4BAA8B,CAC5C2hB,kBAAmB,MACnBC,kBAAmB,OACnBC,gBAAiB,MACjBC,QAAS,EACTC,wBACI,sCACJC,mBAAoB,WArlBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAulBD,IACDte,EAAMqG,GACN,6BACArG,EAAMqG,GACN,sCACArG,EAAMqG,GACN,8BACArG,EAAMqG,GACN,oCAAsC,CAClCiiB,cAAetoB,EAAMqG,GAAK,uBAC1BgiB,mBAAoB,YAjmBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAmmBD,IACDte,EAAMqG,GACN,6BACArG,EAAMqG,GACN,mCAAqC,CACjCiiB,cAAetoB,EAAMqG,GAAK,wBAC1BgiB,mBAAoB,YAzmBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA2mBD,aAAete,EAAMqG,GAAK,uBAAyB,CAChDkiB,KAAM,CACFJ,QAAS,EACTD,gBAAiB,QACjBV,UAAW,aAEfgB,OAAQ,CACJL,QAAS,EACTD,gBAAiB,QACjBV,UAAW,eApnBjB9jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAunBD,aAAete,EAAMqG,GAAK,wBAA0B,CACjDkiB,KAAM,CACFJ,QAAS,EACTD,gBAAiB,QACjBV,UAAW,aAEfgB,OAAQ,CACJL,QAAS,EACTD,gBAAiB,QACjBV,UAAW,eAhoBjB9jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAmoBD,IACDte,EAAMqG,GACN,2BACArG,EAAMqG,GACN,yBAA2B,CACvB8hB,QAAS,EACTH,kBAAmB,MACnBC,kBAAmB,OACnBC,gBAAiB,MACjBE,wBACI,oCACJC,mBAAoB,WA9oBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAgpBD,IAAMte,EAAMqG,GAAK,wBAA0B,CACxC2hB,kBAAmB,MACnBC,kBAAmB,OACnBC,gBAAiB,MACjBE,wBACI,sCACJC,mBAAoB,WAtpBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAwpBD,IACDte,EAAMqG,GACN,yBACArG,EAAMqG,GACN,kCACArG,EAAMqG,GACN,0BACArG,EAAMqG,GACN,gCAAkC,CAC9BiiB,cAAetoB,EAAMqG,GAAK,oBAC1BgiB,mBAAoB,YAlqBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAoqBD,IACDte,EAAMqG,GACN,yBACArG,EAAMqG,GACN,+BAAiC,CAC7BiiB,cAAetoB,EAAMqG,GAAK,qBAC1BgiB,mBAAoB,YA1qBtB3kB,OAAAmW,EAAA,EAAAnW,CAAA4a,EA4qBD,aAAete,EAAMqG,GAAK,oBAAsB,CAC7CkiB,KAAM,CACFJ,QAAS,EACTX,UAAW,eAEfgB,OAAQ,CACJL,QAAS,EACTX,UAAW,iBAnrBjB9jB,OAAAmW,EAAA,EAAAnW,CAAA4a,EAsrBD,aAAete,EAAMqG,GAAK,qBAAuB,CAC9CkiB,KAAM,CACFf,UAAW,eAEfgB,OAAQ,CACJL,QAAS,EACTX,UAAW,iBA5rBjBlJ,QCrDhBmK,EAAMvf,YAlBY,SAAC9E,EAAOpE,GAC5B,MAAO,CACH4C,IAAKwB,EAAMgS,QAAQC,QAAQrW,EAAMqG,IACjC/D,eAAgB8B,EAAMgS,QAAQC,QAAQ/T,eACtCC,cAAe6B,EAAMgS,QAAQC,QAAQ9T,cACrCmC,OAAQN,EAAMgS,QAAQC,QAAQrW,EAAMqG,IAAI3B,OAAOsH,IAC3C,SAAAlI,GAAK,OAAIM,EAAMgS,QAAQC,QAAQvS,KAEnCqS,YAAa/R,EAAMgS,QAAQC,QAAQC,UAIhB,SAAAC,GACvB,MAAO,CACH/Q,cAAe,SAACgI,EAAGpI,GAAJ,OAAamR,EAASE,IAAsBjJ,EAAGpI,OAI1D8D,CAzJC,SAAClJ,GACV,IAkCIgM,EAFExH,EAAKxE,EAAM4C,IACX8B,EAAS,GAGf,GAAIF,EAAI,CACJ,IAMIkkB,EA3CuB,SAAAlkB,GAC3B,IAAMwd,GACDxd,EAAGmkB,cAAgBnkB,EAAGmkB,cAAgB,MAAQ,SAC9CnkB,EAAGokB,cAAgBpkB,EAAGokB,cAAgB,MAAQ,SAC9CpkB,EAAGqkB,WAAarkB,EAAGqkB,WAAa,MAAQ,SACxCrkB,EAAGskB,WAAatkB,EAAGskB,WAAa,MAAQ,SACxCtkB,EAAGukB,YAAcvkB,EAAGukB,YAAc,oBAEnCzc,EAAWtM,EAAMmW,YAAkC,KAApB,kBASnC,OARInW,EAAMqG,KAAOrG,EAAMsC,iBACnBgK,EAAU,qCAGVtM,EAAMqG,KAAOrG,EAAMuC,gBACnB+J,EAAU,qCAGP,CACHI,WAAY,OACZS,UAAW,aACXX,SAAU,WACVvJ,KAAMuB,EAAGvB,KACTE,IAAKqB,EAAGrB,IACRJ,MAAOyB,EAAGzB,MACVC,OAAQwB,EAAGxB,OACX+J,OAAQvI,EAAGuI,OACXT,QAAUtM,EAAMyd,KAAiB,KAAVnR,EACvBW,WAAYzI,EAAGwkB,aAAexkB,EAAGyI,WAAa,KAC9C+U,UAAWxd,EAAGykB,SAAWjH,EAAY,MAerBkH,CANJtW,EACZpO,EACAxE,EAAM0E,OACN1E,EAAMsC,eACNtC,EAAMuC,gBAaV,GAVAmC,EAAO,IAAM1E,EAAMqG,GAAK,QAAUqiB,EAU9BlkB,EAAG2kB,MAAO,CACV,IAAIC,EAAM,8CACVA,GAAO,kDACPA,GAAO5kB,EAAG6kB,YAAc,SACxBD,GAAO5kB,EAAG8kB,QAAU,SAAW9kB,EAAG8kB,QAAU,GAC5CF,GAAO5kB,EAAG+kB,aAAe,qBAAuB,mBAChDvd,EACIwG,EAAAvS,EAAAC,cAAA,UACIqI,MAAOvI,EAAMqG,GAAK,OAClBvC,MAAOvD,EACPipB,YAAY,IACZJ,IAAKA,EAAIK,QAAQ,KAAM,QAYvC,IAAM1S,EACU,SAAZvS,EAAGiB,KACC+M,EAAAvS,EAAAC,cAACwpB,EAAD,CACIrjB,GAAIrG,EAAMqG,GACVgW,uBAAwBrc,EAAMqc,uBAC9BoB,KAAMzd,EAAMyd,KACZ7P,SAAU5N,EAAM4N,WAEpB,KAEF+b,EACU,SAAZnlB,EAAGiB,KACC+M,EAAAvS,EAAAC,cAAC0pB,EAAD,CACIvjB,GAAIrG,EAAMqG,GACVoX,KAAMzd,EAAMyd,KACZ7P,SAAU5N,EAAM4N,SAChBhL,IAAK5C,EAAM4C,MAEf,KAER,OACI4P,EAAAvS,EAAAC,cAAA,OACIC,cAAA,OAAAoD,OAAoBvD,EAAMqG,GAA1B,QACAA,GAAIrG,EAAMqG,GAAK,OACfyP,YACK9V,EAAMyd,KAA+C,KAAxC,SAAAjQ,GAAC,OAAIxN,EAAMwF,cAAcgI,EAAGxN,EAAMqG,MAGnD2F,EACDwG,EAAAvS,EAAAC,cAAA,OACI4D,MACgB,SAAZU,EAAGiB,KAAH/B,OAAAgP,EAAA,EAAAhP,CAAA,GACWnD,EADX,CAC6BgM,SAAU,YACjChM,EAEVJ,cAAA,OAAAoD,OAAoBvD,EAAMqG,GAA1B,OACAA,GAAIrG,EAAMqG,GACV8Z,KAAK,cAEJpJ,EACA4S,EACAnlB,EAAG3D,SAASmL,IAAI,SAAApJ,GAAG,OAChB4P,EAAAvS,EAAAC,cAACuoB,EAAD,CACIhkB,IAAK7B,EACLyD,GAAIzD,EACJyZ,uBAAwBrc,EAAMqc,uBAC9BoB,KAAMzd,EAAMyd,KACZ7P,SAAU5N,EAAM4N,cAI1B5N,EAAMyd,KAAuC,KAAhCjL,EAAAvS,EAAAC,cAAC2pB,EAAD,CAAaxjB,GAAIrG,EAAMqG,KACtCmM,EAAAvS,EAAAC,cAAC+gB,EAAA,EAAD,CAAQvc,OAAQA,OA4Bb+jB,IC5RFqB,EAAe,CAC1B/mB,MAAO,OACPyJ,SAAU,WACVwM,UAAW,SACXtM,WAAY,QAGDqd,EAAsB,CACjCrd,WAAY,OACZ3J,MAAO,OACPC,OAAQ,OACRwJ,SAAU,YAGCwd,GAAmB,CAC9BjnB,MAAO,OACPC,OAAQ,OACR4J,OAAQ,IACRJ,SAAU,WACVvJ,KAAM,MACNE,IAAK,OCpBM8mB,GAAc,CACzBzd,SAAU,WACVvJ,KAAM,QACNE,IAAK,MACLH,OAAQ,OACRD,MAAO,OACPkK,WAAY,OACZH,OAAQ,OACRkM,UAAW,SACX6D,MAAO,UACPM,WAAY,OACZR,SAAU,QCaGzT,eAPS,SAAA9E,GACpB,MAAO,CACHP,cAAeO,EAAMgS,QAAQC,QAAQxS,cACrCsS,YAAa/R,EAAMgS,QAAQC,QAAQC,UAI5BpN,CAbmB,SAAClJ,GAC/B,OAAQA,EAAMmW,YAER,KADF3D,EAAAvS,EAAAC,cAAA,OAAKC,cAAA,eAAAoD,OAA4BvD,EAAMqG,IAAMvC,MAAO9D,EAAM6D,gBAAkB7D,EAAMqG,GAA9B3C,OAAAgP,EAAA,EAAAhP,CAAA,GAAuCnD,GAAvC,CAA4D0M,WAAY,UAAW1M,OCblI2pB,GAAgB,CAC3Bxd,WAAY,OACZF,SAAU,WACVpJ,OAAQ,OACRJ,OAAQ,OACRiK,WAAY,OACZL,OAAQ,iBACRO,UAAW,aACXL,OAAQ,aACR6P,SAAU,OACVE,MAAO,OACPG,WAAY,QACZkE,QAAS,UACTnU,OAAQ,OACR9J,KAAM,MACNC,MAAO,MACP+e,OAAQ,WACRlf,MAAO,OACPoa,WAAY,QCoCCjU,eAbS,SAAC9E,EAAOpE,GAC5B,MAAO,CACHmqB,QAAS/lB,EAAMgS,QAAQC,QAAQrW,EAAMqG,IACrC8P,YAAa/R,EAAMgS,QAAQC,QAAQC,UAIhB,SAAAC,GACvB,MAAO,CACHtR,QAAS,SAACmlB,EAAUC,GAAX,OAAwB9T,EAASE,IAAmC2T,EAAUC,GAAU,OAI1FnhB,CAlCqB,SAAClJ,GAajC,OAAQA,EAAMmW,YAKR,KAJF3D,EAAAvS,EAAAC,cAAA,OAAK4D,MAAOvD,GACRuV,YAdoB,SAACtI,GACzB,IAAM4G,EAAWpU,EAAMmqB,QAAQnnB,OAE/BuK,EAAUC,EAAG,SAACgH,EAAMC,GAChB,IAAI1P,EAAQqP,EAAWK,EACnB1P,EAAQ,IACRA,EAAQ,GAEZ/E,EAAMiF,QAAQF,EAAO,WACtB,gBAIH,YClCKulB,GAAe,CAC1B5d,WAAY,OACZF,SAAU,WACVpJ,OAAQ,OACRJ,OAAQ,OACRiK,WAAY,OACZL,OAAQ,iBACRO,UAAW,aACXL,OAAQ,aACR6P,SAAU,OACVE,MAAO,OACPG,WAAY,QACZkE,QAAS,UACTnU,OAAQ,OACR9J,KAAM,MACNC,MAAO,MACP+e,OAAQ,YACRlf,MAAO,OACPoa,WAAY,QCmCCjU,eAbS,SAAC9E,EAAOmmB,GAC5B,MAAO,CACHJ,QAAS/lB,EAAMgS,QAAQC,QAAQkU,EAASlkB,IACxC8P,YAAa/R,EAAMgS,QAAQC,QAAQC,UAIhB,SAAAC,GACvB,MAAO,CACHtR,QAAS,SAACmlB,EAAUC,GAAX,OAAwB9T,EAASE,IAAmC2T,EAAUC,GAAU,OAI1FnhB,CAjCoB,SAAClJ,GAYhC,OAAQA,EAAMmW,YAKR,KAJF3D,EAAAvS,EAAAC,cAAA,OAAK4D,MAAOvD,GACRuV,YAboB,SAACtI,GACzB,IAAM4G,EAAWpU,EAAMmqB,QAAQK,MAC/Bjd,EAAUC,EAAG,SAACgH,EAAMC,GAChB,IAAI1P,EAAQqP,EAAWK,EACnB1P,EAAQ,IACRA,EAAQ,GAEZ/E,EAAMiF,QAAQF,EAAO,UACtB,gBAIH,WCsJOmE,gBArBS,SAAC9E,EAAOpE,GAC5B,MAAO,CACHmqB,QAAS/lB,EAAMgS,QAAQC,QAAQrW,EAAMqG,IACrCxF,SAAUuD,EAAMgS,QAAQC,QAAQrW,EAAMqG,IAAIxF,SAC1CyB,eAAgB8B,EAAMgS,QAAQC,QAAQ/T,eACtCC,cAAe6B,EAAMgS,QAAQC,QAAQ9T,cACrCmC,OAAQN,EAAMgS,QAAQC,QAAQrW,EAAMqG,IAAI3B,OAAOsH,IAC3C,SAAAlI,GAAK,OAAIM,EAAMgS,QAAQC,QAAQvS,KAEnCqS,YAAa/R,EAAMgS,QAAQC,QAAQC,UAIhB,SAAAC,GACvB,MAAO,CACHkU,cAAe,SAACrlB,EAAM+R,GAClBZ,EAASE,IAAsBrR,EAAM+R,OAKlCjO,CAjJC,SAAClJ,GACb,IAkCI0E,EACAsH,EAFExH,EAAKxE,EAAMmqB,QAIXtX,EAAUD,EACZpO,EACAxE,EAAM0E,OACN1E,EAAMsC,eACNtC,EAAMuC,eAIV,GAFAmC,EA3C+B,SAAAF,GAAM,IAAAkmB,EAC7Bpe,EAAU,GASd,OARItM,EAAMqG,KAAOrG,EAAMsC,iBACnBgK,EAAU,qCAGVtM,EAAMqG,KAAOrG,EAAMuC,gBACnB+J,EAAU,qCAGdoe,EAAA,GAAAhnB,OAAAmW,EAAA,EAAAnW,CAAAgnB,EACK,IAAM1qB,EAAMqG,GAAK,SAAW,CACzBqG,WAAY,OACZ1J,OAAQ2nB,SAASnmB,EAAGxB,QAAU2nB,SAAS3qB,EAAMmqB,QAAQK,SAH7D9mB,OAAAmW,EAAA,EAAAnW,CAAAgnB,EAKK,IAAM1qB,EAAMqG,GAAK,UAAY,CAC1BqG,WAAY,OACZ1J,OAAQwB,EAAGxB,OACXiK,WAAYzI,EAAGomB,kBAAoBpmB,EAAGqmB,gBAAkB,KACxDre,SAAU,aATlB9I,OAAAmW,EAAA,EAAAnW,CAAAgnB,EAWK,IAAM1qB,EAAMqG,GAAK,SAAW,CACzBqG,WAAY,OACZF,SAAU,WACVxJ,OAAQ,OACRD,MAAO,SACPkf,OAAQ,OACR3V,QAAUtM,EAAMyd,KAAiB,KAAVnR,EACvBW,WAAYzI,EAAGwkB,aAAexkB,EAAGyI,WAAa,OAlBtDyd,EAiCKxB,CAAuBrW,GAE5BrO,EAAG2kB,MAAO,CACV,IAAIC,EAAM,8CACVA,GAAO,kDACPA,GAAO5kB,EAAG6kB,YAAc,SACxBD,GAAO5kB,EAAG8kB,QAAU,SAAW9kB,EAAG8kB,QAAU,GAC5CF,GAAO5kB,EAAG+kB,aAAe,qBAAuB,mBAChDvd,EACIwG,EAAAvS,EAAAC,cAAA,UACIqI,MAAOvI,EAAMqG,GAAK,OAClBvC,MAAOvD,GACPipB,YAAY,IACZJ,IAAKA,EAAIK,QAAQ,KAAM,OAcnC,OACIjX,EAAAvS,EAAAC,cAAA,WACIC,cAAY,cACZ2D,MAAOvD,EACPuV,YACK9V,EAAMyd,KAED,KADA,SAAAtG,GAAK,OAAInX,EAAMyqB,cAAczqB,EAAMqG,GAAI8Q,KAIjD3E,EAAAvS,EAAAC,cAAA,OAAKmG,GAAIrG,EAAMqG,GAAK,UAChBmM,EAAAvS,EAAAC,cAAA,OAAKmG,GAAIrG,EAAMqG,GAAK,WACfwM,EAAQiY,SAAW9e,EAAM,KAC1BwG,EAAAvS,EAAAC,cAAA,OAAKmG,GAAIrG,EAAMqG,GAAK,UACdwM,EAAQiY,SAAiB,KAAN9e,EACrBwG,EAAAvS,EAAAC,cAAA,OACI4D,MAAKJ,OAAAgP,EAAA,EAAAhP,CAAA,GACEnD,EADF,CAED+L,QACKtM,EAAMmW,aAAgBnW,EAAMyd,KAEvB,KADA,oBAGdpX,GAAIrG,EAAMqG,GACV8Z,KAAK,cAEJngB,EAAMa,SAASmL,IAAI,SAAApJ,GAAG,OACnB4P,EAAAvS,EAAAC,cAAC6qB,EAAD,CACItmB,IAAK7B,EACLyD,GAAIzD,EACJyZ,uBACIrc,EAAMqc,uBAEVoB,KAAMzd,EAAMyd,KACZ7P,SAAU5N,EAAM4N,cAI1B5N,EAAMyd,KAEJ,KADAjL,EAAAvS,EAAAC,cAAC8qB,GAAD,CAAoB3kB,GAAIrG,EAAMqG,MAGpCrG,EAAMyd,KAEJ,KADAjL,EAAAvS,EAAAC,cAAC+qB,GAAD,CAAsB5kB,GAAIrG,EAAMqG,OAI1CrG,EAAMyd,KAA+C,KAAxCjL,EAAAvS,EAAAC,cAACgrB,GAAD,CAAqB7kB,GAAIrG,EAAMqG,KAC9CmM,EAAAvS,EAAAC,cAAC+gB,EAAA,EAAD,CAAQvc,OAAQA,4BC5J5B5D,EAAAC,QAAA,CAAkBmB,QAAA,8CCDlBpB,EAAAC,QAAiBrB,EAAAyrB,EAAuB,sDCCxCrqB,EAAAC,QAAA,CAAkBqqB,aAAA,yDCAlBtqB,EAAAC,QAAA,CAAkBsqB,6BAAA,mEAAAhrB,SAAA,qECAlBS,EAAAC,QAAA,CAAkBuqB,MAAA,gDCAlBxqB,EAAAC,QAAA,CAAkBoG,gBAAA,+DCAlBrG,EAAAC,QAAA,CAAkBwqB,SAAA,gDCAlBzqB,EAAAC,QAAA,CAAkByqB,KAAA,mBAAAC,KAAA,mBAAAC,MAAA,oBAAAC,SAAA,uBAAAC,YAAA,0BAAAC,OAAA,qBAAAC,eAAA,6BAAAC,eAAA,6BAAA7kB,KAAA,mBAAA8kB,WAAA,yBAAAC,gBAAA,iJCDlBvsB,EAAAyM,EAAA+f,EAAA,sBAAAC,IAAAzsB,EAAAyM,EAAA+f,EAAA,sBAAAE,IAAA1sB,EAAAyM,EAAA+f,EAAA,sBAAAG,IAAA3sB,EAAAyM,EAAA+f,EAAA,sBAAAI,IAAA5sB,EAAAyM,EAAA+f,EAAA,sBAAAK,IAAA7sB,EAAAyM,EAAA+f,EAAA,sBAAAM,IAAA9sB,EAAAyM,EAAA+f,EAAA,sBAAAO,IAAA/sB,EAAAyM,EAAA+f,EAAA,sBAAAQ,IAAAhtB,EAAAyM,EAAA+f,EAAA,sBAAAS,IAAAjtB,EAAAyM,EAAA+f,EAAA,sBAAAU,IAAAltB,EAAAyM,EAAA+f,EAAA,sBAAAW,IAAAntB,EAAAyM,EAAA+f,EAAA,sBAAAY,IAAAptB,EAAAyM,EAAA+f,EAAA,sBAAAa,IAAArtB,EAAAyM,EAAA+f,EAAA,sBAAAc,IAAAttB,EAAAyM,EAAA+f,EAAA,sBAAAe,IAAAvtB,EAAAyM,EAAA+f,EAAA,sBAAAgB,IAAAxtB,EAAAyM,EAAA+f,EAAA,sBAAAiB,IAAAztB,EAAAyM,EAAA+f,EAAA,uBAAAkB,IAAA1tB,EAAAyM,EAAA+f,EAAA,uBAAAmB,IAAA3tB,EAAAyM,EAAA+f,EAAA,sBAAAoB,IAAA5tB,EAAAyM,EAAA+f,EAAA,sBAAAqB,IAAA7tB,EAAAyM,EAAA+f,EAAA,sBAAAsB,IAAA9tB,EAAAyM,EAAA+f,EAAA,sBAAAuB,IAAA/tB,EAAAyM,EAAA+f,EAAA,sBAAAwB,IAAAhuB,EAAAyM,EAAA+f,EAAA,sBAAAyB,IAAAjuB,EAAAyM,EAAA+f,EAAA,sBAAA0B,IAAAluB,EAAAyM,EAAA+f,EAAA,uBAAA2B,IAAAnuB,EAAAyM,EAAA+f,EAAA,sBAAA4B,IAAApuB,EAAAyM,EAAA+f,EAAA,uBAAA6B,IAAAruB,EAAAyM,EAAA+f,EAAA,sBAAA8B,IAAAtuB,EAAAyM,EAAA+f,EAAA,sBAAA+B,IAAAvuB,EAAAyM,EAAA+f,EAAA,sBAAAgC,IAAAxuB,EAAAyM,EAAA+f,EAAA,sBAAAiC,IAAAzuB,EAAAyM,EAAA+f,EAAA,sBAAAkC,IAAA1uB,EAAAyM,EAAA+f,EAAA,sBAAAmC,IAAA3uB,EAAAyM,EAAA+f,EAAA,sBAAAoC,IAAA5uB,EAAAyM,EAAA+f,EAAA,sBAAAqC,IAAA7uB,EAAAyM,EAAA+f,EAAA,uBAAAsC,IAAA9uB,EAAAyM,EAAA+f,EAAA,sBAAAuC,IAAA/uB,EAAAyM,EAAA+f,EAAA,sBAAAwC,IAAAhvB,EAAAyM,EAAA+f,EAAA,sBAAAyC,IAAAjvB,EAAAyM,EAAA+f,EAAA,sBAAA0C,IAAAlvB,EAAAyM,EAAA+f,EAAA,sBAAA2C,IAAAnvB,EAAAyM,EAAA+f,EAAA,sBAAA4C,IAAApvB,EAAAyM,EAAA+f,EAAA,sBAAA6C,IAAArvB,EAAAyM,EAAA+f,EAAA,sBAAA8C,IAAAtvB,EAAAyM,EAAA+f,EAAA,sBAAA+C,IAAAvvB,EAAAyM,EAAA+f,EAAA,sBAAAgD,IAAAxvB,EAAAyM,EAAA+f,EAAA,sBAAAiD,IAAAzvB,EAAAyM,EAAA+f,EAAA,sBAAAkD,IAAA1vB,EAAAyM,EAAA+f,EAAA,sBAAAmD,IAAA3vB,EAAAyM,EAAA+f,EAAA,sBAAAoD,KAAA5vB,EAAAyM,EAAA+f,EAAA,sBAAAqD,KAAA7vB,EAAAyM,EAAA+f,EAAA,sBAAAsD,KAAA9vB,EAAAyM,EAAA+f,EAAA,sBAAAuD,KAAA/vB,EAAAyM,EAAA+f,EAAA,sBAAAwD,KAAAhwB,EAAAyM,EAAA+f,EAAA,uBAAAyD,KAAAjwB,EAAAyM,EAAA+f,EAAA,sBAAA0D,KAAO,IAAMzD,EAAa,aACbC,EAAiB,iBACjBC,EAAoB,oBAEpBC,EAAsB,sBACtBC,EAAoB,oBAEpBC,EAAgC,gCAChCC,EAAiC,iCAEjCC,EAAiB,iBACjBC,EAAc,cACdC,EAAoB,oBACpBC,EAAkB,kBAClBC,EAAoB,oBAEpBC,EAAa,aACbC,EAAU,UACVC,EAAgB,gBAChBC,EAAc,cACdC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAkB,kBAClBC,EAAc,cAIdC,EAAc,cAEdC,EAAY,YACZC,EAAW,WACXC,EAAiB,iBAEjBC,EAAkB,kBAElBC,EAAyB,yBAEzBC,EAAkB,kBAClBC,EAAmB,mBACnBC,EAA2B,2BAE3BC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAqB,qBAErBC,EAA+B,+BAE/BC,EAAmB,mBACnBC,EAAqB,qBACrBC,EAAuB,uBAEvBC,EAAe,eAEfC,EAAqB,qBAErBC,EAAa,aACbC,EAAe,eACfC,EAAY,YACZC,EAAc,cAEdC,EAAe,eACfC,EAAiB,iBACjBC,EAAc,cAEdC,EAAgC,gCAChCC,EAA2B,2BAG3BC,EAAe,eACfC,EAAyB,yBACzBC,EAAc,cACdC,EAAmB,mBACnBC,GAAsB,sBACtBC,GAAiB,iBACjBC,GAA2B,2BAC3BC,GAA+B,+BAC/BC,GAAqB,qBACrBC,GAAuB,uBAEvBC,GAAwB,yDC/ErC,IAAAnwB,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAowB,EAAAnwB,EAAA,KAAAowB,EAAApwB,EAAAE,EAAAiwB,GAiBeE,IARW,SAAC/vB,GACvB,OACIL,EAAAM,EAAAC,cAAA,MAAII,UAAWC,IAAQ+qB,OAClBtrB,EAAMa,4CCZnB,IAAApB,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAuwB,EAAAtwB,EAAA,KAAAuwB,EAAAvwB,EAAAE,EAAAowB,GAAAhlB,EAAAtL,EAAA,IAgCewwB,IApBU,SAAClwB,GACtB,OACIL,EAAAM,EAAAC,cAAA,UACIC,cAAaH,EAAMI,YAAc,WACjCE,UAAWC,IAAQC,OACnBG,QAASX,EAAMmwB,eACfxwB,EAAAM,EAAAC,cAAA,SAAOI,UAAWC,IAAQa,OACtBzB,EAAAM,EAAAC,cAAA,aACIP,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,UAAIP,EAAAM,EAAAC,cAAC8K,EAAA,EAAD,CAAK1C,KAAMtI,EAAMsI,SAEzB3I,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,UAAKF,EAAMuI,+DCpBtByL,EAAY,SAAC5O,EAAcsR,GAAf,OAAkC,SACvDH,GAEAA,EAAS6Z,EAAYhrB,EAAMsR,IAC3BH,EAASE,EAA6B,YAG7B2Z,EAAc,SAAChrB,EAAcsR,GAAf,MAAmC,CAC1DjR,KAAM4qB,IACNjrB,OACAsR,SAGS4Z,EAAgB,SAAClrB,EAAc+R,GAExC,OADAA,EAAMpD,kBACC,SAACwC,GACJA,EAASga,EAAgBnrB,IACzBmR,EAASE,EAA6B,eAIjC8Z,EAAkB,SAACnrB,GAAD,MAAmB,CAC9CK,KAAM4qB,IACNjrB,SAGSE,EAAmB,iBAAO,CAAEG,KAAM4qB,MAClC7qB,EAAgB,SAACgI,EAAUpI,GAEpC,OADAoI,EAAEuG,kBACK,CAAEtO,KAAM4qB,IAA4BjrB,SAGlCjB,EAA6B,SACtCY,EACAN,EACAO,EACAwrB,GAJsC,MAKpC,CACF/qB,KAAM4qB,IACNtrB,QACAN,MACAO,YACAwrB,oBAGStrB,EAA8B,SACvCsrB,EACArrB,GAFuC,MAGrC,CACFM,KAAM4qB,IACNlrB,QACAqrB,oBAGSC,EAAgB,iBAAO,CAAEhrB,KAAM4qB,MAC/BK,EAAa,iBAAO,CAAEjrB,KAAM4qB,MAC5BM,EAAmB,iBAAO,CAAElrB,KAAM4qB,MAClCO,EAAgB,iBAAO,CAAEnrB,KAAM4qB,MAC/BQ,EAAkB,iBAAO,CAAEprB,KAAM4qB,MAEjCS,EAAY,iBAAO,CAAErrB,KAAM4qB,MAC3BU,EAAS,SAACC,EAA8B7rB,GAA/B,MAAmD,CACrEM,KAAM4qB,IACNW,eACA7rB,UAES8rB,EAAe,iBAAO,CAAExrB,KAAM4qB,MAC9Ba,EAAY,iBAAO,CAAEzrB,KAAM4qB,MAC3Bc,EAAc,iBAAO,CAAE1rB,KAAM4qB,MAC7Be,EAAc,iBAAO,CAAE3rB,KAAM4qB,OAC7BgB,EAAgB,iBAAO,CAAE5rB,KAAM4qB,OAE/BiB,EAAU,SAACC,EAA6BC,GAA9B,OAAsD,SACzEjb,GAEA,IAAMzQ,EAAqB,GACrB2rB,EAAgB7rB,YAClB2rB,EACAA,EAAoB7uB,YACpBoD,EACA,UACA5B,EACA,KACAstB,GAEJjb,EAASE,EAA4B3Q,EAAoB2rB,MAGhDC,EAAS,SAACH,EAA6BC,GAA9B,OAAsD,SACxEjb,GAEA,IAAMzQ,EAAqB,GACrB2rB,EAAgB7rB,YAClB2rB,EACAA,EAAoB7uB,YACpBoD,EACA,UACA5B,EACA,KACAstB,GAEJjb,EAASE,EAA4B3Q,EAAoB2rB,IACzDlb,EAASua,OAGAa,EAAW,SAACJ,EAA6BC,GAA9B,OAAsD,SAC1Ejb,GAEA,IAAMzQ,EAAqB,GACrB2rB,EAAgB7rB,YAClB4rB,EACAA,EAAYR,aACZlrB,EACA,UACA5B,EACA,KACAqtB,GAEJhb,EAASwa,EAAOjrB,EAAoB2rB,MAG3Bhc,EAAW,iBAAO,CAAEhQ,KAAM4qB,MAC1BuB,EAAU,iBAAO,CAAEnsB,KAAM4qB,MAQzBwB,EAAkB,SAAC9sB,GAAD,MAAgD,CAC3EU,KAAM4qB,IACNtrB,UAGS+sB,EAAa,SAACC,GAAD,MAAwB,CAC9CtsB,KAAM4qB,IACN0B,cAGSC,EAAgB,SAAChtB,GAAD,MAA0B,CACnDS,KAAM4qB,KACNrrB,cAESitB,EAAiB,SAACjtB,GAAD,MAA0B,CACpDS,KAAM4qB,IACNrrB,cAMSktB,EAAiB,iBAAO,CAAEzsB,KAAM4qB,MAChC8B,EAAgB,iBAAO,CAAE1sB,KAAM4qB,MAC/B+B,EAAmB,iBAAO,CAAE3sB,KAAM4qB,MAElCtb,EAAgB,iBAAO,CAAEtP,KAAM4qB,MAE/BgC,EAAc,iBAAO,CAAE5sB,KAAM4qB,MAE7BiC,EAAmB,SAACjtB,GAAD,MAAqB,CACjDI,KAAM4qB,KACNhrB,WAGSktB,EAA2B,SACpCC,EACAC,EACAC,GAHoC,MAIlC,CACFjtB,KAAM4qB,IACNmC,MACAC,eACAC,eAGSC,EAAkB,iBAAO,CAAEltB,KAAM4qB,MACjCuC,EAAoB,iBAAO,CACpCntB,KAAM4qB,MCpLGwC,EAAuB,SAACztB,GAAD,MAAmB,CACnDK,KAAM4qB,IACNjrB,SCFS0tB,EAAsB,SAAC9B,EAA6B7rB,GAA9B,MAAkD,CACnFM,KAAM4qB,IACNW,eACA7rB,kCCAW4tB,EAAY,iBAAO,CAC5BttB,KAAM4qB,MAGG2C,EAAc,SAACta,GAAD,MAAmB,CAC1CjT,KAAM4qB,IACN3X,SAGSua,EAAW,SAACC,GAAD,MAAoB,CACxCztB,KAAM4qB,IACN6C,UAgBSC,EAAa,kBAAM,SAAC5c,GAE7B,OADAA,EAd8B,CAC9B9Q,KAAM4qB,MAcC+C,IACFC,OAAO,cACPC,KAAK,SAAAC,GACFhd,EAASid,KACTjd,EAfwB,CAChC9Q,KAAM4qB,QAgBDoD,MAAM,SAAAC,GAbW,IAACR,EAcf3c,GAde2c,EAcKQ,EAAIC,QAdU,CAC1CluB,KAAM4qB,IACN6C,eAgBSM,EAAS,WAKlB,OAJAI,aAAaC,WAAW,SACxBD,aAAaC,WAAW,UACxBD,aAAaC,WAAW,iBACxBT,IAAMU,SAASC,QAAQC,OAAO,gBAAkB,KACzC,CACHvuB,KAAM4qB,MAID4D,EAAO,SAACC,EAAe5pB,EAAkB6pB,GAAlC,OAAyD,SACzE5d,GAEAA,EAASwc,KACT,IAAMqB,EAAW,CACbF,QACA5pB,YAGA8V,EAAM,aASV,OARK+T,IACD/T,EAAM,aAEVgT,IAAMU,SAASC,QAAQM,KAAK,gBAAkB,mBAC9CjB,IAAMU,SAASC,QAAQO,IAAI,gBAAkB,mBAC7ClB,IAAMU,SAASC,QAAQV,OAAO,gBAAkB,mBAChDD,IAAMU,SAASC,QAAQC,OAAOO,OAAS,mBAEhCnB,IACFiB,KAAKjU,EAAKvI,KAAK2c,UAAUJ,IACzBd,KAAK,SAAAC,GACFK,aAAaa,QAAQ,QAASlB,EAAS7a,KAAKgc,OAC5Cd,aAAaa,QAAQ,SAAUlB,EAAS7a,KAAK8Z,KAC7CoB,aAAaa,QAAQ,gBAAiBlB,EAAS7a,KAAKic,eACpDvB,IAAMU,SAASC,QAAQC,OAAO,gBAAkBT,EAAS7a,KAAKgc,MAC9Dne,EAASyc,EAAYO,EAAS7a,OAC9BnC,EAASE,GAAkC8c,EAAS7a,SAEvD+a,MAAM,SAAAC,GACHnd,EAAS0c,EAASS,EAAIC,cAIrBiB,GAAiB,kBAAM,SAACre,GACjC,IAAMme,EAAQd,aAAaiB,QAAQ,SAC7BC,EAASlB,aAAaiB,QAAQ,UAMpC,GALAzB,IAAMU,SAASC,QAAQM,KAAK,gBAAkB,mBAC9CjB,IAAMU,SAASC,QAAQO,IAAI,gBAAkB,mBAC7ClB,IAAMU,SAASC,QAAQV,OAAO,gBAAkB,mBAChDD,IAAMU,SAASC,QAAQC,OAAOO,OAAS,mBAElCG,GAAUI,EAKX,OAFA1B,IAAMU,SAASC,QAAQC,OAAO,gBAAkBU,EAChDne,EAASwc,KACFK,IACFva,IAAI,cACJya,KAAK,SAAAC,GACFK,aAAaa,QACT,gBACAlB,EAAS7a,KAAKic,eAElBpe,EACIyc,EAAYtvB,OAAAgP,EAAA,EAAAhP,CAAA,GACL6vB,EAAS7a,KADL,CAEP8Z,IAAKsC,EACLJ,YAGRne,EAASE,GAAkC8c,EAAS7a,SAEvD+a,MAAM,SAAAC,GACHnd,EAAS0c,EAASS,EAAIC,YArB9Bpd,EAASid,gBCjGJuB,GAAuB,SAACrc,GACjC,OAAGA,EAAKsc,YACGtc,EAAKsc,YAETtc,EAAK2F,QAAQD,eAAezY,OAAS,EAC7B+S,EAAK2F,QAAQD,eAAe,GAAG/X,GAE/B,MCMN4uB,GAA4B,SAACvc,GAAD,MAAmB,CACxDjT,KAAM4qB,IACN3X,SAQSwc,GAAgB,kBAAM,SAAC3e,GAEhC,OADAA,EAAS4e,MACF/B,IACFiB,KAAK,iBACLf,KAAK,SAAAC,GACF,IAAMyB,EAAcD,GAAqBxB,EAAS7a,MAClDnC,EACI0e,GAA0BvxB,OAAAgP,EAAA,EAAAhP,CAAA,GAAK6vB,EAAS7a,KAAf,CAAqBsc,kBAElDze,EACIE,EACIue,EACAzB,EAAS7a,KAAK+Z,iBAIzBgB,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvB0B,GAAc,SAAC7C,GAAD,OAAiB,SAACjc,GAEzC,OADAA,EAAS4e,MACF/B,IACFva,IADE,iBAAAtV,OACmBivB,IACrBc,KAAK,SAAAC,GACF,IA/B0B7a,EA+BpBsc,EAAcD,GAAqBxB,EAAS7a,MAClDnC,GAhC0BmC,EAgCKhV,OAAAgP,EAAA,EAAAhP,CAAA,GAAK6vB,EAAS7a,KAAf,CAAqBsc,gBAhCP,CACpDvvB,KAAM4qB,IACN3X,UA+BQnC,EACIE,EACIue,EACAzB,EAAS7a,KAAK+Z,iBAIzBgB,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvB2B,GAAsB,SAC/B9C,EACAjqB,EACAgtB,GAH+B,OAI9B,SAAChf,GACFA,EAAS4e,MACT,IAAMK,EAAc,CAChBjtB,QACAgtB,UAEJ,OAAOnC,IACFkB,IADE,iBAAA/wB,OACmBivB,GAAO3a,KAAK2c,UAAUgB,IAC3ClC,KAAK,SAAAC,GACFhd,EAAS0e,GAA0B1B,EAAS7a,SAE/C+a,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvB8B,GAAgB,SAACjD,GAAD,OAAiB,SAACjc,GAE3C,OADAA,EAAS4e,MACF/B,IACFC,OADE,iBAAA9vB,OACsBivB,IACxBc,KAAK,SAAAC,GACF,IAAMyB,EAAcD,GAAqBxB,EAAS7a,MAClDnC,EACI0e,GAA0BvxB,OAAAgP,EAAA,EAAAhP,CAAA,GAAK6vB,EAAS7a,KAAf,CAAqBsc,kBAElDze,EACIE,EACIue,EACAzB,EAAS7a,KAAK+Z,iBAIzBgB,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBwB,GAAc,iBAAO,CAC9B1vB,KAAM4qB,MAGGqF,GAAgB,iBAAO,CAChCjwB,KAAM4qB,MAWG+E,GAAa,SAAClC,GAAD,MAAoB,CAC1CztB,KAAM4qB,IACN6C,UAGSyC,GAAU,SAACC,EAAmBC,GAApB,OAA8C,SACjEtf,GAGA,OADAA,EAAS4e,MACF/B,IACFiB,KACG,aACAxc,KAAK2c,UAAU,CACXoB,YACAC,mBAGPvC,KAAK,SAAAC,GACFhd,EAASuf,GAAevC,EAAS7a,OACjCnC,EACIE,EACI8c,EAAS7a,KAAKuH,KAAKuS,IACnB,KACAe,EAAS7a,KAAKuH,SAIzBwT,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBmC,GAAiB,SAACpd,GAAD,MAAmB,CAC7CjT,KAAM4qB,IACNpQ,KAAMvH,EAAKuH,KACX7B,eAAgB1F,EAAK0F,iBAGZ2X,GAAa,SAACF,EAAuBpD,GAAxB,OAAiD,SACvElc,GAGA,OADAA,EAAS4e,MACF/B,IACFC,OADE,cAAA9vB,OACmBsyB,IACrBvC,KAAK,SAAAC,GACFhd,EAASyf,GAAkBzC,EAAS7a,OACpCnC,EACIE,EACI8c,EAAS7a,KAAKsc,YACdvC,MAIXgB,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBqC,GAAoB,SAACtd,GAAD,MAAmB,CAChDjT,KAAM4qB,IACNjS,eAAgB1F,EAAK0F,eACrB4W,YAAatc,EAAKsc,cAGTiB,GAAgB,SAACL,EAAmBC,GAApB,OAA8C,SACvEtf,GAGA,OADAA,EAAS4e,MACF/B,IACFiB,KACG,aACAxc,KAAK2c,UAAU,CACXqB,gBACAD,YACAM,WAAW,KAGlB5C,KAAK,SAAAC,GACFhd,EAASuf,GAAevC,EAAS7a,OACjCnC,EACIE,EACI8c,EAAS7a,KAAKuH,KAAKuS,IACnB,KACAe,EAAS7a,KAAKuH,SAIzBwT,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBwC,GAAqB,SAC9B3D,EACApU,GAF8B,OAG7B,SAAC7H,GAEF,OADAA,EAAS4e,MACF/B,IACFkB,IADE,iBAAA/wB,OACmBivB,GAAO3a,KAAK2c,UAAU,CAAEpW,oBAC7CkV,KAAK,SAAAC,GACFhd,EAASmf,MACLnC,EAAS7a,KAAK0d,SACd7f,EAAS8f,MAET9f,EAAS+f,GAA0BlY,MAG1CqV,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvB0C,GAAmB,iBAAO,CACnC5wB,KAAM4qB,OAGGiG,GAA4B,SACrClY,GADqC,MAEnC,CACF3Y,KAAM4qB,IACNjS,mBAGSmY,GAAqB,SAC9B/D,EACAC,EACAmD,GAH8B,OAI7B,SAACrf,GAIF,OAHAA,EAxIsC,CACtC9Q,KAAM4qB,MAwIN9Z,EAASigB,GAAehE,IACxBjc,EAASE,EAAiC+b,EAAKC,IACxCW,IACFkB,IADE,6BAAA/wB,OAE8BqyB,GAC7B/d,KAAK2c,UAAU,CAAEQ,YAAaxC,KAEjCc,KAAK,SAAAC,GACFhd,EA7IgC,CACxC9Q,KAAM4qB,MA8IE9Z,EAASkgB,kBAAmBC,kBAE/BjD,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,UAExBpd,EAASkgB,kBAAmBC,oBAI3BF,GAAiB,SAAChE,GAAD,MAAkB,CAC5C/sB,KAAM4qB,IACNmC,QAGSmE,GAAW,SACpB5xB,EACA8wB,EACAzX,GAHoB,OAInB,SAAC7H,GACFA,EAAS4e,MACT5e,EAASqgB,GAAgB7xB,IACzB,IAAMiwB,EAAc5W,EAAeyY,KAAK,SAAAzxB,GAAI,OAAIA,EAAKiB,KAAOwvB,IAK5D,OAJIb,IACAA,EAAY8B,gBAAiB,GAEjCvgB,EAASE,KACF2c,IACFkB,IADE,cAAA/wB,OAEesyB,GACdhe,KAAK2c,UAAL9wB,OAAAgP,EAAA,EAAAhP,CAAA,GAAoBqB,EAApB,CAA2BqZ,qBAE9BkV,KAAK,SAAAC,GACFhd,EAAS+f,GAA0BlY,IACnC7H,EAASmf,QAEZjC,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBoD,GAA2B,SACpChyB,EACA8wB,EACAzX,EACAwX,GAJoC,OAKnC,SAACrf,GACF,IAAM/S,EAAQ4a,EAAe4Y,UAAU,SAAA5xB,GAAI,OAAIA,EAAKiB,KAAOwvB,IAC3D,KAAIryB,EAAQ,GAQZ,OALA4a,EAAe5a,GAAfE,OAAAgP,EAAA,EAAAhP,CAAA,GACO0a,EAAe5a,GACfuB,GAGAwR,EAAS4f,GAAmBP,EAAWxX,MAGrC6Y,GAAmC,SAC5ClyB,EACA8wB,EACAzX,EACAwX,GAJ4C,OAK3C,SAACrf,GAEF,OADA6H,EAAezb,QAAQ,SAAAyC,GAAI,OAAKA,EAAK8xB,YAAa,IAC3C3gB,EACHwgB,GACIhyB,EACA8wB,EACAzX,EACAwX,MAKCuB,GAAc,SACvBvB,EACAC,EACAzX,EACAgZ,GAJuB,OAKtB,SAAC7gB,GAEF,GADAA,EAAS4e,MACLiC,EAAY,CACZ,IAAIpC,EAAc5W,EAAeyY,KAAK,SAAAzxB,GAAI,OAAIA,EAAKiB,KAAOwvB,IACtDb,IACAA,EAAY8B,gBAAiB,QAGjC1Y,EAAezb,QAAQ,SAAAyC,GAAI,OAAKA,EAAK0xB,gBAAiB,IAE1D,OAAO1D,IACFiB,KACG,qBACAxc,KAAK2c,UAAU,CACXoB,YACAC,gBACAuB,aACAhZ,oBAGPkV,KAAK,SAAAC,GACFhd,EAASmf,QAEZjC,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvB0D,GAAa,SACtBzB,EACAC,EACAzX,EACAgZ,GAJsB,OAKrB,SAAC7gB,GAEF,GADAA,EAAS4e,MACLiC,EAAY,CACZ,IAAIpC,EAAc5W,EAAeyY,KAAK,SAAAzxB,GAAI,OAAIA,EAAKiB,KAAOwvB,IACtDb,IACAA,EAAY8B,gBAAiB,QAGjC1Y,EAAezb,QAAQ,SAAAyC,GAAI,OAAKA,EAAK0xB,gBAAiB,IAE1D,OAAO1D,IACFiB,KACG,oBACAxc,KAAK2c,UAAU,CACXoB,YACAC,gBACAuB,aACAhZ,oBAGPkV,KAAK,SAAAC,GACFhd,EAAS0e,GAA0B1B,EAAS7a,OAC5CnC,EACIE,EACIof,EACAtC,EAAS7a,KAAK+Z,iBAIzBgB,MAAM,SAAAC,GACHnd,EAAS6e,GAAW1B,EAAIC,cAIvBiD,GAAkB,SAAC7xB,GAAD,OAAArB,OAAAgP,EAAA,EAAAhP,CAAA,CAC3B+B,KAAM4qB,KACHtrB,IAGMuyB,GAAqB,SAC9BlZ,EACAqU,EACAuC,GAH8B,MAI5B,CACFvvB,KAAM4qB,IACNjS,iBACAqU,eACAuC,gBCnaJt1B,EAAAyM,EAAA+f,EAAA,sBAAAqL,IAAA73B,EAAAyM,EAAA+f,EAAA,sBAAAsL,IAAA93B,EAAAyM,EAAA+f,EAAA,sBAAAuL,IAAA/3B,EAAAyM,EAAA+f,EAAA,sBAAAwL,IAAAh4B,EAAAyM,EAAA+f,EAAA,sBAAAyL,IAAAj4B,EAAAyM,EAAA+f,EAAA,sBAAA0L,IAAAl4B,EAAAyM,EAAA+f,EAAA,sBAAA2L,IAAAn4B,EAAAyM,EAAA+f,EAAA,sBAAA4L,IAAAp4B,EAAAyM,EAAA+f,EAAA,sBAAA6L,IAAAr4B,EAAAyM,EAAA+f,EAAA,sBAAA8L,IAAAt4B,EAAAyM,EAAA+f,EAAA,sBAAA+L,IAAAv4B,EAAAyM,EAAA+f,EAAA,sBAAAgM,IAAAx4B,EAAAyM,EAAA+f,EAAA,sBAAAiM,IAAAz4B,EAAAyM,EAAA+f,EAAA,sBAAAkM,IAAA14B,EAAAyM,EAAA+f,EAAA,sBAAAmM,IAAA34B,EAAAyM,EAAA+f,EAAA,sBAAAoM,IAAA54B,EAAAyM,EAAA+f,EAAA,uBAAAqM,IAAA74B,EAAAyM,EAAA+f,EAAA,uBAAAsM,IAAA94B,EAAAyM,EAAA+f,EAAA,sBAAAuM,IAAA/4B,EAAAyM,EAAA+f,EAAA,sBAAAwM,IAAAh5B,EAAAyM,EAAA+f,EAAA,sBAAAyM,IAAAj5B,EAAAyM,EAAA+f,EAAA,sBAAA0M,IAAAl5B,EAAAyM,EAAA+f,EAAA,sBAAA2M,IAAAn5B,EAAAyM,EAAA+f,EAAA,sBAAA4M,IAAAp5B,EAAAyM,EAAA+f,EAAA,sBAAA6M,IAAAr5B,EAAAyM,EAAA+f,EAAA,uBAAA8M,IAAAt5B,EAAAyM,EAAA+f,EAAA,uBAAA+M,IAAAv5B,EAAAyM,EAAA+f,EAAA,sBAAAgN,IAAAx5B,EAAAyM,EAAA+f,EAAA,sBAAAiN,IAAAz5B,EAAAyM,EAAA+f,EAAA,sBAAAkN,IAAA15B,EAAAyM,EAAA+f,EAAA,sBAAAmN,IAAA35B,EAAAyM,EAAA+f,EAAA,sBAAAoN,IAAA55B,EAAAyM,EAAA+f,EAAA,sBAAAqN,IAAA75B,EAAAyM,EAAA+f,EAAA,sBAAAsN,IAAA95B,EAAAyM,EAAA+f,EAAA,sBAAAuN,IAAA/5B,EAAAyM,EAAA+f,EAAA,uBAAAwN,IAAAh6B,EAAAyM,EAAA+f,EAAA,sBAAAyN,IAAAj6B,EAAAyM,EAAA+f,EAAA,sBAAA0N,IAAAl6B,EAAAyM,EAAA+f,EAAA,sBAAA2N,IAAAn6B,EAAAyM,EAAA+f,EAAA,sBAAA4N,IAAAp6B,EAAAyM,EAAA+f,EAAA,sBAAA6N,KAAAr6B,EAAAyM,EAAA+f,EAAA,sBAAA8N,IAAAt6B,EAAAyM,EAAA+f,EAAA,sBAAA+N,KAAAv6B,EAAAyM,EAAA+f,EAAA,sBAAAgO,KAAAx6B,EAAAyM,EAAA+f,EAAA,sBAAAiO,KAAAz6B,EAAAyM,EAAA+f,EAAA,sBAAAkO,KAAA16B,EAAAyM,EAAA+f,EAAA,sBAAAmO,KAAA36B,EAAAyM,EAAA+f,EAAA,sBAAAoO,KAAA56B,EAAAyM,EAAA+f,EAAA,sBAAAqO,KAAA76B,EAAAyM,EAAA+f,EAAA,sBAAAsO,KAAA96B,EAAAyM,EAAA+f,EAAA,sBAAAuO,KAAA/6B,EAAAyM,EAAA+f,EAAA,sBAAA+K,KAAAv3B,EAAAyM,EAAA+f,EAAA,sBAAAwO,KAAAh7B,EAAAyM,EAAA+f,EAAA,sBAAAyO,KAAAj7B,EAAAyM,EAAA+f,EAAA,uBAAA0O,KAAAl7B,EAAAyM,EAAA+f,EAAA,sBAAA2O,KAAAn7B,EAAAyM,EAAA+f,EAAA,sBAAA4O,KAAAp7B,EAAAyM,EAAA+f,EAAA,sBAAA6O,gOCUMC,8LAEE5yB,KAAKpI,MAAMi7B,4CAIX,OAAOzoB,EAAAvS,EAAAC,cAACg7B,EAAA,EAAD,CAAUC,GAAG,kBANPryB,aAgBNI,cAAQ,KANI,SAAAqN,GACvB,MAAO,CACH0kB,SAAU,kBAAM1kB,EAASE,UAIlBvN,CAAkC8xB,GCIlCI,UApBQ,SAACC,GACpB,gBAAAtoB,GAAA,SAAAuoB,IAAA,IAAAtoB,EAAAjL,EAAArE,OAAAuP,EAAA,EAAAvP,CAAA0E,KAAAkzB,GAAA,QAAApoB,EAAAC,UAAAxN,OAAAyN,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAvL,EAAArE,OAAA6P,EAAA,EAAA7P,CAAA0E,MAAA4K,EAAAtP,OAAA8P,EAAA,EAAA9P,CAAA43B,IAAA7nB,KAAAC,MAAAV,EAAA,CAAA5K,MAAA7E,OAAA6P,MACIhP,MAAQ,CACJm3B,UAAW,MAFnBxzB,EAAA,OAAArE,OAAAiS,EAAA,EAAAjS,CAAA43B,EAAAvoB,GAAArP,OAAAkS,EAAA,EAAAlS,CAAA43B,EAAA,EAAA72B,IAAA,oBAAAM,MAAA,WAKyB,IAAAy2B,EAAApzB,KACjBizB,IACK/H,KAAK,SAAAmI,GACFD,EAAKxzB,SAAS,CAACuzB,UAAWE,EAAIC,cAR9C,CAAAj3B,IAAA,SAAAM,MAAA,WAaQ,IAAM42B,EAAIvzB,KAAKhE,MAAMm3B,UACrB,OAAOI,EAAInpB,EAAAvS,EAAAC,cAACy7B,EAAMvzB,KAAKpI,OAAY,SAd3Cs7B,EAAA,CAAqBxyB,qHC4CnB0iB,6MACFpnB,MAAQ,CACJ8R,SAAU,CACNge,MAAO,CACHvpB,MAAO,QACPlF,KAAM,QACNmF,YAAa,eACb7F,MAAO,GACP62B,WAAY,CACRC,UAAU,EACVC,SAAS,GAEbC,OAAO,EACP7xB,SAAS,GAEbI,SAAU,CACNK,MAAO,WACPlF,KAAM,WACNmF,YAAa,WACb7F,MAAO,GACP62B,WAAY,CACRC,UAAU,EACVG,UAAW,GAEfD,OAAO,EACP7xB,SAAS,EACT+xB,YAAY,EACZC,mBAAmB,OAM/BC,iBAAmB,SAAA5I,GACfjhB,QAAQC,IAAIghB,MAGhB6I,eAAiB,SAAA7I,GACbjhB,QAAQC,IAAIghB,MAkChB8I,oBAAsB,SAACllB,EAAOmlB,GAC1B,IAAMC,EAAe74B,OAAAgP,EAAA,EAAAhP,CAAA,GACdqE,EAAK3D,MAAM8R,SADGxS,OAAAmW,EAAA,EAAAnW,CAAA,GAEhB44B,EAFgB54B,OAAAgP,EAAA,EAAAhP,CAAA,GAGVqE,EAAK3D,MAAM8R,SAASomB,GAHV,CAIbv3B,MAAOoS,EAAMqlB,OAAOz3B,MACpBg3B,MAAOh0B,EAAK00B,cACRtlB,EAAMqlB,OAAOz3B,MACbgD,EAAK3D,MAAM8R,SAASomB,GAAaV,YAErC1xB,SAAS,MAIjBnC,EAAKC,SAAS,CAAEkO,SAAUqmB,OAG9BG,cAAgB,SAAAvlB,GACZA,EAAMG,iBACNvP,EAAK/H,MAAM28B,OACP50B,EAAK3D,MAAM8R,SAASge,MAAMnvB,MAC1BgD,EAAK3D,MAAM8R,SAAS5L,SAASvF,MAC7BgD,EAAKosB,aAIbyI,4BAA8B,WAC1B70B,EAAKC,SAAS,CACVkO,SAASxS,OAAAgP,EAAA,EAAAhP,CAAA,GACFqE,EAAK3D,MAAM8R,SADV,CAEJ5L,SAAS5G,OAAAgP,EAAA,EAAAhP,CAAA,GACFqE,EAAK3D,MAAM8R,SAAS5L,SADnB,CAEJ4xB,mBAAoBn0B,EAAK3D,MAAM8R,SAAS5L,SACnC4xB,2BAMrBW,iBAAmB,SAAArvB,GACfzF,EAAKC,SAAS,CACV80B,WAAYtvB,EAAEgvB,OAAOtxB,wFAxEfnG,EAAOg4B,GACjB,IAAIC,GAAU,EACd,IAAKD,EACD,OAAO,EAeX,GAZIA,EAAMlB,WACNmB,EAA2B,KAAjBj4B,EAAMyG,QAAiBwxB,GAGjCD,EAAMf,YACNgB,EAAUj4B,EAAMY,QAAUo3B,EAAMf,WAAagB,GAG7CD,EAAME,YACND,EAAUj4B,EAAMY,QAAUo3B,EAAME,WAAaD,GAG7CD,EAAMjB,QAAS,CAEfkB,EADgB,0JACEE,KAAKn4B,IAAUi4B,EAGrC,GAAID,EAAMI,UAAW,CAEjBH,EADgB,QACEE,KAAKn4B,IAAUi4B,EAGrC,OAAOA,mCAgDF,IAAAxB,EAAApzB,KACC+rB,EAA4C,YAAjC/rB,KAAKpI,MAAMo9B,SAASC,SACrCj1B,KAAK+rB,SAAWA,EAChB,IAAMmJ,EAAoB,GAC1B,IAAK,IAAI74B,KAAO2D,KAAKhE,MAAM8R,SACvBonB,EAAkBx6B,KAAK,CACnBuD,GAAI5B,EACJ84B,OAAQn1B,KAAKhE,MAAM8R,SAASzR,KAIpC,IAAI+4B,EAAOF,EAAkBtxB,IAAI,SAAAyxB,GAAW,OACxCjrB,EAAAvS,EAAAC,cAAC2J,EAAA,EAAD,CACIzJ,WAAYq9B,EAAYF,OAAO93B,KAC/BhB,IAAKg5B,EAAYp3B,GACjBZ,KAAMg4B,EAAYF,OAAO93B,KACzBmF,YAAa6yB,EAAYF,OAAO3yB,YAChC7F,MAAO04B,EAAYF,OAAOx4B,MAC1BE,QAAS,SAAAkS,GAAK,OACVqkB,EAAKa,oBAAoBllB,EAAOsmB,EAAYp3B,KAEhD2D,SAAUyzB,EAAYF,OAAOxB,MAC7B9xB,eAAgBwzB,EAAYF,OAAO3B,WACnC1xB,QAASuzB,EAAYF,OAAOrzB,QAC5BS,MAAO8yB,EAAYF,OAAO5yB,MAC1BL,SAAUmzB,EAAYF,OAAOtB,WAC7B7xB,gBAAiBqzB,EAAYF,OAAOrB,kBACpC3xB,sBAAuBixB,EAAKoB,gCAIhCx0B,KAAKpI,MAAM09B,UACXF,EAAOhrB,EAAAvS,EAAAC,cAACy9B,EAAA,EAAD,OAGX,IAAIC,EAAe,KAEfx1B,KAAKpI,MAAMkzB,QACX0K,EAAeprB,EAAAvS,EAAAC,cAAA,SAAIkI,KAAKpI,MAAMkzB,MAAMxa,OAGxC,IAAImlB,EAAe,KAEfz1B,KAAKpI,MAAM89B,kBACXD,EAAerrB,EAAAvS,EAAAC,cAACg7B,EAAA,EAAD,CAAUC,GAAI,gBAGjC,IAAM5yB,EAAQ4rB,EAAW,UAAY,SAE/B4J,EAAY5J,EACd3hB,EAAAvS,EAAAC,cAAA,8BACqB,IACjBsS,EAAAvS,EAAAC,cAACgH,EAAA,EAAD,CAAMi0B,GAAG,SAAS76B,UAAWC,IAAQ2G,MAArC,WAKJsL,EAAAvS,EAAAC,cAAA,oCAC2B,IACvBsS,EAAAvS,EAAAC,cAACgH,EAAA,EAAD,CAAMi0B,GAAG,UAAU76B,UAAWC,IAAQ2G,MAAtC,YAMF82B,EAAiB7J,EACnB3hB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQwrB,gBAAxB,oBACA,KAEJ,OACIvZ,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQirB,KAAMrrB,cAAY,YACrC09B,EACDrrB,EAAAvS,EAAAC,cAAA,QAAMI,UAAWC,IAAQkrB,KAAMwS,SAAU71B,KAAKs0B,eAC1ClqB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQmrB,OAAQnjB,GAChCiK,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQorB,UAAWoS,GACnCvrB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQqrB,aACpBpZ,EAAAvS,EAAAC,cAAA,WACKs9B,EACDhrB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQurB,gBACpBtZ,EAAAvS,EAAAC,cAAA,WACIsS,EAAAvS,EAAAC,cAAA,SAAOI,UAAWC,IAAQ0rB,iBACtBzZ,EAAAvS,EAAAC,cAAA,SACIuF,KAAK,WACLnF,UAAWC,IAAQyrB,WACnBnhB,SAAUzC,KAAKy0B,mBAJvB,gBASHmB,GAEJJ,EACDprB,EAAAvS,EAAAC,cAACH,EAAA,EAAD,CAAaU,QAAQ,WAAW8H,IAEpCiK,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQsrB,SACtBzjB,KAAKpI,MAAMk9B,KAwBT,KAvBA1qB,EAAAvS,EAAAC,cAAA,WACIsS,EAAAvS,EAAAC,cAACg+B,EAAAj+B,EAAD,CACIk+B,MAAM,mBACNC,UAAU,EACVC,OAAO,qBACP9kB,SAAUnR,KAAK+zB,iBACfmC,OAAQ,SAAAC,GAAW,OACf/rB,EAAAvS,EAAAC,cAAA,UAAQS,QAAS49B,EAAY59B,SAA7B,6BAKR6R,EAAAvS,EAAAC,cAACs+B,EAAAv+B,EAAD,CACIw+B,SAAS,2EACTC,UAAWt2B,KAAKg0B,eAChBuC,UAAWv2B,KAAKg0B,eAChBkC,OAAQ,SAAAC,GAAW,OACf/rB,EAAAvS,EAAAC,cAAA,UAAQS,QAAS49B,EAAY59B,SAA7B,sCAtOrBmI,aAmQJI,cAfS,SAAA9E,GACpB,MAAO,CACHs5B,QAASt5B,EAAM6vB,KAAKyJ,QACpBxK,MAAO9uB,EAAM6vB,KAAKf,MAClB4K,gBAAsC,OAArB15B,EAAM6vB,KAAKS,QAIT,SAAAne,GACvB,MAAO,CACHomB,OAAQ,SAACzI,EAAO5pB,EAAU6pB,GAAlB,OACJ5d,EAASE,IAAayd,EAAO5pB,EAAU6pB,OAIpCjrB,CAGbsiB,mFCpSaoT,EAfF,SAAC5+B,GAAD,OACTwS,EAAAvS,EAAAC,cAACgH,EAAA,EAAD,CACIi0B,GAAG,aACH76B,UAAWC,IAAQ2G,MACnBsL,EAAAvS,EAAAC,cAAA,OACII,UAAWC,IAAQoB,KACnBmC,MAAO,CAACd,OAAQhD,EAAMgD,SACtBwP,EAAAvS,EAAAC,cAAA,OACIkpB,IAAKyV,IACLC,IAAI,MACRtsB,EAAAvS,EAAAC,cAAA,6CCFG6+B,EAXM,SAAC/+B,GAAD,OACjBwS,EAAAvS,EAAAC,cAAA,OACIC,cAAY,eACZG,UAAWC,IAAQ6qB,aACnBzqB,QAASX,EAAMY,SACf4R,EAAAvS,EAAAC,cAAA,YACAsS,EAAAvS,EAAAC,cAAA,YACAsS,EAAAvS,EAAAC,cAAA,gECgCOgJ,eAZS,SAAA9E,GACpB,MAAO,CACH46B,WAAY56B,EAAMgF,QAAQD,oBAIP,SAAAoN,GACvB,MAAO,CACH0oB,UAAW,SAAA75B,GAAI,OAAImR,EAASE,IAA6BrR,OAIlD8D,CA/BQ,SAAClJ,GACpB,IAAMk/B,EAAe,CAAC3+B,KAAQ8G,gBAK9B,OAJIrH,EAAMg/B,aAAeh/B,EAAMyF,MAC3By5B,EAAap8B,KAAKvC,KAAQuB,QAI1B0Q,EAAAvS,EAAAC,cAAA,MACII,UAAW4+B,EAAax+B,KAAK,KAC7BC,QAAS,WACLX,EAAMi/B,UAAUj/B,EAAMyF,MAClBzF,EAAMY,SAASZ,EAAMY,YAG5BZ,EAAMa,8DCMJgB,GApBqB,SAAC7B,GACjC,IAAMk/B,EAAe,CAAE3+B,KAAQsB,sBAQ/B,OAPI7B,EAAMK,UACN6+B,EAAap8B,KAAKvC,KAAQF,UAE1BL,EAAM8B,QACNo9B,EAAap8B,KAAKvC,KAAQuB,QAI1B0Q,EAAAvS,EAAAC,cAAA,MACIC,cAAaH,EAAMI,YAAc,aACjCE,UAAW4+B,EAAax+B,KAAK,KAC7BC,QAASX,EAAMK,SAAW,KAAOL,EAAMY,SACvC4R,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CAAK7C,KAAMtI,EAAMsI,OAChBtI,EAAMa,WCHbs+B,GAAsB,CAC1BC,OAAQ3I,kBAAmB4I,KAC3BC,OAAQ7I,kBAAmB8I,MAEdr2B,eATS,SAAA9E,GAAK,MAAK,CAChCo7B,QAASp7B,EAAMgS,QAAQqpB,KAAK95B,OAAS,EACrC+5B,QAASt7B,EAAMgS,QAAQupB,OAAOh6B,OAAS,IAODw5B,GAAzBj2B,CAxBS,SAAAwhB,GAAA,IAAG8U,EAAH9U,EAAG8U,QAASE,EAAZhV,EAAYgV,QAASN,EAArB1U,EAAqB0U,OAAQE,EAA7B5U,EAA6B4U,OAA7B,OACtB9sB,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACMD,EAAAvS,EAAAC,cAAC0/B,GAAD,CACIx/B,WAAW,OACXQ,QAASw+B,EACT/+B,UAAWm/B,EACXl3B,KAAK,2NACTkK,EAAAvS,EAAAC,cAAC0/B,GAAD,CACIx/B,WAAW,OACXQ,QAAS0+B,EACTj/B,UAAWq/B,EACXp3B,KAAK,6PC2CF+iB,GAzCf,SAAAtY,GAAA,SAAAsY,IAAA,IAAArY,EAAAjL,EAAArE,OAAAuP,EAAA,EAAAvP,CAAA0E,KAAAijB,GAAA,QAAAnY,EAAAC,UAAAxN,OAAAyN,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAvL,EAAArE,OAAA6P,EAAA,EAAA7P,CAAA0E,MAAA4K,EAAAtP,OAAA8P,EAAA,EAAA9P,CAAA2nB,IAAA5X,KAAAC,MAAAV,EAAA,CAAA5K,MAAA7E,OAAA6P,MACIhP,MAAQ,CACJyD,WAAW,GAFnBE,EAKID,WAAa,WACTC,EAAKC,SAAS,CAAEH,WAAYE,EAAK3D,MAAMyD,YACnCE,EAAK/H,MAAM6/B,YACX93B,EAAK/H,MAAM6/B,cARvB93B,EAYIE,YAAc,WACVF,EAAKC,SAAS,CAAEH,WAAW,KAbnCE,EAAA,OAAArE,OAAAiS,EAAA,EAAAjS,CAAA2nB,EAAAtY,GAAArP,OAAAkS,EAAA,EAAAlS,CAAA2nB,EAAA,EAAA5mB,IAAA,SAAAM,MAAA,WAiBQ,OACIyN,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAA,MACIC,cAAaiI,KAAKpI,MAAMI,YAAc,aACtCE,UAAWC,KAAQ8qB,6BACnB1qB,QAASyH,KAAKN,YAEd0K,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CAAK7C,KAAMF,KAAKpI,MAAMsI,QAEzBF,KAAKhE,MAAMyD,UACR2K,EAAAvS,EAAAC,cAAC4/B,GAAA,EAAD,CACI1/B,WAAY,kBACZsI,MAAON,KAAKH,YACZ83B,WAAS,EACTh9B,MAAOqF,KAAKpI,MAAM+C,OAEjBqF,KAAKpI,MAAMa,UAEhB,UAnCpBwqB,EAAA,CAAkDviB,6GC6BnCk3B,GAnCS,SAAChgC,GAMrB,OACIwS,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,KAAQ+G,KACnBtH,EAAMuI,MACPiK,EAAAvS,EAAAC,cAAA,YACIC,cAAaH,EAAMI,YAAc,QACjCE,UAAWN,EAAMigC,QAAU1/B,KAAQkH,MAAQ,KAC3C1C,MAAO/E,EAAM6U,YAAc,GAC3BhK,SAXS,SAAA2C,GACjB,IAAIzI,EAAQyI,EAAEgvB,OAAOz3B,OAAS,GAC9B/E,EAAMiF,QAAQF,QCWTm7B,GAAb,SAAAntB,GAAA,SAAAmtB,IAAA,IAAAltB,EAAAjL,EAAArE,OAAAuP,EAAA,EAAAvP,CAAA0E,KAAA83B,GAAA,QAAAhtB,EAAAC,UAAAxN,OAAAyN,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAAA,OAAAvL,EAAArE,OAAA6P,EAAA,EAAA7P,CAAA0E,MAAA4K,EAAAtP,OAAA8P,EAAA,EAAA9P,CAAAw8B,IAAAzsB,KAAAC,MAAAV,EAAA,CAAA5K,MAAA7E,OAAA6P,MACIhP,MAAQ,CACJ+7B,SAAUp4B,EAAK/H,MAAMigB,KAAKG,KAFlCrY,EAAA,OAAArE,OAAAiS,EAAA,EAAAjS,CAAAw8B,EAAAntB,GAAArP,OAAAkS,EAAA,EAAAlS,CAAAw8B,EAAA,EAAAz7B,IAAA,SAAAM,MAAA,WAKa,IAAAy2B,EAAApzB,KACGpI,EAAUoI,KAAVpI,MACR,OACIwS,EAAAvS,EAAAC,cAAA,aACIsS,EAAAvS,EAAAC,cAAA,aACIsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAAA,kBACAsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAACkgC,GAAD,CACIhgC,WAAW,OACXyU,WAAY7U,EAAMigB,KAAKE,KACvBlb,QAAS,SAAAF,GACL/E,EAAM+2B,yBACF,CAAE5W,KAAMpb,GACR/E,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,gBAM1BpjB,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAAA,iBACAsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAACkgC,GAAD,CACIhgC,WAAW,MACXyU,WAAYzM,KAAKhE,MAAM+7B,SACvBl7B,QAAS,SAAAF,GACL/E,EAAM+2B,yBACF,CAAE3W,IAAKrb,GACP/E,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,WAEV4F,EAAKxzB,SAAS,CAAEm4B,SAAUp7B,KAE9Bk7B,QAASjgC,EAAMqgC,gBAI3B7tB,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAAA,mBACAsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAACkgC,GAAD,CACIhgC,WAAW,QACXyU,WAAY7U,EAAMigB,KAAK1X,MACvBtD,QAAS,SAAAF,GAAK,OACV/E,EAAM+2B,yBACF,CAAExuB,MAAOxD,GACT/E,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,gBAM1BpjB,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAAA,yBACAsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAACkgC,GAAD,CACIhgC,WAAW,cACXyU,WAAY7U,EAAMigB,KAAKqgB,YACvBr7B,QAAS,SAAAF,GAAK,OACV/E,EAAM+2B,yBACF,CAAEuJ,YAAav7B,GACf/E,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,sBA1E9CsK,EAAA,CAAsCp3B,aAwHvBI,eAlCS,SAAA9E,GACpB,MAAO,CACH6b,KACI7b,EAAMia,QAAQD,eACVha,EAAMia,QAAQD,eAAe4Y,UACzB,SAAA5xB,GAAI,OAAIA,EAAKiB,KAAOjC,EAAMia,QAAQ2W,eAG9CY,UAAWxxB,EAAMia,QAAQmU,IACzBpU,eAAe1a,OAAA4L,GAAA,EAAA5L,CAAKU,EAAMia,QAAQD,gBAClCyX,cAAezxB,EAAMia,QAAQ2W,YAC7BqL,YAAaj8B,EAAMia,QAAQgiB,cAIR,SAAA9pB,GACvB,MAAO,CACHwgB,yBAA0B,SACtB3M,EACAyL,EACAzX,EACAwX,GAJsB,OAMtBrf,EACIE,IACI2T,EACAyL,EACAzX,EACAwX,OAML1sB,CAGbg3B,cCqGah3B,eA3FS,SAAA9E,GACpB,MAAO,CACHyxB,cAAezxB,EAAMia,QAAQ2W,YAC7BuL,iBAAkBC,eAAKp8B,EAAMgS,QAAQC,QAAS,CAC1C,WACA,YACA,cACA,cACA,gBACA,oBACA,qBACA,mBACA,eACA,iBACA,gBACA,qBACA,uBACA,UACA,UACA,YAEJuf,UAAWxxB,EAAMia,QAAQmU,IACzBiO,WAAUr8B,EAAMia,QAAQ2W,aAClB5wB,EAAMia,QAAQD,eAAeyY,KACzB,SAAAzxB,GAAI,OAAIA,EAAKiB,KAAOjC,EAAMia,QAAQ2W,cACpCyL,SAERhO,aAAcruB,EAAMia,QAAQoU,aAC5BrU,eAAgBha,EAAMia,QAAQD,iBAIX,SAAA7H,GACvB,MAAO,CACH0f,cAAe,SAACL,EAAWC,GAAZ,OACXtf,EAASE,IAAsBmf,EAAWC,KAC9CE,WAAY,SAACF,EAAepD,GAAhB,OACRlc,EAASE,IAAmBof,EAAepD,KAC/CkD,QAAS,SAACC,EAAWC,GAAZ,OACLtf,EAASE,IAAgBmf,EAAWC,KACxCc,SAAU,SAACvM,EAAUyL,EAAezX,GAA1B,OACN7H,EAASE,IAAiB2T,EAAUyL,EAAezX,KACvD2Y,yBAA0B,SACtB3M,EACAyL,EACAzX,EACAwX,GAJsB,OAMtBrf,EACIE,IACI2T,EACAyL,EACAzX,EACAwX,KAGZqB,iCAAkC,SAC9B7M,EACAyL,EACAzX,EACAwX,GAJ8B,OAM9Brf,EACIE,IACI2T,EACAyL,EACAzX,EACAwX,KAGZuB,YAAa,SAACvB,EAAWC,EAAezX,EAAgBgZ,GAA3C,OACT7gB,EACIE,IACImf,EACAC,EACAzX,EACAgZ,KAGZC,WAAY,SAACzB,EAAWC,EAAezX,EAAgBgZ,GAA3C,OACR7gB,EACIE,IACImf,EACAC,EACAzX,EACAgZ,OAMLluB,CA/OE,SAAAlJ,GACb,OACIwS,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAACwgC,GAAA,EAAD,CAAc/1B,MAAM,SAChB6H,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,OAClBpuB,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACI3nB,MAAM,MACND,KAAK,0NACL6nB,cAAe,kBACXnwB,EAAM21B,QAAQ31B,EAAM41B,UAAW51B,EAAM61B,mBAIjDrjB,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,SAClBpuB,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,YACND,KAAK,qPACL6nB,cAAe,kBACXnwB,EAAMi2B,cACFj2B,EAAM41B,UACN51B,EAAM61B,kBAIlBrjB,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,SACND,KAAK,mMACL6nB,cAAe,kBACXnwB,EAAM+1B,WACF/1B,EAAM61B,cACN71B,EAAMyyB,kBAKtBjgB,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,OAClBpuB,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACI9vB,WAAW,eACXmI,MAAM,YACND,KAAK,8GACL6nB,cAAe,kBACXnwB,EAAMi3B,iCACF,CAAEC,YAAY,GACdl3B,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,gBAM1BpjB,EAAAvS,EAAAC,cAACwgC,GAAA,EAAD,CAAc/1B,MAAM,QAChB6H,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,OAClBpuB,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACI3nB,MAAM,OACND,KAAK,yNACL6nB,cAAe,kBACXnwB,EAAM22B,SACF,CAAE5O,QAAS/nB,EAAMugC,kBACjBvgC,EAAM61B,cACN71B,EAAMoe,qBAM1B5L,EAAAvS,EAAAC,cAACwgC,GAAA,EAAD,CAAc/1B,MAAM,YAChB6H,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,OAClBpuB,EAAAvS,EAAAC,cAAC0H,GAAA,EAAD,CACIW,MAAM,WACND,KAAK,qsBACLw4B,aAAa,gBAEbtuB,EAAAvS,EAAAC,cAAC6gC,GAAD,QAGRvuB,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,OAClBpuB,EAAAvS,EAAAC,cAAC+K,GAAA,EAAD,CACI1C,MAAM,SACND,KAAK,okBACL1H,QAAS,kBACLZ,EAAM+2B,yBACF,CAAE0J,UAAWzgC,EAAMygC,UACnBzgC,EAAM61B,cACN71B,EAAMoe,eACNpe,EAAM41B,YAGd1qB,QAASlL,EAAMygC,aAI3BjuB,EAAAvS,EAAAC,cAACwgC,GAAA,EAAD,CAAc/1B,MAAM,YAChB6H,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,SAClBpuB,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,mBACND,KAAK,qPACL6nB,cAAe,kBACXnwB,EAAMm3B,YACFn3B,EAAM41B,UACN51B,EAAM61B,cACN71B,EAAMoe,gBACN,MAIZ5L,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,oBACND,KAAK,qPACL6nB,cAAe,kBACXnwB,EAAMm3B,YACFn3B,EAAM41B,UACN51B,EAAM61B,cACN71B,EAAMoe,oBAKtB5L,EAAAvS,EAAAC,cAACygC,GAAA,EAAD,CAAYC,UAAU,SAClBpuB,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,+BACND,KAAK,qPACL6nB,cAAe,kBACXnwB,EAAMq3B,WACFr3B,EAAM41B,UACN51B,EAAM61B,cACN71B,EAAMoe,gBACN,MAIZ5L,EAAAvS,EAAAC,cAAC2gC,GAAA,EAAD,CACIt4B,MAAM,+BACND,KAAK,qPACL6nB,cAAe,kBACXnwB,EAAMq3B,WACFr3B,EAAM41B,UACN51B,EAAM61B,cACN71B,EAAMoe,sECjIhC4iB,8MACFC,aAAe,SAAA97B,GACX4C,EAAK/H,MAAMm2B,mBAAmBpuB,EAAK/H,MAAM41B,UAAWzwB,4EAG/C,IAAAq2B,EAAApzB,KA0EL,OACIoK,EAAAvS,EAAAC,cAACghC,GAAAjhC,EAAD,CACIkF,MAAOiD,KAAKpI,MAAMmF,MAClBg8B,aA5Ea,SAAAnhC,GAAS,IAEtBmgB,EAUAngB,EAVAmgB,KACAhC,EASAne,EATAme,KACAijB,EAQAphC,EARAohC,kBACAC,EAOArhC,EAPAqhC,kBACAC,EAMAthC,EANAshC,WACAC,EAKAvhC,EALAuhC,kBACAl7B,EAIArG,EAJAqG,GACA6wB,EAGAl3B,EAHAk3B,WACAuJ,EAEAzgC,EAFAygC,SACA3J,EACA92B,EADA82B,eAEEhzB,EAAKJ,OAAAgP,EAAA,EAAAhP,CAAA,CACP8I,SAAU,WACVI,OAAQ,iBACRE,OAAQ,OACRoU,QAAS,GACTK,aAAc,GACdzI,aAAc,GACVwoB,GAAcC,EAAoB,CAAEpZ,QAAS,IAAQ,KAPlD,CAQPlG,OAAQ,GACRuf,WAAY,GAAmB,GAAdrjB,EAAKxY,OACtB5C,MAAO,IACPuJ,QACIkvB,EAAKx7B,MAAMg1B,cAAgB3uB,EAAK,iBAAmB,OA6C3D,OAAO+6B,EAAkBC,EAlCrB7uB,EAAAvS,EAAAC,cAAA,OACIC,cAAakG,EACbvC,MAAOA,EACPgS,YAAa,kBACT0lB,EAAKx7B,MAAMu2B,mBACPlwB,EACAm1B,EAAKx7B,MAAMyyB,aACX+I,EAAKx7B,MAAM41B,aAIlBzV,EACD3N,EAAAvS,EAAAC,cAAA,OAAK4D,MApBe,CACxB0I,SAAU,WACVrJ,IAAK,EACLD,MAAO,EACPkJ,KAAM,SAiBG8qB,EACG1kB,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CACI/K,WAAU,QAAAmD,OAAU8C,GACpBiC,KAAK,gHAET,KACHm4B,EACGjuB,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CACI/K,WAAU,OAAAmD,OAAS8C,GACnBiC,KAAK,skBAET,KACHwuB,EACGtkB,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CACI/K,WAAU,OAAAmD,OAAS8C,GACnBiC,KAAK,wJAET,UAWZuC,SAAUzC,KAAK64B,sBAnFHn4B,aAyGb24B,gBACXv4B,YAjBoB,SAAA9E,GACpB,MAAO,CACHwxB,UAAWxxB,EAAMia,QAAQmU,IACzBC,aAAcruB,EAAMia,QAAQoU,eAIT,SAAAlc,GACvB,MAAO,CACHggB,mBAAoB,SAAC/D,EAAKC,EAAcmD,GAApB,OAChBrf,EAASE,KAA2B+b,EAAKC,EAAcmD,KAC3DO,mBAAoB,SAAC3D,EAAKpU,GAAN,OAChB7H,EAASE,IAA2B+b,EAAKpU,OAKjDlV,CAGE83B,KChES93B,eAVS,SAAA9E,GACpB,MAAO,CACH4wB,YAAa5wB,EAAMia,QAAQ2W,YAC3B5W,eAAgBha,EAAMia,QAAQD,eAC9BqU,aAAcruB,EAAMia,QAAQoU,aAC5BmD,UAAWxxB,EAAMia,QAAQmU,IACzBkL,QAASt5B,EAAMia,QAAQqjB,eAIhBx4B,CAxCU,SAAClJ,GACtB,IAAMmF,EAAQnF,EAAMoe,eAAepS,IAAI,SAAAiU,GACnC,OAAOvc,OAAAgP,EAAA,EAAAhP,CAAA,GACAuc,KAGX,OACIzN,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAA,UAAQI,UAAWC,YACfiS,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,sBACZiS,EAAAvS,EAAAC,cAAC4G,GAAA,EAAD,CAASuC,UAAQ,GACbmJ,EAAAvS,EAAAC,cAACyhC,GAAD,SAIZnvB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,YACZiS,EAAAvS,EAAAC,cAAC0hC,GAAD,CACIz8B,MAAOA,EACP6vB,YAAah1B,EAAMg1B,YACnBvC,aAAczyB,EAAMyyB,aACpBmD,UAAW51B,EAAM41B,aAGxB51B,EAAM09B,QACHlrB,EAAAvS,EAAAC,cAACy9B,EAAA,EAAD,CAASkE,OAAK,EAACzhC,WAAW,qBAC1B,QCFD8I,eAdS,SAAA9E,GACpB,MAAO,CACH09B,KAAM19B,EAAMgS,QAAQC,QAAQ0rB,WAIT,SAAAxrB,GACvB,MAAO,CACH2b,eAAgB,kBAAM3b,EAASE,QAC/B0b,cAAe,kBAAM5b,EAASE,QAC9B2b,iBAAkB,kBAAM7b,EAASE,UAI1BvN,CAtCgB,SAAClJ,GAC5B,OACIwS,EAAAvS,EAAAC,cAAA,aACIsS,EAAAvS,EAAAC,cAAA,aACIsS,EAAAvS,EAAAC,cAAA,UACIsS,EAAAvS,EAAAC,cAAA,UAAIsS,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACA9vB,WAAW,MACXkI,KAAK,+TACL6nB,cAAe,kBAAMnwB,EAAMkyB,qBAC/B1f,EAAAvS,EAAAC,cAAA,MAAIC,cAAY,WAAWH,EAAM8hC,MACjCtvB,EAAAvS,EAAAC,cAAA,UAAIsS,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACA9vB,WAAW,KACXkI,KAAK,uWACL6nB,cAAe,kBAAMnwB,EAAMmyB,oBAC/B3f,EAAAvS,EAAAC,cAAA,UAAIsS,EAAAvS,EAAAC,cAACgwB,GAAA,EAAD,CACA9vB,WAAW,QACXkI,KAAK,6WACL6nB,cAAe,kBAAMnwB,EAAMoyB,4BCmKpClpB,eAtDS,SAAA9E,GACpB,MAAO,CACH49B,cAAe59B,EAAMgS,QAAQC,QAAQpR,QACrCkR,YAAa/R,EAAMgS,QAAQC,QAAQC,QACnCuf,cAAezxB,EAAMia,QAAQ2W,YAC7BY,UAAWxxB,EAAMia,QAAQmU,IACzBpU,eAAgBha,EAAMia,QAAQD,eAC9BmiB,iBAAkBC,eAAKp8B,EAAMgS,QAAQC,QAAS,CAC1C,WACA,YACA,cACA,cACA,gBACA,oBACA,qBACA,mBACA,eACA,iBACA,gBACA,qBACA,uBACA,UACA,YAEJ5T,kBAAmB2B,EAAMgS,QAAQC,QAAQ5T,kBACzCC,YAAa0B,EAAMgS,QAAQC,QAAQ3T,YACnC6C,aAAcnB,EAAMgS,QAAQC,QAAQ9Q,eAIjB,SAAAgR,GACvB,MAAO,CACH0rB,eAAgB,kBAAM1rB,EAASE,QAC/BkgB,SAAU,SAACvM,EAAUyL,EAAezX,GAA1B,OACN7H,EAASE,IAAiB2T,EAAUyL,EAAezX,KACvDwU,kBAAmB,kBAAMrc,EAASE,QAClC0gB,YAAa,SAACvB,EAAWC,EAAezX,EAAgBgZ,GAA3C,OACT7gB,EACIE,IACImf,EACAC,EACAzX,EACAgZ,KAGZ3hB,SAAU,WACNc,EAASE,QAEbmb,QAAS,WACLrb,EAASE,UAKNvN,CAtJS,SAAClJ,GACrB,IAAMkiC,EAAgB,WACdliC,EAAM0C,YAAYiD,OAAS,GAAK3F,EAAMuF,aAAaI,OAAS,GACxD3F,EAAMuF,aAAa,KAAOvF,EAAM0C,YAAY,IAC5C1C,EAAM4xB,WAKlB,OACIpf,EAAAvS,EAAAC,cAAA,MAAII,UAAWC,KAAQ4G,iBACjBnH,EAAMmW,YAmBJ,KAlBA3D,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAACiiC,GAAD,CAAgB18B,KAAK,WAAW7E,QAASshC,GAAzC,YAGA1vB,EAAAvS,EAAAC,cAACiiC,GAAD,CAAgB18B,KAAK,QAAQ7E,QAASshC,GAAtC,SAGkC,SAAjCliC,EAAMyC,kBAAkBgD,KACrB+M,EAAAvS,EAAAC,cAACiiC,GAAD,CAAgB18B,KAAK,OAAO7E,QAASZ,EAAMyV,UAA3C,QAGA,KAC8B,SAAjCzV,EAAMyC,kBAAkBgD,KACrB+M,EAAAvS,EAAAC,cAACiiC,GAAD,CAAgB18B,KAAK,OAAO7E,QAASZ,EAAMyV,UAA3C,QAGA,MAIZjD,EAAAvS,EAAAC,cAAA,MAAII,UAAWC,KAAQ6G,sBAClBpH,EAAMgiC,cACHxvB,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAC0/B,GAAD,CACIh/B,QAAS,kBACLZ,EAAM22B,SACF,CAAE5O,QAAS/nB,EAAMugC,kBACjBvgC,EAAM61B,cACN71B,EAAMoe,kBALlB,QAWA5L,EAAAvS,EAAAC,cAAC0/B,GAAD,CACIh/B,QAAS,WACLZ,EAAM22B,SACF,CAAE5O,QAAS/nB,EAAMugC,kBACjBvgC,EAAM61B,cACN71B,EAAMoe,gBAEVpe,EAAMm3B,YACFn3B,EAAM41B,UACN51B,EAAM61B,cACN71B,EAAMoe,gBACN,KAXZ,mBAkBJ,KACJ5L,EAAAvS,EAAAC,cAACkiC,GAAD,CACIhiC,WAAW,oBACXkI,KAAK,+NACLvF,MAAO,IACP88B,WACI7/B,EAAMgiC,cACA,kBAAMhiC,EAAM4yB,0BACZ1uB,GAGVsO,EAAAvS,EAAAC,cAACmiC,GAAD,OAEJ7vB,EAAAvS,EAAAC,cAAC0/B,GAAD,CACIx/B,WAAW,yBACX0B,OAAQ9B,EAAMmW,YACdvV,QAAS,kBAAMZ,EAAMiiC,kBACrB35B,KAAK,8RAETkK,EAAAvS,EAAAC,cAACkiC,GAAD,CACIhiC,WAAW,iBACXkI,KAAK,sTAELkK,EAAAvS,EAAAC,cAACoiC,GAAD,OAGFtiC,EAAMmW,YAA6B,KAAf3D,EAAAvS,EAAAC,cAACqiC,GAAD,UC/EvBC,eAAWt5B,YAZF,SAAA9E,GACpB,MAAO,CACH49B,cAAe59B,EAAMgS,QAAQC,QAAQpR,UAIlB,SAAAsR,GACvB,MAAO,CACHqc,kBAAmB,kBAAMrc,EAASE,UAIhBvN,CArCV,SAAClJ,GAOb,OACIwS,EAAAvS,EAAAC,cAAA,UAAQI,UAAWC,IAAQmB,SACvB8Q,EAAAvS,EAAAC,cAACkrB,EAAD,CAAcxqB,QARkB,WACpCZ,EAAMyiC,gBACHziC,EAAMgiC,eACLhiC,EAAM4yB,uBAMNpgB,EAAAvS,EAAAC,cAAA,OACII,UAAWC,IAAQoB,KACnBhB,QAASX,EAAMgiC,cAAgB,kBAAMhiC,EAAM4yB,qBAAsB,MACjEpgB,EAAAvS,EAAAC,cAACyB,EAAD,OAE0B,YAA5B3B,EAAMo9B,SAASC,SACb7qB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,IAAQqB,aACpB4Q,EAAAvS,EAAAC,cAACwiC,GAAD,OAEF,uECXHC,GAZQ,SAAC3iC,GAAD,OACnBwS,EAAAvS,EAAAC,cAAA,MAAII,UAAWC,KAAQ8G,gBACnBmL,EAAAvS,EAAAC,cAAC0iC,GAAA,EAAD,CACIzH,GAAIn7B,EAAM6iC,KACVC,OAAK,EACLC,gBAAiBxiC,KAAQmH,QACzB8K,EAAAvS,EAAAC,cAACiL,GAAA,EAAD,CAAK7C,KAAMtI,EAAMsI,OAChBtI,EAAMa,YCcJmiC,GA9BS,kBACpBxwB,EAAAvS,EAAAC,cAAA,MAAII,UAAWC,KAAQ4G,iBACnBqL,EAAAvS,EAAAC,cAAC+iC,GAAD,CACIJ,KAAK,aACLv6B,KAAK,yIAFT,aAKAkK,EAAAvS,EAAAC,cAAC+iC,GAAD,CACIJ,KAAK,UACLv6B,KAAK,iOAFT,UAKAkK,EAAAvS,EAAAC,cAAC+iC,GAAD,CACIJ,KAAK,YACLv6B,KAAK,ssBAFT,YAKAkK,EAAAvS,EAAAC,cAAC+iC,GAAD,CACIJ,KAAK,QACLv6B,KAAK,+SAFT,iBAKAkK,EAAAvS,EAAAC,cAAC+iC,GAAD,CACIJ,KAAK,UACLv6B,KAAK,gPAFT,qDCdO46B,GAJE,SAACljC,GAAD,OACbA,EAAMmjC,KAAO3wB,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,KAAQgrB,SAAU5qB,QAASX,EAAMY,QAAST,cAAY,aAAe,gBCqHvF+I,eAhBS,SAAA9E,GACpB,MAAO,CACHg/B,SAAUh/B,EAAMia,QAAQ+kB,SACxB7N,OAAQnxB,EAAMia,QAAQkX,OACtBhtB,MAAOnE,EAAMia,QAAQ9V,MACrBiqB,IAAKpuB,EAAMia,QAAQmU,MAIA,SAAAjc,GACvB,MAAO,CACH2e,cAAe,kBAAM3e,EAASE,QAC9B4e,YAAa,SAAA7C,GAAG,OAAIjc,EAASE,IAAoB+b,OAI1CtpB,CAA6Cs5B,aAnGzC,SAACxiC,GAChB,IAAIqjC,EAAkB,CAAC9iC,KAAQ+iC,WAAY/iC,KAAQgjC,OAC/CvjC,EAAMwjC,OACNH,EAAkB,CAAC9iC,KAAQ+iC,WAAY/iC,KAAQkjC,OAGnD,IAWMC,EAAiB1jC,EAAMojC,SAASp3B,IAAI,SAAAqS,GACtC,MAAO,CACHtZ,MAAOsZ,EAAQmU,IACf7nB,MAAK,GAAApH,OAAK8a,EAAQ9V,MAAb,MAAAhF,OAAuB8a,EAAQkX,OAA/B,QAGbmO,EAAe5gC,KAAK,CAChBiC,MAAO,MACP4F,MAAO,gBAGX,IAAMg5B,EAAsBD,EAAe1M,UAAU,SAAA4M,GAAM,OACvDA,EAAO7+B,QAAU/E,EAAMwyB,MAGrBqR,EAAe,CACjBD,OAAQ,SAACl/B,EAADgmB,GACJ,OAD6DA,EAA9ChS,KAA8CgS,EAAxCoZ,WAAwCpZ,EAA5BqZ,UAA4BrZ,EAAjBsZ,WACrCtgC,OAAAgP,EAAA,EAAAhP,CAAA,GACAgB,EADP,CAEIqY,WAAY,OAGpBknB,YAAa,SAACv/B,EAAD4Z,GAAyD,IAA9C5F,EAA8C4F,EAA9C5F,KACpB,OADkE4F,EAAxCwlB,WAAwCxlB,EAA5BylB,UAA4BzlB,EAAjB0lB,WAC1CtgC,OAAAgP,EAAA,EAAAhP,CAAA,GACAgB,EADP,CAEIqY,WAAYrE,EAAK3T,SAGzBm/B,QAAS,SAACx/B,EAAD8V,GACL,OAD8DA,EAA9C9B,KAA8C8B,EAAxCspB,WAAwCtpB,EAA5BupB,UAA4BvpB,EAAjBwpB,WACtCtgC,OAAAgP,EAAA,EAAAhP,CAAA,GACAgB,EADP,CAEIkI,OAAqB,OACrBmV,aAAc,iBACdC,UAAW,WAMvB,OACIxP,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAACqrB,GAAD,CAAU4X,KAAMnjC,EAAMwjC,KAAM5iC,QAASZ,EAAMmkC,SAC3C3xB,EAAAvS,EAAAC,cAAA,OAAKI,UAAW+iC,EAAgB3iC,KAAK,KACjCC,QAASX,EAAMmkC,OACfhkC,cAAY,cACZqS,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,KAAQ6jC,eACpB5xB,EAAAvS,EAAAC,cAACyB,EAAD,OAEJ6Q,EAAAvS,EAAAC,cAAA,OAAKS,QAAS,SAAAwW,GAAK,OAAIA,EAAMpD,oBACzBvB,EAAAvS,EAAAC,cAACmkC,GAAA,EAAD,CACI/jC,UAAWC,KAAQ+jC,OACnBv/B,MAAO2+B,EAAeC,GACtBY,aAAa,EACbC,cAAc,EACd35B,SAjEQ,SAAA+4B,GAAU,IAC1B7+B,EAAU6+B,EAAV7+B,MACK,QAAVA,EACC/E,EAAMk1B,gBAENl1B,EAAMq1B,YAAYtwB,GAEtB/E,EAAMmkC,SACNnkC,EAAMykC,QAAQ3hC,KAAK,eA0DHmU,QAASysB,EACTh/B,OAAQm/B,KAEhBrxB,EAAAvS,EAAAC,cAAA,WACIsS,EAAAvS,EAAAC,cAACwkC,GAAD,CAAiB5G,gBAAmB99B,EAAM2kC,eCnFxDC,8MACFxgC,MAAQ,CACJygC,gBAAgB,KAGpBC,wBAA0B,WACtB/8B,EAAKC,SAAS,CAAC68B,gBAAgB,OAGnCE,2BAA6B,WACzBh9B,EAAKC,SAAU,SAAEg9B,GACb,MAAO,CAACH,gBAAiBG,EAAUH,2FAOvC,OACIryB,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAACwB,GAAD,CACI+gC,cAAer6B,KAAK28B,6BACxBvyB,EAAAvS,EAAAC,cAACojC,GAAD,CACIqB,OAAUv8B,KAAKpI,MAAM89B,gBACrB0F,KAAMp7B,KAAKhE,MAAMygC,eACjBV,OAAQ/7B,KAAK08B,0BACf18B,KAAKpI,MAAM09B,QACPlrB,EAAAvS,EAAAC,cAACy9B,EAAA,EAAD,MACAnrB,EAAAvS,EAAAC,cAAA,QAAMI,UAAWC,IAAQ2B,SACtBkG,KAAKpI,MAAMa,kBA7BfiI,aA4CNI,eAPS,SAAA9E,GACpB,MAAO,CACH05B,gBAAsC,OAArB15B,EAAM6vB,KAAKS,MAC5BgJ,QAASt5B,EAAMia,QAAQqf,UAIhBx0B,CAAyB07B,cCdzB17B,eAbS,SAAA9E,GACpB,MAAO,CACH6gC,SAAU7gC,EAAMgS,QAAQC,QAAQ6uB,iBAIb,SAAA3uB,GACvB,MAAO,CACH+gB,mBAAoB,SAAAtC,GAAgBze,EAASE,IAA2B9I,OAAOyQ,eAAgBzQ,OAAO8kB,aAAcuC,KACpHuB,mBAAoB,SAAAvB,GAAgBze,EAASE,KAA2Bue,EAAarnB,OAAO8kB,aAAc,WAInGvpB,CA5CK,SAAAlJ,GAEhB,IAAIqG,EACE8X,EAAOxQ,OAAOqnB,YAAYmQ,MAAM,KAWtC,GATI9+B,EADD8X,EAAKxY,OAAS,EACRgI,OAAOyQ,eAAeyY,KAAK,SAAAzxB,GAAI,OAChCA,EAAKgb,MAAQjC,EAAKA,EAAKxY,OAAS,KAC/BU,GAEAsH,OAAOyQ,eAAeyY,KAAK,SAAAzxB,GAAI,OAChCA,EAAK8xB,aACJ7wB,GAST,OAHArG,EAAMs3B,mBAAmBjxB,GACzBrG,EAAMu2B,mBAAmBlwB,GAGrBrG,EAAMilC,SAASj5B,IAAI,SAAAme,GAAO,OACtB3X,EAAAvS,EAAAC,cAACiB,GAAA,EAAD,CACIsD,IAAK0lB,EACL9jB,GAAI8jB,EACJ9N,uBAAwB,aACxBoB,MAAI,kBC+CLvU,eAlCS,SAAA9E,GACpB,MAAO,CACH49B,cAAe59B,EAAMgS,QAAQC,QAAQpR,QACrCmgC,iBAAkBhhC,EAAMgS,QAAQC,QAAQgvB,QACxCxP,cAAezxB,EAAMia,QAAQ2W,YAC7B5W,eAAgBha,EAAMia,QAAQD,eAC9BmiB,iBAAkBC,eAAKp8B,EAAMgS,QAAQC,QAAS,CAC1C,WACA,YACA,cACA,cACA,gBACA,oBACA,qBACA,mBACA,eACA,iBACA,gBACA,qBACA,uBACA,UACA,UACA,cAKe,SAAAE,GACvB,MAAO,CACHogB,SAAU,SAACvM,EAAUyL,EAAezX,GAA1B,OAA6C7H,EAASE,IAAiB2T,EAAUyL,EAAezX,KAC1GuU,gBAAiB,kBAAMpc,EAASE,UAIzBvN,CA7DiB,SAAClJ,GAC7B,OAASA,EAAMgiC,eAAiBhiC,EAAMolC,iBAClC5yB,EAAAvS,EAAAC,cAAA,OAAKC,cAAY,eACbG,UAAWC,UACXiS,EAAAvS,EAAAC,cAAA,OAAKI,UAAWC,SAAhB,wHAEIiS,EAAAvS,EAAAC,cAACH,EAAA,EAAD,CACIa,QAAS,kBAAMZ,EAAM2yB,mBACrBlyB,QAAQ,UAFZ,uBAKA+R,EAAAvS,EAAAC,cAACH,EAAA,EAAD,CACIa,QAAS,kBAAMZ,EAAM22B,SACjB,CAAC5O,QAAS/nB,EAAMugC,kBAChBvgC,EAAM61B,cACN71B,EAAMoe,iBACV3d,QAAQ,WALZ,kBASC,OCxBX6kC,GAAwBlK,EAAe,WACzC,OAAO17B,EAAA8N,EAAA,GAAA8lB,KAAA5zB,EAAA6lC,KAAA,aAGLC,GAAmBpK,EAAe,WACpC,OAAO7f,QAAAC,IAAA,CAAA9b,EAAA8N,EAAA,GAAA9N,EAAA8N,EAAA,KAAA8lB,KAAA5zB,EAAA6lC,KAAA,aAGLE,GAAuBrK,EAAe,WACxC,OAAO17B,EAAA8N,EAAA,GAAA8lB,KAAA5zB,EAAA6lC,KAAA,aAGLG,GAAoBtK,EAAe,WACrC,OAAO17B,EAAA8N,EAAA,GAAA8lB,KAAA5zB,EAAA6lC,KAAA,aAQLI,+LAEEv9B,KAAKpI,MAAM4lC,mDAIX,IAAIC,EACArzB,EAAAvS,EAAAC,cAAC4lC,EAAA,EAAD,KACItzB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,SAASod,UAAW/P,IAChChZ,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,UAAUod,UAAW/P,IACjChZ,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,QAAQod,UAAWyK,KAC/BxzB,EAAAvS,EAAAC,cAACg7B,EAAA,EAAD,CAAUC,GAAG,YA+BrB,OA5BI/yB,KAAKpI,MAAM89B,kBACX+H,EACIrzB,EAAAvS,EAAAC,cAACuS,EAAA,EAAD,KACID,EAAAvS,EAAAC,cAAC+lC,GAAD,KACIzzB,EAAAvS,EAAAC,cAAC4lC,EAAA,EAAD,KACItzB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CACI5nB,KAAK,aACLod,UAAW+J,KAEf9yB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CACI5nB,KAAK,UACLod,UAAWiK,KAEfhzB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CACI5nB,KAAK,YACLod,UAAWkK,KAEfjzB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,QAAQod,UAAWmK,KAC/BlzB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,UAAUod,UAAWP,IACjCxoB,EAAAvS,EAAAC,cAAC6lC,EAAA,EAAD,CAAO5nB,KAAK,QAAQod,UAAWyK,KAC/BxzB,EAAAvS,EAAAC,cAACg7B,EAAA,EAAD,CAAUC,GAAG,cAGrB3oB,EAAAvS,EAAAC,cAACgmC,GAAD,QAKLL,SA1CG/8B,aA0DH05B,eACXt5B,YAboB,SAAA9E,GACpB,MAAO,CACH05B,gBAAsC,OAArB15B,EAAM6vB,KAAKS,QAIT,SAAAne,GACvB,MAAO,CACHqvB,gBAAiB,kBAAMrvB,EAASE,UAKpCvN,CAGEy8B,+CCnDAQ,GAAY,SAAA/hC,GACd,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAIgC,EAAU,EACd,OAAQ/M,EAAMkiC,WACV,IAAK,SACDn1B,EAAU,EACV,MACJ,IAAK,UACDA,EAAUk1B,EAAW,GAAGpjC,KAAOmjC,EAAWnjC,KAC1C,MACJ,IAAK,YACDP,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB2N,EAAH,IAAV3N,EAAuB+iC,EAAQtjC,KACpBkO,EAAUo1B,EAAQtjC,KAAOsjC,EAAQtjC,KAAOkO,IAE3DA,GAAWi1B,EAAWnjC,KACtB,MACJ,QACIkO,EAAU,EAGlB,IAAM7M,EAAkB,GAkBxB,OAjBA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKK,MAA4B,IAApBmB,EAAMxB,GAAKK,KAC9BqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIK,KAAMkO,IAGV7M,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIM,MACIkjC,EAAWljC,MACXkjC,EAAWnjC,KACXkO,GACCk1B,EAAW7iC,GAAON,MAAQmjC,EAAW7iC,GAAOP,UAItDqB,GAGLkiC,GAAa,SAAApiC,GACf,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAIiC,EAAW,EACf,OAAQhN,EAAMkiC,WACV,IAAK,SACDl1B,EAAWg1B,EAAWljC,MAAQkjC,EAAWnjC,KACzC,MACJ,IAAK,UACDmO,EAAWi1B,EAAW,GAAGnjC,MAAQkjC,EAAWnjC,KAC5C,MACJ,IAAK,YACDP,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB4N,EAAH,IAAV5N,EAAwB+iC,EAAQrjC,MAG5BkO,EAAWm1B,EAAQrjC,MAAQqjC,EAAQrjC,MAAQkO,IAEvDA,GAAYg1B,EAAWnjC,KACvB,MACJ,QACImO,EAAWg1B,EAAWljC,MAAQkjC,EAAWnjC,KAGjD,IAAMqB,EAAkB,GAgBxB,OAfA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKK,MAA4B,IAApBmB,EAAMxB,GAAKK,KAC9BqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIK,KACImO,GACCi1B,EAAW7iC,GAAON,MAAQmjC,EAAW7iC,GAAOP,QAGrDqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIM,MAAOkjC,EAAWljC,MAAQkjC,EAAWnjC,KAAOmO,MAIjD9M,GAGLmiC,GAAW,SAAAriC,GACb,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAImC,EAAS,EACb,OAAQlN,EAAMkiC,WACV,IAAK,SACDh1B,EAAS,EACT,MACJ,IAAK,UACDA,EAAS+0B,EAAW,GAAGljC,IAAMijC,EAAWjjC,IACxC,MACJ,IAAK,YACDT,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB8N,EAAH,IAAV9N,EAAsB+iC,EAAQpjC,IACpBmO,EAASi1B,EAAQpjC,IAAMojC,EAAQpjC,IAAMmO,IAEvDA,GAAU80B,EAAWjjC,IACrB,MACJ,QACImO,EAAS,EAGjB,IAAMhN,EAAkB,GAkBxB,OAjBA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKO,KAA0B,IAAnBiB,EAAMxB,GAAKO,IAC7BmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIO,IAAKmO,IAGThN,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIQ,OACIgjC,EAAWhjC,OACXgjC,EAAWjjC,IACXmO,GACC+0B,EAAW7iC,GAAOJ,OAASijC,EAAW7iC,GAAOL,SAIvDmB,GAGLoiC,GAAc,SAAAtiC,GAChB,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAIoC,EAAY,EAChB,OAAQnN,EAAMkiC,WACV,IAAK,SACD/0B,EAAY60B,EAAWhjC,OAASgjC,EAAWjjC,IAC3C,MACJ,IAAK,UACDoO,EAAY80B,EAAW,GAAGjjC,OAASgjC,EAAWjjC,IAC9C,MACJ,IAAK,YACDT,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB+N,EAAH,IAAV/N,EAAyB+iC,EAAQnjC,OAG7BmO,EAAYg1B,EAAQnjC,OAASmjC,EAAQnjC,OAASmO,IAE1DA,GAAa60B,EAAWjjC,IACxB,MACJ,QACIoO,EAAY60B,EAAWhjC,OAASgjC,EAAWjjC,IAGnD,IAAMmB,EAAkB,GAgBxB,OAfA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKO,KAA0B,IAAnBiB,EAAMxB,GAAKO,IAC7BmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIO,IACIoO,GACC80B,EAAW7iC,GAAOJ,OAASijC,EAAW7iC,GAAOL,OAGtDmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIQ,OAAQgjC,EAAWhjC,OAASgjC,EAAWjjC,IAAMoO,MAIlDjN,GAGLqiC,GAAe,SAAAviC,GACjB,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAIy3B,EAAY,EAChB,OAAQxiC,EAAMkiC,WACV,IAAK,SACDM,GAAaR,EAAWljC,MAAQkjC,EAAWnjC,MAAQ,EACnD,MACJ,IAAK,UACD2jC,GACKP,EAAW,GAAGnjC,MAAQmjC,EAAW,GAAGpjC,MAAQ,EAC7CojC,EAAW,GAAGpjC,KACdmjC,EAAWnjC,KACf,MACJ,IAAK,YACD,IAAIkO,EAAU,EACVC,EAAW,EACf1O,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB2N,EAAH,IAAV3N,EAAuB+iC,EAAQtjC,KACpBkO,EAAUo1B,EAAQtjC,KAAOsjC,EAAQtjC,KAAOkO,EACtCC,EAAH,IAAV5N,EAAwB+iC,EAAQrjC,MAG5BkO,EAAWm1B,EAAQrjC,MAAQqjC,EAAQrjC,MAAQkO,IAEvDw1B,GAAax1B,EAAWD,GAAW,EAAIA,EAAUi1B,EAAWnjC,KAC5D,MACJ,QACI2jC,EAAY,EAGpB,IAAMtiC,EAAkB,GAoBxB,OAnBA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKK,MAA4B,IAApBmB,EAAMxB,GAAKK,KAC9BqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIK,KACI2jC,GACCP,EAAW7iC,GAAON,MAAQmjC,EAAW7iC,GAAOP,MAAQ,IAG7DqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIM,MACIkjC,EAAWljC,MACXkjC,EAAWnjC,MACV2jC,GACIP,EAAW7iC,GAAON,MAAQmjC,EAAW7iC,GAAOP,MAAQ,OAIlEqB,GAGLuiC,GAAe,SAAAziC,GACjB,IAAM1B,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GAEnB3jC,EAAYC,QAAQ,SAAAC,GAChByjC,EAAWvjC,KAAKiM,EAASlB,eAAejL,GAAKuM,2BAGjD,IAAIy3B,EAAY,EAChB,OAAQxiC,EAAMkiC,WACV,IAAK,SACDM,GAAaR,EAAWhjC,OAASgjC,EAAWjjC,KAAO,EACnD,MACJ,IAAK,UACDyjC,GACKP,EAAW,GAAGjjC,OAASijC,EAAW,GAAGljC,KAAO,EAC7CkjC,EAAW,GAAGljC,IACdijC,EAAWjjC,IACf,MACJ,IAAK,YACD,IAAImO,EAAS,EACTC,EAAY,EAChB7O,EAAYC,QAAQ,SAAAa,GAChB,IAAM+iC,EAAUF,EAAW1b,SAASnnB,IACnB8N,EAAH,IAAV9N,EAAsB+iC,EAAQpjC,IACpBmO,EAASi1B,EAAQpjC,IAAMojC,EAAQpjC,IAAMmO,EAClCC,EAAH,IAAV/N,EAAyB+iC,EAAQnjC,OAG7BmO,EAAYg1B,EAAQnjC,OAASmjC,EAAQnjC,OAASmO,IAE1Dq1B,GAAar1B,EAAYD,GAAU,EAAIA,EAAS80B,EAAWjjC,IAC3D,MACJ,QACIyjC,EAAY,EAGpB,IAAMtiC,EAAkB,GAoBxB,OAnBA5B,EAAYC,QAAQ,SAACC,EAAKY,GAClBY,EAAMxB,GAAKO,KAA0B,IAAnBiB,EAAMxB,GAAKO,IAC7BmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIO,IACIyjC,GACCP,EAAW7iC,GAAOJ,OAASijC,EAAW7iC,GAAOL,KAAO,IAG7DmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIQ,OACIgjC,EAAWhjC,OACXgjC,EAAWjjC,KACVyjC,GACIP,EAAW7iC,GAAOJ,OAASijC,EAAW7iC,GAAOL,KAAO,OAIlEmB,GAGLwiC,GAAmB,SAAA1iC,GACrB,IASI+M,EACAC,EAVE1O,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GACfU,EAAgB,EAChBC,EAAiB,EAGrBtkC,EAAYC,QAAQ,SAACC,EAAKY,GACtB,IAAMyL,EAAOF,EAASlB,eAAejL,GAAKuM,wBAC1Ck3B,EAAWvjC,KAAK,CACZF,MACAqM,SAEU,IAAVzL,GACA2N,EAAUlC,EAAKhM,KACf8jC,EAAgB93B,EAAKhM,MAAQgM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,GAChDkO,EAAUlC,EAAKhM,OACtBkO,EAAUlC,EAAKhM,KACf8jC,EAAgB93B,EAAKhM,MAAQgM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,GAE7C,IAAVO,GACA4N,EAAWnC,EAAK/L,MAChB8jC,EAAiB/3B,EAAKhM,MAAQgM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,GACjDmO,EAAWnC,EAAK/L,QACvBkO,EAAWnC,EAAK/L,MAChB8jC,EAAiB/3B,EAAKhM,MAAQgM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,KAIhE,IACIF,EADAkkC,EAAQ,EAENC,EAA2B,EAApBb,EAAW1gC,OACxB,OAAQvB,EAAMkiC,WACV,IAAK,SACDvjC,EAAQqjC,EAAWljC,MAAQkjC,EAAWnjC,KACtC,MACJ,IAAK,UACDF,EAAQsjC,EAAW,GAAGp3B,KAAK/L,MAAQmjC,EAAW,GAAGp3B,KAAKhM,KACtD,MACJ,IAAK,YACD,IAAMkkC,GACDH,EAAiBD,IAA4C,GAAzBV,EAAW1gC,OAAS,IAC7D5C,EAAQmkC,EAAOC,EACfF,EAAQF,EAAgBX,EAAWnjC,KAAOkkC,EAC1C,MACJ,QACIpkC,EAAQqjC,EAAWljC,MAAQkjC,EAAWnjC,KAG9CojC,EAAWe,KAAK,SAACnnC,EAAG4P,GAAJ,OAAU5P,EAAEgP,KAAKhM,KAAO4M,EAAEZ,KAAKhM,OAC/C,IAAMqB,EAAkB,GAwBxB,OAvBA+hC,EAAW1jC,QAAQ,SAAC6B,EAAIhB,GACpB,GACwB,cAApBY,EAAMkiC,WACK,IAAV9iC,GAAeA,IAAU6iC,EAAW1gC,OAAS,EAChD,KACU/C,EAAQ4B,EAAR5B,IACFykC,EAAYJ,GAAU,EAAY,EAARzjC,GAAaT,EAASmkC,EAC9Cj4B,EAASzK,EAATyK,KACFq4B,EAAWr4B,EAAK/L,MAAQ+L,EAAKhM,KAE/BmB,EAAMxB,GAAKK,MAA4B,IAApBmB,EAAMxB,GAAKK,KAC9BqB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIK,KAAMokC,EAAYC,EAAW,IAGjChjC,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIM,MAAOmkC,EAAYC,EAAW,OAKvChjC,GAGLijC,GAAmB,SAAAnjC,GACrB,IASIkN,EACAC,EAVE7O,EAAWgB,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM1B,aACtBgD,EAAWtB,EAAM1B,EAAY,IAA7BgD,OAEFqJ,EAAWnB,SAASC,eAAe,gBAAgBC,cACpDF,SACCw4B,EAAar3B,EAASlB,eAAenI,GAAQyJ,wBAC7Ck3B,EAAa,GACfmB,EAAe,EACfC,EAAkB,EAGtB/kC,EAAYC,QAAQ,SAACC,EAAKY,GACtB,IAAMyL,EAAOF,EAASlB,eAAejL,GAAKuM,wBAC1Ck3B,EAAWvjC,KAAK,CACZF,MACAqM,SAEU,IAAVzL,GACA8N,EAASrC,EAAK9L,IACdqkC,EAAev4B,EAAK9L,KAAO8L,EAAK7L,OAAS6L,EAAK9L,KAAO,GAC9CmO,EAASrC,EAAK9L,MACrBmO,EAASrC,EAAK9L,IACdqkC,EAAev4B,EAAK9L,KAAO8L,EAAK7L,OAAS6L,EAAK9L,KAAO,GAE3C,IAAVK,GACA+N,EAAYtC,EAAK7L,OACjBqkC,EAAkBx4B,EAAK9L,KAAO8L,EAAK7L,OAAS6L,EAAK9L,KAAO,GACjDoO,EAAYtC,EAAK7L,SACxBmO,EAAYtC,EAAK7L,OACjBqkC,EAAkBx4B,EAAK9L,KAAO8L,EAAK7L,OAAS6L,EAAK9L,KAAO,KAIhE,IACIH,EADAikC,EAAQ,EAENC,EAA2B,EAApBb,EAAW1gC,OACxB,OAAQvB,EAAMkiC,WACV,IAAK,SACDtjC,EAASojC,EAAWhjC,OAASgjC,EAAWjjC,IACxC,MACJ,IAAK,UACDH,EAASqjC,EAAW,GAAGp3B,KAAK7L,OAASijC,EAAW,GAAGp3B,KAAK9L,IACxD,MACJ,IAAK,YACD,IAAMgkC,GACDM,EAAkBD,IAA2C,GAAzBnB,EAAW1gC,OAAS,IAC7D3C,EAASkkC,EAAOC,EAChBF,EAAQO,EAAepB,EAAWjjC,IAAMgkC,EACxC,MACJ,QACInkC,EAASojC,EAAWhjC,OAASgjC,EAAWjjC,IAGhDkjC,EAAWe,KAAK,SAACnnC,EAAG4P,GAAJ,OAAU5P,EAAEgP,KAAK9L,IAAM0M,EAAEZ,KAAK9L,MAC9C,IAAMmB,EAAkB,GAwBxB,OAvBA+hC,EAAW1jC,QAAQ,SAAC6B,EAAIhB,GACpB,GACwB,cAApBY,EAAMkiC,WACK,IAAV9iC,GAAeA,IAAU6iC,EAAW1gC,OAAS,EAChD,KACU/C,EAAQ4B,EAAR5B,IACFykC,EAAYJ,GAAU,EAAY,EAARzjC,GAAaR,EAAUkkC,EAC/Cj4B,EAASzK,EAATyK,KACFy4B,EAAYz4B,EAAK7L,OAAS6L,EAAK9L,IAEjCiB,EAAMxB,GAAKO,KAA0B,IAAnBiB,EAAMxB,GAAKO,IAC7BmB,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIO,IAAKkkC,EAAYK,EAAY,IAGjCpjC,EAAgB1B,GAAhBc,OAAAgP,EAAA,EAAAhP,CAAA,GACOU,EAAMxB,GADb,CAEIQ,OAAQikC,EAAYK,EAAY,OAKzCpjC,GCnhBEqjC,GAAe,CACxBtC,SAAS,EACTpgC,SAAS,EACT88B,SAAU,IACVuE,UAAW,SACXsB,aAAa,EACb1C,eAAgB,GAChBxiC,YAAa,GACbmB,cAAe,KACfpB,kBAAmB,GACnBmB,mBAAoB,GACpBikC,iBAAkB,GAClBtiC,aAAc,GACdjD,eAAgB,KAChBC,cAAe,KACfulC,mBAAoB,GACpBtlC,qBAAsB,GACtB8T,SAAS,EACT/P,UAAW,GAkOAwhC,GALSC,KAvFR,WAAkC,IAAjC5jC,EAAiC+O,UAAAxN,OAAA,QAAAzB,IAAAiP,UAAA,GAAAA,UAAA,GAAzBw0B,GAActjC,EAAW8O,UAAAxN,OAAA,EAAAwN,UAAA,QAAAjP,EAC9C,OAAQG,EAAOoB,MACX,KAAK4qB,KACD,OAAO/qB,aAAiBlB,GAC5B,KAAKisB,KACD,OAAO7qB,aAAcpB,EAAOC,GAChC,KAAKgsB,KACD,OAAOlsB,aAA2BC,EAAOC,GAC7C,KAAKgsB,KACD,OAAOnrB,aAA4Bd,EAAOC,GAE9C,KAAKgsB,KACD,OCvLiB,SAACjsB,EAAyBC,GAA1B,OACzBlC,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAC3BU,EAD0B,CAE7BP,cAAeQ,EAAOe,KACtB1C,YAAa,GACbD,kBAAmB,GACnB8C,aAAc,MDiLH0iC,CAA4B7jC,EAAOC,GAE9C,KAAKgsB,KACD,OEpLc,SAACjsB,GAA4B,IAAA8jC,EAC7C5hC,EAAK,WAAA/C,OAAca,EAAMmC,WAa/B,OAZAnC,EAAMmC,WAAa,EAYZpE,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,GADiC8jC,EAAA,GAAAxkC,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAEnC5hC,EAbc,CACfb,KAAM,UACNzC,OAAQ,IACRiK,WAAY,qBACZk7B,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACV7d,MAAO,GACP3pB,SAAU,GACV6D,OAAQ,KAE4BhB,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,cAGvB,IAHuBxkC,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,gBAIrB5hC,GAJqB5C,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,eAKtB,IALsBxkC,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,iBAMpB9jC,EAAM8gC,eAAe3hC,OAAO,CAAC+C,KANT5C,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,WAO3B,GAP2BA,KFsKzBI,CAAkClkC,GAC7C,KAAKisB,KACD,OE7JoB,SAACjsB,GAC7B,GAAKA,EAAMP,cAAX,CAGA,IAAMiC,EAAqB,GACrB2rB,EAAgB7rB,aAClBxB,EACA,CAACA,EAAMP,eACPiC,GAGJ,OAAO3D,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EACAqtB,EAFiC,CAGpC/uB,YAAa,GACb6C,aAAc,GACd1B,cAAeiC,EAAmB,GAClCo/B,eAAgB9gC,EAAM8gC,eAAe3hC,OAAOuC,GAC5Cb,SAAS,MF2IEqjC,CAAwClkC,GACnD,KAAKisB,KACD,OEzIiB,SAACjsB,GAC1B,GAAKA,EAAMP,cAAX,CAGA,IAAM0kC,EAAmB3hC,aAAoB,CAACxC,EAAMP,eAAgBO,GAChEokC,EAA6B,GACjCD,EAAiB5lC,QAAQ,SAAA6D,GACrBgiC,EAA6BA,EAA2BjlC,OACpD,CAACiD,GACDpC,EAAMoC,GAAS9B,QAEfN,EAAM9B,iBAAmBkE,IACzBpC,EAAM9B,eAAiB,MAEvB8B,EAAM7B,gBAAkBiE,IACxBpC,EAAM7B,cAAgB,QAG9B,IAAMH,EAAWo+B,KAAKp8B,EAAOokC,GAI7B,OAHApmC,EAAS8iC,eAAiB9iC,EAAS8iC,eAAe7sB,OAC9C,SAAA7T,GAAE,OAAIA,IAAOJ,EAAMP,gBAEhB1B,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCtB,EADiC,CAEpCyB,cAAe,KACfnB,YAAa,GACb6C,aAAc,GACdN,SAAS,MF8GEqjC,CAAqClkC,GAEhD,KAAKisB,KACD,OGlMiB,SAACjsB,GAC1B,IAAMqkC,EAAerkC,EAAM8gC,eAAez5B,QAAQrH,EAAMP,eACxD,GAAI4kC,EAAe,EAAG,CAClB,IAAMC,EAAiBhlC,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM8gC,gBAGpC,OAFAwD,EAAkBD,GAAgBrkC,EAAM8gC,eAAeuD,EAAe,GACtEC,EAAkBD,EAAe,GAAKrkC,EAAMP,cACrCH,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEI8gC,eAAgBwD,EAChBzjC,SAAS,IAGjB,OAAOvB,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GHsLGukC,CAA2BvkC,GACtC,KAAKisB,KACD,OGrLmB,SAACjsB,GAC5B,IAAMqkC,EAAerkC,EAAM8gC,eAAez5B,QAAQrH,EAAMP,eACxD,GAAI4kC,EAAerkC,EAAM8gC,eAAev/B,OAAS,EAAG,CAChD,IAAM+iC,EAAiBhlC,OAAA4L,GAAA,EAAA5L,CAAOU,EAAM8gC,gBAGpC,OAFAwD,EAAkBD,GAAgBrkC,EAAM8gC,eAAeuD,EAAe,GACtEC,EAAkBD,EAAe,GAAKrkC,EAAMP,cACrCH,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEI8gC,eAAgBwD,EAChBzjC,SAAS,IAGjB,OAAOvB,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GHyKGukC,CAA6BvkC,GAExC,KAAKisB,KACD,OIhMU,SAACjsB,EAAyBC,GAC5C,IAYQiC,EAZFZ,EACFtB,EAAMmB,aAAaI,OAAS,EACtBvB,EAAMmB,aAAa,GACnBnB,EAAMP,cACNO,EAAMP,cACN,KAEV,GAAK6B,EA2BL,OAvBKrB,EAAOc,QAERmB,EAAK,WAAA/C,OAAca,EAAMmC,WACzBnC,EAAMmC,WAAa,EAEnBlC,EAAOc,MAAPzB,OAAAmW,EAAA,EAAAnW,CAAA,GACK4C,EAAQ,CACLb,KAAM,MACNzC,OAAQ,GACRD,MAAO,GACPE,KAAM,EACNE,IAAK,EACLtC,SAAU,GACV6D,OAAQ,KAGhBL,EAAO2sB,aAAe,CAAC1qB,IAG3BjC,EAAO2sB,aAAaruB,QAAQ,SAAC6D,EAAShD,GAClCa,EAAOc,MAAMqB,GAASd,OAASA,EAC/BrB,EAAOc,MAAMqB,GAASuG,OAAS3I,EAAMsB,GAAQ7E,SAAS8E,OAASnC,IAE5DrB,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EADiCV,OAAAmW,EAAA,EAAAnW,CAAA,GAEnCgC,EAFmChC,OAAAgP,EAAA,EAAAhP,CAAA,GAG7BU,EAAMsB,GAHuB,CAIhC7E,SAAUuD,EAAMsB,GAAQ7E,SAAS0C,OAAOc,EAAO2sB,iBAEhD3sB,EAAOc,MAN0B,CAOpCzC,YAAa2B,EAAO2sB,aACpB/rB,SAAS,KJqJE2jC,CAA0BxkC,EAAOC,GAC5C,KAAKgsB,KACD,OInJa,SAACjsB,GAA4B,IAC1CsB,EAAWtB,EAAMA,EAAM1B,YAAY,IAAnCgD,OACF6iC,EAAmB3hC,aAAoBxC,EAAM1B,YAAa0B,GAC5DokC,EAA6B,GACjCD,EAAiB5lC,QAAQ,SAAA6D,GACrBgiC,EAA6BA,EAA2BjlC,OACpD,CAACiD,GACDpC,EAAMoC,GAAS9B,QAEfN,EAAM9B,iBAAmBkE,IACzBpC,EAAM9B,eAAiB,MAEvB8B,EAAM7B,gBAAkBiE,IACxBpC,EAAM7B,cAAgB,QAG9B,IAAMH,EAAWo+B,eAAKp8B,EAAOokC,GAC7BpmC,EAASsD,GAAQ7E,SAAWuB,EAASsD,GAAQ7E,SAASwX,OAClD,SAAA7T,GAAE,OAAIA,IAAOJ,EAAM1B,YAAY,KAEnC,IAAMmmC,EAAenlC,OAAA4L,GAAA,EAAA5L,CAAOtB,EAASsD,GAAQ7E,UAG7C,OAFAgoC,EAAgBzB,KAAK,SAACnnC,EAAG4P,GAAJ,OAAUzL,EAAMnE,GAAG8M,OAAS3I,EAAMyL,GAAG9C,SAC1D87B,EAAgBlmC,QAAQ,SAAC6B,EAAIhB,GAAL,OAAgBpB,EAASoC,GAAIuI,OAASvJ,IACvDrB,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCtB,EADiC,CAEpCM,YAAa,GACb6C,aAAc,GACdN,SAAS,KJwHE2jC,CAA6BxkC,GACxC,KAAKisB,KACD,OItHgB,SAACjsB,GAA4B,IAAA0kC,EAC7CpjC,EAAWtB,EAAMA,EAAM1B,YAAY,IAAnCgD,OACFI,EAAqB,GACrB2rB,EAAgB7rB,aAClBxB,EACAA,EAAM1B,YACNoD,GAEE1D,EAAQsB,OAAAgP,EAAA,EAAAhP,CAAA,GACPU,EACAqtB,GAFOqX,EAAA,CAGVpmC,YAAaoD,GAHHpC,OAAAmW,EAAA,EAAAnW,CAAAolC,EAITpjC,EAJShC,OAAAgP,EAAA,EAAAhP,CAAA,GAKHU,EAAMsB,GALH,CAMN7E,SAAUuD,EAAMsB,GAAQ7E,SAAS0C,OAAOuC,MANlCpC,OAAAmW,EAAA,EAAAnW,CAAAolC,EAAA,WAQD,GARCA,IAkBd,OARAhjC,EAAmBnD,QAAQ,SAAAomC,GACvB3mC,EAASsD,GAAQ7E,SAAS8B,QAAQ,SAAA6B,GAC1BpC,EAASoC,GAAIuI,OAAS3K,EAAS2mC,GAAOh8B,SACtC3K,EAASoC,GAAIuI,OAAS3K,EAASoC,GAAIuI,OAAS,KAGpD3K,EAAS2mC,GAAOh8B,OAAS3K,EAAS2mC,GAAOh8B,OAAS,IAE/C5K,aAAkCC,GJ4F1BwmC,CAAgCxkC,GAE3C,KAAKisB,KACD,OK9Ma,SAACjsB,GAA4B,IAC1CsB,EAAWtB,EAAMA,EAAM1B,YAAY,IAAnCgD,OACF+iC,EAAerkC,EAAMsB,GAAQ7E,SAAS4K,QAAQrH,EAAM1B,YAAY,IACtE,GAAI+lC,EAAe,EAAG,KAAAP,EACZc,EAAWtlC,OAAA4L,GAAA,EAAA5L,CAAOU,EAAMsB,GAAQ7E,UAGtC,OAFAmoC,EAAYP,GAAgBrkC,EAAMsB,GAAQ7E,SAAS4nC,EAAe,GAClEO,EAAYP,EAAe,GAAKrkC,EAAM1B,YAAY,GAC3CgB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,GADP8jC,EAAA,GAAAxkC,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAEKxiC,EAFLhC,OAAAgP,EAAA,EAAAhP,CAAA,GAGWU,EAAMsB,GAHjB,CAIQ7E,SAAUmoC,KAJlBtlC,OAAAmW,EAAA,EAAAnW,CAAAwkC,EAAA,WAMa,GANbA,IASJ,OAAOxkC,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GL8LG6kC,CAAwB7kC,GACnC,KAAKisB,KACD,OK7Le,SAACjsB,GAA4B,IAC5CsB,EAAWtB,EAAMA,EAAM1B,YAAY,IAAnCgD,OACF+iC,EAAerkC,EAAMsB,GAAQ7E,SAAS4K,QAAQrH,EAAM1B,YAAY,IACtE,GAAI+lC,EAAerkC,EAAMsB,GAAQ7E,SAAS8E,OAAS,EAAG,KAAAmjC,EAC5CE,EAAWtlC,OAAA4L,GAAA,EAAA5L,CAAOU,EAAMsB,GAAQ7E,UAGtC,OAFAmoC,EAAYP,GAAgBrkC,EAAMsB,GAAQ7E,SAAS4nC,EAAe,GAClEO,EAAYP,EAAe,GAAKrkC,EAAM1B,YAAY,GAC3CgB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,GADP0kC,EAAA,GAAAplC,OAAAmW,EAAA,EAAAnW,CAAAolC,EAEKpjC,EAFLhC,OAAAgP,EAAA,EAAAhP,CAAA,GAGWU,EAAMsB,GAHjB,CAIQ7E,SAAUmoC,KAJlBtlC,OAAAmW,EAAA,EAAAnW,CAAAolC,EAAA,WAMa,GANbA,IASJ,OAAOplC,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GL6KG6kC,CAA0B7kC,GACrC,KAAKisB,MACD,OK5Ke,SAACjsB,GAA4B,IAC5CvD,EAAauD,EAAMA,EAAMA,EAAM1B,YAAY,IAAIgD,QAA/C7E,SACF4nC,EAAerkC,EAAMA,EAAM1B,YAAY,IAAIqK,OACjD,GAAI07B,EAAe5nC,EAAS8E,OAAS,EAAG,KAAAujC,EAC9BC,EAAiBtoC,EAASg2B,KAC5B,SAAAryB,GAAE,OAAIJ,EAAMI,GAAIuI,SAAW07B,EAAe,IAE9C,OAAO/kC,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,GADP8kC,EAAA,GAAAxlC,OAAAmW,EAAA,EAAAnW,CAAAwlC,EAEKC,EAFLzlC,OAAAgP,EAAA,EAAAhP,CAAA,GAGWU,EAAM+kC,GAHjB,CAIQp8B,OAAQ07B,KAJhB/kC,OAAAmW,EAAA,EAAAnW,CAAAwlC,EAMK9kC,EAAM1B,YAAY,GANvBgB,OAAAgP,EAAA,EAAAhP,CAAA,GAOWU,EAAMA,EAAM1B,YAAY,IAPnC,CAQQqK,OAAQ07B,EAAe,KAR/B/kC,OAAAmW,EAAA,EAAAnW,CAAAwlC,EAAA,WAUa,GAVbA,IAaJ,OAAOxlC,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GLwJG6kC,CAA0B7kC,GACrC,KAAKisB,MACD,OKvJiB,SAACjsB,GAA4B,IAC9CvD,EAAauD,EAAMA,EAAMA,EAAM1B,YAAY,IAAIgD,QAA/C7E,SACF4nC,EAAerkC,EAAMA,EAAM1B,YAAY,IAAIqK,OACjD,GAAI07B,EAAe,EAAG,KAAAW,EACZD,EAAiBtoC,EAASg2B,KAC5B,SAAAryB,GAAE,OAAIJ,EAAMI,GAAIuI,SAAW07B,EAAe,IAE9C,OAAO/kC,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,GADPglC,EAAA,GAAA1lC,OAAAmW,EAAA,EAAAnW,CAAA0lC,EAEKD,EAFLzlC,OAAAgP,EAAA,EAAAhP,CAAA,GAGWU,EAAM+kC,GAHjB,CAIQp8B,OAAQ07B,KAJhB/kC,OAAAmW,EAAA,EAAAnW,CAAA0lC,EAMKhlC,EAAM1B,YAAY,GANvBgB,OAAAgP,EAAA,EAAAhP,CAAA,GAOWU,EAAMA,EAAM1B,YAAY,IAPnC,CAQQqK,OAAQ07B,EAAe,KAR/B/kC,OAAAmW,EAAA,EAAAnW,CAAA0lC,EAAA,WAUa,GAVbA,IAaJ,OAAO1lC,OAAAgP,EAAA,EAAAhP,CAAA,GAAKU,GLmIG6kC,CAA4B7kC,GAEvC,KAAKisB,KACD,ODjNc,SAACjsB,EAAyBC,GAChD,IAAIC,EACJ,OAAQD,EAAO0tB,WACX,IAAK,OACDztB,EAAkB6hC,GAAU/hC,GAC5B,MACJ,IAAK,UACDE,EAAkBqiC,GAAaviC,GAC/B,MACJ,IAAK,QACDE,EAAkBkiC,GAAWpiC,GAC7B,MACJ,IAAK,MACDE,EAAkBmiC,GAASriC,GAC3B,MACJ,IAAK,UACDE,EAAkBuiC,GAAaziC,GAC/B,MACJ,IAAK,SACDE,EAAkBoiC,GAAYtiC,GAC9B,MACJ,IAAK,cACDE,EAAkBwiC,GAAiB1iC,GACnC,MACJ,IAAK,cACDE,EAAkBijC,GAAiBnjC,GACnC,MACJ,QACIE,EAAkB6hC,GAAU/hC,GAGpC,OAAOjC,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EACAE,EAFiC,CAGpCW,SAAS,KC+KEokC,CAAoBjlC,EAAOC,GACtC,KAAKgsB,KACD,ODxNmB,SAACjsB,EAAyBC,GAA1B,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACxBU,EADwB,CAE3BkiC,UAAWjiC,EAAOU,QCsNHskC,CAAyBjlC,EAAOC,GAE3C,KAAKgsB,KACD,OM3Na,SAACjsB,EAAyBC,GAC/C,GAAID,EAAM1B,YAAYiC,SAASN,EAAOe,MAClC,OAAOhB,EAKX,IAFA,IAAI+lB,EAAU9lB,EAAOe,KACfkkC,EAAQ5lC,OAAAgP,EAAA,EAAAhP,CAAA,GAAQU,GACY,YAA3BklC,EAASnf,GAAS1kB,MACrB0kB,EAAUmf,EAASnf,GAASzkB,OAEhC,IAAM1B,EAAMN,OAAAgP,EAAA,EAAAhP,CAAA,GACLU,EADK,CAERP,cAAesmB,IAEnB,GAAK9lB,EAAOqS,MAAqC,IAA7BtS,EAAM1B,YAAYiD,OAE/B,CAGH,IAFA,IAAI4jC,EAAcnlC,EAAM1B,YAAY,GAC9B4mC,EAAQ5lC,OAAAgP,EAAA,EAAAhP,CAAA,GAAQU,GACgB,YAA/BklC,EAASC,GAAa9jC,MACzB8jC,EAAcD,EAASC,GAAa7jC,OAEpC6jC,IAAgBpf,GAChBnmB,EAAOtB,YAAc,CAAC2B,EAAOe,MAC7BpB,EAAOvB,kBAAPiB,OAAAgP,EAAA,EAAAhP,CAAA,GAAgCU,EAAMC,EAAOe,QAE7CpB,EAAOtB,YAAc0B,EAAM1B,YAAYa,OAAO,CAACc,EAAOe,YAX1DpB,EAAOtB,YAAc,CAAC2B,EAAOe,MAgBjC,GADApB,EAAOuB,aAAe,GAClBvB,EAAOtB,YAAYiD,OAAS,EAE5B,IADA,IAAI/C,EAAMoB,EAAOA,EAAOtB,YAAY,IAAIgD,OACZ,YAArB1B,EAAOpB,GAAK6C,MACfzB,EAAOuB,aAAazC,KAAKF,GACzBA,EAAMoB,EAAOpB,GAAK8C,YAGtB1B,EAAOuB,aAAe,GAG1B,OAAOpD,aAAkC6B,GNkL1BwlC,CAA6BplC,EAAOC,GAC/C,KAAKgsB,KACD,OMjLY,SAACjsB,GACrB,IAAM1B,EAAc,GAQpB,MANyC,SAArC0B,EAAMA,EAAM1B,YAAY,IAAI+C,MACS,SAArCrB,EAAMA,EAAM1B,YAAY,IAAI+C,MAE5B/C,EAAYI,KAAKsB,EAAM1B,YAAY,IAGhCP,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EADiC,CAEpCmB,aAAY,CAAGnB,EAAM1B,YAAY,IAArBa,OAAAG,OAAA4L,GAAA,EAAA5L,CAA4BU,EAAMmB,eAC9C7C,YAAaA,KNqKF8mC,CAA4BplC,GACvC,KAAKisB,KACD,OMnKW,SAACjsB,GACpB,IAAImB,EAAe,GACf7C,EAAc,GAClB,GAAI0B,EAAMmB,aAAaI,OAAS,EAAG,KACvBD,EAAWtB,EAAMA,EAAMmB,aAAa,IAApCG,OACmB,QAAvBtB,EAAMsB,GAAQD,OACdF,EAAe,CAACG,IAEpBhD,EAAc,CAAC0B,EAAMmB,aAAa,IAEtC,IAAMvB,EAAMN,OAAAgP,EAAA,EAAAhP,CAAA,GACLU,EADK,CAERmB,eACA7C,gBAEJ,OAAOP,aAAkC6B,GNoJ1BwlC,CAA2BplC,GAEtC,KAAKisB,MACD,OOhOiB,SAACjsB,EAAyBC,GACnD,IAAImC,EAMJ,OALInC,EAAOW,UACPwB,EAAUpC,EAAMP,cACTO,EAAM1B,YAAYiD,OAAS,IAClCa,EAAUpC,EAAM1B,YAAY,IAEzBP,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EADiC,CAEpC9B,eAAgBkE,EACVA,IAAYpC,EAAM9B,eACd,KACAkE,EACJ,KACNjE,cAAe,QPkNJknC,CAAyBrlC,EAAOC,GAC3C,KAAKgsB,KACD,OOhNkB,SAACjsB,EAAyBC,GACpD,IAAImC,EAMJ,OALInC,EAAOW,UACPwB,EAAUpC,EAAMP,cACTO,EAAM1B,YAAYiD,OAAS,IAClCa,EAAUpC,EAAM1B,YAAY,IAEzBP,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCU,EADiC,CAEpC9B,eAAgB,KAChBC,cAAeiE,EACTA,IAAYpC,EAAM7B,cACd,KACAiE,EACJ,QPkMKijC,CAA0BrlC,EAAOC,GAC5C,KAAKgsB,MACD,OOhMyB,SAACjsB,GAAD,OACjCjC,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAC3BU,EAD0B,CAE7B9B,eAAgB,KAChBC,cAAe,QP4LJknC,CAAiCrlC,GAC5C,KAAKisB,KACD,OO3Lc,SAACjsB,EAAyBC,GAChD,IAGI8Z,EAHEtZ,EAAaT,EAAM9B,gBAAkB8B,EAAM7B,cAC3CkD,EAAOrB,EAAM9B,eAAiB,QAAU,SAC1CF,EAAQsB,OAAAgP,EAAA,EAAAhP,CAAA,GAAQU,GAGpB,GAAKS,EAAL,CAGA,GAAIR,EAAOW,UAAW,CAClB,IAAKZ,EAAMP,cACP,OAEJsa,EAAI,GAAA5a,OAAMa,EAAMP,cAAZ,KAAAN,OAA6BsB,EAA7B,KAAAtB,OAA2CkC,GAC/CrD,EAAQsB,OAAAgP,EAAA,EAAAhP,CAAA,GACDtB,EADCsB,OAAAmW,EAAA,EAAAnW,CAAA,GAEHya,EAFGza,OAAAgP,EAAA,EAAAhP,CAAA,GAGG88B,KAAKp+B,EAAS+b,GAAO9Z,EAAOU,eAIvC3C,EAASM,YAAYC,QAAQ,SAAAC,GACzBub,EAAI,GAAA5a,OAAMX,EAAN,KAAAW,OAAasB,EAAb,KAAAtB,OAA2BkC,GAC/BrD,EAAQsB,OAAAgP,EAAA,EAAAhP,CAAA,GACDtB,EADCsB,OAAAmW,EAAA,EAAAnW,CAAA,GAEHya,EAFGza,OAAAgP,EAAA,EAAAhP,CAAA,GAGG88B,KAAKp+B,EAAS+b,GAAO9Z,EAAOU,YAK/C,OAAO5C,aAAkCuB,OAAAgP,EAAA,EAAAhP,CAAA,GAClCtB,EADiC,CAEpC6C,SAAS,MP0JEwkC,CAAsBrlC,EAAOC,GAExC,KAAKgsB,KACD,OQ9OkB,SAACjsB,GAAD,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GACzBU,EADyB,CAE5B29B,SAAU39B,EAAM29B,SAAW,GAAK39B,EAAM29B,SAAW,GAAK39B,EAAM29B,WR4O3C2H,CAA4BtlC,GACvC,KAAKisB,KACD,OQ3OiB,SAACjsB,GAAD,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GACxBU,EADwB,CAE3B29B,SAAU39B,EAAM29B,SAAW,KRyOV2H,CAA2BtlC,GACtC,KAAKisB,KACD,OQxOoB,SAACjsB,GAAD,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GAC3BU,EAD2B,CAE9B29B,SAAU,MRsOO2H,CAA8BtlC,GACzC,KAAKisB,KACD,OQrOe,SAACjsB,GACxB,OAAOV,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIkS,SAAUlS,EAAMkS,URkOLozB,CAAyBtlC,GAEpC,KAAKisB,MACD,OSrPoB,SAACjsB,EAAyBC,GAA1B,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACzBU,EADyB,CAE5ByjC,iBAAkBxjC,EAAOgB,STmPV0R,CAAsB3S,EAAOC,GAExC,KAAKgsB,KACD,OUvP4B,SACpCjsB,EACAC,GAEA,GAAIA,EAAOmuB,MAAQnuB,EAAOouB,cAAgBpuB,EAAOquB,YAAa,CAC1D,IAAM3K,EAAU1jB,EAAOouB,aACjBpuB,EAAOouB,aAAapuB,EAAOmuB,KAAKzK,QAChC1jB,EAAOquB,WAAW3K,QACxB,OAAOrkB,OAAAgP,EAAA,EAAAhP,CAAA,GACAikC,GACA5f,IV6OI4hB,CAAkCvlC,EAAOC,GACpD,KAAKgsB,KACD,OU1OmB,SAACjsB,GAAD,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GACxBU,EADwB,CAE3Ba,SAAS,EACTogC,SAAS,IVuOMsE,CAAyBvlC,GACpC,KAAKisB,KACD,OUtOqB,SAACjsB,GAAD,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GAC1BU,EAD0B,CAE7BihC,SAAS,IVoOMsE,CAA2BvlC,GAEtC,QACI,OAAOA,IAIuB,CACtCiU,OWnQW,SAAqBhU,EAAgBulC,EAAmB5E,GACnE,OAAI3gC,EAAOmsB,kBAGY,CACnB,sBACA,aACA,iBACA,oBACA,oBACA,iBACA,YACA,WACA,2BACA,mBACA,kBACA,yBACA,mBACA,kBACA,qBACA,eACA,qBACA,aACA,eACA,YACA,cACA,gCACA,eACA,cACA,eACA,iBACA,wBACA,iBACA,eACA,mBACA,mBACA,sBACA,iBACA,+BACA,qBACA,wBACA,2BACA,qBACA,uBACA,uBACA,eAEe7rB,SAASN,EAAOoB,OXqNnCokC,MAAO,IYrQElC,GAAe,CACxBx+B,kBAAmB,YAeR2gC,GAZC,WAAkD,IAAjD1lC,EAAiD+O,UAAAxN,OAAA,QAAAzB,IAAAiP,UAAA,GAAAA,UAAA,GAAjCw0B,GAActjC,EAAmB8O,UAAAxN,OAAA,EAAAwN,UAAA,QAAAjP,EAC9D,OAAQG,EAAOoB,MACX,KAAK4qB,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEI+E,kBAAmB9E,EAAOe,OAElC,QACI,OAAOhB,ICZNujC,GAAe,CACxB3W,aAAc,GACdzqB,UAAW,GAgBAujC,GAbC,WAAkD,IAAjD1lC,EAAiD+O,UAAAxN,OAAA,QAAAzB,IAAAiP,UAAA,GAAAA,UAAA,GAAjCw0B,GAActjC,EAAmB8O,UAAAxN,OAAA,EAAAwN,UAAA,QAAAjP,EAC9D,OAAQG,EAAOoB,MACX,KAAK4qB,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAW,EAAOc,MADd,CAEI6rB,aAAc3sB,EAAO2sB,aACrBzqB,UAAW,IAEnB,QACI,OAAOnC,ICdNujC,GAAe,CACxBjT,MAAO,KACPI,OAAQ,KACR5B,MAAO,KACPwK,SAAS,GA8DEoM,GA3DC,WAAkD,IAAjD1lC,EAAiD+O,UAAAxN,OAAA,QAAAzB,IAAAiP,UAAA,GAAAA,UAAA,GAAjCw0B,GAActjC,EAAmB8O,UAAAxN,OAAA,EAAAwN,UAAA,QAAAjP,EAC9D,OAAQG,EAAOoB,MACX,KAAK4qB,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIs5B,SAAS,EACTxK,MAAO,OAGf,KAAK7C,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIswB,MAAOrwB,EAAOqU,KAAKgc,MACnBI,OAAQzwB,EAAOqU,KAAK8Z,IACpBU,MAAO,KACPwK,SAAS,IAGjB,KAAKrN,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIswB,MAAO,KACPI,OAAQ,KACR5B,MAAO7uB,EAAO6uB,MACdwK,SAAS,IAGjB,KAAKrN,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIswB,MAAO,KACPI,OAAQ,OAGhB,KAAKzE,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIs5B,SAAS,IAGjB,KAAKrN,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIs5B,SAAS,EACTxK,MAAO,OAGf,KAAK7C,KACD,OAAO3sB,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIs5B,SAAS,EACTxK,MAAO7uB,EAAO6uB,QAGtB,QACI,OAAO9uB,IC7DNujC,GAAe,CACxBvE,SAAU,GACV76B,MAAO,KACP4/B,OAAQ,GACRC,OAAQ,GACR7S,OAAQ,KACRwU,eAAgB,GAChBtX,aAAc,GACdrU,eAAgB,GAChBoU,IAAK,GACLU,MAAO,KACPwK,SAAS,EACTgE,cAAc,EACd1M,YAAa,GACbqL,aAAa,GA4CXpL,GAA4B,SAAC7wB,EAAOC,GACtC,IAAIjC,EAKJ,OAJKiC,EAAOqU,KAAK2F,SAAYha,EAAOqU,KAAK+Z,eACrCrwB,EAAWulC,IAGRjkC,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIg/B,SAAU/+B,EAAOqU,KAAK0qB,UAAYh/B,EAAMg/B,SACxC3Q,aAAcpuB,EAAOqU,KAAK+Z,cAAgBruB,EAAMquB,cAC7CpuB,EAAOqU,KAAK2F,QAJnB,CAKI6U,MAAO,KACPwK,SAAS,EACTgE,cAAc,GACXt/B,IAIL4nC,GAAwB,SAAC5lC,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACvBikC,GACAtjC,EAAOqU,KAAK2F,QAFW,CAG1BoU,aAAcpuB,EAAOqU,KAAK+Z,aAC1B2Q,SAAUh/B,EAAMg/B,SAChBlQ,MAAO,KACPwK,SAAS,EACTgE,cAAc,KAGZ5L,GAAiB,SAAC1xB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GAChBU,EADgB,CAEnBga,eAAgB/Z,EAAO+Z,eACvBqU,aAAa/uB,OAAAgP,EAAA,EAAAhP,CAAA,GACNU,EAAMquB,aADD/uB,OAAAmW,EAAA,EAAAnW,CAAA,GAEPW,EAAO4b,KAAKuS,IAAMnuB,EAAO4b,OAE9B+U,YAAa3wB,EAAO4b,KAAKuS,IACzBU,MAAO,KACPwK,SAAS,EACTgE,cAAc,KAGZ1L,GAAoB,SAAC5xB,EAAOC,GAC9B,IAAM4lC,EAAevmC,OAAAgP,EAAA,EAAAhP,CAAA,GAAQU,EAAMquB,cADMyX,EAAA,SAEhCC,IACc9lC,EAAO+Z,eAAenG,KACrC,SAAA7S,GAAI,OAAIA,EAAKiB,GAAG+jC,aAAeD,EAAEC,qBAG1BH,EAAgBE,IAL/B,IAAK,IAAIA,KAAKF,EAAiBC,EAAtBC,GAQT,OAAOzmC,OAAAgP,EAAA,EAAAhP,CAAA,GACAU,EADP,CAEIquB,aAAcwX,EACd7rB,eAAgB/Z,EAAO+Z,eACvB4W,YAAa3wB,EAAO2wB,YACpB9B,MAAO,KACPwK,SAAS,EACTgE,cAAc,KAIhBvM,GAAc,SAAA/wB,GAAK,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GAClBU,EADkB,CAErB8uB,MAAO,KACPwO,cAAc,KAGZhM,GAAgB,SAAAtxB,GAAK,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GACpBU,EADoB,CAEvB8uB,MAAO,KACPwO,cAAc,KAGZ2I,GAAsB,SAAAjmC,GAAK,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GAC1BU,EAD0B,CAE7B8uB,MAAO,KACPwK,SAAS,KAGP4M,GAAwB,SAAAlmC,GAAK,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GAC5BU,EAD4B,CAE/B8uB,MAAO,KACPwK,SAAS,KAGPtI,GAAa,SAAChxB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACZU,EADY,CAEf8uB,MAAO7uB,EAAO6uB,MACdwO,cAAc,KAGZlL,GAAiB,SAACpyB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GAChBU,EADgB,CAEnB4wB,YAAa3wB,EAAOmuB,IACpB6N,aAAa,KAGX/J,GAA4B,SAAClyB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GAC3BU,EACAo8B,eAAKn8B,EAAQ,CAAC,SAFa,CAG9Bg8B,aAAa,KAGXzJ,GAAkB,SAACxyB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACjBU,EADiB,CAEpBquB,aAAa/uB,OAAAgP,EAAA,EAAAhP,CAAA,GACNU,EAAMquB,aADD/uB,OAAAmW,EAAA,EAAAnW,CAAA,GAEPU,EAAM4wB,YAFCtxB,OAAAgP,EAAA,EAAAhP,CAAA,GAGDU,EAAMquB,aAAaruB,EAAM4wB,aACzBwL,eAAKn8B,EAAQ,CAAC,eAKvBizB,GAAqB,SAAClzB,EAAOC,GAAR,OAAAX,OAAAgP,EAAA,EAAAhP,CAAA,GACpBU,EADoB,CAEvBga,eAAgB/Z,EAAO+Z,eACvBqU,aAAcpuB,EAAOouB,aACrBuC,YAAa3wB,EAAO2wB,eAGlBqB,GAAmB,SAAAjyB,GAAK,OAAAV,OAAAgP,EAAA,EAAAhP,CAAA,GACvBU,EADuB,CAE1Bi8B,aAAa,KAGFyJ,GAxKC,WAAkD,IAAjD1lC,EAAiD+O,UAAAxN,OAAA,QAAAzB,IAAAiP,UAAA,GAAAA,UAAA,GAAjCw0B,GAActjC,EAAmB8O,UAAAxN,OAAA,EAAAwN,UAAA,QAAAjP,EAC9D,OAAQG,EAAOoB,MACX,KAAK4qB,KACD,OAAO4E,GAA0B7wB,EAAOC,GAC5C,KAAKgsB,KACD,OAAO2Z,GAAsB5lC,EAAOC,GAExC,KAAKgsB,KACD,OAAOyF,GAAe1xB,EAAOC,GACjC,KAAKgsB,KACD,OAAO2F,GAAkB5xB,EAAOC,GACpC,KAAKgsB,KACD,OAAOmG,GAAepyB,EAAOC,GACjC,KAAKgsB,KACD,OAAOiG,GAA0BlyB,EAAOC,GAC5C,KAAKgsB,KACD,OAAOuG,GAAgBxyB,EAAOC,GAElC,KAAKgsB,KACD,OAAO8E,GAAY/wB,GACvB,KAAKisB,KACD,OAAO+E,GAAWhxB,EAAOC,GAC7B,KAAKgsB,KACD,OAAOqF,GAActxB,GAEzB,KAAKisB,KACD,OAAOga,GAAoBjmC,GAC/B,KAAKisB,KACD,OAAOia,GAAsBlmC,GAEjC,KAAKisB,KACD,OAAOiH,GAAmBlzB,EAAOC,GAErC,KAAKgsB,MACD,OAAOgG,GAAiBjyB,GAE5B,QACI,OAAOA,ICzDnB1E,EAAAyM,EAAA+f,EAAA,gCAAAqe,KAAA7qC,EAAAyM,EAAA+f,EAAA,0BAAAse,KAkBA,IAAMC,GAGYC,UAMX,IAAMH,GAAcI,0BAAgB,CACvCv0B,QAASw0B,GACTxhC,QAASyhC,GACTC,OAAQC,GACR9W,KAAM+W,GACN3sB,QAAS4sB,KAGAT,GAAQU,sBACjBX,GACAE,GAAiBU,0BAAgBC,OAKrChY,IAAMiY,aAAaC,QAAQC,IAAI,SAAShO,GAIpC,OAHI3J,aAAaiB,QAAQ,mBACrB0I,EAAOxJ,QAAQY,cAAgBf,aAAaiB,QAAQ,kBAEjD0I,IAGXnK,IAAMiY,aAAa9X,SAASgY,IACxB,SAAShY,GAOL,OANKA,EAAS7a,KAAKic,eACff,aAAaa,QACT,iBACC9J,SAASiJ,aAAaiB,QAAQ,kBAAoB,GAAGuV,YAGvD7W,GAEX,SAASL,GAML,OALIA,EAAMK,UACkC,MAApC5I,SAASuI,EAAMK,SAASiY,SACxBhB,GAAMj0B,SAASid,eAGhBjY,QAAQkwB,OAAOvY,KAQ9B,IAAMwY,GACFl5B,EAAAvS,EAAAC,cAACyrC,EAAA,EAAD,CAAUnB,MAAOA,IACbh4B,EAAAvS,EAAAC,cAAC0rC,EAAA,EAAD,KACIp5B,EAAAvS,EAAAC,cAAC2rC,GAAD,QAKNC,GAAOl+B,SAASC,eAAe,QACxB,OAATi+B,IACAC,IAASzN,OAAOoN,GAAKI,qCCnFzB,IAAArsC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAusC,EAAAtsC,EAAA,IAAAusC,EAAAvsC,EAAAE,EAAAosC,GAAAhhC,EAAAtL,EAAA,IAkCemhC,IAtBY,SAAC7gC,GAExB,OACIL,EAAAM,EAAAC,cAAA,UACIC,cAAY,WACZG,UAAS,GAAAiD,OAAKhD,IAAQC,OAAb,KAAA+C,OAAuBvD,EAAMksC,OAAS3rC,IAAQ4rC,OAAS,IAChExrC,QAASX,EAAMmwB,eACfxwB,EAAAM,EAAAC,cAAA,SAAOI,UAAWC,IAAQa,OACtBzB,EAAAM,EAAAC,cAAA,aACIP,EAAAM,EAAAC,cAAA,UACIP,EAAAM,EAAAC,cAAA,MAAII,UAAWC,IAAQ6rC,MACnBzsC,EAAAM,EAAAC,cAAC8K,EAAA,EAAD,CAAK1C,KAAMtI,EAAMsI,KACbhI,UAAWC,IAAQ4K,OAE3BxL,EAAAM,EAAAC,cAAA,MAAII,UAAWC,IAAQ6rC,MAAOpsC,EAAMuI,gCCzB5DzH,EAAAC,QAAA,CAAkBwG,MAAA,0BAAAmD,MAAA,0BAAAX,aAAA,iCAAAI,QAAA,4BAAAK,kBAAA,sCAAAC,iBAAA,0DCAlB3J,EAAAC,QAAA,CAAkBP,OAAA,4BAAA2rC,OAAA,4BAAA/qC,MAAA,2BAAAgrC,KAAA,0BAAAjhC,IAAA,8CCAlBrK,EAAAC,QAAA,CAAkBuiC,WAAA,+BAAAG,KAAA,yBAAAF,MAAA,0BAAAa,cAAA,oECDlB,IAAA3kC,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAA4sC,EAAA3sC,EAAA,KAAA4sC,EAAA5sC,EAAAE,EAAAysC,GAAAE,EAAA7sC,EAAA,IAyBe8sC,IAhBC,SAACxsC,GAAD,OACZL,EAAAM,EAAAC,cAACqsC,EAAA,EAAD,KACKvsC,EAAM6hC,MACHliC,EAAAM,EAAAC,cAAA,OACII,UAAWC,IAAQkB,MACnBtB,cAAaH,EAAMI,YAAc,SACjCT,EAAAM,EAAAC,cAAA,OAAKI,UAAWC,IAAQgB,QAAxB,eAID5B,EAAAM,EAAAC,cAAA,OAAKI,UAAWC,IAAQgB,QAAxB,iDCnBf,IAAA9B,EAAAC,EAAA,GAAAC,EAAAD,EAAAE,EAAAH,GAAAgtC,EAAA/sC,EAAA,KAAAgtC,EAAAhtC,EAAAE,EAAA6sC,GA6Be/L,IAnBa,SAAC1gC,GACzB,OACIL,EAAAM,EAAAC,cAAA,MAAII,UAAWC,IAAQY,SACnBxB,EAAAM,EAAAC,cAAA,OAAKI,UAAWC,IAAQU,YACpBtB,EAAAM,EAAAC,cAAA,SAAOI,UAAWC,IAAQW,cACtBvB,EAAAM,EAAAC,cAAA,aACIP,EAAAM,EAAAC,cAAA,UACKF,EAAMa,aAKvBlB,EAAAM,EAAAC,cAAA,OAAKI,UAAWC,IAAQS,UACnBhB,EAAM2K,wHCRjBgiC,cAEF,SAAAA,EAAY3sC,GAAc,IAAA+H,EAAA,OAAArE,OAAAkpC,EAAA,EAAAlpC,CAAA0E,KAAAukC,IACtB5kC,EAAArE,OAAAmpC,EAAA,EAAAnpC,CAAA0E,KAAA1E,OAAAopC,EAAA,EAAAppC,CAAAipC,GAAAl5B,KAAArL,KAAMpI,KAIV+sC,kBAAoB,WAEhB,IACMC,EAAWjlC,EAAKklC,YAAYC,QAC5BC,EAAaH,EAASI,gBAAgBj+B,wBACtCnM,EAAS4K,SAASy/B,gBAClBz/B,SAASy/B,gBAAgBC,aACzB,EACAvqC,EAAQ6K,SAASy/B,gBACjBz/B,SAASy/B,gBAAgBE,YACzB,EACNP,EAASlpC,MAAMX,IAAMgqC,EAAW/pC,OATV,EASmC,KACzD,IAAM6L,EAAO+9B,EAAS79B,wBAClBF,EAAK7L,OAASJ,IAEVA,GAAUiM,EAAK7L,OAAS6L,EAAK9L,MAAQ8L,EAAK7L,OAAS6L,EAAK9L,KACxD,GAEA6pC,EAASlpC,MAAMX,IACXH,GACCiM,EAAK7L,OAAS6L,EAAK9L,MACnB8L,EAAK7L,OAAS6L,EAAK9L,KAnBV,EAqBV,KACH6pC,EAASlpC,MAAMd,OAASA,EAASiM,EAAK9L,IAAM,MAGjD8L,EAAK/L,MAAQH,IACTA,GAASkM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,EACnC+pC,EAASlpC,MAAMb,KAAOF,GAASkM,EAAK/L,MAAQ+L,EAAKhM,MAAQ,KACxD+pC,EAASlpC,MAAMb,KAAO,QAjC/B8E,EAAKklC,YAAcrkC,IAAM4kC,YAFHzlC,mFAwCjBK,KAAKpI,MAAMwI,cACZJ,KAAK2kC,iEAKL3kC,KAAKpI,MAAMwI,cACXJ,KAAK2kC,qDAKT,OACI7kC,EAAAjI,EAAAC,cAAA,OACII,UACIC,IAAQwB,gBACR,KACCqG,KAAKpI,MAAM2I,aAAe,IAE/B7E,MAAO,CAAE2pC,SAAUrlC,KAAKpI,MAAM+C,OAAS,OACvCwZ,IAAKnU,KAAK6kC,aAEV/kC,EAAAjI,EAAAC,cAAA,OACIC,cAAaiI,KAAKpI,MAAMI,YAAc,gBACtCE,UAAWC,IAAQkB,MACnBd,QAASyH,KAAKpI,MAAM0I,QAExBR,EAAAjI,EAAAC,cAAA,OAAKI,UAAWC,IAAQyB,SAAUoG,KAAKpI,MAAMa,kBArElCiI,aA2EZ6jC","file":"static/js/main.3dfd3a25.chunk.js","sourcesContent":["import React from 'react';\nimport type { Node } from 'react'\nimport classes from './LoginButton.module.css';\n\ntype Props = {\n    clicked?: Function,\n    disabled?: boolean,\n    btnType?: 'Success' | 'Danger',\n    children?: Node,\n    datatestid?: string\n}\n\nconst LoginButton = (props: Props) => (\n    <button\n        data-testid={props.datatestid || \"LoginButton\"}\n        disabled={props.disabled}\n        className={[classes.Button, classes[props.btnType]].join(' ')}\n        onClick={props.clicked}>\n        {props.children}\n    </button>\n);\n\nexport default LoginButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TitleDiv\":\"ToolsSection_TitleDiv__33d8j\",\"ContentDiv\":\"ToolsSection_ContentDiv__3tAwQ\",\"ContentTable\":\"ToolsSection_ContentTable__2GPg-\",\"Section\":\"ToolsSection_Section__23V_y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"BigButtonDropDown_Button__1SHqB\",\"Table\":\"BigButtonDropDown_Table__3F5Op\",\"Visible\":\"BigButtonDropDown_Visible__1qpiU\",\"Hidden\":\"BigButtonDropDown_Hidden__LOLZe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1JLaC\",\"load3\":\"Spinner_load3__3S5yS\",\"Cover\":\"Spinner_Cover__3GZfV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__1yw1r\",\"Logo\":\"Toolbar_Logo__1kQWd\",\"BuilderMenu\":\"Toolbar_BuilderMenu__2d77N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItemButton\":\"NavigationItemButton_NavigationItemButton__24jtY\",\"active\":\"NavigationItemButton_active__2iGf_\",\"disabled\":\"NavigationItemButton_disabled__1Q7ed\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropDownMenuDiv\":\"DropDownMenu_DropDownMenuDiv__2Cin8\",\"Cover\":\"DropDownMenu_Cover__tOZ2p\",\"MenuDiv\":\"DropDownMenu_MenuDiv__3vyFN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"PagesMenu_Toolbar__38QTF\",\"ToolSetsContainer\":\"PagesMenu_ToolSetsContainer__2jLhy\",\"Content\":\"PagesMenu_Content__ZC6rL\"};","import type { BuilderStateType } from './builder'\n\n//This utility function updates values for chosen section and boxes.\n//It includes values for normal state. hovered and active states.\n//For boxes it also generates drag start values\nexport const updateChosenBoxesAndSectionValues = (newState: Object) => {\n    const styledElement = newState.hoveredElement || newState.activeElement\n    const boxesDragStartValues = []\n\n    newState.chosenBoxesValues = {}\n    newState.chosenBoxes.forEach(box => {\n        mergeValuesOfChosenBoxes(newState[box], newState.chosenBoxesValues)\n        boxesDragStartValues.push({\n            box,\n            width: newState[box].width,\n            height: newState[box].height,\n            left: newState[box].left,\n            right: newState[box].right,\n            top: newState[box].top,\n            bottom: newState[box].bottom,\n        })\n    })\n\n    const chosenBoxesValuesStyled = {}\n    if (styledElement) {\n        const endPath = newState.hoveredElement\n            ? `_${styledElement}_hover`\n            : `_${styledElement}_active`\n\n        newState.chosenBoxes.forEach((box, index) => {\n            const fullPath = box + endPath\n            if (newState[fullPath]) {\n                mergeValuesOfChosenBoxes(\n                    newState[fullPath],\n                    chosenBoxesValuesStyled\n                )\n                boxesDragStartValues[index] = {\n                    ...boxesDragStartValues[index],\n                    ...newState[fullPath],\n                }\n            }\n        })\n    }\n    newState.chosenBoxesValues = {\n        ...newState.chosenBoxesValues,\n        ...chosenBoxesValuesStyled,\n    }\n    newState.boxesDragStartValues = boxesDragStartValues\n\n    newState.chosenSectionValue = { ...newState[newState.chosenSection] }\n\n    if (styledElement) {\n        const style =\n            newState[\n                `${newState.chosenSection}_${styledElement}_${\n                    newState.hoveredElement ? 'hover' : 'active'\n                }`\n            ]\n        if (newState[style]) {\n            newState.chosenSectionValue = {\n                ...newState.chosenSectionValue,\n                ...newState[style],\n            }\n        }\n    }\n    return newState\n}\n\nexport const mergeValuesOfChosenBoxes = (source: Object, result: Object) => {\n    for (const attr in source) {\n        if (result[attr] === undefined) {\n            result[attr] = source[attr]\n        } else if (result[attr] !== source[attr]) {\n            result[attr] = false\n        }\n    }\n    return result\n}\n\nexport const changeElementPropertyValue = (state: Object, action: Object) => {\n    const updatedElements = {}\n\n    const getUpdatedElement = (state, action, el) => {\n        if (!state.hoveredElement && !state.activeElement) {\n            updatedElements[el] = { ...state[el] }\n            updatedElements[el][action.key] = action.value\n        } else {\n            const key = state.hoveredElement\n                ? `${el}_${state.hoveredElement}_hover`\n                : `${el}_${state.activeElement}_active`\n            if (!state[el].styles.includes(key)) {\n                updatedElements[el] = {\n                    ...state[el],\n                    styles: [...state[el].styles, key],\n                }\n            }\n            updatedElements[key] = {\n                ...state[key],\n                influencer: state.hoveredElement,\n                styleType: state.hoveredElement ? 'hover' : 'active',\n            }\n            updatedElements[key][action.key] = action.value\n        }\n    }\n\n    if (!action.isSection) {\n        state.chosenBoxes.forEach(box => {\n            getUpdatedElement(state, action, box)\n        })\n    } else {\n        getUpdatedElement(state, action, state.chosenSection)\n    }\n\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        changed: true,\n        ...updatedElements,\n    })\n}\n\nexport const changeElementPropertyValues = (state: Object, action: Object) => {\n    const updatedElements = {}\n\n    const getUpdatedElement = (state, el, values) => {\n        if (!state.hoveredElement && !state.activeElement) {\n            updatedElements[el] = { ...state[el] }\n            values.forEach(value => {\n                updatedElements[el][value.key] = value.value\n            })\n        } else {\n            const key = state.hoveredElement\n                ? `${el}_${state.hoveredElement}_hover`\n                : `${el}_${state.activeElement}_active`\n            if (!state[el].styles.includes(key)) {\n                updatedElements[el] = {\n                    ...state[el],\n                    styles: [...state[el].styles, key],\n                }\n            }\n            updatedElements[key] = {\n                ...state[key],\n                influencer: state.hoveredElement,\n                styleType: state.hoveredElement ? 'hover' : 'active',\n            }\n            values.forEach(value => {\n                updatedElements[key][value.key] = value.value\n            })\n        }\n    }\n\n    if (!action.isSection) {\n        action.items.forEach(item => {\n            getUpdatedElement(state, item.item, item.values)\n        })\n    }\n\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        changed: true,\n        ...updatedElements,\n    })\n}\n\nexport const deselectElements = (state: Object) =>\n    updateChosenBoxesAndSectionValues({\n        ...state,\n        chosenBoxes: [],\n        chosenSection: null,\n        enteredBoxes: [],\n        chosenBoxesValues: {},\n    })\n\nexport const deselectInner = (state: Object, action: Object) => {\n    const enteredBoxes = []\n    if (state[action.item].type !== 'section') {\n        enteredBoxes.push(action.item)\n        let box = state[action.item].parent\n        while (state[box].type !== 'section') {\n            enteredBoxes.push(box)\n            box = state[box].parent\n        }\n    }\n    const chosenBoxes = []\n    if (enteredBoxes.length > 0) {\n        if (['text', 'menu'].includes(state[enteredBoxes[0]].type)) {\n            chosenBoxes.push(enteredBoxes[0])\n        }\n    }\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        chosenBoxes: chosenBoxes,\n        enteredBoxes: enteredBoxes,\n    })\n}\n\nexport const generateIncomeIds = (\n    state: BuilderStateType,\n    elements: Array<string>,\n    incomeIds: Array<string>\n) => {\n    elements.forEach(el => {\n        incomeIds.push(el)\n        generateIncomeIds(state, state[el].children, incomeIds)\n    })\n}\n\nexport const getElementsToAdd = (\n    state: BuilderStateType,\n    elements: Array<string>,\n    firstLayerElements: ?Array<string>,\n    newElementsObj: Object,\n    parent?: { children: Array<string> },\n    parentId?: ?string,\n    stateId?: ?{ currentId: string },\n    idsObj: Object\n) => {\n    if (firstLayerElements) {\n        const incomeIds = []\n        generateIncomeIds(state, elements, incomeIds)\n        idsObj = {}\n        incomeIds.forEach(id => {\n            let newId\n            if (!stateId) {\n                newId = `element_${state.currentId}`\n                state.currentId += 1\n            } else {\n                newId = `element_${stateId.currentId}`\n                stateId.currentId += 1\n            }\n            idsObj[id] = newId\n        })\n        newElementsObj = {}\n    }\n    elements.forEach(element => {\n        const newId = idsObj[element]\n        const styles = []\n        state[element].styles.forEach(style => {\n            const styleObj = {\n                ...state[style],\n                influencer:\n                    idsObj[state[style].influencer] || state[style].influencer,\n            }\n            const newStyleId = `${newId}_${styleObj.influencer}_${\n                styleObj.styleType\n            }`\n            styles.push(newStyleId)\n            newElementsObj[newStyleId] = styleObj\n        })\n\n        const newElement = {\n            ...state[element],\n            styles,\n            children: [],\n        }\n        if (firstLayerElements) {\n            firstLayerElements.push(newId)\n        } else if (parent) {\n            newElement.parent = parentId\n            parent.children.push(newId)\n        }\n        newElementsObj[newId] = newElement\n        getElementsToAdd(\n            state,\n            state[element].children,\n            null,\n            newElementsObj,\n            newElement,\n            newId,\n            stateId,\n            idsObj\n        )\n    })\n    if (firstLayerElements) {\n        return newElementsObj\n    }\n}\n\nexport const getElementsToDelete = (elements: Array<string>, state: Object) => {\n    let toDelete = []\n    elements.forEach(element => {\n        toDelete.push(element)\n        toDelete = toDelete.concat(\n            getElementsToDelete(state[element].children, state)\n        )\n    })\n    return toDelete\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ToolsSet\":\"ToolsSet_ToolsSet__2fH8M\",\"active\":\"ToolsSet_active__1SdRH\"};","import type { Node } from 'react'\n\ntype Props = {\n    children: Node\n}\n\nconst aux = (props: Props) => props.children;\n\nexport default aux;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoginButton_Button__v7kKN\",\"Success\":\"LoginButton_Success__AHIY3\",\"Danger\":\"LoginButton_Danger__3M_p0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__2bq6P\",\"Link\":\"Logo_Link__2Wwsa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"NavigationItems_NavigationItems__2wvKb\",\"NavigationItemsRight\":\"NavigationItems_NavigationItemsRight__1K95w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItem\":\"NavigationItem_NavigationItem__wRnqj\",\"active\":\"NavigationItem_active__1-dLI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"BigButton_Button__1g1If\",\"Table\":\"BigButton_Table__1lKI0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"Textarea_Div__12L0B\",\"Input\":\"Textarea_Input__3Xh25\",\"StyleControls\":\"Textarea_StyleControls__2SVJR\",\"Wrong\":\"Textarea_Wrong__toXQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"BigButtonWithCheckbox_Button__ln2_n\",\"Table\":\"BigButtonWithCheckbox_Table__1ANBL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItem\":\"NavigationItem_NavigationItem__3M-7z\",\"Active\":\"NavigationItem_Active__Ci00t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cover\":\"PageOnLeaveSaveReminder_Cover__3z2hb\",\"Main\":\"PageOnLeaveSaveReminder_Main__1o7-Y\"};","import React, { Component } from 'react'\nimport type { Node } from 'react'\n\nimport classes from './BigButtonDropDown.module.css'\nimport AUX from '../../../../hoc/Aux'\nimport DropDownMenu from '../../../../hoc/DropDownMenu/DropDownMenu'\nimport Svg from '../../../Svg/Svg'\n\ntype Props = {\n    title: string,\n    icon: string,\n    children?: Node,\n    doNotRebuild?: boolean,\n}\n\ntype State = {\n    isVisible: boolean,\n}\n\nclass BigButtonDropDown extends Component<Props, State> {\n    state = {\n        isVisible: false,\n    }\n\n    handleOpen = () => {\n        this.setState({ isVisible: !this.state.isVisible })\n    }\n\n    handleClose = () => {\n        this.setState({ isVisible: false })\n    }\n\n    render() {\n        return (\n            <AUX>\n                <button\n                    data-testid=\"MyButton\"\n                    className={classes.Button}\n                    onClick={this.handleOpen}\n                >\n                    <table className={classes.Table}>\n                        <tbody>\n                            <tr>\n                                <td>\n                                    <Svg icon={this.props.icon} />\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>{this.props.title}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </button>\n                {this.props.doNotRebuild ? (\n                    <DropDownMenu\n                        close={this.handleClose}\n                        customClass={\n                            this.state.isVisible\n                                ? classes.Visible\n                                : classes.Hidden\n                        }\n                        doNotRebuild={this.props.doNotRebuild}\n                    >\n                        {React.cloneElement(this.props.children, {\n                            close: this.handleClose,\n                        })}\n                    </DropDownMenu>\n                ) : this.state.isVisible ? (\n                    <DropDownMenu close={this.handleClose}>\n                        {React.cloneElement(this.props.children, {\n                            close: this.handleClose,\n                        })}\n                    </DropDownMenu>\n                ) : null}\n            </AUX>\n        )\n    }\n}\n\nexport default BigButtonDropDown\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport type { Node } from 'react'\n\nimport classes from './ToolsSet.module.css'\n\ntype Props = {\n    activeTopMenuItem: 'sections' | 'boxes' | 'text',\n    children: Node,\n    title: 'sections' | 'boxes' | 'text',\n    isActive: ?boolean,\n}\n\nexport const ToolsSet = (props: Props) => {\n    return (\n        <table\n            data-testid=\"table\"\n            className={\n                props.activeTopMenuItem === props.title || props.isActive\n                    ? [classes.ToolsSet, classes.active].join(' ')\n                    : classes.ToolsSet\n            }\n        >\n            <tbody>\n                <tr>{props.children}</tr>\n            </tbody>\n        </table>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        activeTopMenuItem: state.topMenu.activeTopMenuItem,\n    }\n}\n\nexport default connect(mapStateToProps)(ToolsSet)\n","import { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\nexport default DragDropContext(HTML5Backend)\n","import React from 'react';\n\nimport classes from './LoginInput.module.css';\n\ntype Props = {\n    invalid?: boolean,\n    shouldValidate?: boolean,\n    touched?: boolean,\n    type: 'text' | 'password',\n    passwordVisible?: boolean,\n    password?: boolean,\n    togglePasswordVisible?: Function,\n    changed: Function,\n    value?: string,\n    placeholder?: string,\n    label?: string,\n    datatestid?: string\n}\n\nconst LoginInput = (props: Props) => {\n    const inputClasses = [classes.InputElement];\n\n    if (props.invalid && props.shouldValidate && props.touched) {\n        inputClasses.push(classes.Invalid);\n    }\n    let type = props.type;\n    if(props.passwordVisible) {\n        type = 'text';\n    }\n\n    const passwordToggle = props.password ? \n        <div\n            data-testid=\"toggle\"\n            onClick={props.togglePasswordVisible} \n            className={props.passwordVisible ? classes.PasswordIsVisible : classes.PasswordIsHidden}/>\n        : null;\n\n    return (\n        <div className={classes.Input}>\n            <label className={classes.Label}>{props.label}</label>\n            <input \n                data-testid={props.datatestid || \"loginInput\"}\n                className={inputClasses.join(' ')}                \n                type={type}\n                placeholder={props.placeholder}\n                value={props.value}\n                onChange={props.changed} />\n            {passwordToggle}\n        </div>\n    );\n};\n\nexport default LoginInput;","import React from 'react';\n\nimport classes from './BigButtonWithCheckbox.module.css';\nimport Svg from '../../../Svg/Svg';\n\ntype Props = {\n    title: string,\n    checked?: boolean,\n    icon?: string,\n    clicked: Function\n}\n\nexport const BigButtonWithCheckbox = (props: Props) => {\n    return (\n        <button \n            data-testid=\"MyButton\"\n            className={classes.Button}\n            onClick={props.clicked}>\n            <table className={classes.Table}>\n                <tbody>\n                    <tr>\n                        <td><Svg icon={props.icon}/></td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <input \n                                data-testid=\"checkbox\"\n                                type=\"checkbox\" \n                                onChange={() => {}}\n                                checked={props.checked || false} /> \n                            {props.title}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </button>\n    );\n};\n\nexport default BigButtonWithCheckbox;","import React from 'react';\n\ntype Props = {\n    className?: string,\n    icon: ?string,\n    datatestid?: string\n}\n\ntype Element = {\n    type: string, \n    children: Array<Element>, \n    fill: string, \n    d: string\n}\n\nexport const Svg = (props: Props) => {\n\n    const svgStringToObj = (svg: string): Object => {\n        const obj = [];\n\n        const stack = [];\n\n        while (svg.length > 0){\n            svg = svg.trim();\n            if(svg.indexOf('</') === 0) {\n                svg = svg.substring(2);\n                if(svg.indexOf('<') > 0){\n                    svg = svg.substring(svg.indexOf('<'));\n                    stack.pop();\n                } else {\n                    svg = '';\n                }\n            } else {\n                svg = svg.substring(svg.indexOf('<'));\n                const curObj = {\n                    type: svg.substring(1, svg.indexOf(' ')),\n                    children: []\n                };\n                svg = svg.substring(svg.indexOf(' '));\n                let attr = svg.substring(0, svg.indexOf('>'));\n                let selfclosing = attr.indexOf('/>') >= 0;\n                \n                svg = svg.substring(svg.indexOf('>') + 1).trim();\n                while (attr.length > 0) {\n                    let key = attr.substring(0, attr.indexOf('=')).trim();\n                    attr = attr.substring(attr.indexOf('\"') + 1);\n                    let value = attr.substring(0, attr.indexOf('\"')).trim();\n                    attr = attr.substring(attr.indexOf('\"') + 1).trim();\n                    curObj[key] = value;\n                }\n                if (stack.length === 0) {\n                    obj.push(curObj)\n                } else {\n                    stack[stack.length - 1].children.push(curObj);\n                }\n                if(!selfclosing) {\n                    stack.push(curObj);\n                }\n            }\n        }\n        return obj[0];\n    }\n\n    const svgChildrenToElements = (element: Element, elementIndex: number) => {\n        switch (element.type) {\n            case 'path':;\n                return <path\n                        key={elementIndex} \n                        d={element.d}\n                        fill={element.fill}>\n                        {element.children.map( (el: Element, index) => \n                            svgChildrenToElements(el, index)\n                        )}\n                    </path>;\n            case 'g':\n                return <g\n                        key={elementIndex}\n                        fill={element.fill}>\n                        {element.children.map( (el: Element, index) => \n                            svgChildrenToElements(el, index)\n                        )}\n                    </g>;\n            default:\n                return;\n\n        }\n    }\n\n    let result = null;\n    if (props.icon) {\n        const objectSvg = svgStringToObj(props.icon);\n\n        result = <svg \n                data-testid={props.datatestid || 'svg'}\n                height={objectSvg.height}\n                width={objectSvg.width}\n                viewBox={objectSvg.viewBox}\n                className={props.className}>\n                {objectSvg.children.map( (element, index) => \n                    svgChildrenToElements(element, index)\n                )}\n            </svg>;\n    }\n    return result;\n};\n\nexport default Svg;","export const BoxInner = {\n    outline: 'none',\n    overflow: 'auto',\n    position: 'absolute',\n    left: '0px',\n    right: '0px',\n    top: '0px',\n    bottom: '0px',\n    display: 'block',\n    userSelect: 'none',\n}\n\nexport const BoxMapIframe = {\n    width: '100%',\n    height: '100%',\n    border: '0',\n    position: 'absolute',\n    left: '0px',\n    top: '0px',\n}\n","export const BoxDrag = {\n  position: 'absolute',\n  left: '0px',\n  top: '0px',\n  bottom: '0px',\n  right: '0px',\n  cursor: 'default',\n  zIndex: '16777270',\n  display: 'block',\n};\n\nexport const BoxResizeLeft = {\n  display: 'block',\n  position: 'absolute',\n  left: '-10px',\n  top: 'calc(50% - 10px)',\n  background: 'rgb(169, 215, 232)',\n  border: '1px solid grey',\n  cursor: 'w-resize',\n  width: '20px',\n  height: '20px',\n  zIndex: '16777270',\n  borderRadius: '20px',\n  boxSizing: 'border-box',\n};\n\nexport const BoxResizeRight = {\n  display: 'block',\n  position: 'absolute',\n  right: '-10px',\n  top: 'calc(50% - 10px)',\n  background: 'rgb(169, 215, 232)',\n  border: '1px solid grey',\n  cursor: 'e-resize',\n  width: '20px',\n  height: '20px',\n  zIndex: '16777270',\n  borderRadius: '20px',\n  boxSizing: 'border-box',\n};\n\nexport const BoxResizeTop = {\n  display: 'block',\n  position: 'absolute',\n  top: '-10px',\n  left: 'calc(50% - 10px)',\n  background: 'rgb(169, 215, 232)',\n  border: '1px solid grey',\n  cursor: 'n-resize',\n  width: '20px',\n  height: '20px',\n  zIndex: '16777270',\n  borderRadius: '20px',\n  boxSizing: 'border-box',\n};\n\nexport const BoxResizeBottom = {\n  display: 'block',\n  position: 'absolute',\n  bottom: '-10px',\n  left: 'calc(50% - 10px)',\n  background: 'rgb(169, 215, 232)',\n  border: '1px solid grey',\n  cursor: 's-resize',\n  width: '20px',\n  height: '20px',\n  zIndex: '16777270',\n  borderRadius: '20px',\n  boxSizing: 'border-box',\n};\n","export const dragStart = (e: SyntheticMouseEvent<>, callbackMove: Object, callbackStop: Object) => {\n    // $FlowFixMe\n    const window = document.getElementById('builderFrame').contentWindow;\n    const startMouseX = e.pageX;\n    const startMouseY = e.pageY;\n    let prevMouseX = e.pageX; \n    let prevMouseY = e.pageY;\n\n    const dragMouseMove = e => {\n        const totalDifX = e.pageX - startMouseX;\n        const totalDifY = e.pageY - startMouseY;\n        const relDifX = e.pageX - prevMouseX;\n        const relDifY = e.pageY - prevMouseY;\n        prevMouseX = e.pageX; \n        prevMouseY = e.pageY;\n        callbackMove(totalDifX, totalDifY, relDifX, relDifY);\n    };\n\n    const dragMouseUp = () => {\n        window.removeEventListener('mousemove', dragMouseMove);\n        window.removeEventListener('mouseup', dragMouseUp);\n        callbackStop();\n    }\n\n    window.addEventListener('mousemove', dragMouseMove);\n    window.addEventListener('mouseup', dragMouseUp);\n}\n\n","export const updateScrElPos = (selectedBoxes: Array<string>): Array<Object> => {\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const scrElPos = []\n    const rect = frameDoc.body.getBoundingClientRect()\n    const top = rect.top\n    const bottom = rect.bottom\n    const left = rect.left\n    const right = rect.right\n    const keyElements = frameDoc.getElementsByName('keyElement')\n    ;[...keyElements].forEach(element => {\n        if (selectedBoxes.indexOf(element.id) < 0) {\n            let isDecedant = false\n            selectedBoxes.forEach(box => {\n                isDecedant =\n                    frameDoc.getElementById(box).contains(element) || isDecedant\n            })\n            if (!isDecedant) {\n                //if(d.els[i].type!=\"align\") {\n                const elRect = element.getBoundingClientRect()\n                const n = {\n                    element,\n                    t: elRect.top,\n                    l: elRect.left,\n                    r: elRect.right,\n                    b: elRect.bottom,\n                    h: (elRect.bottom - elRect.top) / 2 + elRect.top,\n                    v: (elRect.right - elRect.left) / 2 + elRect.left,\n                }\n\n                if (\n                    ((n.t > top && n.t < bottom) ||\n                        (n.b > top && n.b < bottom) ||\n                        (n.t < top && n.b > top) ||\n                        (n.b > bottom && n.t < bottom)) &&\n                    ((n.l > left && n.l < right) ||\n                        (n.r > left && n.r < right) ||\n                        (n.l < left && n.r > left) ||\n                        (n.r > right && n.l < right))\n                ) {\n                    scrElPos.push(n)\n                }\n\n                // } else {\n                // var r=d.els[i].outerDiv.getBoundingClientRect();\n                // n.t=r.top;\n                // n.type=\"hal\";\n                // scrElPos.push(n);\n                // }\n            }\n        }\n    })\n    return scrElPos\n}\n\nexport const magnetizeOnElementDrag = (\n    scrElPos: Array<Object>,\n    dragType: string,\n    elementId: string,\n    left: ?number,\n    right: ?number,\n    top: ?number,\n    bottom: ?number,\n    difH: number,\n    difV: number,\n    lastMagneticChangeX: ?number,\n    lastMagneticChangeY: ?number\n) => {\n    let changeX = 0\n    let changeY = 0\n    // $FlowFixMe\n    const rect = document\n        .getElementById('builderFrame')\n        .contentWindow.document.getElementById(elementId)\n        .getBoundingClientRect()\n    const newLeft = rect.left + difH + lastMagneticChangeX\n    const newRight = rect.right + difH + lastMagneticChangeX\n    const newVMiddle = newLeft + (newRight - newLeft) / 2\n    const newTop = rect.top + difV + lastMagneticChangeY\n    const newBottom = rect.bottom + difV + lastMagneticChangeY\n    const newHMiddle = newTop + (newBottom - newTop) / 2\n    let horM,\n        horCl,\n        horT = '',\n        verM,\n        verCl,\n        verT = '',\n        hor,\n        ver\n    let highlightElementH, highlightLineH, highlightElementV, highlightLineV\n\n    scrElPos.forEach(c => {\n        if (c.type !== 'hal') {\n            if (c.type !== 'val')\n                hor = Math.min(\n                    Math.abs(newTop - c.t),\n                    Math.abs(newBottom - c.b),\n                    Math.abs(newTop - c.b),\n                    Math.abs(newBottom - c.t),\n                    Math.abs(newTop - c.h),\n                    Math.abs(newBottom - c.h),\n                    Math.abs(newHMiddle - c.t),\n                    Math.abs(newHMiddle - c.h),\n                    Math.abs(newHMiddle - c.b)\n                )\n            else hor = 0\n            if (dragType === 'left' || dragType === 'drag') {\n                if (Math.abs(newLeft - c.l) < 5) {\n                    if (!horCl || (horCl && hor < horM)) {\n                        horM = hor\n                        horCl = c\n                        horT = 'll'\n                    }\n                }\n                if (c.type !== 'val') {\n                    if (Math.abs(newLeft - c.v) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'lv'\n                        }\n                    }\n                    if (Math.abs(newLeft - c.r) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'lr'\n                        }\n                    }\n                }\n            }\n            if (dragType === 'right' || dragType === 'drag') {\n                if (Math.abs(newRight - c.l) < 5) {\n                    if (!horCl || (horCl && hor < horM)) {\n                        horM = hor\n                        horCl = c\n                        horT = 'rl'\n                    }\n                }\n                if (c.type !== 'val') {\n                    if (Math.abs(newRight - c.v) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'rv'\n                        }\n                    }\n                    if (Math.abs(newRight - c.r) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'rr'\n                        }\n                    }\n                }\n            }\n            if (dragType === 'drag') {\n                if (Math.abs(newVMiddle - c.l) < 5) {\n                    if (!horCl || (horCl && hor < horM)) {\n                        horM = hor\n                        horCl = c\n                        horT = 'vl'\n                    }\n                }\n                if (c.type !== 'val') {\n                    if (Math.abs(newVMiddle - c.v) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'vv'\n                        }\n                    }\n                    if (Math.abs(newVMiddle - c.r) < 5) {\n                        if (!horCl || (horCl && hor < horM)) {\n                            horM = hor\n                            horCl = c\n                            horT = 'vr'\n                        }\n                    }\n                }\n            }\n        }\n        if (c.type !== 'val') {\n            if (c.type !== 'hal')\n                ver = Math.min(\n                    Math.abs(newLeft - c.l),\n                    Math.abs(newRight - c.r),\n                    Math.abs(newLeft - c.r),\n                    Math.abs(newRight - c.l),\n                    Math.abs(newLeft - c.v),\n                    Math.abs(newRight - c.v),\n                    Math.abs(newVMiddle - c.l),\n                    Math.abs(newVMiddle - c.v),\n                    Math.abs(newVMiddle - c.r)\n                )\n            else ver = 0\n            if (dragType === 'top' || dragType === 'drag') {\n                if (Math.abs(newTop - c.t) < 5) {\n                    if (!verCl || (verCl && ver < verM)) {\n                        verM = ver\n                        verCl = c\n                        verT = 'tt'\n                    }\n                }\n                if (c.type !== 'hal') {\n                    if (Math.abs(newTop - c.h) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'th'\n                        }\n                    }\n                    if (Math.abs(newTop - c.b) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'tb'\n                        }\n                    }\n                }\n            }\n            if (dragType === 'bottom' || dragType === 'drag') {\n                if (Math.abs(newBottom - c.t) < 5) {\n                    if (!verCl || (verCl && ver < verM)) {\n                        verM = ver\n                        verCl = c\n                        verT = 'bt'\n                    }\n                }\n                if (c.type !== 'hal') {\n                    if (Math.abs(newBottom - c.h) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'bh'\n                        }\n                    }\n                    if (Math.abs(newBottom - c.b) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'bb'\n                        }\n                    }\n                }\n            }\n            if (dragType === 'drag') {\n                if (Math.abs(newHMiddle - c.t) < 5) {\n                    if (!verCl || (verCl && ver < verM)) {\n                        verM = ver\n                        verCl = c\n                        verT = 'ht'\n                    }\n                }\n                if (c.type !== 'hal') {\n                    if (Math.abs(newHMiddle - c.h) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'hh'\n                        }\n                    }\n                    if (Math.abs(newHMiddle - c.b) < 5) {\n                        if (!verCl || (verCl && ver < verM)) {\n                            verM = ver\n                            verCl = c\n                            verT = 'hb'\n                        }\n                    }\n                }\n            }\n        }\n    })\n\n    if (horCl) {\n        var p = [\n            { n: 'll', k: newLeft, h: horCl.l, c: 1, s: left },\n            { n: 'lv', k: newLeft, h: horCl.v, c: 1, s: left },\n            { n: 'lr', k: newLeft, h: horCl.r, c: 1, s: left },\n            { n: 'rl', k: newRight, h: horCl.l, c: -1, s: right },\n            { n: 'rv', k: newRight, h: horCl.v, c: -1, s: right },\n            { n: 'rr', k: newRight, h: horCl.r, c: -1, s: right },\n            { n: 'vl', k: newVMiddle, h: horCl.l },\n            { n: 'vv', k: newVMiddle, h: horCl.v },\n            { n: 'vr', k: newVMiddle, h: horCl.r },\n        ]\n        p.forEach(g => {\n            if (horT === g.n) {\n                changeX = g.k - g.h\n\n                if (dragType === 'drag') {\n                    if (left) left = left - (g.k - g.h)\n                    if (right) right = right + (g.k - g.h)\n                } else {\n                    if (left) {\n                        left = left - (g.k - g.h)\n                    } else {\n                        right = right + (g.k - g.h)\n                    }\n                }\n            }\n        })\n\n        highlightElementH = {\n            width: horCl.r - horCl.l,\n            height: horCl.b - horCl.t,\n            left: horCl.l,\n            top: horCl.t,\n        }\n        highlightLineH = {\n            width: 1,\n            top: Math.min(newTop, horCl.t),\n            height: Math.max(newBottom, horCl.b) - Math.min(newTop, horCl.t),\n            left: 0,\n        }\n\n        switch (horT) {\n            case 'll':\n                highlightLineH.left = horCl.l - 1\n                break\n            case 'lv':\n                highlightLineH.left = horCl.l + (horCl.r - horCl.l) / 2 - 1\n                break\n            case 'lr':\n                highlightLineH.left = horCl.r\n                break\n            case 'rl':\n                highlightLineH.left = horCl.l - 1\n                break\n            case 'rv':\n                highlightLineH.left = horCl.l + (horCl.r - horCl.l) / 2\n                break\n            case 'rr':\n                highlightLineH.left = horCl.r\n                break\n            case 'vl':\n                highlightLineH.left = horCl.l - 1\n                break\n            case 'vv':\n                highlightLineH.left = horCl.l + (horCl.r - horCl.l) / 2\n                break\n            case 'vr':\n                highlightLineH.left = horCl.r\n                break\n            default:\n                highlightLineH.left = horCl.l - 1\n        }\n    }\n\n    if (verCl) {\n        let p = [\n            { n: 'tt', k: newTop, h: verCl.t, c: 1, s: top },\n            { n: 'th', k: newTop, h: verCl.h, c: 1, s: top },\n            { n: 'tb', k: newTop, h: verCl.b, c: 1, s: top },\n            { n: 'bt', k: newBottom, h: verCl.t, c: -1, s: bottom },\n            { n: 'bh', k: newBottom, h: verCl.h, c: -1, s: bottom },\n            { n: 'bb', k: newBottom, h: verCl.b, c: -1, s: bottom },\n            { n: 'ht', k: newHMiddle, h: verCl.t },\n            { n: 'hh', k: newHMiddle, h: verCl.h },\n            { n: 'hb', k: newHMiddle, h: verCl.b },\n        ]\n        p.forEach(g => {\n            if (verT === g.n) {\n                changeY = g.k - g.h\n\n                if (dragType === 'drag') {\n                    if (top) top = top - (g.k - g.h)\n                    if (bottom) bottom = bottom + (g.k - g.h)\n                } else {\n                    if (top) {\n                        top = top - (g.k - g.h)\n                    } else {\n                        bottom = bottom + g.k - g.h\n                    }\n                }\n            }\n        })\n\n        highlightElementV = {\n            width: verCl.r - verCl.l,\n            height: verCl.b - verCl.t,\n            left: verCl.l,\n            top: verCl.t,\n        }\n        highlightLineV = {\n            height: 1,\n            left: Math.min(newLeft, verCl.l),\n            width: Math.max(newRight, verCl.r) - Math.min(newLeft, verCl.l),\n            top: 0,\n        }\n\n        switch (verT) {\n            case 'tt':\n                highlightLineV.top = verCl.t - 1\n                break\n            case 'th':\n                highlightLineV.top = verCl.t + (verCl.b - verCl.t) / 2 - 1\n                break\n            case 'tb':\n                highlightLineV.top = verCl.b\n                break\n            case 'bt':\n                highlightLineV.top = verCl.t - 1\n                break\n            case 'bh':\n                highlightLineV.top = verCl.t + (verCl.b - verCl.t) / 2\n                break\n            case 'bb':\n                highlightLineV.top = verCl.b\n                break\n            case 'ht':\n                highlightLineV.top = verCl.t - 1\n                break\n            case 'hh':\n                highlightLineV.top = verCl.t + (verCl.b - verCl.t) / 2\n                break\n            case 'hb':\n                highlightLineV.top = verCl.b\n                break\n            default:\n                highlightLineV.top = verCl.t - 1\n        }\n    }\n\n    return {\n        left,\n        right,\n        top,\n        bottom,\n        changeX,\n        changeY,\n        highlightElementH,\n        highlightLineH,\n        highlightElementV,\n        highlightLineV,\n    }\n}\n","export const HighlightLine = {\n    background: '#ff03be',\n    position: 'fixed',\n    zIndex: '16777269',\n}\n\nexport const HighlightElement = {\n    outline: '1px solid #ff03be',\n    position: 'fixed',\n    zIndex: '16777269',\n    background: 'transparent',\n}\n","/*\n    This creates a line and highlights the element that is magnetized to on box drag\n    It is used for both horizontal and vertical highlights\n*/\n\nimport React from 'react'\n\nimport * as classes from './MagneticDragHighlight.css.js'\nimport AUX from '../../../../hoc/Aux'\n\ntype Props = {\n    line: {\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n    element: {\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n    datatestid?: string,\n}\n\nexport const MagneticDragHighlight = (props: Props) => {\n    console.log(props)\n    return (\n        <AUX>\n            <div\n                data-testid={\n                    props.datatestid\n                        ? `${props.datatestid}_Line`\n                        : 'magnetinLine'\n                }\n                style={{\n                    ...classes.HighlightLine,\n                    width: props.line.width + 'px',\n                    height: props.line.height + 'px',\n                    left: props.line.left + 'px',\n                    top: props.line.top + 'px',\n                }}\n            />\n            <div\n                data-testid={\n                    props.datatestid\n                        ? `${props.datatestid}_Element`\n                        : 'magnetinElement'\n                }\n                style={{\n                    ...classes.HighlightElement,\n                    width: props.element.width + 'px',\n                    height: props.element.height + 'px',\n                    left: props.element.left + 'px',\n                    top: props.element.top + 'px',\n                }}\n            />\n        </AUX>\n    )\n}\n\nexport default MagneticDragHighlight\n","// Combines style of the element including possible influences from hovered or active elements.\n// Returns object with changed styles\n\nexport default (\n    el: Object,\n    styles: Array<Object>,\n    hoveredElement: ?string,\n    activeElement: ?string\n): {\n    mapOuter?: boolean,\n    height?: number,\n    outerBackgroundOn?: boolean,\n    outerBackground?: string,\n    backgroundOn?: boolean,\n    background?: string,\n    width?: number,\n    left?: number,\n    top?: number,\n    zIndex?: number,\n    borderOn?: boolean,\n    borderSize?: number,\n    borderHOffset?: number,\n    borderVOffset?: number,\n    borderBlur?: number,\n    borderInset?: boolean,\n    mapOn?: boolean,\n    mapAddress?: string,\n    mapZoom?: number,\n    mapSatellite?: boolean,\n    borderColor?: string,\n    bottom?: number\n    } => {\n    let styleEl = { ...el }\n    styles.forEach(style => {\n        if (style.type === 'hover' && style.influencer === hoveredElement) {\n            styleEl = {\n                ...styleEl,\n                ...style,\n            }\n        }\n        if (style.type === 'active' && style.influencer === activeElement) {\n            styleEl = {\n                ...styleEl,\n                ...style,\n            }\n        }\n    })\n    return styleEl\n}\n","/*\n    This creates drag controls for box and handles drags.\n    There are 5 controls: drag, left, right, top, bottom.\n    Drag is handled with Dragstart function and magnetize to closest elements\n    Drag can be done on multiple elements. Their start values are imported from reducer in startValues and modified values are passed in valueItems\n*/\n\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './BoxControls.css.js'\nimport * as actions from '../../../store/actions/index'\nimport Aux from '../../../hoc/Aux'\nimport { dragStart } from '../../../utils/dragFunction'\nimport {\n    updateScrElPos,\n    magnetizeOnElementDrag,\n} from '../../../utils/elementMagneticDrag.js'\nimport MagneticDragHighlight from './MagneticDragHighlight/MagneticDragHighlight.js'\nimport getCombinedStyle from '../../../utils/getCombinedStyle'\n\nlet SyntheticMouseEvent\n\ntype Props = {\n    id: string,\n    chosenBoxes: Array<string>,\n    enteredBoxes: Array<string>,\n    box: {\n        type: 'box' | 'text',\n        height: number,\n        width: number,\n        left: number,\n        top: number,\n        zIndex: number,\n        children: Array<string>,\n        parent: string,\n        styles: Array<string>,\n    },\n    hoveredElement: ?string,\n    activeElement: ?string,\n    styles: Array<{\n        type: 'hover' | 'active',\n        influencer: string,\n    }>,\n    startValues: Array<{\n        box: string,\n        width: number,\n        height: number,\n        left: ?number,\n        right: ?number,\n        top: ?number,\n        bottom: ?number,\n    }>,\n    previewIsOn: ?boolean,\n    changedItems: (\n        itemValues: Array<{\n            item: string,\n            values: Array<{ key: string, value: any }>,\n        }>\n    ) => Object,\n    chooseBox: (id: string, ctrl: ?boolean) => Object,\n    enterBox: () => Object,\n    setActiveMenuItem: (item: string) => Object,\n    saveToHistory: () => Object,\n}\n\ntype State = {\n    highlightElementH?: ?{\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n    highlightLineH?: ?{\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n    highlightElementV: ?{\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n    highlightLineV: ?{\n        width: number,\n        height: number,\n        left: number,\n        top: number,\n    },\n}\n\nexport class BoxControls extends Component<Props, State> {\n    // State only keeps data about highlighted elements and lines during graging\n    state = {\n        highlightElementH: null,\n        highlightLineH: null,\n        highlightElementV: null,\n        highlightLineV: null,\n    }\n\n    // Adds currently highlighted element and line to state\n    saveHighlightInState = (newValues: State) => {\n        this.setState({\n            highlightElementH: newValues.highlightElementH,\n            highlightLineH: newValues.highlightLineH,\n            highlightElementV: newValues.highlightElementV,\n            highlightLineV: newValues.highlightLineV,\n        })\n    }\n\n    // Removes currently highlighted element and line to state\n    removeHighlightInState = () => {\n        this.setState({\n            highlightElementH: null,\n            highlightLineH: null,\n            highlightElementV: null,\n            highlightLineV: null,\n        })\n    }\n\n    // Handles start grag in the center of box\n    handleDragMouseDown = (e: SyntheticMouseEvent<>) => {\n        // Event is not propagated up to avoid choosing parent boxes / sections\n        e.stopPropagation()\n        // Get style affected by hovered / active element\n        const styleEl = getCombinedStyle(\n            this.props.box,\n            this.props.styles,\n            this.props.hoveredElement,\n            this.props.activeElement\n        )\n        this.props.chooseBox(this.props.id, e.ctrlKey)\n        let elementsPositions = []\n        const startElX = styleEl.left\n        const startElY = styleEl.top\n        let lastMagneticChangeX = 0\n        let lastMagneticChangeY = 0\n        let hasBeenMoved = false\n        let startValues = []\n        let firstTime = true\n\n        dragStart(\n            e,\n            // Callback function for mouse move\n            (difX, difY, relX, relY) => {\n                // Magnetizes element if the element is close to edges of other elements\n                const newValues = magnetizeOnElementDrag(\n                    elementsPositions,\n                    'drag',\n                    this.props.id,\n                    startElX + difX,\n                    null,\n                    startElY + difY,\n                    null,\n                    relX,\n                    relY,\n                    lastMagneticChangeX,\n                    lastMagneticChangeY\n                )\n\n                lastMagneticChangeX = newValues.changeX\n                lastMagneticChangeY = newValues.changeY\n\n                // Fill variables if the callback is called first time.\n                if (firstTime) {\n                    startValues = [...this.props.startValues]\n                    elementsPositions = updateScrElPos(this.props.chosenBoxes)\n                    firstTime = false\n                }\n                const valueItems = []\n\n                // change values of each element\n                startValues.forEach(startValue => {\n                    valueItems.push({\n                        item: startValue.box,\n                        values: [\n                            {\n                                key: 'left',\n                                value:\n                                    startValue.left +\n                                    difX -\n                                    lastMagneticChangeX,\n                            },\n                            {\n                                key: 'top',\n                                value:\n                                    startValue.top + difY - lastMagneticChangeY,\n                            },\n                        ],\n                    })\n                })\n\n                // Save changes in redux\n                this.props.changedItems(valueItems)\n\n                this.saveHighlightInState(newValues)\n                hasBeenMoved = true\n            },\n            // Callback function for mouse up / spot dragging\n            () => {\n                this.removeHighlightInState()\n                if (hasBeenMoved) {\n                    this.props.saveToHistory()\n                }\n            }\n        )\n    }\n\n    // See comments in dragstart function\n    handleLeftMouseDown = (e: SyntheticMouseEvent<>) => {\n        e.stopPropagation()\n        const styleEl = getCombinedStyle(\n            this.props.box,\n            this.props.styles,\n            this.props.hoveredElement,\n            this.props.activeElement\n        )\n        const startElX = styleEl.left\n        let lastMagneticChangeX = 0\n        let elementsPositions = []\n        let startValues = []\n        let firstTime = true\n\n        dragStart(\n            e,\n            (difX, difY, relX, relY) => {\n                const newValues = magnetizeOnElementDrag(\n                    elementsPositions,\n                    'left',\n                    this.props.id,\n                    startElX + difX,\n                    null,\n                    null,\n                    null,\n                    relX,\n                    relY,\n                    lastMagneticChangeX,\n                    null\n                )\n\n                lastMagneticChangeX = newValues.changeX\n\n                if (firstTime) {\n                    startValues = [...this.props.startValues]\n                    elementsPositions = updateScrElPos(this.props.chosenBoxes)\n                    firstTime = false\n                }\n                const valueItems = []\n                startValues.forEach(startValue => {\n                    let valueW = startValue.width - difX + newValues.changeX\n                    let valueX = startValue.left + difX - lastMagneticChangeX\n                    if (valueW < 5) {\n                        valueX = startValue.left + startValue.width - 5\n                        valueW = 5\n                    }\n\n                    valueItems.push({\n                        item: startValue.box,\n                        values: [\n                            { key: 'left', value: valueX },\n                            { key: 'width', value: valueW },\n                        ],\n                    })\n                })\n                this.props.changedItems(valueItems)\n\n                this.saveHighlightInState(newValues)\n            },\n            () => {\n                this.removeHighlightInState()\n                this.props.saveToHistory()\n            }\n        )\n    }\n\n    // See comments in dragstart function\n    handleTopMouseDown = (e: SyntheticMouseEvent<>) => {\n        e.stopPropagation()\n        const styleEl = getCombinedStyle(\n            this.props.box,\n            this.props.styles,\n            this.props.hoveredElement,\n            this.props.activeElement\n        )\n        const startElY = styleEl.top\n        let lastMagneticChangeY = 0\n        let elementsPositions = []\n        let startValues = []\n        let firstTime = true\n\n        dragStart(\n            e,\n            (difX, difY, relX, relY) => {\n                const newValues = magnetizeOnElementDrag(\n                    elementsPositions,\n                    'top',\n                    this.props.id,\n                    null,\n                    null,\n                    startElY + difY,\n                    null,\n                    relX,\n                    relY,\n                    null,\n                    lastMagneticChangeY\n                )\n\n                lastMagneticChangeY = newValues.changeY\n\n                if (firstTime) {\n                    startValues = [...this.props.startValues]\n                    elementsPositions = updateScrElPos(this.props.chosenBoxes)\n                    firstTime = false\n                }\n                const valueItems = []\n                startValues.forEach(startValue => {\n                    let valueH = startValue.height - difY + newValues.changeY\n                    let valueY = startValue.top + difY - lastMagneticChangeY\n                    if (valueH < 5) {\n                        valueY = startValue.top + startValue.height - 5\n                        valueH = 5\n                    }\n                    valueItems.push({\n                        item: startValue.box,\n                        values: [\n                            { key: 'top', value: valueY },\n                            { key: 'height', value: valueH },\n                        ],\n                    })\n                })\n                this.props.changedItems(valueItems)\n\n                this.saveHighlightInState(newValues)\n            },\n            () => {\n                this.props.saveToHistory()\n                this.removeHighlightInState()\n            }\n        )\n    }\n\n    // See comments in dragstart function\n    handleRightMouseDown = (e: SyntheticMouseEvent<>) => {\n        e.stopPropagation()\n        const styleEl = getCombinedStyle(\n            this.props.box,\n            this.props.styles,\n            this.props.hoveredElement,\n            this.props.activeElement\n        )\n        const startElX = styleEl.left\n        let lastMagneticChangeX = 0\n        let elementsPositions = []\n        let startValues = []\n        let firstTime = true\n\n        dragStart(\n            e,\n            (difX, difY, relX, relY) => {\n                const newValues = magnetizeOnElementDrag(\n                    elementsPositions,\n                    'right',\n                    this.props.id,\n                    null,\n                    startElX + difX,\n                    null,\n                    null,\n                    relX,\n                    relY,\n                    lastMagneticChangeX,\n                    null\n                )\n\n                lastMagneticChangeX = newValues.changeX\n\n                if (firstTime) {\n                    startValues = [...this.props.startValues]\n                    elementsPositions = updateScrElPos(this.props.chosenBoxes)\n                    firstTime = false\n                }\n                const valueItems = []\n                startValues.forEach(startValue => {\n                    let valueW = startValue.width + difX - newValues.changeX\n                    let valueX = startValue.left + difX - lastMagneticChangeX\n                    if (valueW < 5) {\n                        valueW = 5\n                    }\n\n                    valueItems.push({\n                        item: startValue.box,\n                        values: [\n                            { key: 'right', value: valueX },\n                            { key: 'width', value: valueW },\n                        ],\n                    })\n                })\n                this.props.changedItems(valueItems)\n\n                this.saveHighlightInState(newValues)\n            },\n            () => {\n                this.props.saveToHistory()\n                this.removeHighlightInState()\n            }\n        )\n    }\n\n    // See comments in dragstart function\n    handleBottomMouseDown = (e: SyntheticMouseEvent<>) => {\n        e.stopPropagation()\n        const styleEl = getCombinedStyle(\n            this.props.box,\n            this.props.styles,\n            this.props.hoveredElement,\n            this.props.activeElement\n        )\n        const startElY = styleEl.bottom\n        let lastMagneticChangeY = 0\n        let elementsPositions = []\n        let startValues = []\n        let firstTime = true\n\n        dragStart(\n            e,\n            (difX, difY, relX, relY) => {\n                const newValues = magnetizeOnElementDrag(\n                    elementsPositions,\n                    'bottom',\n                    this.props.id,\n                    null,\n                    null,\n                    null,\n                    startElY + difY,\n                    relX,\n                    relY,\n                    null,\n                    lastMagneticChangeY\n                )\n\n                lastMagneticChangeY = newValues.changeY\n\n                if (firstTime) {\n                    startValues = [...this.props.startValues]\n                    elementsPositions = updateScrElPos(this.props.chosenBoxes)\n                    firstTime = false\n                }\n                const valueItems = []\n                startValues.forEach(startValue => {\n                    let valueH = startValue.height + difY - newValues.changeY\n                    let valueY = startValue.top + difY - lastMagneticChangeY\n                    if (valueH < 5) {\n                        valueH = 5\n                    }\n\n                    valueItems.push({\n                        item: startValue.box,\n                        values: [\n                            { key: 'bottom', value: valueY },\n                            { key: 'height', value: valueH },\n                        ],\n                    })\n                })\n                this.props.changedItems(valueItems)\n\n                this.saveHighlightInState(newValues)\n            },\n            () => {\n                this.props.saveToHistory()\n                this.removeHighlightInState()\n            }\n        )\n    }\n\n    handleEnterBox = () => {\n        this.props.enterBox()\n        if (this.props.box.type === 'text') {\n            this.props.setActiveMenuItem('text')\n        } else if (this.props.box.type === 'menu') {\n            this.props.setActiveMenuItem('menu')\n        }\n    }\n\n    render() {\n        // Div covering box for drag. Magnetic highlights can be redered here\n        const drag = !this.props.enteredBoxes.includes(this.props.id) ? (\n            <Aux>\n                <div\n                    data-testid=\"boxCoverDiv\"\n                    style={classes.BoxDrag}\n                    onMouseDown={this.handleDragMouseDown}\n                    onDoubleClick={this.handleEnterBox}\n                />\n                {this.state.highlightLineH && this.state.highlightElementH ? (\n                    <MagneticDragHighlight\n                        datatestid=\"boxMagneticH\"\n                        line={this.state.highlightLineH}\n                        element={this.state.highlightElementH}\n                    />\n                ) : null}\n                {this.state.highlightLineV && this.state.highlightElementV ? (\n                    <MagneticDragHighlight\n                        datatestid=\"boxMagneticV\"\n                        line={this.state.highlightLineV}\n                        element={this.state.highlightElementV}\n                    />\n                ) : null}\n            </Aux>\n        ) : null\n\n        // Drags on the edges\n        const sideDrags =\n            this.props.chosenBoxes.includes(this.props.id) &&\n            !this.props.enteredBoxes.includes(this.props.id) ? (\n                <Aux>\n                    <div\n                        data-testid=\"boxControlsLeft\"\n                        style={classes.BoxResizeLeft}\n                        onMouseDown={this.handleLeftMouseDown}\n                    />\n                    <div\n                        data-testid=\"boxControlsRight\"\n                        style={classes.BoxResizeRight}\n                        onMouseDown={this.handleRightMouseDown}\n                    />\n                    <div\n                        data-testid=\"boxControlsTop\"\n                        style={classes.BoxResizeTop}\n                        onMouseDown={this.handleTopMouseDown}\n                    />\n                    <div\n                        data-testid=\"boxControlsBottom\"\n                        style={classes.BoxResizeBottom}\n                        onMouseDown={this.handleBottomMouseDown}\n                    />\n                </Aux>\n            ) : null\n\n        let controls = (\n            <Aux>\n                {drag}\n                {sideDrags}\n            </Aux>\n        )\n        if (this.props.previewIsOn) {\n            controls = null\n        }\n        return controls\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        chosenBoxes: state.builder.present.chosenBoxes,\n        enteredBoxes: state.builder.present.enteredBoxes,\n        box: state.builder.present[props.id],\n        hoveredElement: state.builder.present.hoveredElement,\n        activeElement: state.builder.present.activeElement,\n        styles: state.builder.present[props.id].styles.map(\n            style => state.builder.present[style]\n        ),\n        startValues: state.builder.present.boxesDragStartValues,\n        previewIsOn: state.builder.present.preview,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changedItems: itemValues =>\n            dispatch(actions.changeElementPropertyValues(true, itemValues)),\n        chooseBox: (id, ctrl) => {\n            dispatch(actions.chooseBox(id, ctrl))\n        },\n        enterBox: () => {\n            dispatch(actions.enterBox())\n        },\n        saveToHistory: () => {\n            dispatch(actions.saveToHistory())\n        },\n        setActiveMenuItem: item => dispatch(actions.setActiveTopMenuItem(item)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BoxControls)\n","import React, { Component } from 'react';\nimport { Editor } from 'slate-react'\nimport { Value } from 'slate'\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../store/actions/index';\n\nconst initialValue = {\n    document: {\n        nodes: [\n            {\n                object: 'block',\n                type: 'paragraph',\n                nodes: [\n                    {\n                        object: 'text',\n                        leaves: [\n                            {\n                                text: 'A line of text in a paragraph.',\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\n\nfunction MarkHotkey(options) {\n    const { type, key } = options\n    return {\n      onKeyDown(event, editor, next) {\n        if (!event.ctrlKey || event.key !== key) return next()\n        event.preventDefault()\n        editor.toggleMark(type)\n      },\n    }\n  }\n\nconst plugins = [\n    MarkHotkey({ key: 'b', type: 'bold' }),\n    MarkHotkey({ key: '`', type: 'code' }),\n    MarkHotkey({ key: 'i', type: 'italic' }),\n    MarkHotkey({ key: '~', type: 'strikethrough' }),\n    MarkHotkey({ key: 'u', type: 'underline' })\n];\n\ntype Props = {\n    value?: {\n        activeMarks: [],\n        marks: [],\n        blocks: [],\n        document: Object\n    },\n    id: string,\n    valueChange: Function,\n    live?: boolean,\n    handleChooseTextEditor: (el: Object) => {},\n    saveChosenTextValues: (values: Object) => {}\n}\n\ntype State = {\n    value: {\n        activeMarks: [],\n        marks: [],\n        blocks: [],\n        document: Object\n    }\n}\n\nclass Text extends Component<Props, State> {\n    state = {\n        value: Value.fromJSON(this.props.value ?\n            typeof this.props.value === 'string' || this.props.value instanceof String ?\n                JSON.parse(this.props.value) \n                : this.props.value\n            : initialValue)\n        //value: Value.fromJSON(this.props.value || initialValue)\n    }\n\n    hasMark = type => {\n        const { value } = this.state;\n        return value.activeMarks.some(mark => mark.type === type);\n    };\n\n    getMark = type => {\n        const { value } = this.state;\n        // $FlowFixMe\n        return value.marks.filter( mark => mark.type === type ).first();\n    };\n\n    removeAllMarks = type => {\n        const { value } = this.state;\n        const marks = value.marks.filter(mark => mark.type === type);\n        marks.forEach( mark => this.editor.removeMark(mark));\n    }\n\n    nodeCreateStyle = data => {\n        return {\n            marginTop: data.has('topSpacing') ? data.get('topSpacing') : null,\n            marginBottom: data.has('bottomSpacing') ? data.get('bottomSpacing') : null,\n            textIndent: data.has('textIndent') ? data.get('textIndent') : null,\n            textAlign: data.has('textAlign') ? data.get('textAlign') : null\n        }\n    }\n\n    doChange = property => {\n        this.editor.focus().toggleMark(property)\n    }\n\n    doChangeInlineStyle = async (property, propertyValue, callback) => {\n        this.removeAllMarks(property);\n        await this.editor.focus()\n        .addMark({\n            type: property,\n            data: { [property]: propertyValue }\n        });\n        callback();\n    }\n\n    doChangeBlockStyle = async (property, propertyValue, callback) => {\n        await this.editor.focus().setBlocks\n\n        const { blocks } = this.state.value;\n        await blocks.forEach( block => {\n            const newBlock = block.set('data', block.data.set(property, propertyValue));\n            this.editor.setBlocks(newBlock);\n        });\n        callback();\n    }\n\n    onChange = async ({ value }) => {\n        if (value.document !== this.state.value.document) {\n            this.props.valueChange([{\n                item: this.props.id,\n                values: [\n                    {   key: 'textContent',\n                        value: value.toJSON()\n                    }\n                ]\n            }]);\n        }\n        this.setState({ value });\n        \n        const values = {};\n\n        await ['italic',\n        'strikethrough',\n        'underline',\n        'sup',\n        'sub'].forEach(async property => {\n            values[property] = await this.hasMark(property);\n        });\n\n        await ['fontSize', \n        'color', \n        'backgroundColor', \n        'fontWeight', \n        'fontFamily',\n        'wordSpacing',\n        'letterSpacing',\n        'lineHeight',\n        'textTransform'].forEach(async property => {\n            const mark = await this.getMark(property);\n            values[property] = mark ? await mark.data.get(property) : '';\n        });\n\n        await Promise.all(['topSpacing',\n        'bottomSpacing',\n        'textIndent',\n        'textAlign'].map(async property => {\n            // $FlowFixMe\n            const sourceBlock = await this.state.value.blocks\n                .filter(async block => await block.data.has(property))\n                .first();\n            if (sourceBlock) {\n                values[property] = await sourceBlock.data.get(property);\n            }\n        }));\n        this.props.saveChosenTextValues(values);\n    }\n    \n    handleClick = () => {\n        this.props.handleChooseTextEditor(this);\n    }\n\n    editor: Object;\n\n    ref = editor => {\n        this.editor = editor;\n        this.props.handleChooseTextEditor(this);\n    };\n    \n\n    render() {\n        console.log(this.state.value);\n        console.log(this.props.value);\n        return (\n            <Editor \n                value={this.state.value} \n                onChange={this.onChange}\n                plugins={plugins}\n                renderMark={this.renderMark}\n                renderNode={this.renderNode}\n                onClick={!this.props.live ? this.handleClick : null}\n                ref={this.ref}\n                decorateNode={this.decorateNode}\n                readOnly={this.props.live ? true : false} />\n        );\n    };\n\n    decorateNode = (node, editor, next) => {\n        return [{\n            anchor: 1,\n            focus: 2,\n            mark: {\n                type: 'fontSize',\n                data: { fontSize: 100 }\n            }\n        }]\n    }\n    renderMark = (props, editor, next) => {\n        const { children, mark } = props\n        switch (mark.type) {\n            case 'code':\n                return <code>{children}</code>\n            case 'italic':\n                return <em>{children}</em>\n            case 'strikethrough':\n                return <del>{children}</del>\n            case 'underline':\n                return <u>{children}</u>\n            case 'sup':\n                return <sup>{children}</sup>\n            case 'sub':\n                return <sub>{children}</sub>\n            case 'fontSize':\n                return <span style={{fontSize: mark.data.get('fontSize') + 'px'}}>{children}</span>;\n            case 'color':\n                return <span style={{color: mark.data.get('color')}}>{children}</span>;\n            case 'backgroundColor':\n                return <span style={{backgroundColor: mark.data.get('backgroundColor')}}>{children}</span>;\n            case 'fontWeight':\n                return <span style={{fontWeight: mark.data.get('fontWeight')}}>{children}</span>;\n            case 'fontFamily':\n                return <span style={{fontFamily: mark.data.get('fontFamily')}}>{children}</span>;\n            case 'wordSpacing':\n                return <span style={{wordSpacing: mark.data.get('wordSpacing') + 'px'}}>{children}</span>;\n            case 'letterSpacing':\n                return <span style={{letterSpacing: mark.data.get('letterSpacing') + 'px'}}>{children}</span>;\n            case 'lineHeight':\n                return <span style={{lineHeight: mark.data.get('lineHeight') + 'px'}}>{children}</span>;\n            case 'textTransform':\n                return <span style={{textTransform: mark.data.get('textTransform')}}>{children}</span>;\n            default:\n                return next()\n        }\n    }\n\n    renderNode = (props, editor, next) => {\n        const { attributes, children, node } = props\n        switch (node.type) {\n            case 'paragraph':\n                return <p style={this.nodeCreateStyle(node.data)} {...attributes}>{children}</p>\n            case 'block-quote':\n                return <blockquote {...attributes}>{children}</blockquote>\n            case 'bulleted-list':\n                return <ul {...attributes}>{children}</ul>\n            case 'heading-one':\n                return <h1 {...attributes}>{children}</h1>\n            case 'heading-two':\n                return <h2 {...attributes}>{children}</h2>\n            case 'list-item':\n                return <li {...attributes}>{children}</li>\n            case 'numbered-list':\n                return <ol {...attributes}>{children}</ol>\n            default:\n                return next()\n        }\n    }\n};\n\nconst mapStateToProps = (state, props) => {\n    return {\n        value: state.builder.present[props.id].textContent\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        valueChange: values => dispatch(actions.changeElementPropertyValues(true, values)),\n        saveChosenTextValues: values => dispatch(actions.updateTextValues(values))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Text);","export const MenuWrap = {\n    display: 'flex',\n    alignItems: 'top',\n    justifyContent: 'left',\n}\n\nexport const A = {\n    textDecoration: 'none',\n    color: 'inherit',\n}\n","import { isEqual } from 'lodash'\n\nexport const findDecedants = (\n    items: Array<{ path: Array<string> }>,\n    id: string\n): Array<{ path: Array<string> }> => {\n    return items.filter(item =>\n        item.path.some(element => element.toString() === id.toString())\n    )\n}\n\nexport const findDirectChildren = (\n    items: Array<{ path: Array<string> }>,\n    id: string\n): Array<{ path: Array<string> }> => {\n    const elements = items.filter(item => item.id === id)\n    if (elements.length !== 1) {\n        return []\n    } else {\n        return items.filter(item =>\n            isEqual(item.path, [...elements[0].path, id])\n        )\n    }\n}\n","import React from 'react'\nimport { Global } from '@emotion/core'\nimport _ from 'lodash'\nimport { connect } from 'react-redux'\n// import * as actions from '../../../../store/actions/index'\nimport RCMenu, { SubMenu, MenuItem } from 'rc-menu'\nimport * as classes from './Menu.css.js'\nimport { string } from 'prop-types'\nimport { findDirectChildren } from '../../../../utils/pagesStructure.js'\n\ntype Props = {\n    document: {},\n    id: string,\n    box: {\n        menuColorTopNormal: string,\n        menuColorTopHover: string,\n        menuColorTopActive: string,\n        menuColorDDNormal: string,\n        menuColorDDHover: string,\n        menuColorDDActive: string,\n        menuSpaceBetweenTopNormal: number,\n        menuLeftPaddingTopNormal: number,\n        menuTopPaddingTopNormal: number,\n        menuRightPaddingTopNormal: number,\n        menuBottomPaddingTopNormal: number,\n        menuSpaceBetweenDDNormal: number,\n        menuLeftPaddingDDNormal: number,\n        menuTopPaddingDDNormal: number,\n        menuRightPaddingDDNormal: number,\n        menuBottomPaddingDDNormal: number,\n        menuOrientation: 'horizontal' | 'vertical',\n        menuXOffsetTopNormal: number,\n        menuYOffsetTopNormal: number,\n        menuWidthFlexibleTopNormal: boolean,\n        menuWidthTopNormal: number,\n        menuWidthFlexibleDDNormal: boolean,\n        menuWidthDDNormal: number,\n        menuHeightFlexibleTopNormal: boolean,\n        menuHeightTopNormal: number,\n        menuHeightFlexibleDDNormal: boolean,\n        menuHeightDDNormal: number,\n        menuFontSizeTopNormal: number,\n        menuFontColorTopNormal: string,\n        menuFontHighlightTopNormal: string,\n        menuFontFamilyTopNormal: string,\n        menuFontItalicTopNormal: boolean,\n        menuFontUnderlineTopNormal: boolean,\n        menuFontStrikethroughTopNormal: boolean,\n        menuFontOverlineTopNormal: boolean,\n        menuFontTransformTopNormal: string,\n        menuLetterSpacingTopNormal: number,\n        menuWordSpacingTopNormal: number,\n        menuFontColorTopHover: string,\n        menuFontHighlightTopHover: string,\n        menuFontUnderlineTopHover: boolean,\n        menuFontStrikethroughTopHover: boolean,\n        menuFontOverlineTopHover: boolean,\n        menuFontColorTopActive: string,\n        menuFontHighlightTopActive: string,\n        menuFontUnderlineTopActive: boolean,\n        menuFontStrikethroughTopActive: boolean,\n        menuFontOverlineTopActive: boolean,\n        menuFontSizeDDNormal: number,\n        menuFontColorDDNormal: string,\n        menuFontHighlightDDNormal: string,\n        menuFontFamilyDDNormal: string,\n        menuFontItalicDDNormal: boolean,\n        menuFontUnderlineDDNormal: boolean,\n        menuFontStrikethroughDDNormal: boolean,\n        menuFontOverlineDDNormal: boolean,\n        menuFontTransformDDNormal: string,\n        menuLetterSpacingDDNormal: number,\n        menuWordSpacingDDNormal: number,\n        menuFontColorDDHover: string,\n        menuFontHighlightDDHover: string,\n        menuFontUnderlineDDHover: boolean,\n        menuFontStrikethroughDDHover: boolean,\n        menuFontOverlineDDHover: boolean,\n        menuFontColorDDActive: string,\n        menuFontHighlightDDActive: string,\n        menuFontUnderlineDDActive: boolean,\n        menuFontStrikethroughDDActive: boolean,\n        menuFontOverlineDDActive: boolean,\n        menuFontHorizontalAlignTopNormal: string,\n        menuFontHorizontalAlignTopHover: string,\n        menuFontHorizontalAlignTopActive: string,\n        menuFontHorizontalAlignDDNormal: string,\n        menuFontHorizontalAlignDDHover: string,\n        menuFontHorizontalAlignDDActive: string,\n        menuFontVerticalAlignTopNormal: string,\n        menuFontVerticalAlignTopHover: string,\n        menuFontVerticalAlignTopActive: string,\n        menuFontVerticalAlignDDNormal: string,\n        menuFontVerticalAlignDDHover: string,\n        menuFontVerticalAlignDDActive: string,\n        menuColorTopBlockNormal: string,\n        menuLeftPaddingTopBlockNormal: string,\n        menuTopPaddingTopBlockNormal: string,\n        menuRightPaddingTopBlockNormal: string,\n        menuBottomPaddingTopBlockNormal: string,\n        menuColorDDBlockNormal: string,\n        menuLeftPaddingDDBlockNormal: string,\n        menuTopPaddingDDBlockNormal: string,\n        menuRightPaddingDDBlockNormal: string,\n        menuBottomPaddingDDBlockNormal: string,\n    },\n    pagesStructure: Array<{ path: Array<string>, id: string }>,\n    live?: boolean,\n}\n\nconst Menu = (props: Props) => {\n    const { box } = props\n\n    const determineBorder = prefix => {\n        const getBorder = (prefix2, side, all) =>\n            box['menuBorderOn' + prefix2]\n                ? !box['menuBorderNone' + prefix2]\n                    ? `${side === 'top' || side === 'bottom' ? '0px' : ''} ${\n                          side === 'left' || side === 'top'\n                              ? !box['menuBorderOutset' + prefix2]\n                                  ? ''\n                                  : '-'\n                              : box['menuBorderOutset' + prefix2]\n                              ? ''\n                              : '-'\n                      }${box['menuBorderSize' + prefix2] || 0}px ${\n                          side === 'left' || side === 'right' ? '0px' : ''\n                      } ${box['menuBorderColor' + prefix2] ||\n                          'rgba(0,0,0,0)'} ${\n                          !box['menuBorderOutset' + prefix2] ? 'inset' : ''\n                      }`\n                    : all\n                    ? null\n                    : ' '\n                : null\n\n        let result = ''\n\n        const allLeft = getBorder(prefix + 'All', 'left', true)\n        const left = getBorder(prefix + 'Left', 'left')\n        const leftResult = left || allLeft\n        result = leftResult && leftResult !== ' ' ? leftResult : ''\n\n        const allRight = getBorder(prefix + 'All', 'right', true)\n        const right = getBorder(prefix + 'Right', 'right')\n        const rightResult = right || allRight\n        result +=\n            rightResult && rightResult !== ' '\n                ? result !== ''\n                    ? ', ' + rightResult\n                    : rightResult\n                : ''\n\n        const allTop = getBorder(prefix + 'All', 'top', true)\n        const top = getBorder(prefix + 'Top', 'top')\n        const topResult = top || allTop\n        result +=\n            topResult && topResult !== ' '\n                ? result !== ''\n                    ? ', ' + topResult\n                    : topResult\n                : ''\n\n        const allBottom = getBorder(prefix + 'All', 'bottom', true)\n        const bottom = getBorder(prefix + 'Bottom', 'bottom')\n        const bottomResult = bottom || allBottom\n        result +=\n            bottomResult && bottomResult !== ' '\n                ? result !== ''\n                    ? ', ' + bottomResult\n                    : bottomResult\n                : ''\n\n        return result\n    }\n    const determineBorderBlock = (prefix: string, all?: boolean) => {\n        if (all) {\n            return box['menuBorderOn' + prefix] &&\n                !box['menuBorderNone' + prefix]\n                ? `${box['menuBorderSize' + prefix]}px solid ${\n                      box['menuBorderColor' + prefix]\n                  }`\n                : 'none'\n        } else {\n            return box['menuBorderOn' + prefix]\n                ? !box['menuBorderNone' + prefix]\n                    ? `${box['menuBorderSize' + prefix] || 0}px solid ${\n                          box['menuBorderColor' + prefix]\n                      }`\n                    : 'none'\n                : ''\n        }\n    }\n\n    const determineBorderRadiusBlock = (\n        prefixSide: string,\n        prefixAll: string\n    ) => {\n        return box['menuBorderOn' + prefixSide]\n            ? box['menuBorderRadius' + prefixSide]\n            : null || box['menuBorderOn' + prefixAll]\n            ? box['menuBorderRadius' + prefixAll]\n            : null || 0\n    }\n\n    const determineShadowBlock = prefix =>\n        box['menuShadowOn' + prefix]\n            ? `${box['menuShadowHorizontalShift' + prefix] || 0}px ${box[\n                  'menuShadowVerticalShift' + prefix\n              ] || 0}px ${box['menuShadowBlur' + prefix] || 0}px ${box[\n                  'menuShadowSize' + prefix\n              ] || 0}px ${box['menuShadowColor' + prefix] || '#ccc'}`\n            : 'none'\n\n    const getMenuItems = () => {\n        const menuItems = []\n\n        const addPageToMenuItems = (\n            page: {},\n            path: Array<string>,\n            prefix: string,\n            newTab: boolean\n        ) => {\n            menuItems.push({\n                name: page.name,\n                path: path,\n                all: false,\n                newTab: newTab,\n                url: page.url,\n                id: prefix + '_' + page.id,\n            })\n            findDirectChildren(props.pagesStructure, page.id).forEach(element =>\n                addPageToMenuItems(\n                    element,\n                    [...path, prefix + '_' + page.id],\n                    prefix,\n                    newTab\n                )\n            )\n        }\n\n        box.itemsList.forEach(item => {\n            if (!item.all || item.type !== 'page') {\n                menuItems.push(item)\n            } else {\n                if (item.pageId === '' || !item.pageId) {\n                    props.pagesStructure.forEach(page => {\n                        if (page.path.length === 0) {\n                            addPageToMenuItems(\n                                page,\n                                item.path,\n                                item.id,\n                                item.newTab\n                            )\n                        }\n                    })\n                } else {\n                    findDirectChildren(\n                        props.pagesStructure,\n                        item.pageId\n                    ).forEach(page => {\n                        addPageToMenuItems(\n                            page,\n                            item.path,\n                            item.id,\n                            item.newTab\n                        )\n                    })\n                }\n            }\n        })\n\n        const rootItems = []\n        menuItems.forEach(item => {\n            if (item.path.length === 0) {\n                rootItems.push(item)\n            }\n        })\n\n        const prepareMenuItem = item => {\n            const subItems = findDirectChildren(menuItems, item.id)\n\n            if (subItems.length === 0) {\n                return (\n                    <MenuItem key={item.id}>\n                        <a href={props.live ? item.url : ''} style={classes.A}>\n                            <span className=\"title-wrapper\">\n                                <span>{item.name}</span>\n                            </span>\n                        </a>\n                    </MenuItem>\n                )\n            } else {\n                return (\n                    <SubMenu\n                        document={props.document}\n                        popupOffset={[\n                            box.menuXOffsetTopNormal,\n                            box.menuYOffsetTopNormal,\n                        ]}\n                        popupClassName=\"menu-popup\"\n                        title={\n                            <a\n                                href={props.live ? item.url : ''}\n                                style={classes.A}\n                            >\n                                <span className=\"sub-title-wrapper\">\n                                    <span>{item.name}</span>\n                                </span>\n                            </a>\n                        }\n                    >\n                        {subItems.map(subItem => prepareMenuItem(subItem))}\n                    </SubMenu>\n                )\n            }\n        }\n\n        return rootItems.map(item => prepareMenuItem(item))\n    }\n\n    return (\n        <div style={classes.MenuWrap}>\n            <RCMenu\n                mode={box.menuOrientation}\n                openAnimation=\"slide-up\"\n                prefixCls={props.id + '-menu'}\n                selectedKeys={['2-1']}\n            >\n                {getMenuItems()}\n            </RCMenu>\n            <Global\n                styles={{\n                    //Top Block\n                    ['.' + props.id + '-menu']: {\n                        outline: 'none',\n                        marginBottom: 0,\n                        padding: '0px',\n                        paddingLeft: box.menuLeftPaddingTopBlockNormal + 'px',\n                        paddingTop: box.menuTopPaddingTopBlockNormal + 'px',\n                        paddingRight: box.menuRightPaddingTopBlockNormal + 'px',\n                        paddingBottom:\n                            box.menuBottomPaddingTopBlockNormal + 'px',\n                        listStyle: 'none',\n                        border: determineBorderBlock('TopBlockNormalAll', true),\n                        borderLeft: determineBorderBlock('TopBlockNormalLeft'),\n                        borderRight: determineBorderBlock(\n                            'TopBlockNormalRight'\n                        ),\n                        borderTop: determineBorderBlock('TopBlockNormalTop'),\n                        borderBottom: determineBorderBlock(\n                            'TopBlockNormalBottom'\n                        ),\n                        boxShadow: determineShadowBlock('TopBlockNormal'),\n                        borderRadius: `${determineBorderRadiusBlock(\n                            'TopBlockNormalLeft',\n                            'TopBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'TopBlockNormalTop',\n                            'TopBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'TopBlockNormalRight',\n                            'TopBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'TopBlockNormalBottom',\n                            'TopBlockNormalAll'\n                        )}px`,\n                        display: 'inline-block',\n                        margin: 0,\n                        background: box.menuColorTopBlockNormal,\n                    },\n                    //DD Block\n                    ['.' + props.id + '-menu-submenu']: {\n                        background: box.menuColorDDBlockNormal,\n                        padding: '0px',\n                        paddingLeft: box.menuLeftPaddingDDBlockNormal + 'px',\n                        paddingTop: box.menuTopPaddingDDBlockNormal + 'px',\n                        paddingRight: box.menuRightPaddingDDBlockNormal + 'px',\n                        paddingBottom:\n                            box.menuBottomPaddingDDBlockNormal + 'px',\n                        border: determineBorderBlock('DDBlockNormalAll', true),\n                        borderLeft: determineBorderBlock('DDBlockNormalLeft'),\n                        borderRight: determineBorderBlock('DDBlockNormalRight'),\n                        borderTop: determineBorderBlock('DDBlockNormalTop'),\n                        borderBottom: determineBorderBlock(\n                            'DDBlockNormalBottom'\n                        ),\n                        boxShadow: determineShadowBlock('DDBlockNormal'),\n                        borderRadius: `${determineBorderRadiusBlock(\n                            'DDBlockNormalLeft',\n                            'DDBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'DDBlockNormalTop',\n                            'DDBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'DDBlockNormalRight',\n                            'DDBlockNormalAll'\n                        )}px ${determineBorderRadiusBlock(\n                            'DDBlockNormalBottom',\n                            'DDBlockNormalAll'\n                        )}px`,\n                    },\n                    //Top items font\n                    ['.' + props.id + '-menu-root > li span > span']: {\n                        fontSize: box.menuFontSizeTopNormal + 'px',\n                        color: box.menuFontColorTopNormal,\n                        background: box.menuFontHighlightTopNormal,\n                        fontFamily: box.menuFontFamilyTopNormal,\n                        fontStyle: box.menuFontItalicTopNormal\n                            ? 'italic'\n                            : 'normal',\n                        textDecoration: [\n                            box.menuFontUnderlineTopNormal ? 'underline' : '',\n                            box.menuFontStrikethroughTopNormal\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineTopNormal ? 'overline' : '',\n                        ].join(' '),\n                        textTransform: box.menuFontTransformTopNormal,\n                        letterSpacing: box.menuLetterSpacingTopNormal + 'px',\n                        wordSpacing: box.menuWordSpacingTopNormal + 'px',\n                    },\n                    ['.' + props.id + '-menu-root > li:hover span > span']: {\n                        color: box.menuFontColorTopHover,\n                        background: box.menuFontHighlightTopHover,\n                        textDecoration: [\n                            box.menuFontUnderlineTopHover ? 'underline' : '',\n                            box.menuFontStrikethroughTopHover\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineTopHover ? 'overline' : '',\n                        ].join(' '),\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-root > li.' +\n                    props.id +\n                    '-menu-item-selected span > span']: {\n                        color: box.menuFontColorTopActive,\n                        background: box.menuFontHighlightTopActive,\n                        textDecoration: [\n                            box.menuFontUnderlineTopActive ? 'underline' : '',\n                            box.menuFontStrikethroughTopActive\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineTopActive ? 'overline' : '',\n                        ].join(' '),\n                    },\n\n                    //DD items font\n                    ['.' + props.id + '-menu-sub > li span > span']: {\n                        fontSize: box.menuFontSizeDDNormal + 'px',\n                        color: box.menuFontColorDDNormal,\n                        background: box.menuFontHighlightDDNormal,\n                        fontFamily: box.menuFontFamilyDDNormal,\n                        fontStyle: box.menuFontItalicDDNormal\n                            ? 'italic'\n                            : 'normal',\n                        textDecoration: [\n                            box.menuFontUnderlineDDNormal ? 'underline' : '',\n                            box.menuFontStrikethroughDDNormal\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineDDNormal ? 'overline' : '',\n                        ].join(' '),\n                        textTransform: box.menuFontTransformDDNormal,\n                        letterSpacing: box.menuLetterSpacingDDNormal + 'px',\n                        wordSpacing: box.menuWordSpacingDDNormal + 'px',\n                    },\n                    ['.' + props.id + '-menu-sub > li:hover span > span']: {\n                        color: box.menuFontColorDDHover,\n                        background: box.menuFontHighlightDDHover,\n                        textDecoration: [\n                            box.menuFontUnderlineDDHover ? 'underline' : '',\n                            box.menuFontStrikethroughDDHover\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineDDHover ? 'overline' : '',\n                        ].join(' '),\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-sub > li.' +\n                    props.id +\n                    '-menu-item-selected span > span']: {\n                        color: box.menuFontColorDDActive,\n                        background: box.menuFontHighlightDDActive,\n                        textDecoration: [\n                            box.menuFontUnderlineDDActive ? 'underline' : '',\n                            box.menuFontStrikethroughDDActive\n                                ? 'line-through'\n                                : '',\n                            box.menuFontOverlineDDActive ? 'overline' : '',\n                        ].join(' '),\n                    },\n\n                    //Top items background and title align and padding\n                    ['.' + props.id + '-menu-root > li']: {\n                        background: box.menuColorTopNormal,\n                        justifyContent: box.menuFontHorizontalAlignTopNormal,\n                        alignItems: box.menuFontVerticalAlignTopNormal,\n                        width: !box.menuWidthFlexibleTopNormal\n                            ? box.menuWidthTopNormal + 'px'\n                            : 'auto',\n                        height: !box.menuHeightFlexibleTopNormal\n                            ? box.menuHeightTopNormal + 'px'\n                            : 'auto',\n                        boxSizing: 'border-box',\n                        overflow: 'hidden',\n                        boxShadow: determineBorder('TopNormal'),\n                        fontSize: box.menuFontSizeTopNormal + 'px',\n                        color: box.menuFontColorTopNormal,\n                    },\n                    ['.' + props.id + '-menu-root > li:hover']: {\n                        background: box.menuColorTopHover,\n                        justifyContent: box.menuFontHorizontalAlignTopHover,\n                        alignItems: box.menuFontVerticalAlignTopHover,\n                        boxShadow: determineBorder('TopHover'),\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-root > li.' +\n                    props.id +\n                    '-menu-item-selected']: {\n                        background: box.menuColorTopActive,\n                        justifyContent: box.menuFontHorizontalAlignTopActive,\n                        alignItems: box.menuFontVerticalAlignTopActive,\n                        boxShadow: determineBorder('TopActive'),\n                    },\n\n                    //DD items background and title align and padding\n                    ['.' + props.id + '-menu-sub > li']: {\n                        background: box.menuColorDDNormal,\n                        justifyContent: box.menuFontHorizontalAlignDDNormal,\n                        alignItems: box.menuFontVerticalAlignDDNormal,\n                        width: !box.menuWidthFlexibleDDNormal\n                            ? box.menuWidthDDNormal + 'px'\n                            : 'auto',\n                        height: !box.menuHeightFlexibleDDNormal\n                            ? box.menuHeightDDNormal + 'px'\n                            : 'auto',\n                        boxSizing: 'border-box',\n                        overflow: 'hidden',\n                        boxShadow: determineBorder('DDNormal'),\n                    },\n                    ['.' + props.id + '-menu-sub > li:hover']: {\n                        background: box.menuColorDDHover,\n                        justifyContent: box.menuFontHorizontalAlignDDHover,\n                        alignItems: box.menuFontVerticalAlignDDHover,\n                        boxShadow: determineBorder('DDHover'),\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-sub > li.' +\n                    props.id +\n                    '-menu-item-selected']: {\n                        background: box.menuColorDDActive,\n                        justifyContent: box.menuFontHorizontalAlignDDActive,\n                        alignItems: box.menuFontVerticalAlignDDActive,\n                        boxShadow: determineBorder('DDActive'),\n                    },\n\n                    //Top items space between\n                    ['.' + props.id + '-menu-root > li:not(:last-child)']: {\n                        [box.menuOrientation === 'vertical'\n                            ? 'marginBottom'\n                            : 'marginRight']:\n                            box.menuSpaceBetweenTopNormal + 'px',\n                    },\n\n                    //DD items space between\n                    ['.' + props.id + '-menu-sub > li:not(:last-child)']: {\n                        marginBottom: box.menuSpaceBetweenDDNormal + 'px',\n                    },\n\n                    //Top title padding menu\n                    ['.' +\n                    props.id +\n                    '-menu-root .title-wrapper, .' +\n                    props.id +\n                    '-menu-root .sub-title-wrapper']: {\n                        paddingLeft: box.menuLeftPaddingTopNormal + 'px',\n                        paddingTop: box.menuTopPaddingTopNormal + 'px',\n                        paddingRight: box.menuRightPaddingTopNormal + 'px',\n                        paddingBottom: box.menuBottomPaddingTopNormal + 'px',\n                        display: 'block',\n                        cursor: 'pointer',\n                    },\n\n                    //DD title padding menu\n                    ['.' +\n                    props.id +\n                    '-menu-sub .title-wrapper, .' +\n                    props.id +\n                    '-menu-sub .sub-title-wrapper']: {\n                        paddingLeft: box.menuLeftPaddingDDNormal + 'px',\n                        paddingTop: box.menuTopPaddingDDNormal + 'px',\n                        paddingRight: box.menuRightPaddingDDNormal + 'px',\n                        paddingBottom: box.menuBottomPaddingDDNormal + 'px',\n                        display: 'block',\n                        cursor: 'pointer',\n                    },\n\n                    '.menu-popup': {\n                        zIndex: 1000000,\n                    },\n                    ['.' + props.id + '-menu-hidden']: {\n                        display: 'none',\n                    },\n                    ['.' + props.id + '-menu-collapse']: {\n                        overflow: 'hidden',\n                    },\n                    ['.' + props.id + '-menu-collapse-active']: {\n                        transition: 'height 0.3s ease-out',\n                    },\n                    ['.' + props.id + '-menu-item-group-list']: {\n                        margin: 0,\n                        padding: 0,\n                    },\n                    ['.' + props.id + '-menu-item-group-title']: {\n                        color: '#999',\n                        lineHeight: 1.5,\n                        padding: '8px 10px',\n                        borderBottom: '1px solid #dedede',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-item-active, .' +\n                    props.id +\n                    '-menu-submenu-active >.' +\n                    props.id +\n                    '-menu-submenu-title']: {},\n                    ['.' + props.id + '-menu-item-selected']: {\n                        transform: 'translateZ(0)',\n                    },\n                    ['.' + props.id + '-menu-submenu-selected']: {},\n                    // ['.' +\n                    // props.id +\n                    // '-menu > li.' +\n                    // props.id +\n                    // '-menu-submenu']: {\n                    //     padding: 0,\n                    // },\n                    ['.' +\n                    props.id +\n                    '-menu-horizontal.' +\n                    props.id +\n                    '-menu-sub, #' +\n                    props.id +\n                    '-menu-vertical.' +\n                    props.id +\n                    '-menu-sub, #' +\n                    props.id +\n                    '-menu-vertical-left.' +\n                    props.id +\n                    '-menu-sub, #' +\n                    props.id +\n                    '-menu-vertical-right.' +\n                    props.id +\n                    '-menu-sub']: {\n                        padding: 0,\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-item, .' +\n                    props.id +\n                    '-menu-submenu-title']: {\n                        margin: 0,\n                        position: 'relative',\n                        display: 'flex',\n                        whiteSpace: 'nowrap',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-item.' +\n                    props.id +\n                    '-menu-item-disabled, .' +\n                    props.id +\n                    '-menu-submenu-title.' +\n                    props.id +\n                    '-menu-item-disabled, .' +\n                    props.id +\n                    '-menu-item.' +\n                    props.id +\n                    '-menu-submenu-disabled, .' +\n                    props.id +\n                    '-menu-submenu-title.' +\n                    props.id +\n                    '-menu-submenu-disabled']: {\n                        color: '#777 !important',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu >.' +\n                    props.id +\n                    '-menu-item-divider']: {\n                        height: '1px',\n                        margin: '1px 0',\n                        overflow: 'hidden',\n                        padding: 0,\n                        lineHeight: 0,\n                        backgroundColor: '#e5e5e5',\n                    },\n                    ['.' + props.id + '-menu-submenu-popup']: {\n                        position: 'absolute',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-menu-submenu-title .anticon, .' +\n                    props.id +\n                    '-menu-menu-item .anticon']: {\n                        width: '14px',\n                        height: '14px',\n                        marginRight: '8px',\n                        top: '-1px',\n                    },\n                    ['.' + props.id + '-menu-horizontal']: {\n                        backgroundColor: '#F3F5F7',\n                        border: 'none',\n                        borderBottom: '1px solid #d9d9d9',\n                        boxShadow: 'none',\n                        whiteSpace: 'nowrap',\n                        overflow: 'hidden',\n                    },\n                    // ['.' +\n                    // props.id +\n                    // '-menu-horizontal >.' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-horizontal >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title']: {\n                    //     padding: '15px 20px',\n                    // },\n                    ['.' +\n                    props.id +\n                    '-menu-horizontal >.' +\n                    props.id +\n                    '-menu-submenu, .' +\n                    props.id +\n                    '-menu-horizontal >.' +\n                    props.id +\n                    '-menu-item']: {\n                        borderBottom: '2px solid transparent',\n                        display: 'inline-block',\n                        verticalAlign: 'bottom',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-horizontal >.' +\n                    props.id +\n                    '-menu-submenu-active, .' +\n                    props.id +\n                    '-menu-horizontal >.' +\n                    props.id +\n                    '-menu-item-active']: {\n                        borderBottom: '2px solid #2db7f5',\n                        backgroundColor: '#F3F5F7',\n                        color: '#2baee9',\n                    },\n                    ['.' + props.id + '-menu-horizontal:after']: {\n                        //content: '\\20',\n                        display: 'block',\n                        height: 0,\n                        clear: 'both',\n                    },\n                    // ['.' +\n                    // props.id +\n                    // '-menu-vertical, .' +\n                    // props.id +\n                    // '-menu-vertical-left, .' +\n                    // props.id +\n                    // '-menu-vertical-right, .' +\n                    // props.id +\n                    // '-menu-inline']: {\n                    //     padding: '12px 0',\n                    // },\n                    // ['.' +\n                    // props.id +\n                    // '-menu-vertical >.' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-vertical-left >.' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-vertical-right >.' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-inline >.' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-vertical >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title, .' +\n                    // props.id +\n                    // '-menu-vertical-left >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title, .' +\n                    // props.id +\n                    // '-menu-vertical-right >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title, .' +\n                    // props.id +\n                    // '-menu-inline >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title']: {\n                    //     padding: '12px 8px 12px 24px',\n                    // },\n                    ['.' +\n                    props.id +\n                    '-menu-vertical-menu-submenu-arrow, .' +\n                    props.id +\n                    '-menu-vertical-left-menu-submenu-arrow, .' +\n                    props.id +\n                    '-menu-vertical-right-menu-submenu-arrow, .' +\n                    props.id +\n                    '-menu-inline-menu-submenu-arrow']: {\n                        display: 'inline-block',\n                        font: 'normal normal normal 14px/1 FontAwesome',\n                        fontSize: 'inherit',\n                        verticalAlign: 'baseline',\n                        textAlign: 'center',\n                        textTransform: 'none',\n                        textRendering: 'auto',\n                        position: 'absolute',\n                        right: '16px',\n                        lineHeight: '1.5em',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-vertical-menu-submenu-arrow:before, .' +\n                    props.id +\n                    '-menu-vertical-left-menu-submenu-arrow:before, .' +\n                    props.id +\n                    '-menu-vertical-right-menu-submenu-arrow:before, .' +\n                    props.id +\n                    '-menu-inline-menu-submenu-arrow:before']: {\n                        content: '\"\\f0da\"',\n                    },\n                    ['.' + props.id + '-menu-inline-menu-submenu-arrow']: {\n                        transform: 'rotate(90deg)',\n                        transition: 'transform .3s',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-inline-menu-submenu-open >.' +\n                    props.id +\n                    '-menu-submenu-title-menu-submenu-arrow']: {\n                        transform: 'rotate(-90deg)',\n                    },\n                    // ['.' +\n                    // props.id +\n                    // '-menu-vertical.' +\n                    // props.id +\n                    // '-menu-sub, .' +\n                    // props.id +\n                    // '-menu-vertical-left.' +\n                    // props.id +\n                    // '-menu-sub, .' +\n                    // props.id +\n                    // '-menu-vertical-right.' +\n                    // props.id +\n                    // '-menu-sub, .']: {\n                    //     padding: 0,\n                    // },\n                    ['.' +\n                    props.id +\n                    '-menu-sub.' +\n                    props.id +\n                    '-menu-inline']: {\n                        padding: 0,\n                        border: 'none',\n                        borderRadius: 0,\n                        boxShadow: 'none',\n                    },\n                    // ['.' +\n                    // props.id +\n                    // '-menu-sub.' +\n                    // props.id +\n                    // '-menu-inline >' +\n                    // props.id +\n                    // '-menu-item, .' +\n                    // props.id +\n                    // '-menu-sub.' +\n                    // props.id +\n                    // '-menu-inline >.' +\n                    // props.id +\n                    // '-menu-submenu >.' +\n                    // props.id +\n                    // '-menu-submenu-title']: {\n                    //     paddingTop: '8px',\n                    //     paddingBottom: '8px',\n                    //     paddingRight: 0,\n                    // },\n                    ['.' +\n                    props.id +\n                    '-menu-open-slide-up-enter, .' +\n                    props.id +\n                    '-menu-open-slide-up-appear']: {\n                        animationDuration: '.3s',\n                        animationFillMode: 'both',\n                        transformOrigin: '0 0',\n                        opacity: 0,\n                        animationTimingFunction:\n                            'cubic-bezier(0.08, 0.82, 0.17, 1)',\n                        animationPlayState: 'paused',\n                    },\n                    ['.' + props.id + '-menu-open-slide-up-leave']: {\n                        animationDuration: '.3s',\n                        animationFillMode: 'both',\n                        transformOrigin: '0 0',\n                        opacity: 1,\n                        animationTimingFunction:\n                            'cubic-bezier(0.6, 0.04, 0.98, 0.34)',\n                        animationPlayState: 'paused',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-open-slide-up-enter.' +\n                    props.id +\n                    '-menu-open-slide-up-enter-active, .' +\n                    props.id +\n                    '-menu-open-slide-up-appear.' +\n                    props.id +\n                    '-menu-open-slide-up-appear-active']: {\n                        animationName: props.id + '_rcMenuOpenSlideUpIn',\n                        animationPlayState: 'running',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-open-slide-up-leave.' +\n                    props.id +\n                    '-menu-open-slide-up-leave-active']: {\n                        animationName: props.id + '_rcMenuOpenSlideUpOut',\n                        animationPlayState: 'running',\n                    },\n                    ['@keyframes' + props.id + '_rcMenuOpenSlideUpIn']: {\n                        '0%': {\n                            opacity: 0,\n                            transformOrigin: '0% 0%',\n                            transform: 'scaleY(0)',\n                        },\n                        '100%': {\n                            opacity: 1,\n                            transformOrigin: '0% 0%',\n                            transform: 'scaleY(1)',\n                        },\n                    },\n                    ['@keyframes' + props.id + '_rcMenuOpenSlideUpOut']: {\n                        '0%': {\n                            opacity: 1,\n                            transformOrigin: '0% 0%',\n                            transform: 'scaleY(1)',\n                        },\n                        '100%': {\n                            opacity: 0,\n                            transformOrigin: '0% 0%',\n                            transform: 'scaleY(0)',\n                        },\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-open-zoom-enter, .' +\n                    props.id +\n                    '-menu-open-zoom-appear']: {\n                        opacity: 0,\n                        animationDuration: '.3s',\n                        animationFillMode: 'both',\n                        transformOrigin: '0 0',\n                        animationTimingFunction:\n                            'cubic-bezier(0.08, 0.82, 0.17, 1)',\n                        animationPlayState: 'paused',\n                    },\n                    ['.' + props.id + '-menu-open-zoom-leave']: {\n                        animationDuration: '.3s',\n                        animationFillMode: 'both',\n                        transformOrigin: '0 0',\n                        animationTimingFunction:\n                            'cubic-bezier(0.6, 0.04, 0.98, 0.34)',\n                        animationPlayState: 'paused',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-open-zoom-enter.' +\n                    props.id +\n                    '-menu-open-zoom-enter-active, .' +\n                    props.id +\n                    '-menu-open-zoom-appear.' +\n                    props.id +\n                    '-menu-open-zoom-appear-active']: {\n                        animationName: props.id + '_rcMenuOpenZoomIn',\n                        animationPlayState: 'running',\n                    },\n                    ['.' +\n                    props.id +\n                    '-menu-open-zoom-leave.' +\n                    props.id +\n                    '-menu-open-zoom-leave-active']: {\n                        animationName: props.id + '_rcMenuOpenZoomOut',\n                        animationPlayState: 'running',\n                    },\n                    ['@keyframes' + props.id + '_rcMenuOpenZoomIn']: {\n                        '0%': {\n                            opacity: 0,\n                            transform: 'scale(0, 0)',\n                        },\n                        '100%': {\n                            opacity: 1,\n                            transform: 'scale(1, 1)',\n                        },\n                    },\n                    ['@keyframes' + props.id + '_rcMenuOpenZoomOut']: {\n                        '0%': {\n                            transform: 'scale(1, 1)',\n                        },\n                        '100%': {\n                            opacity: 0,\n                            transform: 'scale(0, 0)',\n                        },\n                    },\n                }}\n            />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        pagesStructure: state.website.pagesStructure,\n    }\n}\n\nexport default connect(mapStateToProps)(Menu)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Global } from '@emotion/core'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './Box.css.js'\nimport BoxControls from '../../../components/BuilderControls/BoxControls/BoxControls.js'\nimport getCombinedStyle from '../../../utils/getCombinedStyle'\nimport Text from './Text/Text'\nimport Menu from './Menu/Menu'\n\ntype Props = {\n    box: {\n        type: 'box' | 'text' | 'menu',\n        children: Array<string>,\n        parent: string,\n        mapOn?: boolean,\n        mapAddress?: string,\n        mapZoom?: number,\n        mapSatellite?: boolean,\n        menuColorTopNormal: string,\n        menuColorTopHover: string,\n        menuColorTopActive: string,\n        menuColorDDNormal: string,\n        menuColorDDHover: string,\n        menuColorDDActive: string,\n        menuSpaceBetweenTopNormal: number,\n        menuLeftPaddingTopNormal: number,\n        menuTopPaddingTopNormal: number,\n        menuRightPaddingTopNormal: number,\n        menuBottomPaddingTopNormal: number,\n        menuSpaceBetweenDDNormal: number,\n        menuLeftPaddingDDNormal: number,\n        menuTopPaddingDDNormal: number,\n        menuRightPaddingDDNormal: number,\n        menuBottomPaddingDDNormal: number,\n        menuOrientation: 'horizontal' | 'vertical',\n        menuXOffsetTopNormal: number,\n        menuYOffsetTopNormal: number,\n        menuWidthFlexibleTopNormal: boolean,\n        menuWidthTopNormal: number,\n        menuWidthFlexibleDDNormal: boolean,\n        menuWidthDDNormal: number,\n        menuHeightFlexibleTopNormal: boolean,\n        menuHeightTopNormal: number,\n        menuHeightFlexibleDDNormal: boolean,\n        menuHeightDDNormal: number,\n        menuFontSizeTopNormal: number,\n        menuFontColorTopNormal: string,\n        menuFontHighlightTopNormal: string,\n        menuFontFamilyTopNormal: string,\n        menuFontItalicTopNormal: boolean,\n        menuFontUnderlineTopNormal: boolean,\n        menuFontStrikethroughTopNormal: boolean,\n        menuFontOverlineTopNormal: boolean,\n        menuFontTransformTopNormal: string,\n        menuLetterSpacingTopNormal: number,\n        menuWordSpacingTopNormal: number,\n        menuFontColorTopHover: string,\n        menuFontHighlightTopHover: string,\n        menuFontUnderlineTopHover: boolean,\n        menuFontStrikethroughTopHover: boolean,\n        menuFontOverlineTopHover: boolean,\n        menuFontColorTopActive: string,\n        menuFontHighlightTopActive: string,\n        menuFontUnderlineTopActive: boolean,\n        menuFontStrikethroughTopActive: boolean,\n        menuFontOverlineTopActive: boolean,\n        menuFontSizeDDNormal: number,\n        menuFontColorDDNormal: string,\n        menuFontHighlightDDNormal: string,\n        menuFontFamilyDDNormal: string,\n        menuFontItalicDDNormal: boolean,\n        menuFontUnderlineDDNormal: boolean,\n        menuFontStrikethroughDDNormal: boolean,\n        menuFontOverlineDDNormal: boolean,\n        menuFontTransformDDNormal: string,\n        menuLetterSpacingDDNormal: number,\n        menuWordSpacingDDNormal: number,\n        menuFontColorDDHover: string,\n        menuFontHighlightDDHover: string,\n        menuFontUnderlineDDHover: boolean,\n        menuFontStrikethroughDDHover: boolean,\n        menuFontOverlineDDHover: boolean,\n        menuFontColorDDActive: string,\n        menuFontHighlightDDActive: string,\n        menuFontUnderlineDDActive: boolean,\n        menuFontStrikethroughDDActive: boolean,\n        menuFontOverlineDDActive: boolean,\n        menuFontHorizontalAlignTopNormal: string,\n        menuFontHorizontalAlignTopHover: string,\n        menuFontHorizontalAlignTopActive: string,\n        menuFontHorizontalAlignDDNormal: string,\n        menuFontHorizontalAlignDDHover: string,\n        menuFontHorizontalAlignDDActive: string,\n        menuFontVerticalAlignTopNormal: string,\n        menuFontVerticalAlignTopHover: string,\n        menuFontVerticalAlignTopActive: string,\n        menuFontVerticalAlignDDNormal: string,\n        menuFontVerticalAlignDDHover: string,\n        menuFontVerticalAlignDDActive: string,\n        menuColorTopBlockNormal: string,\n        menuLeftPaddingTopBlockNormal: string,\n        menuTopPaddingTopBlockNormal: string,\n        menuRightPaddingTopBlockNormal: string,\n        menuBottomPaddingTopBlockNormal: string,\n        menuColorDDBlockNormal: string,\n        menuLeftPaddingDDBlockNormal: string,\n        menuTopPaddingDDBlockNormal: string,\n        menuRightPaddingDDBlockNormal: string,\n        menuBottomPaddingDDBlockNormal: string,\n    },\n    hoveredElement: string,\n    activeElement: string,\n    styles: Array<{\n        type: 'hover' | 'active',\n        influencer: string,\n    }>,\n    previewIsOn?: boolean,\n    id: string,\n    live?: boolean,\n    handleChooseTextEditor: Function,\n    deselectInner: (e: Event, id: string) => {},\n    document: {},\n}\n\nconst _Box = (props: Props) => {\n    const determineStyleForState = el => {\n        const boxShadow =\n            (el.borderHOffset ? el.borderHOffset + 'px ' : '0px ') +\n            (el.borderVOffset ? el.borderVOffset + 'px ' : '0px ') +\n            (el.borderBlur ? el.borderBlur + 'px ' : '0px ') +\n            (el.borderSize ? el.borderSize + 'px ' : '0px ') +\n            (el.borderColor ? el.borderColor : 'rgba(0, 0, 0, 1)')\n\n        let outline = !props.previewIsOn ? 'grey dashed 2px' : null\n        if (props.id === props.hoveredElement) {\n            outline = 'rgba(20, 160, 250, .8) solid 10px'\n        }\n\n        if (props.id === props.activeElement) {\n            outline = 'rgba(250, 160, 20, .8) solid 10px'\n        }\n\n        return {\n            userSelect: 'none',\n            boxSizing: 'border-box',\n            position: 'absolute',\n            left: el.left,\n            top: el.top,\n            width: el.width,\n            height: el.height,\n            zIndex: el.zIndex,\n            outline: !props.live ? outline : null,\n            background: el.backgroundOn ? el.background : null,\n            boxShadow: el.borderOn ? boxShadow : null,\n        }\n    }\n\n    const el = props.box\n    const styles = {}\n    let map\n\n    if (el) {\n        const styleEl = getCombinedStyle(\n            el,\n            props.styles,\n            props.hoveredElement,\n            props.activeElement\n        )\n        let combinedStyle = determineStyleForState(styleEl)\n        styles['#' + props.id + '_out'] = combinedStyle\n\n        //  USE WHEN PREVIEW\n        // props.styles.forEach( style => {\n        //     styles['#' + style.influencer + ':' + style.type + ' #' + props.id + '_out']  = {\n        //         left: style.left,\n        //         top: style.top,\n        //     };\n        // });\n\n        if (el.mapOn) {\n            let src = 'https://www.google.com/maps/embed/v1/search'\n            src += '?key=AIzaSyCUFx8cfHIz2hoYa49UDmZt2Ab1JqmUYZ4&q='\n            src += el.mapAddress || 'The US'\n            src += el.mapZoom ? '&zoom=' + el.mapZoom : ''\n            src += el.mapSatellite ? '&maptype=satellite' : '&maptype=roadmap'\n            map = (\n                <iframe\n                    title={props.id + '_map'}\n                    style={classes.BoxMapIframe}\n                    frameBorder=\"0\"\n                    src={src.replace(/ /g, '+')}\n                />\n            )\n        }\n\n        // let video;\n        // if (el.video) {\n        //     video = <ReactPlayer\n        //         />;\n        // }\n    }\n\n    const text =\n        el.type === 'text' ? (\n            <Text\n                id={props.id}\n                handleChooseTextEditor={props.handleChooseTextEditor}\n                live={props.live}\n                document={props.document}\n            />\n        ) : null\n\n    const menu =\n        el.type === 'menu' ? (\n            <Menu\n                id={props.id}\n                live={props.live}\n                document={props.document}\n                box={props.box}\n            />\n        ) : null\n\n    return (\n        <div\n            data-testid={`box_${props.id}_out`}\n            id={props.id + '_out'}\n            onMouseDown={\n                !props.live ? e => props.deselectInner(e, props.id) : null\n            }\n        >\n            {map}\n            <div\n                style={\n                    el.type === 'menu'\n                        ? { ...classes.BoxInner, overflow: 'visible' }\n                        : classes.BoxInner\n                }\n                data-testid={`box_${props.id}_in`}\n                id={props.id}\n                name=\"keyElement\"\n            >\n                {text}\n                {menu}\n                {el.children.map(box => (\n                    <Box\n                        key={box}\n                        id={box}\n                        handleChooseTextEditor={props.handleChooseTextEditor}\n                        live={props.live}\n                        document={props.document}\n                    />\n                ))}\n            </div>\n            {!props.live ? <BoxControls id={props.id} /> : null}\n            <Global styles={styles} />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        box: state.builder.present[props.id],\n        hoveredElement: state.builder.present.hoveredElement,\n        activeElement: state.builder.present.activeElement,\n        styles: state.builder.present[props.id].styles.map(\n            style => state.builder.present[style]\n        ),\n        previewIsOn: state.builder.present.preview,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        deselectInner: (e, item) => dispatch(actions.deselectInner(e, item)),\n    }\n}\n\nconst Box = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(_Box)\n\nexport default Box\n","export const SectionClass = {\n  width: '100%',\n  position: 'relative',\n  textAlign: 'center',\n  userSelect: 'none',\n};\n\nexport const SectionInnerContent = {\n  userSelect: 'none',\n  width: '100%',\n  height: '100%',\n  position: 'relative',\n};\n\nexport const SectionMapIframe = {\n  width: '100%',\n  height: '100%',\n  border: '0',\n  position: 'absolute',\n  left: '0px',\n  top: '0px',\n};\n","export const SectionDrag = {\n  position: 'absolute',\n  left: '-41px',\n  top: '0px',\n  height: '20px',\n  width: '40px',\n  background: '#ccc',\n  cursor: 'move',\n  textAlign: 'center',\n  color: '#313131',\n  lineHeight: '20px',\n  fontSize: '11px',\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as classes from './ControlSectionDrag.css.js';\n\ntype Props = {\n    chosenSection: string,\n    id: string,\n    previewIsOn?: boolean,\n}\n\nexport const ControlSectionDrag = (props: Props) => {\n    return !props.previewIsOn ? \n        <div data-testid={`sectionDrag_${props.id}`} style={props.chosenSection === props.id ? {...classes.SectionDrag, background: 'green'} : classes.SectionDrag }></div>\n        : null;\n};\n\nconst mapStateToProps = state => {\n    return {\n        chosenSection: state.builder.present.chosenSection,\n        previewIsOn: state.builder.present.preview        \n    };\n};\n\nexport default connect(mapStateToProps)(ControlSectionDrag);","export const SectionHeight = {\n  userSelect: 'none',\n  position: 'absolute',\n  bottom: '-6px',\n  height: '13px',\n  background: '#eee',\n  border: '1px solid #ccc',\n  boxSizing: 'border-box',\n  cursor: 'row-resize',\n  fontSize: '11px',\n  color: '#555',\n  fontFamily: 'arial',\n  padding: '0px 3px',\n  zIndex: '1000',\n  left: '0px',\n  right: '0px',\n  margin: '0px 50px',\n  width: '45px',\n  lineHeight: '10px',\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as classes from './ControlSectionHeight.css.js';\nimport * as actions from '../../../../store/actions/index';\nimport { dragStart } from '../../../../utils/dragFunction';\n\ntype Props = {\n    section: {\n        type: 'section',\n        height: number,\n        children: Array<string>,\n        styles: Array<string>,\n        space: number\n    },\n    id: string,\n    previewIsOn?: boolean,\n    changed: (value: number, space: 'height') => {}\n}\n\nexport const ControlSectionHeight = (props: Props) => {\n    const handleDragMouseDown = (e) => {\n        const startElY = props.section.height;\n\n        dragStart(e, (difX, difY) => {\n            let value = startElY + difY;\n            if (value < 0) {\n                value = 0;\n            }\n            props.changed(value, 'height');\n        }, () => {});\n    };\n\n    return !props.previewIsOn ?\n        <div style={classes.SectionHeight}\n            onMouseDown={handleDragMouseDown}>\n            Height\n        </div>\n        : null;\n};\n\nconst mapStateToProps = (state, props) => {\n    return {\n        section: state.builder.present[props.id],\n        previewIsOn: state.builder.present.preview        \n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changed: (newValue, valueKey) => dispatch(actions.changeElementPropertyValue(newValue, valueKey, true))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlSectionHeight);","export const SectionSpace = {\n  userSelect: 'none',\n  position: 'absolute',\n  bottom: '-6px',\n  height: '13px',\n  background: '#eee',\n  border: '1px solid #ccc',\n  boxSizing: 'border-box',\n  cursor: 'row-resize',\n  fontSize: '11px',\n  color: '#555',\n  fontFamily: 'arial',\n  padding: '0px 3px',\n  zIndex: '1000',\n  left: '0px',\n  right: '0px',\n  margin: '0px 100px',\n  width: '45px',\n  lineHeight: '10px',\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as classes from './ControlSectionSpace.css.js';\nimport * as actions from '../../../../store/actions/index';\nimport { dragStart } from '../../../../utils/dragFunction';\n\ntype Props = {\n    section: {\n        type: 'section',\n        height: number,\n        children: Array<string>,\n        styles: Array<string>,\n        space: number\n    },\n    id: string,\n    previewIsOn?: boolean,\n    changed: (value: number, space: 'space') => {}\n}\n\nexport const ControlSectionSpace = (props: Props) => {\n    const handleDragMouseDown = (e) => {\n        const startElY = props.section.space;\n        dragStart(e, (difX, difY) => {\n            let value = startElY + difY;\n            if (value < 0) {\n                value = 0;\n            }\n            props.changed(value, 'space');\n        }, () => {});\n    };\n\n    return !props.previewIsOn ?\n        <div style={classes.SectionSpace}\n            onMouseDown={handleDragMouseDown}>\n            Space\n        </div>\n        : null;\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        section: state.builder.present[ownProps.id],\n        previewIsOn: state.builder.present.preview        \n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changed: (newValue, valueKey) => dispatch(actions.changeElementPropertyValue(newValue, valueKey, true))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlSectionSpace);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Global } from '@emotion/core'\n\nimport Box from '../Box/Box'\nimport * as classes from './Section.css.js'\nimport * as actions from '../../../store/actions/index'\nimport ControlSectionDrag from '../../../components/BuilderControls/SectionControls/ControlSectionDrag/ControlSectionDrag'\nimport ControlSectionHeight from '../../../components/BuilderControls/SectionControls/ControlSectionHeight/ControlSectionHeight'\nimport ControlSectionSpace from '../../../components/BuilderControls/SectionControls/ControlSpaceSection/ControlSectionSpace'\nimport getCombinedStyle from '../../../utils/getCombinedStyle'\n\ntype Props = {\n    section: {\n        type: 'section',\n        children: Array<string>,\n        space: number,\n        mapOn?: boolean,\n        mapAddress?: string,\n        mapZoom?: number,\n        mapSatellite?: boolean,\n        mapOuter?: boolean,\n    },\n    children: Array<string>,\n    hoveredElement?: string,\n    activeElement?: string,\n    styles: Array<{\n        type: 'hover' | 'active',\n        influencer: string,\n    }>,\n    id: string,\n    live?: boolean,\n    selectSection: (id: string, event: Event) => {},\n    previewIsOn: boolean,\n    handleChooseTextEditor: Function,\n    document: {},\n}\n\nconst Section = (props: Props) => {\n    const determineStyleForState = el => {\n        let outline = ''\n        if (props.id === props.hoveredElement) {\n            outline = 'rgba(20, 160, 250, .8) solid 10px'\n        }\n\n        if (props.id === props.activeElement) {\n            outline = 'rgba(250, 160, 20, .8) solid 10px'\n        }\n\n        return {\n            ['#' + props.id + '_space']: {\n                userSelect: 'none',\n                height: parseInt(el.height) + parseInt(props.section.space),\n            },\n            ['#' + props.id + '_height']: {\n                userSelect: 'none',\n                height: el.height,\n                background: el.outerBackgroundOn ? el.outerBackground : null,\n                position: 'relative',\n            },\n            ['#' + props.id + '_width']: {\n                userSelect: 'none',\n                position: 'relative',\n                height: '100%',\n                width: '1000px',\n                margin: 'auto',\n                outline: !props.live ? outline : null,\n                background: el.backgroundOn ? el.background : null,\n            },\n        }\n    }\n\n    const el = props.section\n    let styles = {}\n    let map\n\n    const styleEl = getCombinedStyle(\n        el,\n        props.styles,\n        props.hoveredElement,\n        props.activeElement\n    )\n    styles = determineStyleForState(styleEl)\n\n    if (el.mapOn) {\n        let src = 'https://www.google.com/maps/embed/v1/search'\n        src += '?key=AIzaSyCUFx8cfHIz2hoYa49UDmZt2Ab1JqmUYZ4&q='\n        src += el.mapAddress || 'The US'\n        src += el.mapZoom ? '&zoom=' + el.mapZoom : ''\n        src += el.mapSatellite ? '&maptype=satellite' : '&maptype=roadmap'\n        map = (\n            <iframe\n                title={props.id + '_map'}\n                style={classes.SectionMapIframe}\n                frameBorder=\"0\"\n                src={src.replace(/ /g, '+')}\n            />\n        )\n    }\n\n    // This is for preview\n\n    // props.styles.forEach( style => {\n    //     styles['#' + style.influencer + ':' + style.type + ' #' + props.id + '_out']  = {\n    //         left: style.left,\n    //         top: style.top,\n    //     };\n    // });\n\n    return (\n        <section\n            data-testid=\"sectionMain\"\n            style={classes.SectionClass}\n            onMouseDown={\n                !props.live\n                    ? event => props.selectSection(props.id, event)\n                    : null\n            }\n        >\n            <div id={props.id + '_space'}>\n                <div id={props.id + '_height'}>\n                    {styleEl.mapOuter ? map : null}\n                    <div id={props.id + '_width'}>\n                        {!styleEl.mapOuter ? map : null}\n                        <div\n                            style={{\n                                ...classes.SectionInnerContent,\n                                outline:\n                                    !props.previewIsOn && !props.live\n                                        ? '1px dashed aqua'\n                                        : null,\n                            }}\n                            id={props.id}\n                            name=\"keyElement\"\n                        >\n                            {props.children.map(box => (\n                                <Box\n                                    key={box}\n                                    id={box}\n                                    handleChooseTextEditor={\n                                        props.handleChooseTextEditor\n                                    }\n                                    live={props.live}\n                                    document={props.document}\n                                />\n                            ))}\n                        </div>\n                        {!props.live ? (\n                            <ControlSectionDrag id={props.id} />\n                        ) : null}\n                    </div>\n                    {!props.live ? (\n                        <ControlSectionHeight id={props.id} />\n                    ) : null}\n                </div>\n            </div>\n            {!props.live ? <ControlSectionSpace id={props.id} /> : null}\n            <Global styles={styles} />\n        </section>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        section: state.builder.present[props.id],\n        children: state.builder.present[props.id].children,\n        hoveredElement: state.builder.present.hoveredElement,\n        activeElement: state.builder.present.activeElement,\n        styles: state.builder.present[props.id].styles.map(\n            style => state.builder.present[style]\n        ),\n        previewIsOn: state.builder.present.preview,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        selectSection: (item, event) => {\n            dispatch(actions.chooseSection(item, event))\n        },\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Section)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Layout_Content__3IP_7\"};","module.exports = __webpack_public_path__ + \"static/media/logo.a2b37daf.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerToggle\":\"DrawerToggle_DrawerToggle__2xK-a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItemButtonDropDown\":\"NavigationItemButtonDropDown_NavigationItemButtonDropDown__1Ntgo\",\"disabled\":\"NavigationItemButtonDropDown_disabled__OXsyM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Block\":\"ToolsBlock_Block__3lf7p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"NavigationItems_NavigationItems__33CeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__mzaRP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__1o5bI\",\"Form\":\"Auth_Form__1jxXx\",\"Title\":\"Auth_Title__27IW2\",\"Subtitle\":\"Auth_Subtitle__3Exhr\",\"ActionBlock\":\"Auth_ActionBlock__2XxV3\",\"Middle\":\"Auth_Middle__1w0Br\",\"RememberForgot\":\"Auth_RememberForgot__9TDDW\",\"ForgotPassword\":\"Auth_ForgotPassword__HbLgh\",\"Link\":\"Auth_Link__2Eg4E\",\"RememberMe\":\"Auth_RememberMe__3dF3s\",\"RememberMeLabel\":\"Auth_RememberMeLabel__18zEB\"};","export const CHOOSE_BOX = 'CHOOSE_BOX'\nexport const CHOOSE_SECTION = 'CHOOSE_SECTION'\nexport const DESELECT_ELEMENTS = 'DESELECT_ELEMENTS'\n\nexport const CLICK_TOP_MENU_ITEM = 'CLICK_TOP_MENU_ITEM'\nexport const CHANGE_ALIGN_MODE = 'CHANGE_ALIGN_MODE'\n\nexport const CHANGE_ELEMENT_PROPERTY_VALUE = 'CHANGE_ELEMENT_PROPERTY_VALUE'\nexport const CHANGE_ELEMENT_PROPERTY_VALUES = 'CHANGE_ELEMENT_PROPERTY_VALUES'\n\nexport const DELETE_SECTION = 'DELETE_SECTION'\nexport const ADD_SECTION = 'ADD_SECTION'\nexport const DUPLICATE_SECTION = 'DUPLICATE_SECTION'\nexport const MOVE_UP_SECTION = 'MOVE_UP_SECTION'\nexport const MOVE_DOWN_SECTION = 'MOVE_DOWN_SECTION'\n\nexport const DELETE_BOX = 'DELETE_BOX'\nexport const ADD_BOX = 'ADD_BOX'\nexport const DUPLICATE_BOX = 'DUPLICATE_BOX'\nexport const MOVE_UP_BOX = 'MOVE_UP_BOX'\nexport const MOVE_DOWN_BOX = 'MOVE_DOWN_BOX'\nexport const ZINDEX_UP_BOX = 'ZINDEX_UP_BOX'\nexport const ZINDEX_DOWN_BOX = 'ZINDEX_DOWN_BOX'\nexport const ALIGN_BOXES = 'ALIGN_BOXES'\nexport const COPY_BOX = 'COPY_BOX'\nexport const CUT_BOX = 'CUT_BOX'\nexport const PASTE_BOX = 'PASTE_BOX'\nexport const CLEAR_STYLE = 'CLEAR_STYLE'\n\nexport const ENTER_BOX = 'ENTER_BOX'\nexport const EXIT_BOX = 'EXIT_BOX'\nexport const DESELECT_INNER = 'DESELECT_INNER'\n\nexport const SAVE_TO_HISTORY = 'SAVE_TO_HISTORY'\n\nexport const ADD_ELEMENTS_TO_BUFFER = 'ADD_ELEMENTS_TO_BUFFER'\n\nexport const SET_STATE_HOVER = 'SET_STATE_HOVER'\nexport const SET_STATE_ACTIVE = 'SET_STATE_ACTIVE'\nexport const UNSET_STATE_HOVER_ACTIVE = 'UNSET_STATE_HOVER_ACTIVE'\n\nexport const BUILDER_ZOOM_OUT = 'BUILDER_ZOOM_OUT'\nexport const BUILDER_ZOOM_IN = 'BUILDER_ZOOM_IN'\nexport const BUILDER_ZOOM_RESET = 'BUILDER_ZOOM_RESET'\n\nexport const LOAD_CURRENT_PAGE_TO_BUILDER = 'LOAD_CURRENT_PAGE_TO_BUILDER'\n\nexport const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nexport const MARK_PAGE_AS_SAVED = 'MARK_PAGE_AS_SAVED'\nexport const MARK_PAGE_AS_LEAVING = 'MARK_PAGE_AS_LEAVING'\n\nexport const PREVIEW_PAGE = 'PREVIEW_PAGE'\n\nexport const UPDATE_TEXT_VALUES = 'UPDATE_TEXT_VALUES'\n\nexport const AUTH_START = 'AUTH_START'\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\nexport const AUTH_FAIL = 'AUTH_FAIL'\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT'\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH'\nexport const DELETE_START = 'DELETE_START'\nexport const DELETE_SUCCESS = 'DELETE_SUCCESS'\nexport const DELETE_FAIL = 'DELETE_FAIL'\n\nexport const SAVE_WEBSITE_DATA_FROM_SERVER = 'SAVE_WEBSITE_DATA_FROM_SERVER'\nexport const LOAD_WEBSITE_FROM_SERVER = 'LOAD_WEBSITE_FROM_SERVER'\nexport const CREATE_WEBSITE = 'CREATE_WEBSITE'\nexport const LOAD_WEBSITE = 'LOAD_WEBSITE'\nexport const ACTION_START = 'ACTION_START'\nexport const ACTION_START_PAGE_LOAD = 'ACTION_START_PAGE_LOAD'\nexport const ACTION_FAIL = 'ACTION_FAIL'\nexport const ADD_PAGE_SUCCESS = 'ADD_PAGE_SUCCESS'\nexport const DELETE_PAGE_SUCCESS = 'DELETE_PAGE_SUCCESS'\nexport const ACTION_SUCCESS = 'ACTION_SUCCESS'\nexport const ACTION_SUCCESS_PAGE_LOAD = 'ACTION_SUCCESS_PAGE_LOAD'\nexport const SAVE_PAGE_STRUCTURE_TO_STORE = 'SAVE_PAGE_STRUCTURE_TO_STORE'\nexport const SAVE_PAGE_IN_STATE = 'SAVE_PAGE_IN_STATE'\nexport const SET_URL_IS_NOT_VALID = 'SET_URL_IS_NOT_VALID'\n\nexport const LOAD_GLOBALS_TO_STORE = 'LOAD_GLOBALS_TO_STORE'\n","import React from 'react';\nimport type { Node } from 'react'\n\nimport classes from './ToolsBlock.module.css';\n\ntype Props = {\n    children: Node\n}\n\nexport const toolsBlock = (props: Props) => {\n    return (\n        <td className={classes.Block}>\n            {props.children}\n        </td>\n    );\n};\n\nexport default toolsBlock;","import React from 'react';\n\nimport classes from './BigButton.module.css';\nimport Svg from '../../../Svg/Svg';\n\ntype Props = {\n    title?: string,\n    buttonClicked: Function,\n    icon: string,\n    datatestid?: string\n}\n\nexport const BigButton = (props: Props) => {\n    return (\n        <button\n            data-testid={props.datatestid || \"MyButton\" }\n            className={classes.Button}\n            onClick={props.buttonClicked}>\n            <table className={classes.Table}>\n                <tbody>\n                    <tr>\n                        <td><Svg icon={props.icon}/></td>\n                    </tr>\n                    <tr>\n                        <td>{props.title}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </button>\n    );\n};\n\nexport default BigButton;","import * as actionTypes from './actionTypes'\nimport * as actions from './index'\nimport { getElementsToAdd } from '../reducers/BuilderReducer/utils'\n\nexport const chooseBox = (item: string, ctrl?: boolean) => (\n    dispatch: Object\n) => {\n    dispatch(chooseBoxDo(item, ctrl))\n    dispatch(actions.setActiveTopMenuItem('boxes'))\n}\n\nexport const chooseBoxDo = (item: string, ctrl?: boolean) => ({\n    type: actionTypes.CHOOSE_BOX,\n    item,\n    ctrl,\n})\n\nexport const chooseSection = (item: string, event: Event) => {\n    event.stopPropagation()\n    return (dispatch: Object) => {\n        dispatch(chooseSectionDo(item))\n        dispatch(actions.setActiveTopMenuItem('sections'))\n    }\n}\n\nexport const chooseSectionDo = (item: string) => ({\n    type: actionTypes.CHOOSE_SECTION,\n    item,\n})\n\nexport const deselectElements = () => ({ type: actionTypes.DESELECT_ELEMENTS })\nexport const deselectInner = (e: Event, item: string) => {\n    e.stopPropagation()\n    return { type: actionTypes.DESELECT_INNER, item }\n}\n\nexport const changeElementPropertyValue = (\n    value: any,\n    key: string,\n    isSection?: boolean,\n    isNotForHistory?: boolean\n) => ({\n    type: actionTypes.CHANGE_ELEMENT_PROPERTY_VALUE,\n    value,\n    key,\n    isSection,\n    isNotForHistory,\n})\n\nexport const changeElementPropertyValues = (\n    isNotForHistory?: boolean,\n    items: Array<string>\n) => ({\n    type: actionTypes.CHANGE_ELEMENT_PROPERTY_VALUES,\n    items,\n    isNotForHistory,\n})\n\nexport const deleteSection = () => ({ type: actionTypes.DELETE_SECTION })\nexport const addSection = () => ({ type: actionTypes.ADD_SECTION })\nexport const duplicateSection = () => ({ type: actionTypes.DUPLICATE_SECTION })\nexport const moveUpSection = () => ({ type: actionTypes.MOVE_UP_SECTION })\nexport const moveDownSection = () => ({ type: actionTypes.MOVE_DOWN_SECTION })\n\nexport const deleteBox = () => ({ type: actionTypes.DELETE_BOX })\nexport const addBox = (rootElements?: Array<string>, items?: Object) => ({\n    type: actionTypes.ADD_BOX,\n    rootElements,\n    items,\n})\nexport const duplicateBox = () => ({ type: actionTypes.DUPLICATE_BOX })\nexport const moveUpBox = () => ({ type: actionTypes.MOVE_UP_BOX })\nexport const moveDownBox = () => ({ type: actionTypes.MOVE_DOWN_BOX })\nexport const zIndexUpBox = () => ({ type: actionTypes.ZINDEX_UP_BOX })\nexport const zIndexDownBox = () => ({ type: actionTypes.ZINDEX_DOWN_BOX })\n\nexport const copyBox = (builderPresentState: Object, bufferState: Object) => (\n    dispatch: Object\n) => {\n    const firstLayerElements = []\n    const elementsToAdd = getElementsToAdd(\n        builderPresentState,\n        builderPresentState.chosenBoxes,\n        firstLayerElements,\n        null,\n        undefined,\n        null,\n        bufferState\n    )\n    dispatch(actions.addElementsToBuffer(firstLayerElements, elementsToAdd))\n}\n\nexport const cutBox = (builderPresentState: Object, bufferState: Object) => (\n    dispatch: Object\n) => {\n    const firstLayerElements = []\n    const elementsToAdd = getElementsToAdd(\n        builderPresentState,\n        builderPresentState.chosenBoxes,\n        firstLayerElements,\n        null,\n        undefined,\n        null,\n        bufferState\n    )\n    dispatch(actions.addElementsToBuffer(firstLayerElements, elementsToAdd))\n    dispatch(deleteBox())\n}\n\nexport const pasteBox = (builderPresentState: Object, bufferState: Object) => (\n    dispatch: Object\n) => {\n    const firstLayerElements = []\n    const elementsToAdd = getElementsToAdd(\n        bufferState,\n        bufferState.rootElements,\n        firstLayerElements,\n        null,\n        undefined,\n        null,\n        builderPresentState\n    )\n    dispatch(addBox(firstLayerElements, elementsToAdd))\n}\n\nexport const enterBox = () => ({ type: actionTypes.ENTER_BOX })\nexport const exitBox = () => ({ type: actionTypes.EXIT_BOX })\n\nexport const clearStyle = (value: any, isSection?: boolean) => ({\n    type: actionTypes.CLEAR_STYLE,\n    isSection,\n    value,\n})\n\nexport const changeAlignMode = (value: 'parent' | 'selection' | 'element') => ({\n    type: actionTypes.CHANGE_ALIGN_MODE,\n    value,\n})\n\nexport const alignBoxes = (alignType: string) => ({\n    type: actionTypes.ALIGN_BOXES,\n    alignType,\n})\n\nexport const setStateHover = (isSection?: boolean) => ({\n    type: actionTypes.SET_STATE_HOVER,\n    isSection,\n})\nexport const setStateActive = (isSection?: boolean) => ({\n    type: actionTypes.SET_STATE_ACTIVE,\n    isSection,\n})\nexport const unsetStateHoverActive = () => ({\n    type: actionTypes.UNSET_STATE_HOVER_ACTIVE,\n})\n\nexport const builderZoomOut = () => ({ type: actionTypes.BUILDER_ZOOM_OUT })\nexport const builderZoomIn = () => ({ type: actionTypes.BUILDER_ZOOM_IN })\nexport const builderZoomReset = () => ({ type: actionTypes.BUILDER_ZOOM_RESET })\n\nexport const saveToHistory = () => ({ type: actionTypes.SAVE_TO_HISTORY })\n\nexport const previewPage = () => ({ type: actionTypes.PREVIEW_PAGE })\n\nexport const updateTextValues = (values: Object) => ({\n    type: actionTypes.UPDATE_TEXT_VALUES,\n    values,\n})\n\nexport const loadCurrentPageToBuilder = (\n    _id: ?string,\n    pagesObjects: Object,\n    pageObject: Object\n) => ({\n    type: actionTypes.LOAD_CURRENT_PAGE_TO_BUILDER,\n    _id,\n    pagesObjects,\n    pageObject,\n})\n\nexport const markPageAsSaved = () => ({ type: actionTypes.MARK_PAGE_AS_SAVED })\nexport const markPageAsLeaving = () => ({\n    type: actionTypes.MARK_PAGE_AS_LEAVING,\n})\n","import * as actionTypes from './actionTypes'\n\nexport const setActiveTopMenuItem = (item: string) => ({\n    type: actionTypes.CLICK_TOP_MENU_ITEM,\n    item,\n})\n","import * as actionTypes from './actionTypes';\n\nexport const addElementsToBuffer = (rootElements: Array<string>, items?: Object) => ({\n  type: actionTypes.ADD_ELEMENTS_TO_BUFFER,\n  rootElements,\n  items,\n});\n","import axios from 'axios'\n\nimport * as actionTypes from './actionTypes'\nimport * as actions from './index'\n\nexport const authStart = () => ({\n    type: actionTypes.AUTH_START,\n})\n\nexport const authSuccess = (data: Object) => ({\n    type: actionTypes.AUTH_SUCCESS,\n    data,\n})\n\nexport const authFail = (error: string) => ({\n    type: actionTypes.AUTH_FAIL,\n    error,\n})\n\nexport const deleteStart = () => ({\n    type: actionTypes.DELETE_START,\n})\n\nexport const deleteSuccess = () => ({\n    type: actionTypes.DELETE_SUCCESS,\n})\n\nexport const deleteFail = (error: string) => ({\n    type: actionTypes.DELETE_FAIL,\n    error,\n})\n\nexport const deleteUser = () => (dispatch: Object) => {\n    dispatch(deleteStart())\n    return axios\n        .delete('/api/users')\n        .then(response => {\n            dispatch(logout())\n            dispatch(deleteSuccess())\n        })\n        .catch(err => {\n            dispatch(deleteFail(err.message))\n        })\n}\n\nexport const logout = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n    localStorage.removeItem('currentAction')\n    axios.defaults.headers.common['X-Auth-Token'] = null\n    return {\n        type: actionTypes.AUTH_LOGOUT,\n    }\n}\n\nexport const auth = (email: string, password: string, isSignup?: boolean) => (\n    dispatch: Object\n) => {\n    dispatch(authStart())\n    const authData = {\n        email,\n        password,\n    }\n\n    let url = '/api/users'\n    if (!isSignup) {\n        url = '/api/auth'\n    }\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n\n    return axios\n        .post(url, JSON.stringify(authData))\n        .then(response => {\n            localStorage.setItem('token', response.data.token)\n            localStorage.setItem('userId', response.data._id)\n            localStorage.setItem('currentAction', response.data.currentAction)\n            axios.defaults.headers.common['X-Auth-Token'] = response.data.token\n            dispatch(authSuccess(response.data))\n            dispatch(actions.saveWebsiteDataFromServer(response.data))\n        })\n        .catch(err => {\n            dispatch(authFail(err.message))\n        })\n}\n\nexport const authCheckState = () => (dispatch: Object) => {\n    const token = localStorage.getItem('token')\n    const userId = localStorage.getItem('userId')\n    axios.defaults.headers.post['Content-Type'] = 'application/json'\n    axios.defaults.headers.put['Content-Type'] = 'application/json'\n    axios.defaults.headers.delete['Content-Type'] = 'application/json'\n    axios.defaults.headers.common.Accept = 'application/json'\n\n    if (!token || !userId) {\n        dispatch(logout())\n    } else {\n        axios.defaults.headers.common['X-Auth-Token'] = token\n        dispatch(authStart())\n        return axios\n            .get('/api/users')\n            .then(response => {\n                localStorage.setItem(\n                    'currentAction',\n                    response.data.currentAction\n                )\n                dispatch(\n                    authSuccess({\n                        ...response.data,\n                        _id: userId,\n                        token,\n                    })\n                )\n                dispatch(actions.saveWebsiteDataFromServer(response.data))\n            })\n            .catch(err => {\n                dispatch(authFail(err.message))\n            })\n    }\n}\n","export const determineCurrentPage = (data: Object) => {\n    if(data.currentPage) {\n        return data.currentPage;\n    } else {\n        if(data.website.pagesStructure.length > 0) {\n            return data.website.pagesStructure[0].id;\n        } else {\n            return null;\n        }\n    }\n}","import axios from 'axios'\nimport { ActionCreators as UndoActionCreators } from 'redux-undo'\n\nimport * as actionTypes from './actionTypes'\nimport * as actions from './index'\nimport { determineCurrentPage } from '../../utils/determineCurrentPage'\n\ntype PagesStructureType = Array<{\n    id: string,\n    isNotPublished: boolean,\n    isHomePage: boolean,\n}>\n\nexport const saveWebsiteDataFromServer = (data: Object) => ({\n    type: actionTypes.SAVE_WEBSITE_DATA_FROM_SERVER,\n    data,\n})\n\nexport const loadWebsiteFromServer = (data: Object) => ({\n    type: actionTypes.LOAD_WEBSITE_FROM_SERVER,\n    data,\n})\n\nexport const createWebsite = () => (dispatch: Object) => {\n    dispatch(actionStart())\n    return axios\n        .post('/api/websites')\n        .then(response => {\n            const currentPage = determineCurrentPage(response.data)\n            dispatch(\n                saveWebsiteDataFromServer({ ...response.data, currentPage })\n            )\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    currentPage,\n                    response.data.pagesObjects\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const loadWebsite = (_id: string) => (dispatch: Object) => {\n    dispatch(actionStart())\n    return axios\n        .get(`/api/websites/${_id}`)\n        .then(response => {\n            const currentPage = determineCurrentPage(response.data)\n            dispatch(loadWebsiteFromServer({ ...response.data, currentPage }))\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    currentPage,\n                    response.data.pagesObjects\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const saveWebsiteSettings = (\n    _id: string,\n    title: string,\n    domain: string\n) => (dispatch: Object) => {\n    dispatch(actionStart())\n    const websiteData = {\n        title,\n        domain,\n    }\n    return axios\n        .put(`/api/websites/${_id}`, JSON.stringify(websiteData))\n        .then(response => {\n            dispatch(saveWebsiteDataFromServer(response.data))\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const deleteWebsite = (_id: string) => (dispatch: Object) => {\n    dispatch(actionStart())\n    return axios\n        .delete(`/api/websites/${_id}`)\n        .then(response => {\n            const currentPage = determineCurrentPage(response.data)\n            dispatch(\n                saveWebsiteDataFromServer({ ...response.data, currentPage })\n            )\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    currentPage,\n                    response.data.pagesObjects\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const actionStart = () => ({\n    type: actionTypes.ACTION_START,\n})\n\nexport const actionSuccess = () => ({\n    type: actionTypes.ACTION_SUCCESS,\n})\n\nexport const actionStartPageLoad = () => ({\n    type: actionTypes.ACTION_START_PAGE_LOAD,\n})\n\nexport const actionSuccessPageLoad = () => ({\n    type: actionTypes.ACTION_SUCCESS_PAGE_LOAD,\n})\n\nexport const actionFail = (error: string) => ({\n    type: actionTypes.ACTION_FAIL,\n    error,\n})\n\nexport const addPage = (websiteId: string, currentPageId: string) => (\n    dispatch: Object\n) => {\n    dispatch(actionStart())\n    return axios\n        .post(\n            '/api/pages',\n            JSON.stringify({\n                websiteId,\n                currentPageId,\n            })\n        )\n        .then(response => {\n            dispatch(addPageSuccess(response.data))\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    response.data.page._id,\n                    null,\n                    response.data.page\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const addPageSuccess = (data: Object) => ({\n    type: actionTypes.ADD_PAGE_SUCCESS,\n    page: data.page,\n    pagesStructure: data.pagesStructure,\n})\n\nexport const deletePage = (currentPageId: string, pagesObjects: Object) => (\n    dispatch: Object\n) => {\n    dispatch(actionStart())\n    return axios\n        .delete(`/api/pages/${currentPageId}`)\n        .then(response => {\n            dispatch(deletePageSuccess(response.data))\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    response.data.currentPage,\n                    pagesObjects\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const deletePageSuccess = (data: Object) => ({\n    type: actionTypes.DELETE_PAGE_SUCCESS,\n    pagesStructure: data.pagesStructure,\n    currentPage: data.currentPage,\n})\n\nexport const duplicatePage = (websiteId: string, currentPageId: string) => (\n    dispatch: Object\n) => {\n    dispatch(actionStart())\n    return axios\n        .post(\n            '/api/pages',\n            JSON.stringify({\n                currentPageId,\n                websiteId,\n                duplicate: true,\n            })\n        )\n        .then(response => {\n            dispatch(addPageSuccess(response.data))\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    response.data.page._id,\n                    null,\n                    response.data.page\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const savePagesStructure = (\n    _id: string,\n    pagesStructure: PagesStructureType\n) => (dispatch: Object) => {\n    dispatch(actionStart())\n    return axios\n        .put(`/api/websites/${_id}`, JSON.stringify({ pagesStructure }))\n        .then(response => {\n            dispatch(actionSuccess())\n            if (response.data.urlNotOk) {\n                dispatch(setUrlIsNotValid())\n            } else {\n                dispatch(savePagesStructureToStore(pagesStructure))\n            }\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const setUrlIsNotValid = () => ({\n    type: actionTypes.SET_URL_IS_NOT_VALID,\n})\n\nexport const savePagesStructureToStore = (\n    pagesStructure: PagesStructureType\n) => ({\n    type: actionTypes.SAVE_PAGE_STRUCTURE_TO_STORE,\n    pagesStructure,\n})\n\nexport const setCurrentPageMain = (\n    _id: string,\n    pagesObjects: Object,\n    websiteId: string\n) => (dispatch: Object) => {\n    dispatch(actionStartPageLoad())\n    dispatch(setCurrentPage(_id))\n    dispatch(actions.loadCurrentPageToBuilder(_id, pagesObjects))\n    return axios\n        .put(\n            `/api/websites/currentpage/${websiteId}`,\n            JSON.stringify({ currentPage: _id })\n        )\n        .then(response => {\n            dispatch(actionSuccessPageLoad())\n            // $FlowFixMe\n            dispatch(UndoActionCreators.clearHistory())\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n            // $FlowFixMe\n            dispatch(UndoActionCreators.clearHistory())\n        })\n}\n\nexport const setCurrentPage = (_id: string) => ({\n    type: actionTypes.SET_CURRENT_PAGE,\n    _id,\n})\n\nexport const savePage = (\n    value: Object,\n    currentPageId: string,\n    pagesStructure: PagesStructureType\n) => (dispatch: Object) => {\n    dispatch(actionStart())\n    dispatch(savePageInState(value))\n    const currentPage = pagesStructure.find(item => item.id === currentPageId)\n    if (currentPage) {\n        currentPage.isNotPublished = true\n    }\n    dispatch(actions.markPageAsSaved())\n    return axios\n        .put(\n            `/api/pages/${currentPageId}`,\n            JSON.stringify({ ...value, pagesStructure })\n        )\n        .then(response => {\n            dispatch(savePagesStructureToStore(pagesStructure))\n            dispatch(actionSuccess())\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const savePageInPagesStructure = (\n    value: Object,\n    currentPageId: string,\n    pagesStructure: PagesStructureType,\n    websiteId: string\n) => (dispatch: Object) => {\n    const index = pagesStructure.findIndex(item => item.id === currentPageId)\n    if (index < 0) {\n        return\n    }\n    pagesStructure[index] = {\n        ...pagesStructure[index],\n        ...value,\n    }\n\n    return dispatch(savePagesStructure(websiteId, pagesStructure))\n}\n\nexport const savePageInPagesStructureHomePage = (\n    value: Object,\n    currentPageId: string,\n    pagesStructure: PagesStructureType,\n    websiteId: string\n) => (dispatch: Object) => {\n    pagesStructure.forEach(item => (item.isHomePage = false))\n    return dispatch(\n        savePageInPagesStructure(\n            value,\n            currentPageId,\n            pagesStructure,\n            websiteId\n        )\n    )\n}\n\nexport const publishPage = (\n    websiteId: string,\n    currentPageId: string,\n    pagesStructure: PagesStructureType,\n    publishOne: boolean\n) => (dispatch: Object) => {\n    dispatch(actionStart())\n    if (publishOne) {\n        let currentPage = pagesStructure.find(item => item.id === currentPageId)\n        if (currentPage) {\n            currentPage.isNotPublished = false\n        }\n    } else {\n        pagesStructure.forEach(item => (item.isNotPublished = false))\n    }\n    return axios\n        .post(\n            '/api/pages/publish',\n            JSON.stringify({\n                websiteId,\n                currentPageId,\n                publishOne,\n                pagesStructure,\n            })\n        )\n        .then(response => {\n            dispatch(actionSuccess())\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const revertPage = (\n    websiteId: string,\n    currentPageId: string,\n    pagesStructure: PagesStructureType,\n    publishOne: boolean\n) => (dispatch: Object) => {\n    dispatch(actionStart())\n    if (publishOne) {\n        let currentPage = pagesStructure.find(item => item.id === currentPageId)\n        if (currentPage) {\n            currentPage.isNotPublished = false\n        }\n    } else {\n        pagesStructure.forEach(item => (item.isNotPublished = false))\n    }\n    return axios\n        .post(\n            '/api/pages/revert',\n            JSON.stringify({\n                websiteId,\n                currentPageId,\n                publishOne,\n                pagesStructure,\n            })\n        )\n        .then(response => {\n            dispatch(saveWebsiteDataFromServer(response.data))\n            dispatch(\n                actions.loadCurrentPageToBuilder(\n                    currentPageId,\n                    response.data.pagesObjects\n                )\n            )\n        })\n        .catch(err => {\n            dispatch(actionFail(err.message))\n        })\n}\n\nexport const savePageInState = (value: Object) => ({\n    type: actionTypes.SAVE_PAGE_IN_STATE,\n    ...value,\n})\n\nexport const loadGlobalsToStore = (\n    pagesStructure: PagesStructureType,\n    pagesObjects: Object,\n    currentPage: string\n) => ({\n    type: actionTypes.LOAD_GLOBALS_TO_STORE,\n    pagesStructure,\n    pagesObjects,\n    currentPage,\n})\n","export {\n    chooseBox,\n    deselectElements,\n    chooseSection,\n    changeAlignMode,\n    changeElementPropertyValue,\n    changeElementPropertyValues,\n    addSection,\n    deleteSection,\n    duplicateSection,\n    moveUpSection,\n    moveDownSection,\n    addBox,\n    deleteBox,\n    duplicateBox,\n    moveUpBox,\n    moveDownBox,\n    zIndexUpBox,\n    zIndexDownBox,\n    alignBoxes,\n    copyBox,\n    cutBox,\n    pasteBox,\n    enterBox,\n    exitBox,\n    deselectInner,\n    clearStyle,\n    setStateHover,\n    setStateActive,\n    unsetStateHoverActive,\n    builderZoomOut,\n    builderZoomIn,\n    builderZoomReset,\n    saveToHistory,\n    previewPage,\n    loadCurrentPageToBuilder,\n    markPageAsSaved,\n    markPageAsLeaving,\n    updateTextValues,\n} from './builder'\n\nexport { setActiveTopMenuItem } from './topMenu'\n\nexport { addElementsToBuffer } from './buffer'\n\nexport { auth, logout, authCheckState, deleteUser } from './auth'\n\nexport {\n    saveWebsiteDataFromServer,\n    createWebsite,\n    loadWebsite,\n    saveWebsiteSettings,\n    deleteWebsite,\n    savePagesStructure,\n    duplicatePage,\n    savePage,\n    savePageInPagesStructure,\n    savePageInPagesStructureHomePage,\n    addPage,\n    deletePage,\n    setCurrentPageMain,\n    publishPage,\n    revertPage,\n    loadGlobalsToStore,\n} from './website'\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\n\ntype Props = {\n    onLogout: () => {}\n}\n\nclass Logout extends Component<Props> {\n    componentDidMount () {\n        this.props.onLogout();\n    }\n\n    render () {\n        return <Redirect to=\"/login\" />;\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onLogout: () => dispatch(actions.logout())\n    }\n};\n\nexport default connect(null, mapDispatchToProps)(Logout);","import React, { Component } from 'react';\n\ntype Props = {\n\n}\n\ntype State = {\n    component: Object | null    \n}\n\nconst asyncComponent = (importComponent: Object) => {\n    return class extends Component<Props, State> {\n        state = {\n            component: null\n        }\n\n        componentDidMount () {\n            importComponent()\n                .then(cmp => {\n                    this.setState({component: cmp.default});\n                });\n        }\n        \n        render () {\n            const C = this.state.component;\n            return C ? <C {...this.props} /> : null;\n        }\n    }\n}\n\nexport default asyncComponent;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect, Link } from 'react-router-dom'\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\nimport GoogleLogin from 'react-google-login'\n\nimport LoginInput from '../../components/UI/LoginInput/LoginInput'\nimport LoginButton from '../../components/UI/LoginButton/LoginButton'\nimport classes from './Auth.module.css'\nimport * as actions from '../../store/actions/index'\nimport Spinner from '../../components/UI/Spinner/Spinner'\n\ntype Props = {\n    loading?: boolean,\n    error?: { data: string },\n    isAuthenticated: boolean,\n    onAuth: (email: string, password: string, isSignup?: boolean) => {},\n    location: {\n        pathname: string,\n    },\n    test?: boolean,\n}\n\ntype State = {\n    controls: {\n        email: {\n            label: 'Email',\n            type: 'email',\n            placeholder: 'Mail address',\n            value: string,\n            validation: {\n                required: true,\n                isEmail: true,\n            },\n            valid: boolean,\n            touched: boolean,\n        },\n        password: {\n            label: 'Password',\n            type: 'password',\n            placeholder: 'Password',\n            value: string,\n            validation: {\n                required: true,\n                minLength: 6,\n            },\n            valid: boolean,\n            touched: boolean,\n            isPassword: true,\n            isPasswordVisible: boolean,\n        },\n    },\n    rememberMe?: boolean,\n}\n\nclass Auth extends Component<Props, State> {\n    state = {\n        controls: {\n            email: {\n                label: 'Email',\n                type: 'email',\n                placeholder: 'Mail address',\n                value: '',\n                validation: {\n                    required: true,\n                    isEmail: true,\n                },\n                valid: false,\n                touched: false,\n            },\n            password: {\n                label: 'Password',\n                type: 'password',\n                placeholder: 'Password',\n                value: '',\n                validation: {\n                    required: true,\n                    minLength: 6,\n                },\n                valid: false,\n                touched: false,\n                isPassword: true,\n                isPasswordVisible: false,\n            },\n        },\n    }\n    isSignup: boolean\n\n    responseFacebook = response => {\n        console.log(response)\n    }\n\n    responseGoogle = response => {\n        console.log(response)\n    }\n\n    checkValidity(value, rules) {\n        let isValid = true\n        if (!rules) {\n            return true\n        }\n\n        if (rules.required) {\n            isValid = value.trim() !== '' && isValid\n        }\n\n        if (rules.minLength) {\n            isValid = value.length >= rules.minLength && isValid\n        }\n\n        if (rules.maxLength) {\n            isValid = value.length <= rules.maxLength && isValid\n        }\n\n        if (rules.isEmail) {\n            const pattern = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            isValid = pattern.test(value) && isValid\n        }\n\n        if (rules.isNumeric) {\n            const pattern = /^\\d+$/\n            isValid = pattern.test(value) && isValid\n        }\n\n        return isValid\n    }\n\n    inputChangedHandler = (event, controlName: string) => {\n        const updatedControls = {\n            ...this.state.controls,\n            [controlName]: {\n                ...this.state.controls[controlName],\n                value: event.target.value,\n                valid: this.checkValidity(\n                    event.target.value,\n                    this.state.controls[controlName].validation\n                ),\n                touched: true,\n            },\n        }\n\n        this.setState({ controls: updatedControls })\n    }\n\n    submitHandler = event => {\n        event.preventDefault()\n        this.props.onAuth(\n            this.state.controls.email.value,\n            this.state.controls.password.value,\n            this.isSignup\n        )\n    }\n\n    handleTogglePasswordVisible = () => {\n        this.setState({\n            controls: {\n                ...this.state.controls,\n                password: {\n                    ...this.state.controls.password,\n                    isPasswordVisible: !this.state.controls.password\n                        .isPasswordVisible,\n                },\n            },\n        })\n    }\n\n    handleRememberMe = e => {\n        this.setState({\n            rememberMe: e.target.checked,\n        })\n    }\n\n    render() {\n        const isSignup = this.props.location.pathname === '/signup'\n        this.isSignup = isSignup\n        const formElementsArray = []\n        for (let key in this.state.controls) {\n            formElementsArray.push({\n                id: key,\n                config: this.state.controls[key],\n            })\n        }\n\n        let form = formElementsArray.map(formElement => (\n            <LoginInput\n                datatestid={formElement.config.type}\n                key={formElement.id}\n                type={formElement.config.type}\n                placeholder={formElement.config.placeholder}\n                value={formElement.config.value}\n                changed={event =>\n                    this.inputChangedHandler(event, formElement.id)\n                }\n                invalid={!formElement.config.valid}\n                shouldValidate={formElement.config.validation}\n                touched={formElement.config.touched}\n                label={formElement.config.label}\n                password={formElement.config.isPassword}\n                passwordVisible={formElement.config.isPasswordVisible}\n                togglePasswordVisible={this.handleTogglePasswordVisible}\n            />\n        ))\n\n        if (this.props.loading) {\n            form = <Spinner />\n        }\n\n        let errorMessage = null\n\n        if (this.props.error) {\n            errorMessage = <p>{this.props.error.data}</p>\n        }\n\n        let authRedirect = null\n\n        if (this.props.isAuthenticated) {\n            authRedirect = <Redirect to={'/dashboard'} />\n        }\n\n        const title = isSignup ? 'Sign Up' : 'Log In'\n\n        const subtitile = isSignup ? (\n            <div>\n                Have an account?{' '}\n                <Link to=\"/login\" className={classes.Link}>\n                    Log In\n                </Link>\n            </div>\n        ) : (\n            <div>\n                Don't have an account?{' '}\n                <Link to=\"/signup\" className={classes.Link}>\n                    Sign Up\n                </Link>\n            </div>\n        )\n\n        const forgotPassword = isSignup ? (\n            <div className={classes.ForgotPassword}>Forgot Password?</div>\n        ) : null\n\n        return (\n            <div className={classes.Auth} data-testid=\"authMain\">\n                {authRedirect}\n                <form className={classes.Form} onSubmit={this.submitHandler}>\n                    <div className={classes.Title}>{title}</div>\n                    <div className={classes.Subtitle}>{subtitile}</div>\n                    <div className={classes.ActionBlock}>\n                        <div>\n                            {form}\n                            <div className={classes.RememberForgot}>\n                                <div>\n                                    <label className={classes.RememberMeLabel}>\n                                        <input\n                                            type=\"checkbox\"\n                                            className={classes.RememberMe}\n                                            onChange={this.handleRememberMe}\n                                        />\n                                        Remember Me\n                                    </label>\n                                </div>\n                                {forgotPassword}\n                            </div>\n                            {errorMessage}\n                            <LoginButton btnType=\"Success\">{title}</LoginButton>\n                        </div>\n                        <div className={classes.Middle} />\n                        {!this.props.test ? (\n                            <div>\n                                <FacebookLogin\n                                    appId=\"1088597931155576\"\n                                    autoLoad={true}\n                                    fields=\"name,email,picture\"\n                                    callback={this.responseFacebook}\n                                    render={renderProps => (\n                                        <button onClick={renderProps.onClick}>\n                                            Continue with Facebook\n                                        </button>\n                                    )}\n                                />\n                                <GoogleLogin\n                                    clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\n                                    onSuccess={this.responseGoogle}\n                                    onFailure={this.responseGoogle}\n                                    render={renderProps => (\n                                        <button onClick={renderProps.onClick}>\n                                            Continue with Google\n                                        </button>\n                                    )}\n                                />\n                            </div>\n                        ) : null}\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.auth.loading,\n        error: state.auth.error,\n        isAuthenticated: state.auth.token !== null,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onAuth: (email, password, isSignup) =>\n            dispatch(actions.auth(email, password, isSignup)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Auth)\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport websiterLogo from '../../assets/icons/logo.svg';\nimport classes from './Logo.module.css';\n\ntype Props = {\n    height?: number\n}\n\nconst logo = (props: Props) => (\n    <Link \n        to=\"/dashboard\"\n        className={classes.Link}>\n        <div \n            className={classes.Logo} \n            style={{height: props.height}} >\n            <img \n                src={websiterLogo} \n                alt=\"W\"/>\n            <span>Websiter</span>\n        </div>\n    </Link>\n);\n\nexport default logo;","import React from 'react';\nimport classes from './DrawerToggle.module.css';\n\ntype Props = {\n    clicked: () => {}\n}\n\nconst drawerToggle = (props: Props) => (\n    <div\n        data-testid=\"drawerToggle\"\n        className={classes.DrawerToggle} \n        onClick={props.clicked}>\n        <div></div>\n        <div></div>\n        <div></div>\n    </div>\n);\n\nexport default drawerToggle;","import React from 'react'\nimport type { Node } from 'react'\nimport { connect } from 'react-redux'\n\nimport classes from './NavigationItem.module.css'\nimport * as actions from '../../../../../store/actions/index'\n\ntype Props = {\n    activeItem: string,\n    type: string,\n    clickItem: (type: string) => {},\n    children?: Node,\n    clicked?: () => {},\n}\n\nconst NavigationItem = (props: Props) => {\n    const addedClasses = [classes.NavigationItem]\n    if (props.activeItem === props.type) {\n        addedClasses.push(classes.active)\n    }\n\n    return (\n        <li\n            className={addedClasses.join(' ')}\n            onClick={() => {\n                props.clickItem(props.type)\n                if (props.clicked) props.clicked()\n            }}\n        >\n            {props.children}\n        </li>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        activeItem: state.topMenu.activeTopMenuItem,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        clickItem: item => dispatch(actions.setActiveTopMenuItem(item)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(NavigationItem)\n","import React from 'react';\nimport type { Node } from 'react'\n\nimport classes from './NavigationItemButton.module.css';\nimport Svg from '../../../../Svg/Svg';\n\ntype Props = {\n    icon?: string,\n    disabled?: boolean,\n    clicked?: () => {} | Function,\n    active?: boolean,\n    children?: Node,\n    datatestid?: string\n}\n\nexport const NavigationItemButton = (props: Props) => {\n    const addedClasses = [ classes.NavigationItemButton ];\n    if (props.disabled) {\n        addedClasses.push(classes.disabled);\n    }\n    if (props.active) {\n        addedClasses.push(classes.active);\n    }\n\n    return (\n        <li \n            data-testid={props.datatestid || 'navItemBut'}\n            className={addedClasses.join(' ')}\n            onClick={props.disabled ? null : props.clicked}>\n            <Svg icon={props.icon} />\n            {props.children}\n        </li>\n    );\n};\n\nexport default NavigationItemButton;","import React from 'react'\nimport { ActionCreators as UndoActionCreators } from 'redux-undo'\nimport { connect } from 'react-redux'\n\nimport AUX from '../../../../../hoc/Aux';\nimport NavigationItemButton from '../NavigationItemButton/NavigationItemButton';\n\nexport const UndoRedo = ({ canUndo, canRedo, onUndo, onRedo }: Object) => (\n  <AUX>\n        <NavigationItemButton \n            datatestid=\"undo\"\n            clicked={onUndo} \n            disabled={!canUndo}\n            icon='<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\"></path></svg>' />\n        <NavigationItemButton \n            datatestid=\"redo\"\n            clicked={onRedo} \n            disabled={!canRedo}\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\"></path></svg>' />\n    </AUX>\n);\n\nconst mapStateToProps = state => ({\n  canUndo: state.builder.past.length > 0,\n  canRedo: state.builder.future.length > 0\n})\n\nconst mapDispatchToProps = ({\n  onUndo: UndoActionCreators.undo,\n  onRedo: UndoActionCreators.redo\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(UndoRedo);","import React, { Component } from 'react'\nimport type { Node } from 'react'\n\nimport classes from './NavigationItemButtonDropDown.module.css'\nimport Svg from '../../../../Svg/Svg'\nimport AUX from '../../../../../hoc/Aux'\nimport DropDownMenu from '../../../../../hoc/DropDownMenu/DropDownMenu'\n\ntype Props = {\n    icon?: string,\n    sideEffect?: () => {},\n    width?: number,\n    children?: Node,\n    datatestid?: string,\n}\n\ntype State = {\n    isVisible: boolean,\n}\n\nexport class NavigationItemButtonDropDown extends Component<Props, State> {\n    state = {\n        isVisible: false,\n    }\n\n    handleOpen = () => {\n        this.setState({ isVisible: !this.state.isVisible })\n        if (this.props.sideEffect) {\n            this.props.sideEffect()\n        }\n    }\n\n    handleClose = () => {\n        this.setState({ isVisible: false })\n    }\n\n    render() {\n        return (\n            <AUX>\n                <li\n                    data-testid={this.props.datatestid || 'navItemBut'}\n                    className={classes.NavigationItemButtonDropDown}\n                    onClick={this.handleOpen}\n                >\n                    <Svg icon={this.props.icon} />\n                </li>\n                {this.state.isVisible ? (\n                    <DropDownMenu\n                        datatestid={'navItemButCover'}\n                        close={this.handleClose}\n                        isTopMenu\n                        width={this.props.width}\n                    >\n                        {this.props.children}\n                    </DropDownMenu>\n                ) : null}\n            </AUX>\n        )\n    }\n}\n\nexport default NavigationItemButtonDropDown\n","import React from 'react';\n\nimport classes from './Textarea.module.css';\n// import SmallButton from '../Buttons/SmallButton/SmallButton';\n\ntype Props = {\n    changedStyleValues?: Array<{}>,\n    title?: string,\n    changed: Function,\n    isWrong?: boolean,\n    startValue?: string | number,\n    datatestid?: string\n}\n\nexport const Textarea = (props: Props) => {\n\n    const handleChange = e => {\n        let value = e.target.value || '';\n        props.changed(value);\n    }\n    return (\n        <div className={classes.Div}>\n            {props.title}\n            <textarea\n                data-testid={props.datatestid || \"Input\"}\n                className={props.isWrong ? classes.Wrong : null}\n                value={props.startValue || ''}\n                onChange={handleChange} />\n            \n            {/* { props.changedStyleValues ? props.changedStyleValues.includes(props.valueKey) ?\n                <div className={classes.StyleControls}>\n                    <SmallButton \n                        inline\n                        isSection={props.isSection}\n                        value={props.valueKey}\n                        icon='<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 24 24\"><path xmlns=\"http://www.w3.org/2000/svg\" d=\"M15 1H9v2h6V1zm4.03 6.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-.32-5H6.35c.57 1.62 1.82 2.92 3.41 3.56l-.11-.06 2.03-3.5zm5.97-4c-.57-1.6-1.78-2.89-3.34-3.54L12.26 11h5.39zm-7.04 7.83c.45.11.91.17 1.39.17 1.34 0 2.57-.45 3.57-1.19l-2.11-3.9-2.85 4.92zM7.55 8.99C6.59 10.05 6 11.46 6 13c0 .34.04.67.09 1h4.72L7.55 8.99zm8.79 8.14C17.37 16.06 18 14.6 18 13c0-.34-.04-.67-.09-1h-4.34l2.77 5.13zm-3.01-9.98C12.9 7.06 12.46 7 12 7c-1.4 0-2.69.49-3.71 1.29l2.32 3.56 2.72-4.7z\" ></path></svg>'\n                        clicked=\"transition\" />\n                    <SmallButton\n                        inline\n                        isSection={props.isSection}\n                        value={props.valueKey}\n                        icon='<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" ></path></svg>'\n                        clicked=\"clearStyle\" />\n                </div> : null : null\n            } */}\n        </div>\n    );\n};\n\nexport default Textarea;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../../../store/actions/index'\nimport Textarea from '../../../../../UI/Textarea/Textarea'\n\ntype Props = {\n    page: {\n        url: string,\n        name: string,\n        title: string,\n        description: string,\n    },\n    websiteId: string,\n    pagesStructure: Array<{}>,\n    currentPageId: string,\n    urlNotValid?: boolean,\n    savePageInPagesStructure: (\n        value: {},\n        id: string,\n        structure: Array<{}>,\n        websiteId: string\n    ) => {},\n}\n\ntype State = {\n    urlValue: string,\n}\n\nexport class PageSettingsMenu extends Component<Props, State> {\n    state = {\n        urlValue: this.props.page.url,\n    }\n\n    render() {\n        const { props } = this\n        return (\n            <table>\n                <tbody>\n                    <tr>\n                        <td>Name</td>\n                        <td>\n                            <Textarea\n                                datatestid=\"name\"\n                                startValue={props.page.name}\n                                changed={value => {\n                                    props.savePageInPagesStructure(\n                                        { name: value },\n                                        props.currentPageId,\n                                        props.pagesStructure,\n                                        props.websiteId\n                                    )\n                                }}\n                            />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>URL</td>\n                        <td>\n                            <Textarea\n                                datatestid=\"url\"\n                                startValue={this.state.urlValue}\n                                changed={value => {\n                                    props.savePageInPagesStructure(\n                                        { url: value },\n                                        props.currentPageId,\n                                        props.pagesStructure,\n                                        props.websiteId\n                                    )\n                                    this.setState({ urlValue: value })\n                                }}\n                                isWrong={props.urlNotValid}\n                            />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Title</td>\n                        <td>\n                            <Textarea\n                                datatestid=\"title\"\n                                startValue={props.page.title}\n                                changed={value =>\n                                    props.savePageInPagesStructure(\n                                        { title: value },\n                                        props.currentPageId,\n                                        props.pagesStructure,\n                                        props.websiteId\n                                    )\n                                }\n                            />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>Description</td>\n                        <td>\n                            <Textarea\n                                datatestid=\"description\"\n                                startValue={props.page.description}\n                                changed={value =>\n                                    props.savePageInPagesStructure(\n                                        { description: value },\n                                        props.currentPageId,\n                                        props.pagesStructure,\n                                        props.websiteId\n                                    )\n                                }\n                            />\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        page:\n            state.website.pagesStructure[\n                state.website.pagesStructure.findIndex(\n                    item => item.id === state.website.currentPage\n                )\n            ],\n        websiteId: state.website._id,\n        pagesStructure: [...state.website.pagesStructure],\n        currentPageId: state.website.currentPage,\n        urlNotValid: state.website.urlNotValid,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        savePageInPagesStructure: (\n            newValue,\n            currentPageId,\n            pagesStructure,\n            websiteId\n        ) =>\n            dispatch(\n                actions.savePageInPagesStructure(\n                    newValue,\n                    currentPageId,\n                    pagesStructure,\n                    websiteId\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(PageSettingsMenu)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { omit } from 'lodash'\n\nimport * as actions from '../../../../../store/actions/index'\nimport ToolsSection from '../ToolsSection/ToolsSection'\nimport ToolsBlock from '../ToolsSection/ToolsBlock/ToolsBlock'\nimport Aux from '../../../../../hoc/Aux'\nimport BigButton from '../../../../UI/Buttons/BigButton/BigButton'\nimport SmallButton from '../../../../UI/Buttons/SmallButton/SmallButton'\nimport BigButtonDropDown from '../../../../UI/Buttons/BigButtonDropDown/BigButtonDropDown'\nimport PageSettingsMenu from '../DropDownMenus/PageSettingsMenu/PageSettingsMenu'\nimport BigButtonWithCheckbox from '../../../../UI/Buttons/BigButtonWithCheckbox/BigButtonWithCheckbox'\n\nconst Sections = props => {\n    return (\n        <Aux>\n            <ToolsSection label=\"Basic\">\n                <ToolsBlock blockType=\"one\">\n                    <BigButton\n                        title=\"Add\"\n                        icon='<svg height=\"30\" viewBox=\"0 0 24 24\" width=\"30\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.addPage(props.websiteId, props.currentPageId)\n                        }\n                    />\n                </ToolsBlock>\n                <ToolsBlock blockType=\"three\">\n                    <SmallButton\n                        title=\"Duplicate\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.duplicatePage(\n                                props.websiteId,\n                                props.currentPageId\n                            )\n                        }\n                    />\n                    <SmallButton\n                        title=\"Delete\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path><path d=\"M0 0h24v24H0z\" fill=\"none\"></path></svg>'\n                        buttonClicked={() =>\n                            props.deletePage(\n                                props.currentPageId,\n                                props.pagesObjects\n                            )\n                        }\n                    />\n                </ToolsBlock>\n                <ToolsBlock blockType=\"one\">\n                    <BigButton\n                        datatestid=\"makeHomePage\"\n                        title=\"Home Page\"\n                        icon='<svg height=\"30\" viewBox=\"0 0 24 24\" width=\"30\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.savePageInPagesStructureHomePage(\n                                { isHomePage: true },\n                                props.currentPageId,\n                                props.pagesStructure,\n                                props.websiteId\n                            )\n                        }\n                    />\n                </ToolsBlock>\n            </ToolsSection>\n            <ToolsSection label=\"Save\">\n                <ToolsBlock blockType=\"one\">\n                    <BigButton\n                        title=\"Save\"\n                        icon='<svg height=\"30\" viewBox=\"0 0 24 24\" width=\"30\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.savePage(\n                                { content: props.currentPageState },\n                                props.currentPageId,\n                                props.pagesStructure\n                            )\n                        }\n                    />\n                </ToolsBlock>\n            </ToolsSection>\n            <ToolsSection label=\"Settings\">\n                <ToolsBlock blockType=\"one\">\n                    <BigButtonDropDown\n                        title=\"Settings\"\n                        icon='<svg height=\"30\" viewBox=\"0 0 24 24\" width=\"30\"><path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"></path></svg>'\n                        dropDownType=\"pageSettings\"\n                    >\n                        <PageSettingsMenu />\n                    </BigButtonDropDown>\n                </ToolsBlock>\n                <ToolsBlock blockType=\"one\">\n                    <BigButtonWithCheckbox\n                        title=\"Hidden\"\n                        icon='<svg height=\"30\" viewBox=\"0 0 24 24\" width=\"30\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>'\n                        clicked={() =>\n                            props.savePageInPagesStructure(\n                                { isHidden: !props.isHidden },\n                                props.currentPageId,\n                                props.pagesStructure,\n                                props.websiteId\n                            )\n                        }\n                        checked={props.isHidden}\n                    />\n                </ToolsBlock>\n            </ToolsSection>\n            <ToolsSection label=\"Versions\">\n                <ToolsBlock blockType=\"three\">\n                    <SmallButton\n                        title=\"Publish one page\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.publishPage(\n                                props.websiteId,\n                                props.currentPageId,\n                                props.pagesStructure,\n                                true\n                            )\n                        }\n                    />\n                    <SmallButton\n                        title=\"Publish all pages\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.publishPage(\n                                props.websiteId,\n                                props.currentPageId,\n                                props.pagesStructure\n                            )\n                        }\n                    />\n                </ToolsBlock>\n                <ToolsBlock blockType=\"three\">\n                    <SmallButton\n                        title=\"Revert one page to published\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.revertPage(\n                                props.websiteId,\n                                props.currentPageId,\n                                props.pagesStructure,\n                                true\n                            )\n                        }\n                    />\n                    <SmallButton\n                        title=\"Revert all page to published\"\n                        icon='<svg height=\"16\" viewBox=\"0 0 24 24\" width=\"16\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                        buttonClicked={() =>\n                            props.revertPage(\n                                props.websiteId,\n                                props.currentPageId,\n                                props.pagesStructure\n                            )\n                        }\n                    />\n                </ToolsBlock>\n            </ToolsSection>\n        </Aux>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentPageId: state.website.currentPage,\n        currentPageState: omit(state.builder.present, [\n            'pageZoom',\n            'alignMode',\n            'saveHistory',\n            'chosenBoxes',\n            'chosenSection',\n            'chosenBoxesValues',\n            'chosenSectionValue',\n            'chosenTextValues',\n            'enteredBoxes',\n            'hoveredElement',\n            'activeElement',\n            'changedStyleValues',\n            'boxesDragStartValues',\n            'preview',\n            'changed',\n            'leaving',\n        ]),\n        websiteId: state.website._id,\n        isHidden: state.website.currentPage\n            ? state.website.pagesStructure.find(\n                  item => item.id === state.website.currentPage\n              ).isHidden\n            : false,\n        pagesObjects: state.website.pagesObjects,\n        pagesStructure: state.website.pagesStructure,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        duplicatePage: (websiteId, currentPageId) =>\n            dispatch(actions.duplicatePage(websiteId, currentPageId)),\n        deletePage: (currentPageId, pagesObjects) =>\n            dispatch(actions.deletePage(currentPageId, pagesObjects)),\n        addPage: (websiteId, currentPageId) =>\n            dispatch(actions.addPage(websiteId, currentPageId)),\n        savePage: (newValue, currentPageId, pagesStructure) =>\n            dispatch(actions.savePage(newValue, currentPageId, pagesStructure)),\n        savePageInPagesStructure: (\n            newValue,\n            currentPageId,\n            pagesStructure,\n            websiteId\n        ) =>\n            dispatch(\n                actions.savePageInPagesStructure(\n                    newValue,\n                    currentPageId,\n                    pagesStructure,\n                    websiteId\n                )\n            ),\n        savePageInPagesStructureHomePage: (\n            newValue,\n            currentPageId,\n            pagesStructure,\n            websiteId\n        ) =>\n            dispatch(\n                actions.savePageInPagesStructureHomePage(\n                    newValue,\n                    currentPageId,\n                    pagesStructure,\n                    websiteId\n                )\n            ),\n        publishPage: (websiteId, currentPageId, pagesStructure, publishOne) =>\n            dispatch(\n                actions.publishPage(\n                    websiteId,\n                    currentPageId,\n                    pagesStructure,\n                    publishOne\n                )\n            ),\n        revertPage: (websiteId, currentPageId, pagesStructure, publishOne) =>\n            dispatch(\n                actions.revertPage(\n                    websiteId,\n                    currentPageId,\n                    pagesStructure,\n                    publishOne\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Sections)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport Sortly from 'react-sortly'\n\nimport * as actions from '../../../../../../../store/actions/index'\nimport Svg from '../../../../../../Svg/Svg'\nimport withDragDropContext from '../../../../../../../hoc/withDragDropContext'\n\ntype Props = {\n    setCurrentPageMain: (\n        _id: string,\n        pagesObjects: {},\n        websiteId: string\n    ) => {},\n    savePagesStructure: (_id: string, pagesStructure: Array<{}>) => {},\n    websiteId: '',\n    pagesObjects: {},\n    currentPage: string,\n    items: Array<{}>,\n}\n\nclass PagesMenuList extends Component<Props> {\n    handleChange = items => {\n        this.props.savePagesStructure(this.props.websiteId, items)\n    }\n\n    render() {\n        const ItemRenderer = props => {\n            const {\n                name,\n                path,\n                connectDragSource,\n                connectDropTarget,\n                isDragging,\n                isClosestDragging,\n                id,\n                isHomePage,\n                isHidden,\n                isNotPublished,\n            } = props\n            const style = {\n                position: 'relative',\n                border: '1px solid #ccc',\n                cursor: 'move',\n                padding: 10,\n                paddingRight: 30,\n                marginBottom: 4,\n                ...(isDragging || isClosestDragging ? { opacity: 0.3 } : null),\n                margin: 10,\n                marginLeft: 10 + path.length * 50,\n                width: 300,\n                outline:\n                    this.props.currentPage === id ? '1px solid blue' : null,\n            }\n\n            const iconsContainerStyle = {\n                position: 'absolute',\n                top: 6,\n                right: 6,\n                fill: '#555',\n            }\n\n            const el = (\n                <div\n                    data-testid={id}\n                    style={style}\n                    onMouseDown={() =>\n                        this.props.setCurrentPageMain(\n                            id,\n                            this.props.pagesObjects,\n                            this.props.websiteId\n                        )\n                    }\n                >\n                    {name}\n                    <div style={iconsContainerStyle}>\n                        {isHomePage ? (\n                            <Svg\n                                datatestid={`home_${id}`}\n                                icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>'\n                            />\n                        ) : null}\n                        {isHidden ? (\n                            <Svg\n                                datatestid={`hid_${id}`}\n                                icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>'\n                            />\n                        ) : null}\n                        {isNotPublished ? (\n                            <Svg\n                                datatestid={`pub_${id}`}\n                                icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path xmlns=\"http://www.w3.org/2000/svg\" d=\"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"></path></svg>'\n                            />\n                        ) : null}\n                    </div>\n                </div>\n            )\n            return connectDragSource(connectDropTarget(el))\n        }\n\n        return (\n            <Sortly\n                items={this.props.items}\n                itemRenderer={ItemRenderer}\n                onChange={this.handleChange}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        websiteId: state.website._id,\n        pagesObjects: state.website.pagesObjects,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setCurrentPageMain: (_id, pagesObjects, websiteId) =>\n            dispatch(actions.setCurrentPageMain(_id, pagesObjects, websiteId)),\n        savePagesStructure: (_id, pagesStructure) =>\n            dispatch(actions.savePagesStructure(_id, pagesStructure)),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(PagesMenuList)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './PagesMenu.module.css'\nimport ToolSet from '../../ToolsSet'\nimport Pages from '../../TopMenuSections/Pages'\nimport Aux from '../../../../../../hoc/Aux'\nimport PagesMenuList from './PagesMenuList/PagesMenuList'\nimport Spinner from '../../../../../UI/Spinner/Spinner'\n\ntype Props = {\n    currentPage?: string,\n    pagesStructure: Array<{\n        url: string,\n        name: string,\n        title: string,\n        description: string,\n        id: string,\n        path: Array<string>,\n        isHidden: boolean,\n        isHomePage: boolean,\n        isNotPublished: boolean,\n    }>,\n    pagesObjects: {},\n    websiteId: string,\n    loading: boolean,\n}\n\nexport const PagesMenu = (props: Props) => {\n    const items = props.pagesStructure.map(page => {\n        return {\n            ...page,\n        }\n    })\n    return (\n        <Aux>\n            <header className={classes.Toolbar}>\n                <div className={classes.ToolSetsContainer}>\n                    <ToolSet isActive>\n                        <Pages />\n                    </ToolSet>\n                </div>\n            </header>\n            <div className={classes.Content}>\n                <PagesMenuList\n                    items={items}\n                    currentPage={props.currentPage}\n                    pagesObjects={props.pagesObjects}\n                    websiteId={props.websiteId}\n                />\n            </div>\n            {props.loading ? (\n                <Spinner cover datatestid=\"pagesMenuSpinner\" />\n            ) : null}\n        </Aux>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentPage: state.website.currentPage,\n        pagesStructure: state.website.pagesStructure,\n        pagesObjects: state.website.pagesObjects,\n        websiteId: state.website._id,\n        loading: state.website.pagesLoading,\n    }\n}\n\nexport default connect(mapStateToProps)(PagesMenu)\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../../../../store/actions/index';\nimport BigButton from '../../../../../UI/Buttons/BigButton/BigButton';\n\ntype Props = {\n    zoom: number,\n    builderZoomOut: () => {},\n    builderZoomIn: () => {},\n    builderZoomReset: () => {}\n}\n\nexport const BuilderZoomMenu = (props: Props) => {\n    return (\n        <table>\n            <tbody>\n                <tr>\n                    <td><BigButton\n                        datatestid=\"out\"\n                        icon='<sv width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"></path></svg>'\n                        buttonClicked={() => props.builderZoomOut()}  /></td>\n                    <td data-testid=\"current\">{props.zoom}</td>\n                    <td><BigButton\n                        datatestid=\"in\"\n                        icon='<sv width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path><path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"></path></svg>'\n                        buttonClicked={() => props.builderZoomIn()}  /></td>\n                    <td><BigButton\n                        datatestid=\"reset\"\n                        icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z\"></path></svg>'\n                        buttonClicked={() => props.builderZoomReset()}  /></td>\n                </tr>\n            </tbody>\n        </table>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        zoom: state.builder.present.pageZoom\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        builderZoomOut: () => dispatch(actions.builderZoomOut()),\n        builderZoomIn: () => dispatch(actions.builderZoomIn()),\n        builderZoomReset: () => dispatch(actions.builderZoomReset())\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuilderZoomMenu);","import React from 'react'\nimport { connect } from 'react-redux'\nimport { omit } from 'lodash'\n\nimport classes from './NavigationItems.module.css'\nimport * as actions from '../../../../store/actions/index'\nimport NavigationItem from './NavigationItem/NavigationItem'\nimport UndoRedo from './UndoRedo/UndoRedo'\nimport NavigationItemButtonDropDown from './NavigationItemButtonDropDown/NavigationItemButtonDropDown'\nimport NavigationItemButton from './NavigationItemButton/NavigationItemButton'\nimport Aux from '../../../../hoc/Aux'\nimport PagesMenu from '../ToolsSet/DropDownMenus/PagesMenu/PagesMenu'\nimport BuilderZoomMenu from '../ToolsSet/DropDownMenus/BuilderZoomMenu/BuilderZoomMenu'\n\ntype Props = {\n    previewIsOn?: boolean,\n    pageIsChanged?: boolean,\n    savePage: (\n        { content: Object },\n        pageId: string,\n        pagesStructure: Array<{}>\n    ) => {},\n    currentPageId: string,\n    pagesStructure: Array<{}>,\n    currentPageState: Object,\n    websiteId: string,\n    publishPage: (\n        websiteId: string,\n        currentPageId: string,\n        pagesStructure: Array<{}>,\n        type: boolean\n    ) => {},\n    markPageAsLeaving: () => {},\n    previewClicked: () => {},\n    chosenBoxesValues: {\n        type?: string,\n    },\n    chosenBoxes: Array<string>,\n    enteredBoxes: Array<string>,\n    enterBox: () => {},\n    exitBox: () => {},\n}\n\nconst NavigationItems = (props: Props) => {\n    const handleExitBox = () => {\n        if (props.chosenBoxes.length > 0 && props.enteredBoxes.length > 0) {\n            if (props.enteredBoxes[0] === props.chosenBoxes[0]) {\n                props.exitBox()\n            }\n        }\n    }\n\n    return (\n        <ul className={classes.NavigationItems}>\n            {!props.previewIsOn ? (\n                <Aux>\n                    <NavigationItem type=\"sections\" clicked={handleExitBox}>\n                        Sections\n                    </NavigationItem>\n                    <NavigationItem type=\"boxes\" clicked={handleExitBox}>\n                        Boxes\n                    </NavigationItem>\n                    {props.chosenBoxesValues.type === 'text' ? (\n                        <NavigationItem type=\"text\" clicked={props.enterBox}>\n                            Text\n                        </NavigationItem>\n                    ) : null}\n                    {props.chosenBoxesValues.type === 'menu' ? (\n                        <NavigationItem type=\"menu\" clicked={props.enterBox}>\n                            Menu\n                        </NavigationItem>\n                    ) : null}\n                </Aux>\n            ) : null}\n\n            <ul className={classes.NavigationItemsRight}>\n                {props.pageIsChanged ? (\n                    <Aux>\n                        <NavigationItemButton\n                            clicked={() =>\n                                props.savePage(\n                                    { content: props.currentPageState },\n                                    props.currentPageId,\n                                    props.pagesStructure\n                                )\n                            }\n                        >\n                            Save\n                        </NavigationItemButton>\n                        <NavigationItemButton\n                            clicked={() => {\n                                props.savePage(\n                                    { content: props.currentPageState },\n                                    props.currentPageId,\n                                    props.pagesStructure\n                                )\n                                props.publishPage(\n                                    props.websiteId,\n                                    props.currentPageId,\n                                    props.pagesStructure,\n                                    true\n                                )\n                            }}\n                        >\n                            Save & Publish\n                        </NavigationItemButton>\n                    </Aux>\n                ) : null}\n                <NavigationItemButtonDropDown\n                    datatestid=\"navItemsPagesMenu\"\n                    icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM11 17l2.5-3.15L15.29 16l2.5-3.22L21 17H11z\"></path></svg>'\n                    width={500}\n                    sideEffect={\n                        props.pageIsChanged\n                            ? () => props.markPageAsLeaving()\n                            : undefined\n                    }\n                >\n                    <PagesMenu />\n                </NavigationItemButtonDropDown>\n                <NavigationItemButton\n                    datatestid=\"previewNavigationItems\"\n                    active={props.previewIsOn}\n                    clicked={() => props.previewClicked()}\n                    icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                />\n                <NavigationItemButtonDropDown\n                    datatestid=\"navItemsZoomDD\"\n                    icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                >\n                    <BuilderZoomMenu />\n                </NavigationItemButtonDropDown>\n\n                {!props.previewIsOn ? <UndoRedo /> : null}\n            </ul>\n        </ul>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        pageIsChanged: state.builder.present.changed,\n        previewIsOn: state.builder.present.preview,\n        currentPageId: state.website.currentPage,\n        websiteId: state.website._id,\n        pagesStructure: state.website.pagesStructure,\n        currentPageState: omit(state.builder.present, [\n            'pageZoom',\n            'alignMode',\n            'saveHistory',\n            'chosenBoxes',\n            'chosenSection',\n            'chosenBoxesValues',\n            'chosenSectionValue',\n            'chosenTextValues',\n            'enteredBoxes',\n            'hoveredElement',\n            'activeElement',\n            'changedStyleValues',\n            'boxesDragStartValues',\n            'preview',\n            'changed',\n        ]),\n        chosenBoxesValues: state.builder.present.chosenBoxesValues,\n        chosenBoxes: state.builder.present.chosenBoxes,\n        enteredBoxes: state.builder.present.enteredBoxes,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        previewClicked: () => dispatch(actions.previewPage()),\n        savePage: (newValue, currentPageId, pagesStructure) =>\n            dispatch(actions.savePage(newValue, currentPageId, pagesStructure)),\n        markPageAsLeaving: () => dispatch(actions.markPageAsLeaving()),\n        publishPage: (websiteId, currentPageId, pagesStructure, publishOne) =>\n            dispatch(\n                actions.publishPage(\n                    websiteId,\n                    currentPageId,\n                    pagesStructure,\n                    publishOne\n                )\n            ),\n        enterBox: () => {\n            dispatch(actions.enterBox())\n        },\n        exitBox: () => {\n            dispatch(actions.exitBox())\n        },\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(NavigationItems)\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport classes from './Toolbar.module.css';\nimport Logo from '../../Logo/Logo';\nimport DrawerToggle from '../SideDrawer/DrawerToggle/DrawerToggle';\nimport NavigationItems from '../../SiteBuilderNavigation/Toolbar/NavigationItems/NavigationItems';\nimport * as actions from '../../../store/actions/index';\n\ntype Props = {\n    drawerClicked: () => {},\n    pageIsChanged?: boolean,\n    markPageAsLeaving: () => {},\n    location: Object\n}\n\nconst toolbar = (props: Props) => {\n    const handleDrawerToggleClick: Object = () => {\n        props.drawerClicked();\n        if(props.pageIsChanged) {\n            props.markPageAsLeaving();\n        };\n    }\n    return (\n        <header className={classes.Toolbar}>\n            <DrawerToggle clicked={handleDrawerToggleClick} />\n            <div \n                className={classes.Logo}\n                onClick={props.pageIsChanged ? () => props.markPageAsLeaving() : null}>\n                <Logo />\n            </div>\n            { props.location.pathname === '/editor' ?\n                <div className={classes.BuilderMenu}>\n                    <NavigationItems />\n                </div>\n                : null\n            }\n        </header>\n    )\n};\n\nconst mapStateToProps = state => {\n    return {\n        pageIsChanged: state.builder.present.changed\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        markPageAsLeaving: () => dispatch(actions.markPageAsLeaving()),\n    }\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(toolbar));","import React from 'react';\nimport type { Node } from 'react'\nimport { NavLink } from 'react-router-dom';\n\nimport classes from './NavigationItem.module.css';\nimport Svg from '../../../Svg/Svg';\n\ntype Props = {\n    children?: Node,\n    link?: string,\n    icon?: string\n}\n\nconst navigationItem = (props: Props) => (\n    <li className={classes.NavigationItem}>\n        <NavLink \n            to={props.link}\n            exact\n            activeClassName={classes.Active} >\n            <Svg icon={props.icon}/>\n            {props.children}\n        </NavLink>\n    </li>\n);\n\nexport default navigationItem;","import React from 'react';\nimport classes from './NavigationItems.module.css';\nimport NavigationItem from './NavigationItem/NavigationItem';\n\nconst navigationItems = () => (\n    <ul className={classes.NavigationItems}>\n        <NavigationItem \n            link=\"/dashboard\"\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"></path></svg>'>\n            Dashboard\n        </NavigationItem>\n        <NavigationItem \n            link=\"/editor\"\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"></path></svg>'>\n            Editor\n        </NavigationItem>\n        <NavigationItem \n            link=\"/settings\"\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z\"></path></svg>'>\n            Settings\n        </NavigationItem>\n        <NavigationItem \n            link=\"/user\"\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"></path></svg>'>\n            User settings\n        </NavigationItem>\n        <NavigationItem \n            link=\"/logout\"\n            icon='<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"></path></svg>'>\n            Logout\n        </NavigationItem>\n    </ul>\n);\n\nexport default navigationItems;","import React from 'react';\nimport classes from './Backdrop.module.css';\n\ntype Props = {\n    show?: boolean,\n    clicked: Function\n}\n\nconst backdrop = (props: Props) => (\n    props.show ? <div className={classes.Backdrop} onClick={props.clicked} data-testid=\"backDrop\"/> : null\n);\n\nexport default backdrop;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router\";\n\nimport NavigationItems from '../NavigationItems/NavigationItems';\nimport classes from './SideDrawer.module.css';\nimport Backdrop from '../../UI/Backdrop/Backdrop';\nimport Aux from '../../../hoc/Aux';\nimport Select from 'react-select';\nimport * as actions from '../../../store/actions/index';\nimport Logo from '../../Logo/Logo';\n\ntype Props = {\n    open?: boolean,\n    createWebsite: () => {},\n    loadWebsite: (value: string) => {},\n    closed: () => {},\n    history: Object,\n    websites: Array<{\n        _id: string,\n        title: string,\n        domain: string\n    }>,\n    _id: string,\n    isAuth?: boolean\n}\n\nconst sideDrawer = (props: Props) => {\n    let attachedClasses = [classes.SideDrawer, classes.Close];\n    if (props.open) {\n        attachedClasses = [classes.SideDrawer, classes.Open];\n    }\n\n    const handleWebsiteChange = option => {\n        const { value } = option;\n        if(value === 'new') {\n            props.createWebsite();\n        } else {\n            props.loadWebsite(value);\n        }\n        props.closed();\n        props.history.push('/dashboard');\n    };\n\n    const websiteOptions = props.websites.map(website => {\n        return {\n            value: website._id,\n            label: `${website.title} (${website.domain})`\n        }\n    });\n    websiteOptions.push({\n        value: 'new',\n        label: 'Add website'\n    })\n\n    const currentWebsiteIndex = websiteOptions.findIndex(option => \n        option.value === props._id\n    );\n\n    const selectStyles = {\n        option: (styles, { data, isDisabled, isFocused, isSelected }) => {\n            return {\n                ...styles,\n                fontWeight: 300\n            };\n        },\n        singleValue: (styles, { data, isDisabled, isFocused, isSelected }) => {\n            return {\n                ...styles,\n                fontWeight: data.value\n            };\n        },\n        control: (styles, { data, isDisabled, isFocused, isSelected }) => {\n            return {\n                ...styles,\n                border: isSelected ? 'none' : 'none',\n                borderBottom: '1px solid #ccc',\n                boxShadow: 'none'\n            };\n        }\n\n    };\n\n    return (\n        <Aux>\n            <Backdrop show={props.open} clicked={props.closed}/>\n            <div className={attachedClasses.join(' ')} \n                onClick={props.closed}\n                data-testid=\"sideDrawer\">\n                <div className={classes.LogoContainer}>\n                    <Logo />\n                </div>\n                <div onClick={event => event.stopPropagation()}>\n                    <Select\n                        className={classes.Select}\n                        value={websiteOptions[currentWebsiteIndex]}\n                        isClearable={false}\n                        isSearchable={false}\n                        onChange={handleWebsiteChange}\n                        options={websiteOptions}\n                        styles={selectStyles} />\n                </div>\n                <nav>\n                    <NavigationItems isAuthenticated = {props.isAuth} />\n                </nav>\n            </div>\n        </Aux>                \n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        websites: state.website.websites,\n        domain: state.website.domain,\n        title: state.website.title,\n        _id: state.website._id,\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        createWebsite: () => dispatch(actions.createWebsite()),\n        loadWebsite: _id => dispatch(actions.loadWebsite(_id))\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(sideDrawer));","import React, { Component } from 'react';\nimport type { Node } from 'react'\nimport { connect } from 'react-redux';\n \nimport Aux from '../../hoc/Aux';\nimport classes from './Layout.module.css';\nimport Toolbar from '../Navigation/Toolbar/Toolbar';\nimport SideDrawer from '../Navigation/SideDrawer/SideDrawer';\nimport Spinner from '../UI/Spinner/Spinner';\n\ntype Props = {\n    isAuthenticated: boolean,\n    loading: boolean,\n    children: Node\n}\n\ntype State = {\n    showSideDrawer: boolean\n}\n\nclass Layout extends Component<Props, State> {\n    state = {\n        showSideDrawer: false\n    }\n\n    sideDrawerClosedHandler = () => {\n        this.setState({showSideDrawer: false});\n    }\n\n    drawerToggleClickedHandler = () => {\n        this.setState( ( prevState ) => {\n            return {showSideDrawer: !prevState.showSideDrawer};\n        });\n    }\n\n    \n    \n    render () {\n        return (\n            <Aux>\n                <Toolbar \n                    drawerClicked={this.drawerToggleClickedHandler} />\n                <SideDrawer \n                    isAuth = {this.props.isAuthenticated}\n                    open={this.state.showSideDrawer} \n                    closed={this.sideDrawerClosedHandler} />\n                { this.props.loading\n                    ? <Spinner />\n                    : <main className={classes.Content}>\n                        {this.props.children}\n                    </main>\n                }\n            </Aux>\n        )\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        isAuthenticated: state.auth.token !== null,\n        loading: state.website.loading\n    };\n};\n\nexport default connect(mapStateToProps)(Layout);","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport Section from '../SiteBuilder/Section/Section';\n\nconst LiveWebsite = props => {\n\n    let id;\n    const path = window.currentPage.split('/');\n    if(path.length > 0) {\n        id = window.pagesStructure.find(item => \n            item.url === path[path.length - 1])\n            .id;\n    } else {\n        id = window.pagesStructure.find(item => \n            item.isHomePage)\n            .id;\n    }\n\n    if(!id) {\n        return;\n    }\n    props.loadGlobalsToStore(id);\n    props.setCurrentPageMain(id);\n\n    return (\n        props.sections.map(section => \n            <Section \n                key={section} \n                id={section} \n                handleChooseTextEditor={() => {}}\n                live />\n        )\n    );\n};\n\nconst mapStateToProps = state => {\n    return {\n        sections: state.builder.present.sectionsOnPage\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        loadGlobalsToStore: currentPage => {dispatch(actions.loadGlobalsToStore(window.pagesStructure, window.pagesObjects, currentPage))},\n        setCurrentPageMain: currentPage => {dispatch(actions.setCurrentPageMain(currentPage, window.pagesObjects, 'any'))}\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LiveWebsite);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { omit } from 'lodash'\n\nimport * as classes from './PageOnLeaveSaveReminder.module.css';\nimport * as actions from '../../../store/actions/index';\nimport LoginButton from '../../../components/UI/LoginButton/LoginButton.js';\n\ntype Props = {\n    pageIsChanged: boolean,\n    isLeavingBuilder: boolean,\n    currentPageId: string,\n    pagesStructure: Array<{}>,\n    currentPageState: {},\n    savePage: (newValue: {}, currentPageId: string, pagesStructure: Array<{}>) => {},\n    markPageAsSaved: () => {}\n}\n\nconst PageOnLeaveSaveReminder = (props: Props) => {\n    return ( props.pageIsChanged && props.isLeavingBuilder ?\n        <div data-testid=\"pagesOnLeave\" \n            className={classes.Cover}>\n            <div className={classes.Main}>\n                You have made changes on this page. If you don't send the changes they will be lost. Do you want to save the changes?\n                <LoginButton\n                    clicked={() => props.markPageAsSaved()}\n                    btnType=\"Danger\" >\n                    Do not save changes\n                </LoginButton>\n                <LoginButton\n                    clicked={() => props.savePage(\n                        {content: props.currentPageState}, \n                        props.currentPageId,\n                        props.pagesStructure)}\n                    btnType=\"Success\" >\n                    Save changes\n                </LoginButton>\n            </div>\n        </div> : null\n    );\n};\n\nPageOnLeaveSaveReminder.propTypes = {\n};\n\nconst mapStateToProps = state => {\n    return {\n        pageIsChanged: state.builder.present.changed,\n        isLeavingBuilder: state.builder.present.leaving,\n        currentPageId: state.website.currentPage,\n        pagesStructure: state.website.pagesStructure,\n        currentPageState: omit(state.builder.present, [\n            'pageZoom',\n            'alignMode',\n            'saveHistory',\n            'chosenBoxes',\n            'chosenSection',\n            'chosenBoxesValues',\n            'chosenSectionValue',\n            'chosenTextValues',\n            'enteredBoxes',\n            'hoveredElement',\n            'activeElement',\n            'changedStyleValues',\n            'boxesDragStartValues',\n            'preview',\n            'changed',\n            'leaving'\n        ])\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        savePage: (newValue, currentPageId, pagesStructure) => dispatch(actions.savePage(newValue, currentPageId, pagesStructure)),\n        markPageAsSaved: () => dispatch(actions.markPageAsSaved())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageOnLeaveSaveReminder);\n\n","import React, { Component } from 'react'\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport Logout from './containers/Auth/Logout/Logout'\nimport './App.css'\nimport asyncComponent from './hoc/asyncComponent'\nimport * as actions from './store/actions/index'\nimport Auth from './containers/Auth/Auth'\nimport Layout from './components/Layout/Layout'\nimport LiveWebsite from './containers/LiveWebsite/LiveWebsite'\nimport PageOnLeaveSaveReminder from './containers/SiteBuilder/PageOnLeaveSaveReminder/PageOnLeaveSaveReminder'\nimport Aux from './hoc/Aux'\n\nconst asyncWebsiteDashboard = asyncComponent(() => {\n    return import('./containers/WebsiteDashboard/WebsiteDashboard')\n})\n\nconst asyncSiteBuilder = asyncComponent(() => {\n    return import('./containers/SiteBuilder/SiteBuilder')\n})\n\nconst asyncWebsiteSettings = asyncComponent(() => {\n    return import('./containers/WebsiteSettings/WebsiteSettings')\n})\n\nconst asyncUserSettings = asyncComponent(() => {\n    return import('./containers/UserSettings/UserSettings')\n})\n\ntype Props = {\n    onTryAutoSignup: Object,\n    isAuthenticated: boolean,\n}\n\nclass App extends Component<Props> {\n    componentDidMount() {\n        this.props.onTryAutoSignup()\n    }\n\n    render() {\n        let routes = (\n            <Switch>\n                <Route path=\"/login\" component={Auth} />\n                <Route path=\"/signup\" component={Auth} />\n                <Route path=\"/live\" component={LiveWebsite} />\n                <Redirect to=\"/login\" />\n            </Switch>\n        )\n        if (this.props.isAuthenticated) {\n            routes = (\n                <Aux>\n                    <Layout>\n                        <Switch>\n                            <Route\n                                path=\"/dashboard\"\n                                component={asyncWebsiteDashboard}\n                            />\n                            <Route\n                                path=\"/editor\"\n                                component={asyncSiteBuilder}\n                            />\n                            <Route\n                                path=\"/settings\"\n                                component={asyncWebsiteSettings}\n                            />\n                            <Route path=\"/user\" component={asyncUserSettings} />\n                            <Route path=\"/logout\" component={Logout} />\n                            <Route path=\"/live\" component={LiveWebsite} />\n                            <Redirect to=\"/editor\" />\n                        </Switch>\n                    </Layout>\n                    <PageOnLeaveSaveReminder />\n                </Aux>\n            )\n        }\n\n        return routes\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        isAuthenticated: state.auth.token !== null,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    }\n}\n\nexport default withRouter(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(App)\n)\n","import { updateChosenBoxesAndSectionValues } from '../utils'\nimport type { BuilderStateType } from '../builder'\n\nexport const changeAlignMode = (state: BuilderStateType, action: Object) => ({\n    ...state,\n    alignMode: action.value,\n})\n\nexport const alignBoxes = (state: BuilderStateType, action: Object) => {\n    let updatedElements\n    switch (action.alignType) {\n        case 'left':\n            updatedElements = alignLeft(state)\n            break\n        case 'hCenter':\n            updatedElements = alignHCenter(state)\n            break\n        case 'right':\n            updatedElements = alignRight(state)\n            break\n        case 'top':\n            updatedElements = alignTop(state)\n            break\n        case 'vCenter':\n            updatedElements = alignVCenter(state)\n            break\n        case 'bottom':\n            updatedElements = alignBottom(state)\n            break\n        case 'hDistribute':\n            updatedElements = alignHDistribute(state)\n            break\n        case 'vDistribute':\n            updatedElements = alignVDistribute(state)\n            break\n        default:\n            updatedElements = alignLeft(state)\n    }\n\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        ...updatedElements,\n        changed: true,\n    })\n}\n\nconst alignLeft = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newLeft = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newLeft = 0\n            break\n        case 'element':\n            newLeft = boxesRects[0].left - parentRect.left\n            break\n        case 'selection':\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newLeft = boxRect.left\n                else newLeft = newLeft > boxRect.left ? boxRect.left : newLeft\n            })\n            newLeft -= parentRect.left\n            break\n        default:\n            newLeft = 0\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].left || state[box].left === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                left: newLeft,\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                right:\n                    parentRect.right -\n                    parentRect.left -\n                    newLeft -\n                    (boxesRects[index].right - boxesRects[index].left),\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignRight = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newRight = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newRight = parentRect.right - parentRect.left\n            break\n        case 'element':\n            newRight = boxesRects[0].right - parentRect.left\n            break\n        case 'selection':\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newRight = boxRect.right\n                else\n                    newRight =\n                        newRight < boxRect.right ? boxRect.right : newRight\n            })\n            newRight -= parentRect.left\n            break\n        default:\n            newRight = parentRect.right - parentRect.left\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].left || state[box].left === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                left:\n                    newRight -\n                    (boxesRects[index].right - boxesRects[index].left),\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                right: parentRect.right - parentRect.left - newRight,\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignTop = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newTop = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newTop = 0\n            break\n        case 'element':\n            newTop = boxesRects[0].top - parentRect.top\n            break\n        case 'selection':\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newTop = boxRect.top\n                else newTop = newTop > boxRect.top ? boxRect.top : newTop\n            })\n            newTop -= parentRect.top\n            break\n        default:\n            newTop = 0\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].top || state[box].top === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                top: newTop,\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                bottom:\n                    parentRect.bottom -\n                    parentRect.top -\n                    newTop -\n                    (boxesRects[index].bottom - boxesRects[index].top),\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignBottom = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newBottom = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newBottom = parentRect.bottom - parentRect.top\n            break\n        case 'element':\n            newBottom = boxesRects[0].bottom - parentRect.top\n            break\n        case 'selection':\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newBottom = boxRect.bottom\n                else\n                    newBottom =\n                        newBottom < boxRect.bottom ? boxRect.bottom : newBottom\n            })\n            newBottom -= parentRect.top\n            break\n        default:\n            newBottom = parentRect.bottom - parentRect.top\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].top || state[box].top === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                top:\n                    newBottom -\n                    (boxesRects[index].bottom - boxesRects[index].top),\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                bottom: parentRect.bottom - parentRect.top - newBottom,\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignHCenter = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newCenter = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newCenter = (parentRect.right - parentRect.left) / 2\n            break\n        case 'element':\n            newCenter =\n                (boxesRects[0].right - boxesRects[0].left) / 2 +\n                boxesRects[0].left -\n                parentRect.left\n            break\n        case 'selection':\n            let newLeft = 0\n            let newRight = 0\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newLeft = boxRect.left\n                else newLeft = newLeft > boxRect.left ? boxRect.left : newLeft\n                if (index === 0) newRight = boxRect.right\n                else\n                    newRight =\n                        newRight < boxRect.right ? boxRect.right : newRight\n            })\n            newCenter = (newRight - newLeft) / 2 + newLeft - parentRect.left\n            break\n        default:\n            newCenter = 0\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].left || state[box].left === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                left:\n                    newCenter -\n                    (boxesRects[index].right - boxesRects[index].left) / 2,\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                right:\n                    parentRect.right -\n                    parentRect.left -\n                    (newCenter +\n                        (boxesRects[index].right - boxesRects[index].left) / 2),\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignVCenter = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n\n    chosenBoxes.forEach(box => {\n        boxesRects.push(frameDoc.getElementById(box).getBoundingClientRect())\n    })\n\n    let newCenter = 0\n    switch (state.alignMode) {\n        case 'parent':\n            newCenter = (parentRect.bottom - parentRect.top) / 2\n            break\n        case 'element':\n            newCenter =\n                (boxesRects[0].bottom - boxesRects[0].top) / 2 +\n                boxesRects[0].top -\n                parentRect.top\n            break\n        case 'selection':\n            let newTop = 0\n            let newBottom = 0\n            chosenBoxes.forEach(index => {\n                const boxRect = boxesRects[parseInt(index)]\n                if (index === 0) newTop = boxRect.top\n                else newTop = newTop > boxRect.top ? boxRect.top : newTop\n                if (index === 0) newBottom = boxRect.bottom\n                else\n                    newBottom =\n                        newBottom < boxRect.bottom ? boxRect.bottom : newBottom\n            })\n            newCenter = (newBottom - newTop) / 2 + newTop - parentRect.top\n            break\n        default:\n            newCenter = 0\n    }\n\n    const updatedElements = {}\n    chosenBoxes.forEach((box, index) => {\n        if (state[box].top || state[box].top === 0) {\n            updatedElements[box] = {\n                ...state[box],\n                top:\n                    newCenter -\n                    (boxesRects[index].bottom - boxesRects[index].top) / 2,\n            }\n        } else {\n            updatedElements[box] = {\n                ...state[box],\n                bottom:\n                    parentRect.bottom -\n                    parentRect.top -\n                    (newCenter +\n                        (boxesRects[index].bottom - boxesRects[index].top) / 2),\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignHDistribute = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n    let newLeftCenter = 0\n    let newRightCenter = 0\n    let newLeft\n    let newRight\n    chosenBoxes.forEach((box, index) => {\n        const rect = frameDoc.getElementById(box).getBoundingClientRect()\n        boxesRects.push({\n            box,\n            rect,\n        })\n        if (index === 0) {\n            newLeft = rect.left\n            newLeftCenter = rect.left + (rect.right - rect.left) / 2\n        } else if (newLeft > rect.left) {\n            newLeft = rect.left\n            newLeftCenter = rect.left + (rect.right - rect.left) / 2\n        }\n        if (index === 0) {\n            newRight = rect.right\n            newRightCenter = rect.left + (rect.right - rect.left) / 2\n        } else if (newRight < rect.right) {\n            newRight = rect.right\n            newRightCenter = rect.left + (rect.right - rect.left) / 2\n        }\n    })\n\n    let start = 0\n    let width\n    const step = boxesRects.length * 2\n    switch (state.alignMode) {\n        case 'parent':\n            width = parentRect.right - parentRect.left\n            break\n        case 'element':\n            width = boxesRects[0].rect.right - boxesRects[0].rect.left\n            break\n        case 'selection':\n            const quantity =\n                (newRightCenter - newLeftCenter) / ((boxesRects.length - 1) * 2)\n            width = step * quantity\n            start = newLeftCenter - parentRect.left - quantity\n            break\n        default:\n            width = parentRect.right - parentRect.left\n    }\n\n    boxesRects.sort((a, b) => a.rect.left - b.rect.left)\n    const updatedElements = {}\n    boxesRects.forEach((el, index) => {\n        if (\n            state.alignMode === 'selection' ||\n            (index !== 0 && index !== boxesRects.length - 1)\n        ) {\n            const { box } = el\n            const boxCenter = start + ((1 + index * 2) * width) / step\n            const { rect } = el\n            const boxWidth = rect.right - rect.left\n\n            if (state[box].left || state[box].left === 0) {\n                updatedElements[box] = {\n                    ...state[box],\n                    left: boxCenter - boxWidth / 2,\n                }\n            } else {\n                updatedElements[box] = {\n                    ...state[box],\n                    right: boxCenter - boxWidth / 2,\n                }\n            }\n        }\n    })\n    return updatedElements\n}\n\nconst alignVDistribute = state => {\n    const chosenBoxes = [...state.chosenBoxes]\n    const { parent } = state[chosenBoxes[0]]\n    // $FlowFixMe\n    const frameDoc = document.getElementById('builderFrame').contentWindow\n        .document\n    const parentRect = frameDoc.getElementById(parent).getBoundingClientRect()\n    const boxesRects = []\n    let newTopCenter = 0\n    let newBottomCenter = 0\n    let newTop\n    let newBottom\n    chosenBoxes.forEach((box, index) => {\n        const rect = frameDoc.getElementById(box).getBoundingClientRect()\n        boxesRects.push({\n            box,\n            rect,\n        })\n        if (index === 0) {\n            newTop = rect.top\n            newTopCenter = rect.top + (rect.bottom - rect.top) / 2\n        } else if (newTop > rect.top) {\n            newTop = rect.top\n            newTopCenter = rect.top + (rect.bottom - rect.top) / 2\n        }\n        if (index === 0) {\n            newBottom = rect.bottom\n            newBottomCenter = rect.top + (rect.bottom - rect.top) / 2\n        } else if (newBottom < rect.bottom) {\n            newBottom = rect.bottom\n            newBottomCenter = rect.top + (rect.bottom - rect.top) / 2\n        }\n    })\n\n    let start = 0\n    let height\n    const step = boxesRects.length * 2\n    switch (state.alignMode) {\n        case 'parent':\n            height = parentRect.bottom - parentRect.top\n            break\n        case 'element':\n            height = boxesRects[0].rect.bottom - boxesRects[0].rect.top\n            break\n        case 'selection':\n            const quantity =\n                (newBottomCenter - newTopCenter) / ((boxesRects.length - 1) * 2)\n            height = step * quantity\n            start = newTopCenter - parentRect.top - quantity\n            break\n        default:\n            height = parentRect.bottom - parentRect.top\n    }\n\n    boxesRects.sort((a, b) => a.rect.top - b.rect.top)\n    const updatedElements = {}\n    boxesRects.forEach((el, index) => {\n        if (\n            state.alignMode === 'selection' ||\n            (index !== 0 && index !== boxesRects.length - 1)\n        ) {\n            const { box } = el\n            const boxCenter = start + ((1 + index * 2) * height) / step\n            const { rect } = el\n            const boxHeight = rect.bottom - rect.top\n\n            if (state[box].top || state[box].top === 0) {\n                updatedElements[box] = {\n                    ...state[box],\n                    top: boxCenter - boxHeight / 2,\n                }\n            } else {\n                updatedElements[box] = {\n                    ...state[box],\n                    bottom: boxCenter - boxHeight / 2,\n                }\n            }\n        }\n    })\n    return updatedElements\n}\n","import undoable from 'redux-undo'\n\nimport * as actionTypes from '../../actions/actionTypes'\nimport undoFilter from '../../../utils/filterUndo'\nimport * as sectionChoose from './actions/sectionChoose'\nimport * as sectionAddDelDuplicate from './actions/sectionAddDelDuplicate'\nimport * as sectionOrder from './actions/sectionOrder'\nimport * as boxAlign from './actions/boxAlign'\nimport * as boxAddDelDuplicate from './actions/boxAddDelDuplicate'\nimport * as viewSettings from './actions/viewSettings'\nimport * as styleState from './actions/styleState'\nimport * as boxIndexOrder from './actions/boxIndexOrder'\nimport * as boxChooseEnterExit from './actions/boxChooseEnterExit'\nimport * as loadSave from './actions/loadSave'\nimport * as text from './actions/text'\nimport {\n    changeElementPropertyValue,\n    changeElementPropertyValues,\n    deselectElements,\n    deselectInner,\n} from './utils'\n\nexport const initialState = {\n    leaving: false,\n    changed: false,\n    pageZoom: 100,\n    alignMode: 'parent',\n    saveHistory: false,\n    sectionsOnPage: [],\n    chosenBoxes: [],\n    chosenSection: null,\n    chosenBoxesValues: {},\n    chosenSectionValue: {},\n    chosenTextValues: {},\n    enteredBoxes: [],\n    hoveredElement: null,\n    activeElement: null,\n    changedStyleValues: [],\n    boxesDragStartValues: [],\n    preview: false,\n    currentId: 0,\n}\n\nexport type BuilderStateType = {\n    chosenBoxes: Array<string>,\n    chosenSection: ?string,\n    activeElement: ?string,\n    hoveredElement: ?string,\n    leaving: boolean,\n    changed: boolean,\n    pageZoom: number,\n    alignMode: 'parent' | 'selection' | 'element',\n    saveHistory: boolean,\n    sectionsOnPage: Array<string>,\n    chosenBoxesValues: {},\n    chosenSectionValue: {},\n    chosenTextValues: {},\n    enteredBoxes: Array<string>,\n    changedStyleValues: Array<{}>,\n    boxesDragStartValues: Array<{}>,\n    preview: boolean,\n    currentId: number,\n}\n/*\nleaving: false,\n  changed: false,\n  pageZoom: 100,\n  alignMode: 'parent',\n  saveHistory: false,\n  sectionsOnPage: ['element_0', 'element_4'],\n  chosenBoxes: [],\n  chosenSection: null,\n  chosenBoxesValues: {},\n  chosenSectionValue: {},\n  chosenTextValues: {},\n  enteredBoxes: [],\n  hoveredElement: null,\n  activeElement: null,\n  changedStyleValues: [],\n  boxesDragStartValues: [],\n  preview: false,\n  currentId: 6,\n  element_0: {\n    type: 'section',\n    height: 200,\n    space: 50,\n    background: 'rgba(200, 100, 30)',\n    header: false,\n    footer: false,\n    allPages: false,\n    children: ['element_3', 'element_1'],\n    styles: [],\n  },\n  element_1: {\n    type: 'box',\n    height: 100,\n    width: 100,\n    left: 200,\n    top: 100,\n    background: 'rgba(100, 0, 80)',\n    zIndex: 0,\n    children: ['element_2'],\n    parent: 'element_0',\n    styles: ['element_1_element_0_hover'],\n    borderOn: true,\n    borderSize: 5,\n    borderHOffset: 6,\n    borderVOffset: 7,\n    borderBlur: 8,\n    borderInset: false,\n    mapOn: true,\n    mapAddress: 'Test address',\n    mapZoom: 4,\n    mapSatellite: true, \n    mapOuter: true\n  },\n  element_2: {\n    type: 'box',\n    height: 50,\n    width: 50,\n    left: 100,\n    top: 200,\n    background: 'rgba(10, 200, 90)',\n    zIndex: 0,\n    children: [],\n    parent: 'element_1',\n    styles: [],\n  },\n  element_3: {\n    type: 'box',\n    height: 50,\n    width: 50,\n    left: 200,\n    top: 200,\n    background: 'rgba(170, 100, 200)',\n    zIndex: 1,\n    children: [],\n    parent: 'element_0',\n    styles: [],\n  },\n  element_1_element_0_hover: {\n    type: 'hover',\n    influencer: 'element_0',\n    left: 0,\n    top: 0,\n  },\n  element_4: {\n    type: 'section',\n    height: 500,\n    space: 50,\n    background: 'rgba(200, 100, 30)',\n    backgroundOn: true,\n    header: false,\n    footer: false,\n    allPages: false,\n    children: ['element_5'],\n    styles: [],\n  },\n  element_5: {\n    type: 'text',\n    height: 400,\n    width: 400,\n    left: 500,\n    top: 40,\n    background: 'rgba(170, 100, 200)',\n    backgroundOn: true,\n    zIndex: 1,\n    children: [],\n    parent: 'element_4',\n    styles: [],\n    textContent: '{\"object\":\"value\",\"document\":{\"object\":\"document\",\"data\":{},\"nodes\":[{\"object\":\"block\",\"type\":\"paragraph\",\"data\":{},\"nodes\":[{\"object\":\"text\",\"leaves\":[{\"object\":\"leaf\",\"text\":\"A line of tsdfdsfsdfdsds;lkfsd;kfsd;lfk.\",\"marks\":[]}]}]}]}}',\n  },\n  */\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.DESELECT_ELEMENTS:\n            return deselectElements(state)\n        case actionTypes.DESELECT_INNER:\n            return deselectInner(state, action)\n        case actionTypes.CHANGE_ELEMENT_PROPERTY_VALUE:\n            return changeElementPropertyValue(state, action)\n        case actionTypes.CHANGE_ELEMENT_PROPERTY_VALUES:\n            return changeElementPropertyValues(state, action)\n\n        case actionTypes.CHOOSE_SECTION:\n            return sectionChoose.chooseSection(state, action)\n\n        case actionTypes.ADD_SECTION:\n            return sectionAddDelDuplicate.addSection(state)\n        case actionTypes.DUPLICATE_SECTION:\n            return sectionAddDelDuplicate.duplicateSection(state)\n        case actionTypes.DELETE_SECTION:\n            return sectionAddDelDuplicate.deleteSection(state)\n\n        case actionTypes.MOVE_UP_SECTION:\n            return sectionOrder.moveUpSection(state)\n        case actionTypes.MOVE_DOWN_SECTION:\n            return sectionOrder.moveDownSection(state)\n\n        case actionTypes.ADD_BOX:\n            return boxAddDelDuplicate.addBox(state, action)\n        case actionTypes.DELETE_BOX:\n            return boxAddDelDuplicate.deleteBox(state)\n        case actionTypes.DUPLICATE_BOX:\n            return boxAddDelDuplicate.duplicateBox(state)\n\n        case actionTypes.MOVE_UP_BOX:\n            return boxIndexOrder.moveUpBox(state)\n        case actionTypes.MOVE_DOWN_BOX:\n            return boxIndexOrder.moveDownBox(state)\n        case actionTypes.ZINDEX_UP_BOX:\n            return boxIndexOrder.zIndexUpBox(state)\n        case actionTypes.ZINDEX_DOWN_BOX:\n            return boxIndexOrder.zIndexDownBox(state)\n\n        case actionTypes.ALIGN_BOXES:\n            return boxAlign.alignBoxes(state, action)\n        case actionTypes.CHANGE_ALIGN_MODE:\n            return boxAlign.changeAlignMode(state, action)\n\n        case actionTypes.CHOOSE_BOX:\n            return boxChooseEnterExit.chooseBox(state, action)\n        case actionTypes.ENTER_BOX:\n            return boxChooseEnterExit.enterBox(state)\n        case actionTypes.EXIT_BOX:\n            return boxChooseEnterExit.exitBox(state)\n\n        case actionTypes.SET_STATE_HOVER:\n            return styleState.setStateHover(state, action)\n        case actionTypes.SET_STATE_ACTIVE:\n            return styleState.setStateActive(state, action)\n        case actionTypes.UNSET_STATE_HOVER_ACTIVE:\n            return styleState.unsetStateHoverActive(state)\n        case actionTypes.CLEAR_STYLE:\n            return styleState.clearStyle(state, action)\n\n        case actionTypes.BUILDER_ZOOM_OUT:\n            return viewSettings.builderZoomOut(state)\n        case actionTypes.BUILDER_ZOOM_IN:\n            return viewSettings.builderZoomIn(state)\n        case actionTypes.BUILDER_ZOOM_RESET:\n            return viewSettings.builderZoomReset(state)\n        case actionTypes.PREVIEW_PAGE:\n            return viewSettings.pagePreview(state)\n\n        case actionTypes.UPDATE_TEXT_VALUES:\n            return text.updateTextValues(state, action)\n\n        case actionTypes.LOAD_CURRENT_PAGE_TO_BUILDER:\n            return loadSave.loadCurrentPageToBuilder(state, action)\n        case actionTypes.MARK_PAGE_AS_SAVED:\n            return loadSave.markPageAsSaved(state)\n        case actionTypes.MARK_PAGE_AS_LEAVING:\n            return loadSave.markPageAsLeaving(state)\n\n        default:\n            return state\n    }\n}\n\nconst undoableReducer = undoable(reducer, {\n    filter: undoFilter,\n    limit: 8,\n})\n\nexport default undoableReducer\n","import { updateChosenBoxesAndSectionValues } from '../utils'\nimport type { BuilderStateType } from '../builder'\n\nexport const chooseSection = (state: BuilderStateType, action: Object) =>\n    updateChosenBoxesAndSectionValues({\n        ...state,\n        chosenSection: action.item,\n        chosenBoxes: [],\n        chosenBoxesValues: {},\n        enteredBoxes: [],\n    })\n","import omit from 'object.omit'\nimport type { BuilderStateType } from '../builder'\n\nimport {\n    updateChosenBoxesAndSectionValues,\n    getElementsToAdd,\n    getElementsToDelete,\n} from '../utils'\n\nexport const addSection = (state: BuilderStateType) => {\n    const newId = `element_${state.currentId}`\n    state.currentId += 1\n    const newSection = {\n        type: 'section',\n        height: 200,\n        background: 'rgba(200, 100, 30)',\n        header: false,\n        footer: false,\n        allPages: false,\n        space: 50,\n        children: [],\n        styles: [],\n    }\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        [newId]: newSection,\n        chosenBoxes: [],\n        chosenSection: newId,\n        enteredBoxes: [],\n        sectionsOnPage: state.sectionsOnPage.concat([newId]),\n        changed: true,\n    })\n}\n\nexport const duplicateSection = (state: BuilderStateType) => {\n    if (!state.chosenSection) {\n        return\n    }\n    const firstLayerElements = []\n    const elementsToAdd = getElementsToAdd(\n        state,\n        [state.chosenSection],\n        firstLayerElements\n    )\n\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        ...elementsToAdd,\n        chosenBoxes: [],\n        enteredBoxes: [],\n        chosenSection: firstLayerElements[0],\n        sectionsOnPage: state.sectionsOnPage.concat(firstLayerElements),\n        changed: true,\n    })\n}\n\nexport const deleteSection = (state: BuilderStateType) => {\n    if (!state.chosenSection) {\n        return\n    }\n    const elementsToRemove = getElementsToDelete([state.chosenSection], state)\n    let elementsToRemoveWithStyles = []\n    elementsToRemove.forEach(element => {\n        elementsToRemoveWithStyles = elementsToRemoveWithStyles.concat(\n            [element],\n            state[element].styles\n        )\n        if (state.hoveredElement === element) {\n            state.hoveredElement = null\n        }\n        if (state.activeElement === element) {\n            state.activeElement = null\n        }\n    })\n    const newState = omit(state, elementsToRemoveWithStyles)\n    newState.sectionsOnPage = newState.sectionsOnPage.filter(\n        el => el !== state.chosenSection\n    )\n    return updateChosenBoxesAndSectionValues({\n        ...newState,\n        chosenSection: null,\n        chosenBoxes: [],\n        enteredBoxes: [],\n        changed: true,\n    })\n}\n","import type { BuilderStateType } from '../builder'\n\nexport const moveUpSection = (state: BuilderStateType) => {\n    const currentIndex = state.sectionsOnPage.indexOf(state.chosenSection)\n    if (currentIndex > 0) {\n        const newSectionsOnPage = [...state.sectionsOnPage]\n        newSectionsOnPage[currentIndex] = state.sectionsOnPage[currentIndex - 1]\n        newSectionsOnPage[currentIndex - 1] = state.chosenSection\n        return {\n            ...state,\n            sectionsOnPage: newSectionsOnPage,\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n\nexport const moveDownSection = (state: BuilderStateType) => {\n    const currentIndex = state.sectionsOnPage.indexOf(state.chosenSection)\n    if (currentIndex < state.sectionsOnPage.length - 1) {\n        const newSectionsOnPage = [...state.sectionsOnPage]\n        newSectionsOnPage[currentIndex] = state.sectionsOnPage[currentIndex + 1]\n        newSectionsOnPage[currentIndex + 1] = state.chosenSection\n        return {\n            ...state,\n            sectionsOnPage: newSectionsOnPage,\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n","import { omit } from 'lodash'\nimport type { BuilderStateType } from '../builder'\n\nimport {\n    getElementsToDelete,\n    getElementsToAdd,\n    updateChosenBoxesAndSectionValues,\n} from '../utils'\n\nexport const addBox = (state: BuilderStateType, action: Object) => {\n    const parent =\n        state.enteredBoxes.length > 0\n            ? state.enteredBoxes[0]\n            : state.chosenSection\n            ? state.chosenSection\n            : null\n\n    if (!parent) {\n        return\n    }\n\n    if (!action.items) {\n        let newId\n        newId = `element_${state.currentId}`\n        state.currentId += 1\n\n        action.items = {\n            [newId]: {\n                type: 'box',\n                height: 50,\n                width: 50,\n                left: 0,\n                top: 0,\n                children: [],\n                styles: [],\n            },\n        }\n        action.rootElements = [newId]\n    }\n\n    action.rootElements.forEach((element, index) => {\n        action.items[element].parent = parent\n        action.items[element].zIndex = state[parent].children.length + index\n    })\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        [parent]: {\n            ...state[parent],\n            children: state[parent].children.concat(action.rootElements),\n        },\n        ...action.items,\n        chosenBoxes: action.rootElements,\n        changed: true,\n    })\n}\n\nexport const deleteBox = (state: BuilderStateType) => {\n    const { parent } = state[state.chosenBoxes[0]]\n    const elementsToRemove = getElementsToDelete(state.chosenBoxes, state)\n    let elementsToRemoveWithStyles = []\n    elementsToRemove.forEach(element => {\n        elementsToRemoveWithStyles = elementsToRemoveWithStyles.concat(\n            [element],\n            state[element].styles\n        )\n        if (state.hoveredElement === element) {\n            state.hoveredElement = null\n        }\n        if (state.activeElement === element) {\n            state.activeElement = null\n        }\n    })\n    const newState = omit(state, elementsToRemoveWithStyles)\n    newState[parent].children = newState[parent].children.filter(\n        el => el !== state.chosenBoxes[0]\n    )\n    const childrenForSort = [...newState[parent].children]\n    childrenForSort.sort((a, b) => state[a].zIndex > state[b].zIndex)\n    childrenForSort.forEach((el, index) => (newState[el].zIndex = index))\n    return updateChosenBoxesAndSectionValues({\n        ...newState,\n        chosenBoxes: [],\n        enteredBoxes: [],\n        changed: true,\n    })\n}\n\nexport const duplicateBox = (state: BuilderStateType) => {\n    const { parent } = state[state.chosenBoxes[0]]\n    const firstLayerElements = []\n    const elementsToAdd = getElementsToAdd(\n        state,\n        state.chosenBoxes,\n        firstLayerElements\n    )\n    const newState = {\n        ...state,\n        ...elementsToAdd,\n        chosenBoxes: firstLayerElements,\n        [parent]: {\n            ...state[parent],\n            children: state[parent].children.concat(firstLayerElements),\n        },\n        changed: true,\n    }\n    firstLayerElements.forEach(newEl => {\n        newState[parent].children.forEach(el => {\n            if (newState[el].zIndex > newState[newEl].zIndex) {\n                newState[el].zIndex = newState[el].zIndex + 1\n            }\n        })\n        newState[newEl].zIndex = newState[newEl].zIndex + 1\n    })\n    return updateChosenBoxesAndSectionValues(newState)\n}\n","import type { BuilderStateType } from '../builder'\n\nexport const moveUpBox = (state: BuilderStateType) => {\n    const { parent } = state[state.chosenBoxes[0]]\n    const currentIndex = state[parent].children.indexOf(state.chosenBoxes[0])\n    if (currentIndex > 0) {\n        const newChildren = [...state[parent].children]\n        newChildren[currentIndex] = state[parent].children[currentIndex - 1]\n        newChildren[currentIndex - 1] = state.chosenBoxes[0]\n        return {\n            ...state,\n            [parent]: {\n                ...state[parent],\n                children: newChildren,\n            },\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n\nexport const moveDownBox = (state: BuilderStateType) => {\n    const { parent } = state[state.chosenBoxes[0]]\n    const currentIndex = state[parent].children.indexOf(state.chosenBoxes[0])\n    if (currentIndex < state[parent].children.length - 1) {\n        const newChildren = [...state[parent].children]\n        newChildren[currentIndex] = state[parent].children[currentIndex + 1]\n        newChildren[currentIndex + 1] = state.chosenBoxes[0]\n        return {\n            ...state,\n            [parent]: {\n                ...state[parent],\n                children: newChildren,\n            },\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n\nexport const zIndexUpBox = (state: BuilderStateType) => {\n    const { children } = state[state[state.chosenBoxes[0]].parent]\n    const currentIndex = state[state.chosenBoxes[0]].zIndex\n    if (currentIndex < children.length - 1) {\n        const elementForSwap = children.find(\n            el => state[el].zIndex === currentIndex + 1\n        )\n        return {\n            ...state,\n            [elementForSwap]: {\n                ...state[elementForSwap],\n                zIndex: currentIndex,\n            },\n            [state.chosenBoxes[0]]: {\n                ...state[state.chosenBoxes[0]],\n                zIndex: currentIndex + 1,\n            },\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n\nexport const zIndexDownBox = (state: BuilderStateType) => {\n    const { children } = state[state[state.chosenBoxes[0]].parent]\n    const currentIndex = state[state.chosenBoxes[0]].zIndex\n    if (currentIndex > 0) {\n        const elementForSwap = children.find(\n            el => state[el].zIndex === currentIndex - 1\n        )\n        return {\n            ...state,\n            [elementForSwap]: {\n                ...state[elementForSwap],\n                zIndex: currentIndex,\n            },\n            [state.chosenBoxes[0]]: {\n                ...state[state.chosenBoxes[0]],\n                zIndex: currentIndex - 1,\n            },\n            changed: true,\n        }\n    }\n    return { ...state }\n}\n","import { updateChosenBoxesAndSectionValues } from '../utils'\nimport type { BuilderStateType } from '../builder'\n\nexport const chooseBox = (state: BuilderStateType, action: Object) => {\n    if (state.chosenBoxes.includes(action.item)) {\n        return state\n    }\n\n    let section = action.item\n    const curState = { ...state }\n    while (curState[section].type !== 'section') {\n        section = curState[section].parent\n    }\n    const result = {\n        ...state,\n        chosenSection: section,\n    }\n    if (!action.ctrl || state.chosenBoxes.length === 0) {\n        result.chosenBoxes = [action.item]\n    } else {\n        let prevSection = state.chosenBoxes[0]\n        const curState = { ...state }\n        while (curState[prevSection].type !== 'section') {\n            prevSection = curState[prevSection].parent\n        }\n        if (prevSection !== section) {\n            result.chosenBoxes = [action.item]\n            result.chosenBoxesValues = { ...state[action.item] }\n        } else {\n            result.chosenBoxes = state.chosenBoxes.concat([action.item])\n        }\n    }\n    // Update array of entered boxes\n    result.enteredBoxes = []\n    if (result.chosenBoxes.length > 0) {\n        let box = result[result.chosenBoxes[0]].parent\n        while (result[box].type !== 'section') {\n            result.enteredBoxes.push(box)\n            box = result[box].parent\n        }\n    } else {\n        result.enteredBoxes = []\n    }\n\n    return updateChosenBoxesAndSectionValues(result)\n}\n\nexport const enterBox = (state: BuilderStateType) => {\n    const chosenBoxes = []\n    if (\n        state[state.chosenBoxes[0]].type === 'menu' ||\n        state[state.chosenBoxes[0]].type === 'text'\n    ) {\n        chosenBoxes.push(state.chosenBoxes[0])\n    }\n\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        enteredBoxes: [state.chosenBoxes[0], ...state.enteredBoxes],\n        chosenBoxes: chosenBoxes,\n    })\n}\n\nexport const exitBox = (state: BuilderStateType) => {\n    let enteredBoxes = []\n    let chosenBoxes = []\n    if (state.enteredBoxes.length > 0) {\n        const { parent } = state[state.enteredBoxes[0]]\n        if (state[parent].type === 'box') {\n            enteredBoxes = [parent]\n        }\n        chosenBoxes = [state.enteredBoxes[0]]\n    }\n    const result = {\n        ...state,\n        enteredBoxes,\n        chosenBoxes,\n    }\n    return updateChosenBoxesAndSectionValues(result)\n}\n","import omit from 'object.omit'\n\nimport { updateChosenBoxesAndSectionValues } from '../utils'\nimport type { BuilderStateType } from '../builder'\n\nexport const setStateHover = (state: BuilderStateType, action: Object) => {\n    let element\n    if (action.isSection) {\n        element = state.chosenSection\n    } else if (state.chosenBoxes.length > 0) {\n        element = state.chosenBoxes[0]\n    }\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        hoveredElement: element\n            ? element === state.hoveredElement\n                ? null\n                : element\n            : null,\n        activeElement: null,\n    })\n}\n\nexport const setStateActive = (state: BuilderStateType, action: Object) => {\n    let element\n    if (action.isSection) {\n        element = state.chosenSection\n    } else if (state.chosenBoxes.length > 0) {\n        element = state.chosenBoxes[0]\n    }\n    return updateChosenBoxesAndSectionValues({\n        ...state,\n        hoveredElement: null,\n        activeElement: element\n            ? element === state.activeElement\n                ? null\n                : element\n            : null,\n    })\n}\n\nexport const unsetStateHoverActive = (state: BuilderStateType) =>\n    updateChosenBoxesAndSectionValues({\n        ...state,\n        hoveredElement: null,\n        activeElement: null,\n    })\n\nexport const clearStyle = (state: BuilderStateType, action: Object) => {\n    const influencer = state.hoveredElement || state.activeElement\n    const type = state.hoveredElement ? 'hover' : 'active'\n    let newState = { ...state }\n    let path\n\n    if (!influencer) {\n        return\n    }\n    if (action.isSection) {\n        if (!state.chosenSection) {\n            return\n        }\n        path = `${state.chosenSection}_${influencer}_${type}`\n        newState = {\n            ...newState,\n            [path]: {\n                ...omit(newState[path], action.value),\n            },\n        }\n    } else {\n        newState.chosenBoxes.forEach(box => {\n            path = `${box}_${influencer}_${type}`\n            newState = {\n                ...newState,\n                [path]: {\n                    ...omit(newState[path], action.value),\n                },\n            }\n        })\n    }\n    return updateChosenBoxesAndSectionValues({\n        ...newState,\n        changed: true,\n    })\n}\n","export const builderZoomOut = (state: Object) => ({\n  ...state,\n  pageZoom: state.pageZoom > 10 ? state.pageZoom - 10 : state.pageZoom,\n});\n\nexport const builderZoomIn = (state: Object) => ({\n  ...state,\n  pageZoom: state.pageZoom + 10,\n});\n\nexport const builderZoomReset = (state: Object) => ({\n  ...state,\n  pageZoom: 100,\n});\n\nexport const pagePreview = (state: Object) => {\n    return {\n        ...state,\n        preview: !state.preview,\n}};\n","import type { BuilderStateType } from '../builder'\n\nexport const updateTextValues = (state: BuilderStateType, action: Object) => ({\n    ...state,\n    chosenTextValues: action.values,\n})\n","import { initialState } from '../builder'\nimport type { BuilderStateType } from '../builder'\n\nexport const loadCurrentPageToBuilder = (\n    state: BuilderStateType,\n    action: Object\n) => {\n    if (action._id && (action.pagesObjects || action.pageObject)) {\n        const content = action.pagesObjects\n            ? action.pagesObjects[action._id].content\n            : action.pageObject.content\n        return {\n            ...initialState,\n            ...content,\n        }\n    }\n}\n\nexport const markPageAsSaved = (state: BuilderStateType) => ({\n    ...state,\n    changed: false,\n    leaving: false,\n})\n\nexport const markPageAsLeaving = (state: BuilderStateType) => ({\n    ...state,\n    leaving: true,\n})\n","//const IGNORE_TIME = 200\n\n//let filter = true\nexport default function undoFilter (action: Object, currState: Object, prevState: Object): boolean {\n    if (action.isNotForHistory) {\n        return false;\n    }\n    const excludeActions = [\n        'CLICK_TOP_MENU_ITEM',\n        'CHOOSE_BOX',\n        'CHOOSE_SECTION',\n        'CHANGE_ALIGN_MODE',\n        'DESELECT_ELEMENTS',\n        'DESELECT_INNER',\n        'ENTER_BOX',\n        'EXIT_BOX',\n        'UNSET_STATE_HOVER_ACTIVE',\n        'SET_STATE_ACTIVE',\n        'SET_STATE_HOVER',\n        'ADD_ELEMENTS_TO_BUFFER',\n        'BUILDER_ZOOM_OUT',\n        'BUILDER_ZOOM_IN',\n        'BUILDER_ZOOM_RESET',\n        'PREVIEW_PAGE',\n        'UPDATE_TEXT_VALUES',\n        'AUTH_START',\n        'AUTH_SUCCESS',\n        'AUTH_FAIL',\n        'AUTH_LOGOUT',\n        'SAVE_WEBSITE_DATA_FROM_SERVER',\n        'ACTION_START',\n        'ACTION_FAIL',\n        'LOAD_WEBSITE',\n        'CREATE_WEBSITE',\n        'SAVE_WEBSITE_SETTINGS',\n        'DELETE_SUCCESS',\n        'DELETE_START',\n        'SET_CURRENT_PAGE',\n        'ADD_PAGE_SUCCESS',\n        'DELETE_PAGE_SUCCESS',\n        'ACTION_SUCCESS',\n        'SAVE_PAGE_STRUCTURE_TO_STORE',\n        'SAVE_PAGE_IN_STATE',\n        'LOAD_GLOBALS_TO_STORE',\n        'LOAD_WEBSITE_FROM_SERVER',\n        'MARK_PAGE_AS_SAVED',\n        'MARK_PAGE_AS_LEAVING',\n        'SET_URL_IS_NOT_VALID',\n        'DELETE_FAIL'\n    ];\n    if (excludeActions.includes(action.type)) {\n        return false;\n    }\n  // other filters\n  //filter = actionsThrottlingFilter(action)\n    return true;\n}\n\n// Store rapid actions of the same type at most once every x time.\n/*\nlet ignoreRapid = false\nlet prevActionType\nfunction actionsThrottlingFilter (action) {\n  if (action.type !== prevActionType) {\n    ignoreRapid = false\n    prevActionType = action.type\n    return true\n  }\n  if (ignoreRapid) {\n    return false\n  }\n  ignoreRapid = true\n  setTimeout(() => {\n    ignoreRapid = false\n  }, IGNORE_TIME)\n  return true\n}\n*/","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {\n    activeTopMenuItem: 'sections',\n}\n\nconst reducer = (state: Object = initialState, action: Object) => {\n    switch (action.type) {\n        case actionTypes.CLICK_TOP_MENU_ITEM:\n            return {\n                ...state,\n                activeTopMenuItem: action.item,\n            }\n        default:\n            return state\n    }\n}\n\nexport default reducer\n","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {\n    rootElements: [],\n    currentId: 0,\n}\n\nconst reducer = (state: Object = initialState, action: Object) => {\n    switch (action.type) {\n        case actionTypes.ADD_ELEMENTS_TO_BUFFER:\n            return {\n                ...action.items,\n                rootElements: action.rootElements,\n                currentId: 0,\n            }\n        default:\n            return state\n    }\n}\n\nexport default reducer\n","import * as actionTypes from '../actions/actionTypes'\n\nexport const initialState = {\n    token: null,\n    userId: null,\n    error: null,\n    loading: false,\n}\n\nconst reducer = (state: Object = initialState, action: Object) => {\n    switch (action.type) {\n        case actionTypes.AUTH_START:\n            return {\n                ...state,\n                loading: true,\n                error: null,\n            }\n\n        case actionTypes.AUTH_SUCCESS:\n            return {\n                ...state,\n                token: action.data.token,\n                userId: action.data._id,\n                error: null,\n                loading: false,\n            }\n\n        case actionTypes.AUTH_FAIL:\n            return {\n                ...state,\n                token: null,\n                userId: null,\n                error: action.error,\n                loading: false,\n            }\n\n        case actionTypes.AUTH_LOGOUT:\n            return {\n                ...state,\n                token: null,\n                userId: null,\n            }\n\n        case actionTypes.DELETE_START:\n            return {\n                ...state,\n                loading: true,\n            }\n\n        case actionTypes.DELETE_SUCCESS:\n            return {\n                ...state,\n                loading: false,\n                error: null,\n            }\n\n        case actionTypes.DELETE_FAIL:\n            return {\n                ...state,\n                loading: false,\n                error: action.error,\n            }\n\n        default:\n            return state\n    }\n}\n\nexport default reducer\n","import * as actionTypes from '../actions/actionTypes'\nimport { omit } from 'lodash'\n\nexport const initialState = {\n    websites: [],\n    title: null,\n    header: {},\n    footer: {},\n    domain: null,\n    bufferElements: [],\n    pagesObjects: {},\n    pagesStructure: [],\n    _id: '',\n    error: null,\n    loading: false,\n    pagesLoading: false,\n    currentPage: '',\n    urlNotValid: false,\n}\n\nconst reducer = (state: Object = initialState, action: Object) => {\n    switch (action.type) {\n        case actionTypes.SAVE_WEBSITE_DATA_FROM_SERVER:\n            return saveWebsiteDataFromServer(state, action)\n        case actionTypes.LOAD_WEBSITE_FROM_SERVER:\n            return loadWebsiteFromServer(state, action)\n\n        case actionTypes.ADD_PAGE_SUCCESS:\n            return addPageSuccess(state, action)\n        case actionTypes.DELETE_PAGE_SUCCESS:\n            return deletePageSuccess(state, action)\n        case actionTypes.SET_CURRENT_PAGE:\n            return setCurrentPage(state, action)\n        case actionTypes.SAVE_PAGE_STRUCTURE_TO_STORE:\n            return savePagesStructureToStore(state, action)\n        case actionTypes.SAVE_PAGE_IN_STATE:\n            return savePageInState(state, action)\n\n        case actionTypes.ACTION_START:\n            return actionStart(state)\n        case actionTypes.ACTION_FAIL:\n            return actionFail(state, action)\n        case actionTypes.ACTION_SUCCESS:\n            return actionSuccess(state)\n\n        case actionTypes.ACTION_START_PAGE_LOAD:\n            return actionStartPageLoad(state)\n        case actionTypes.ACTION_SUCCESS_PAGE_LOAD:\n            return actionSuccessPageLoad(state)\n\n        case actionTypes.LOAD_GLOBALS_TO_STORE:\n            return loadGlobalsToStore(state, action)\n\n        case actionTypes.SET_URL_IS_NOT_VALID:\n            return setUrlIsNotValid(state)\n\n        default:\n            return state\n    }\n}\n\nconst saveWebsiteDataFromServer = (state, action) => {\n    let newState\n    if (!action.data.website && !action.data.pagesObjects) {\n        newState = initialState\n    }\n\n    return {\n        ...state,\n        websites: action.data.websites || state.websites,\n        pagesObjects: action.data.pagesObjects || state.pagesObjects,\n        ...action.data.website,\n        error: null,\n        loading: false,\n        pagesLoading: false,\n        ...newState,\n    }\n}\n\nconst loadWebsiteFromServer = (state, action) => ({\n    ...initialState,\n    ...action.data.website,\n    pagesObjects: action.data.pagesObjects,\n    websites: state.websites,\n    error: null,\n    loading: false,\n    pagesLoading: false,\n})\n\nconst addPageSuccess = (state, action) => ({\n    ...state,\n    pagesStructure: action.pagesStructure,\n    pagesObjects: {\n        ...state.pagesObjects,\n        [action.page._id]: action.page,\n    },\n    currentPage: action.page._id,\n    error: null,\n    loading: false,\n    pagesLoading: false,\n})\n\nconst deletePageSuccess = (state, action) => {\n    const newPagesObjects = { ...state.pagesObjects }\n    for (let i in newPagesObjects) {\n        const isDeleted = !action.pagesStructure.some(\n            item => item.id.toString() === i.toString()\n        )\n        if (isDeleted) {\n            delete newPagesObjects[i]\n        }\n    }\n    return {\n        ...state,\n        pagesObjects: newPagesObjects,\n        pagesStructure: action.pagesStructure,\n        currentPage: action.currentPage,\n        error: null,\n        loading: false,\n        pagesLoading: false,\n    }\n}\n\nconst actionStart = state => ({\n    ...state,\n    error: null,\n    pagesLoading: true,\n})\n\nconst actionSuccess = state => ({\n    ...state,\n    error: null,\n    pagesLoading: false,\n})\n\nconst actionStartPageLoad = state => ({\n    ...state,\n    error: null,\n    loading: true,\n})\n\nconst actionSuccessPageLoad = state => ({\n    ...state,\n    error: null,\n    loading: false,\n})\n\nconst actionFail = (state, action) => ({\n    ...state,\n    error: action.error,\n    pagesLoading: false,\n})\n\nconst setCurrentPage = (state, action) => ({\n    ...state,\n    currentPage: action._id,\n    urlNotValid: false,\n})\n\nconst savePagesStructureToStore = (state, action) => ({\n    ...state,\n    ...omit(action, ['type']),\n    urlNotValid: false,\n})\n\nconst savePageInState = (state, action) => ({\n    ...state,\n    pagesObjects: {\n        ...state.pagesObjects,\n        [state.currentPage]: {\n            ...state.pagesObjects[state.currentPage],\n            ...omit(action, ['type']),\n        },\n    },\n})\n\nconst loadGlobalsToStore = (state, action) => ({\n    ...state,\n    pagesStructure: action.pagesStructure,\n    pagesObjects: action.pagesObjects,\n    currentPage: action.currentPage,\n})\n\nconst setUrlIsNotValid = state => ({\n    ...state,\n    urlNotValid: true,\n})\n\nexport default reducer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux'\nimport thunk from 'redux-thunk'\nimport axios from 'axios'\n\nimport './index.css'\nimport App from './App'\n//import * as serviceWorker from './serviceWorker';\nimport builderReducer from './store/reducers/BuilderReducer/builder'\nimport topMenuReducer from './store/reducers/topMenu'\nimport bufferReducer from './store/reducers/buffer'\nimport authReducer from './store/reducers/auth'\nimport websiteReducer from './store/reducers/website'\nimport { logout } from './store/actions/index'\n\nconst composeEnhancers =\n    process.env.NODE_ENV === 'development'\n        ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n        : null || compose\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://localhost:5000'\n}\n\nexport const rootReducer = combineReducers({\n    builder: builderReducer,\n    topMenu: topMenuReducer,\n    buffer: bufferReducer,\n    auth: authReducer,\n    website: websiteReducer,\n})\n\nexport const store = createStore(\n    rootReducer,\n    composeEnhancers(applyMiddleware(thunk))\n    //applyMiddleware(thunk)\n)\n\n// set axios interceptors\naxios.interceptors.request.use(function(config) {\n    if (localStorage.getItem('currentAction')) {\n        config.headers.currentAction = localStorage.getItem('currentAction')\n    }\n    return config\n})\n\naxios.interceptors.response.use(\n    function(response: { data: mixed }) {\n        if (!response.data.currentAction) {\n            localStorage.setItem(\n                'currentAction',\n                (parseInt(localStorage.getItem('currentAction')) + 1).toString()\n            )\n        }\n        return response\n    },\n    function(error) {\n        if (error.response) {\n            if (parseInt(error.response.status) === 412) {\n                store.dispatch(logout())\n            }\n        }\n        return Promise.reject(error)\n    }\n)\n\n// const store = createStore(rootReducer,\n//          applyMiddleware(thunk)\n//      );\n\nconst app = (\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n)\n\nconst root = document.getElementById('root')\nif (root !== null) {\n    ReactDOM.render(app, root)\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","import React from 'react';\n\nimport classes from './SmallButton.module.css';\nimport Svg from '../../../Svg/Svg';\n\ntype Props = {\n    title?: string,\n    buttonClicked: Function,\n    icon: string,\n    inline?: boolean\n}\n\nexport const SmallButton = (props: Props) => {\n\n    return (\n        <button\n            data-testid=\"MyButton\"  \n            className={`${classes.Button} ${props.inline ? classes.Inline : ''}`}\n            onClick={props.buttonClicked}>\n            <table className={classes.Table}>\n                <tbody>\n                    <tr>\n                        <td className={classes.Cell}>\n                            <Svg icon={props.icon}\n                                className={classes.Svg} />\n                        </td>\n                        <td className={classes.Cell}>{props.title}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </button>\n    );\n};\n\nexport default SmallButton;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"LoginInput_Input__1lrl8\",\"Label\":\"LoginInput_Label__1U4-D\",\"InputElement\":\"LoginInput_InputElement__2kbZM\",\"Invalid\":\"LoginInput_Invalid__1W9Hy\",\"PasswordIsVisible\":\"LoginInput_PasswordIsVisible__1GmCN\",\"PasswordIsHidden\":\"LoginInput_PasswordIsHidden__HTdO6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"SmallButton_Button__1rYEB\",\"Inline\":\"SmallButton_Inline__1RBdN\",\"Table\":\"SmallButton_Table__jsICd\",\"Cell\":\"SmallButton_Cell__1Fy43\",\"Svg\":\"SmallButton_Svg__1zvRd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"SideDrawer_SideDrawer__nY-ii\",\"Open\":\"SideDrawer_Open__1AHAz\",\"Close\":\"SideDrawer_Close__2eAor\",\"LogoContainer\":\"SideDrawer_LogoContainer__2BiwI\"};","import React from 'react';\nimport classes from './Spinner.module.css';\nimport Aux from '../../../hoc/Aux';\n\ntype Props = {\n    cover?: boolean,\n    datatestid?: string\n}\n\nconst spinner = (props: Props) => (\n    <Aux>\n        {props.cover ? \n            <div \n                className={classes.Cover}\n                data-testid={props.datatestid || 'cover'}>\n                <div className={classes.Loader} >\n                    Loading...\n                </div>\n            </div> \n            :  <div className={classes.Loader}>Loading...</div> \n        }\n       \n    </Aux>\n);\n\nexport default spinner;","import React from 'react';\nimport type { Node } from 'react'\n\nimport classes from './ToolsSection.module.css';\n\ntype Props = {\n    children: Node,\n    label: string\n}\n\nexport const ToolsSection = (props: Props) => {\n    return (\n        <td className={classes.Section}>\n            <div className={classes.ContentDiv}>\n                <table className={classes.ContentTable}>\n                    <tbody>\n                        <tr>\n                            {props.children}\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div className={classes.TitleDiv}>\n                {props.label}\n            </div>\n        </td>\n    );\n};\n\nexport default ToolsSection;","import React, { Component } from 'react'\nimport type { Node } from 'react'\n\nimport classes from './DropDownMenu.module.css'\n\ntype Props = {\n    width?: number,\n    height?: number,\n    datatestid?: string,\n    close: Function,\n    children?: Node,\n    customClass?: string,\n    doNotRebuild?: boolean,\n}\n\nclass dropDownMenu extends Component<Props> {\n    dropDownDiv: Object\n    constructor(props: Props) {\n        super(props)\n        this.dropDownDiv = React.createRef()\n    }\n\n    setDropDownHeight = () => {\n        //const topDifference = this.props.isTopMenu ? 0 : 56;\n        const topDifference = 0\n        const dropDown = this.dropDownDiv.current\n        const buttonRect = dropDown.previousSibling.getBoundingClientRect()\n        const height = document.documentElement\n            ? document.documentElement.clientHeight\n            : 0\n        const width = document.documentElement\n            ? document.documentElement.clientWidth\n            : 0\n        dropDown.style.top = buttonRect.bottom - topDifference + 'px'\n        const rect = dropDown.getBoundingClientRect()\n        if (rect.bottom > height) {\n            if (\n                height - (rect.bottom - rect.top) - (rect.bottom - rect.top) >\n                10\n            )\n                dropDown.style.top =\n                    height -\n                    (rect.bottom - rect.top) -\n                    (rect.bottom - rect.top) -\n                    topDifference +\n                    'px'\n            else dropDown.style.height = height - rect.top + 'px'\n        }\n        //dropDown.style.width = rect.right - rect.left + 'px';\n        if (rect.right > width) {\n            if (width - (rect.right - rect.left) > 0)\n                dropDown.style.left = width - (rect.right - rect.left) + 'px'\n            else dropDown.style.left = '0px'\n        }\n    }\n\n    componentDidMount() {\n        if (!this.props.doNotRebuild) {\n            this.setDropDownHeight()\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.props.doNotRebuild) {\n            this.setDropDownHeight()\n        }\n    }\n\n    render() {\n        return (\n            <div\n                className={\n                    classes.DropDownMenuDiv +\n                    ' ' +\n                    (this.props.customClass || '')\n                }\n                style={{ minWidth: this.props.width || 0 + 'px' }}\n                ref={this.dropDownDiv}\n            >\n                <div\n                    data-testid={this.props.datatestid || 'dropDownCover'}\n                    className={classes.Cover}\n                    onClick={this.props.close}\n                />\n                <div className={classes.MenuDiv}>{this.props.children}</div>\n            </div>\n        )\n    }\n}\n\nexport default dropDownMenu\n"],"sourceRoot":""}