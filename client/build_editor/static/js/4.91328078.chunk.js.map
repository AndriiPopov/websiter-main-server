{"version":3,"sources":["components/UI/Buttons/SmallButton/SmallButton.js","components/ResourcesTree/ResourcesTree.module.css","containers/AdvancedBar/AdvancedBar.module.css","components/Svg/Svg.js","hoc/withDragDropContext.js","utils/dragFunction.js","containers/AdvancedBar/SizeDragController/SizeDragController.js","components/UI/InspectorValue/InspectorValue.js","utils/sortTreeMethods.js","utils/pagesStructure.js","components/Editor/Editor.js","containers/SiteBuilder/Frame/Context.js","components/UI/TreeSearch/TreeSearch.js","components/ElementsTreeAndProperties/ElementsTree/ElementsTree.js","components/UI/Select/Select.js","containers/SiteBuilder/SiteBuilder.module.css","containers/SiteBuilder/Frame/index.js","containers/SiteBuilder/Frame/Frame.js","containers/SiteBuilder/Frame/Content.js","components/SiteBuilderLayout/SiteBuilderLayout.module.css","containers/AdvancedBar/SizeDragController/SizeDragController.module.css","containers/AdvancedBar/Images/Images.module.css","components/UI/Buttons/SmallButton/SmallButton.module.css","components/UI/InspectorValue/InspectorValue.module.css","components/UI/TreeSearch/TreeSearch.module.css","components/ElementsTreeAndProperties/ElementsTree/methods/populateStructureWithPluginChildren.js","components/ElementsTreeAndProperties/ElementsTree/methods/search.js","components/ElementsTreeAndProperties/ElementsTree/methods/getBoxType.js","components/ElementsTreeAndProperties/ElementsTree/methods/generateButtonRules.js","components/ElementsTreeAndProperties/Properties/Properties.module.css","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.module.css","components/UI/Select/Select.module.css","components/ElementsTreeAndProperties/Properties/MenuItems/MenuItems.js","components/ElementsTreeAndProperties/Properties/MenuItems/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.js","containers/AdvancedBar/Websites/WebsitesTree/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.module.css","containers/AdvancedBar/Websites/WebsitesProperties/WebsitesProperties.module.css","components/UI/TextInput/TextInput.module.css","utils/tagItems.js","components/ElementsTreeAndProperties/ElementsTree/ItemRenderer.js","containers/AdvancedBar/Images/Images.js","awsConfig.js","components/ResourcesTree/ItemRenderer.js","components/ResourcesTree/ResourcesTree.js","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.js","components/ElementsTreeAndProperties/Properties/propertiesSuggestedList.js","components/ElementsTreeAndProperties/Properties/Properties.js","containers/AdvancedBar/Plugins/Plugins.js","containers/AdvancedBar/Pages/Pages.js","containers/AdvancedBar/Account/Account.js","components/UI/TextInput/TextInput.js","containers/AdvancedBar/Websites/WebsitesProperties/WebsitesProperties.js","containers/AdvancedBar/Websites/Websites.js","containers/AdvancedBar/AdvancedBar.js","components/SiteBuilderLayout/SiteBuilderLayout.js","containers/SiteBuilder/Menu/MenuModule/utils/isMobile.js","containers/SiteBuilder/Menu/MenuModule/util.js","containers/SiteBuilder/Menu/MenuModule/placements.js","containers/SiteBuilder/Menu/MenuModule/SubMenu.js","containers/SiteBuilder/Menu/MenuModule/DOMWrap.js","containers/SiteBuilder/Menu/MenuModule/SubPopupMenu.js","containers/SiteBuilder/Menu/MenuModule/utils/legacyUtil.js","containers/SiteBuilder/Menu/MenuModule/Menu.js","containers/SiteBuilder/Menu/MenuModule/MenuItem.js","containers/SiteBuilder/Menu/MenuModule/MenuItemGroup.js","containers/SiteBuilder/Menu/MenuModule/Divider.js","containers/SiteBuilder/Menu/MenuModule/index.js","containers/SiteBuilder/Menu/Menu.js","containers/SiteBuilder/Menu/methods/buildItemsForMenu.js","containers/SiteBuilder/BuilderElement/methods/useEffect.js","containers/SiteBuilder/BuilderElement/methods/boxMethods.js","containers/SiteBuilder/BuilderElement/methods/tagsLibrary.js","containers/SiteBuilder/BuilderElement/BuilderElement.js","containers/SiteBuilder/BuilderElement/methods/refineProperties.js","containers/SiteBuilder/HoveredBoxHighlight/HoveredBoxHighlight.js","containers/SiteBuilder/SiteBuilder.js","containers/SiteBuilder/methods/saveRect.js","containers/SiteBuilder/systemClasses.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_tooltip__WEBPACK_IMPORTED_MODULE_1__","react_tooltip__WEBPACK_IMPORTED_MODULE_1___default","react_redux__WEBPACK_IMPORTED_MODULE_2__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3___default","_Svg_Svg__WEBPACK_IMPORTED_MODULE_4__","connect","state","tooltipsOn","props","width","window","innerWidth","a","createElement","Fragment","data-tip","tooltip","data-testid","className","concat","disabled","classes","ButtonDisabled","Button","inline","Inline","onClick","buttonClicked","onMouseDown","mouseDown","Table","Cell","icon","Svg","title","effect","multiline","place","Tooltip","delayShow","overridePosition","position","currentEvent","currentTarget","node","desiredPlace","offset","buttonRect","tooltipRect","top","target","getBoundingClientRect","bottom","left","right","module","exports","rst__virtualScrollOverride","ReactVirtualized__Grid__innerScrollContainer","rst__rtl","ReactVirtualized__Grid","rst__node","rst__nodeContent","rst__lineBlock","rst__absoluteLineBlock","rst__lineHalfHorizontalRight","rst__lineFullVertical","rst__lineHalfVerticalTop","rst__lineHalfVerticalBottom","rst__highlightLineVertical","arrow-pulse","rst__highlightTopLeftCorner","rst__highlightBottomLeftCorner","rst__rowWrapper","rst__row","rst__rowLandingPad","rst__rowCancelPad","rst__rowSearchMatch","rst__rowSearchFocus","rst__rowContents","rst__rowLabel","rst__rowToolbar","rst__moveHandle","rst__toolbarButton","rst__rowContentsDragDisabled","rst__loadingHandle","rst__loadingCircle","rst__loadingCirclePoint","pointFade","rst__rowTitle","rst__rowTitleWithSubtitle","rst__rowSubtitle","rst__collapseButton","rst__expandButton","rst__lineChildren","rst__placeholder","rst__placeholderLandingPad","rst__placeholderCancelPad","ReactVirtualized__Table__headerRow","ReactVirtualized__Table__row","ReactVirtualized__Table__headerTruncatedText","ReactVirtualized__Table__headerColumn","ReactVirtualized__Table__rowColumn","ReactVirtualized__Table__sortableHeaderColumn","ReactVirtualized__Table__sortableHeaderIconContainer","ReactVirtualized__Table__sortableHeaderIcon","Hovered","Chosen","IconsContainer","IconsContainerPage","IconsContainerNotPage","TreeContainer","Content","Container","LastContainer","reactTabs","reactTabsTabPanelSelected","reactTabsTab","TabSelected","mainContainer","heightControll","widthControll","TabList","result","objectSvg","svg","obj","stack","length","trim","indexOf","substring","pop","curObj","type","children","attr","selfclosing","key","value","push","svgStringToObj","datatestid","height","viewBox","map","element","index","svgChildrenToElements","elementIndex","d","fill","el","react_dnd__WEBPACK_IMPORTED_MODULE_0__","react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__","react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default","DragDropContext","HTML5Backend","dragStart","e","callbackMove","callbackStop","store","dispatch","actions","startMouseX","pageX","startMouseY","pageY","prevMouseX","prevMouseY","dragMouseMove","totalDifX","totalDifY","relDifX","relDifY","addEventListener","dragMouseUp","removeEventListener","__webpack_exports__","SizeDragController_SizeDragController","SizeDragController","react_default","addClass","join","vertical","difX","difY","startValue","changed","barSizes","InspectorValue","forwardRef","parentRef","input","useRef","_useState","useState","active","_useState2","Object","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","setState","useEffect","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","parentPropsBlur","blur","parentPropsFocus","focus","react__WEBPACK_IMPORTED_MODULE_2___default","InspectorDiv","readonly","react_autocomplete__WEBPACK_IMPORTED_MODULE_3___default","ref","items","withState","onChange","onSelect","setTimeout","current","shouldItemRender","name","toLowerCase","abbr","getItemValue","item","renderItem","isHighlighted","ItemHighlighted","renderMenu","styles","style","zIndex","background","border","color","maxHeight","overflow","renderInput","inputEl","Span","onFocus","assign","onBlur","Input","InputHidden","_extends","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","isDescendant","older","younger","some","child","_defineProperty","defineProperty","enumerable","configurable","writable","_objectSpread","ownKeys","filter","sym","getOwnPropertyDescriptor","forEach","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","from","_iterableToArray","TypeError","_nonIterableSpread","buildItems","path","doBuildItems","omit","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","id","ace","config","set","Editor","_this","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","updateValue","isBeatifying","handleChange","editor","getSelection","getCursor","handleSelectProperty","selectedOption","JSON","parse","label","resultString","stringify","makeCodePrettier","moveCursorToPosition","elementCurrentCursor","column","row","editorMode","newValue","beautify_css","beautify_js","bind","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","prevProps","prevState","currentElement","elementValue","refs","aceEditor","_this2","react__WEBPACK_IMPORTED_MODULE_6___default","suggestOptions","_UI_Select_Select__WEBPACK_IMPORTED_MODULE_19__","placeholder","options","isSearchable","react_ace__WEBPACK_IMPORTED_MODULE_9___default","mode","theme","fontSize","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","commands","bindKey","win","mac","exec","undoResourceVersion","redoResourceVersion","Component","FrameContextConsumer","FrameContextProvider","FrameContext","undefined","_react","require","_react2","__esModule","default","doc","document","createContext","Provider","Consumer","TreeSearch","react__WEBPACK_IMPORTED_MODULE_1___default","searchString","handleSearchOnChange","searchFoundCount","searchFocusIndex","_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_3__","selectPrevMatch","selectNextMatch","searchOpen","withDragDropContext","websiteId","loadedWebsite","resourcesObjects","pluginsStructure","hoveredElementId","findMode","fromFrame","addBox","currentResource","resourceDraft","duplicateBox","withChildren","mergeBoxToPlugin","onlyChildren","dissolvePluginToBox","deleteBox","saveElementsStructure","structure","toggleFindMode","structureWithPluginChildren","populateStructureWithPluginChildren","treeData","buildTree","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","itemPath","currentBoxType","getBoxType","searchStringHasBeenCleared","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","searchOnHover","buttonRules","generateButtonRules","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_9__","addNext","addInside","addChildren","duplicate","mergeToPlugin","mergeToPluginChildren","dissolve","delete","react_sortable_tree__WEBPACK_IMPORTED_MODULE_4__","nodeContentRenderer","ItemRenderer","canDrag","_ref2","childrenTo","canDrop","_ref","nextParent","text","checkIfCapital","tag","charAt","forChildren","isChildren","scaffoldBlockPxWidth","rowHeight","generateNodeProps","_ref3","currentBox","isVirtualized","onMoveNode","_ref4","treeIndex","global","console","debug","searchQuery","searchFocusOffset","searchFinishCallback","matches","searchMethod","searchMethod2","_UI_TreeSearch_TreeSearch__WEBPACK_IMPORTED_MODULE_12__","Select","customStyles","menu","provided","margin","selectContainer","clearIndicator","padding","dropdownIndicator","control","minHeight","option","Div","react_select__WEBPACK_IMPORTED_MODULE_2__","isClearable","defaultProps","Overlay","_Context","get","_Frame","_Frame2","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_interopRequireDefault","_reactDom2","_propTypes2","_Content2","Frame","_Component","context","instance","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","handleLoad","forceUpdate","_isMounted","subClass","superClass","create","constructor","setPrototypeOf","_inherits","getDoc","readyState","contentDocument","mountTarget","querySelector","body","documentElement","contentDidMount","contentDidUpdate","defaultView","parentView","updateHead","_setInitialContent","initialRender","contents","open","write","initialContent","close","getMountTarget","bodyProps","setAttribute","mountTargetHtml","getMountTargetHtml","htmlProps","createPortal","head","renderFrameContents","propTypes","object","string","func","oneOfType","arrayOf","Children","only","isRequired","ContentPreview","SectionHeight","InnerDiv","ImageContainer","ImageContainerChosen","ImageContainerCurrent","ImageName","ImageInput","Buttons","Images","DropDown","Label","excludeItems","includes","pluginItem","find","pluginElement","getCurrentResourceValue","neededChildren","currentChildren","existingChild","forPlugin","sourcePlugin","textContent","properties","class","_utils_basic__WEBPACK_IMPORTED_MODULE_0__","currentItemInStructure","OlContainer","Textarea","Editors","SelectContainer","StyleControls","pagesStructure","changeBarSize","initiator","treeDataSource","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","pagesStructureWithAll","all","generatedFrom","sourceItem","url","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","menuItems","menuItem","currentMenuItem","react__WEBPACK_IMPORTED_MODULE_3___default","classesAdvancedBar","flex","width3","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_17__","newMenuItems","changeProperty","react_sortable_tree__WEBPACK_IMPORTED_MODULE_5__","newItems","cloneDeep","newItem","findNewItem","newCurrentMenuId","currentMenuId","saveItems","dndType","_containers_AdvancedBar_SizeDragController_SizeDragController__WEBPACK_IMPORTED_MODULE_15__","react_tabs__WEBPACK_IMPORTED_MODULE_6__","selectedClassName","shouldCopyOnOutsideDrop","_Editor_Editor__WEBPACK_IMPORTED_MODULE_16__","propertiesString","cursorPosition","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_actions_index__WEBPACK_IMPORTED_MODULE_2__","_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_sortTreeMethods__WEBPACK_IMPORTED_MODULE_5__","currentPage","currentPlugin","chooseMenuItem","changeMenuItemProperty","handle","_this$props","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","draggedNode","isSearchMatch","isSearchFocus","didDrop","otherProps","expanded","_","isLandingPadActive","isDraggedDescendant","buttonStyle","_props$node","rowClasses","aria-label","opacity","currentWebsite","websites","domainNotOk","notSavedResources","loadWebsite","addWebsite","deleteWebsite","website","_id","_components_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_7__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_3__","notVirtual","_WebsitesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_components_Svg_Svg__WEBPACK_IMPORTED_MODULE_6__","chooseWebsite","changeWebsiteProperty","Loaded","LocalDomain","Title","DomainSettings","Wrong","Right","tagItems","chooseBox","changeBoxProperty","hoverBox","unhoverBox","onMouseEnter","onMouseMove","onMouseLeave","substr","alert","images","size","storage","userId","currentImage","imageUpload","files","chooseImage","image","deleteImage","renameImage","SmallButton","str","appendChild","selected","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","copyToClipboard","accept","imageRequest","bucket","edits","resize","fit","r","g","b","alpha","toFormat","btoa","imageClass","lib_default","src","alt","chooseResource","saveResourcesStructure","newStructure","oldStructure","homepage","hidden","notPublished","handlePropertyChange","replace","handleChoose","minWidth","paddingRight","allowEmpty","addResource","currentId","duplicateResource","deleteResource","saveResource","publishRevertResource","revert","revertResourceToSaved","currentResourcesStructureElement","resourceStructureAttributeChange","objectSpread","handlePublishRevert","slicedToArray","handleSaveResource","index_esm","splitText","start","end","textToSpan","selectionStart","selectionEnd","handleSelectionChange","textMode","onKeyUp","onMouseUp","propertiesSuggestedList","websiterMenu","baseHtmlProps","Properties","isPlugin","Properties_TextProperty_TextProperty","esm","slice","changes","toConsumableArray","MenuItems","page","present","draft","components_ResourcesTree_ResourcesTree","width2","ElementsTree","ElementsTreeAndProperties_Properties_Properties","loading","deleteUser","logout","switchTooltips","LoginButton","clicked","btnType","TextInput","wrong","customDomainNotOk","verifyCustomDomain","websiteElement","domain","setDomainValue","customDomain","setCustomDomainValue","domainValue","_useState3","_useState4","customDomainValue","domainHidden","UI_TextInput_TextInput","customDomainHidden","customDomainVerified","cname","verifyCode","WebsitesTree","Websites_WebsitesProperties_WebsitesProperties","setCurrentTopTab","currentTopTab","tabClass","pannelClass","tabClassSelected","undoRedoTabNames","tabIndex","onKeyDown","shiftKey","ctrlKey","handleKeyDown","handleTabSelected","selectedTabClassName","selectedTabPanelClassName","AdvancedBar_Pages_Pages","AdvancedBar_Plugins_Plugins","AdvancedBar_Images_Images","AdvancedBar_Websites_Websites","AdvancedBar_Account_Account","barHeight","containers_AdvancedBar_AdvancedBar","enumerableOnly","symbols","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","err","_iterableToArrayLimit","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","match","regex","userAgent","test","isMobile","ua","navigator","tmp","split","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","defaultResult","getOwnPropertyDescriptors","noop","getKeyFromChildrenIndex","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","cb","React","c","isMenuItemGroup","c2","menuAllProps","isMobileDevice","autoAdjustOverflow","adjustX","adjustY","placements","topLeft","points","bottomLeft","leftTop","rightTop","_typeof","_defineProperties","_getPrototypeOf","o","_assertThisInitialized","_setPrototypeOf","p","guid","popupPlacementMap","horizontal","vertical-left","vertical-right","updateDefaultActiveFirst","defaultActiveFirst","menuId","getState","SubMenu","_React$Component","onDestroy","keyCode","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","visible","_this$props2","domEvent","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","addKeyPath","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","openChange","trigger","mouseenterTimeout","isChildrenSelected","ret","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","ReactDOM","offsetWidth","saveSubMenuTitle","isRootMenu","componentDidUpdate","_this$props6","manualRef","minWidthTimeout","_this$props7","clearTimeout","_this3","baseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","internalMenuId","itemIcon","expandIcon","haveRendered","haveOpened","mergedMotion","leavedClassName","removeOnLeave","motionAppear","CSSMotion","mergedClassName","classNames","popupMenuBlockClasses","SubPopupMenu","_classNames","isInlineMode","isSub","popupMenuItemClasses","topMenuItemClasses","mouseEvents","titleClickEvents","titleMouseEvents","paddingLeft","ariaOwns","aria-owns","aria-expanded","aria-haspopup","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","popupClassName","role","Trigger","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","forceRender","connected","activeKey","subMenuKey","canUseDOM","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","setChildrenWidthAndResize","handleResize","menuUl","ResizeObserver","entries","observe","MutationObserver","disconnect","attributes","childList","subTree","reduce","acc","childNode","rest","Tag","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","callback","getFlatInstanceArray","activeItem","step","preventDefault","selectInfo","direction","len","reverse","activeIndex","every","ci","renderCommonMenuItem","extraProps","childProps","isActive","newChildProps","renderMenuItem","createChainedFunction","addProps","nextProps","shallowEqual","topMenuBlockClasses","topMenuItemActiveClasses","popupMenuItemActiveClasses","domProps","activeKeys","getMotion","openAnimation","openTransitionName","warning","motionName","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","event","processSingle","oneChanged","splice","_selectedKeys2","getOpenTransitionName","transitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","0-menu-","updateMiniStore","updateClassesInMiniStore","MenuItem","isSelected","saveNode","callRef","scrollIntoView","onlyScrollIfNeeded","attrs","attribute","aria-disabled","aria-selected","mouseEvent","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","SubMenu1","esm_extends","MenuModule_SubMenu","pageInStructure","MenuModule_MenuItem","location","SubMenu2","builtItems","hiddenPages","l","buildMenuItems","buildItemsForMenu","menuElements","Menu_SubMenu1","MenuModule","setBoxProperties","box","refinedProperties","removeAttribute","inheritedPropertyName","getInheritedPropertyName","parentPluginProps","stopPropagation","routePlugin","emptyTags","headTags","BuilderElement","saveHoveredElementRect","elementRef","rect","iframe","getElementById","scrollY","contentWindow","pageYOffset","scrollX","pageXOffset","pluginsPathArray","plugin","log","newScript","replaceChild","shift","sizes","indexW","indexH","isNaN","parseInt","refineProperties","currentPath","childrenMainElement","childrenForPlugin","itemInn","pluginResource","isEmpty","isEqual","isHead","SiteBuilder_Menu_Menu","hoveredElementSize","hoverMode","parents","addHoverBoxes","parent","pointerEvents","borderRadius","boxShadow","backgroundImage","findParents","innerItem","SiteBuilder","headValue","checkOnLeave","sessionStorage","getItem","setItem","savePropertiesOnLeave","innerDoc","saveRect","newProps","currentPageItemInStructure","newHead","SiteBuilder_BuilderElement_BuilderElement","newHeadString","renderToString","es","markRefreshing","frame","zoom","bodyElement","bodyStyle","htmlElement","htmlStyle","isRefreshing","StopRefresh","Frame_default","msZoom","MozTransform","MozTransformOrigin","OTransform","OTransformOrigin","WebkitTransform","WebkitTransformOrigin","SiteBuilder_HoveredBoxHighlight_HoveredBoxHighlight","react_beforeunload_lib","onBeforeunload","lib_esm","handleWidth","handleHeight","onResize","components_SiteBuilderLayout_SiteBuilderLayout","sizeIsChanging","mapStateToProps","pageZoom","mapDispatchToProps","refreshing","span","display"],"mappings":"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AAC,eAAA,iECAlBzmB,EAAAC,QAAA,CAAkBsa,IAAA,uBAAA1O,MAAA,yBAAAqV,cAAA,iCAAAwF,MAAA,yBAAAxoB,OAAA,0BAAAyoB,MAAA,2HCDHC,EAAA,CACX,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,OACA,WACA,MACA,MACA,UACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,MACA,MACA,KACA,KACA,UACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,UACA,MACA,SACA,QACA,SACA,KACA,OACA,UACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,OACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,YACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MACA,MACA,gBCyKW9pB,gBAtBS,SAAAC,GACpB,MAAO,IAGgB,SAAC6J,EAAU3J,GAClC,MAAO,CACH4pB,UAAW,SAAC1X,EAAIqG,EAAiBC,GAAtB,OACP7O,EAASC,IAAkBsI,EAAIqG,EAAiBC,KACpDqR,kBAAmB,SAAC3hB,EAAKC,EAAOoQ,EAAiBC,GAA9B,OACf7O,EACIC,IACI1B,EACAC,EACAoQ,EACAC,KAGZsR,SAAU,SAAC5X,EAAI+C,GAAL,OAActL,EAASC,IAAiBsI,EAAI+C,KACtD8U,WAAY,kBAAMpgB,EAASC,UAIpB/J,CA1PM,SAACG,GAClB,IAyDIgnB,EAzDAC,EAAcjnB,EACdub,EAAuB0L,EAAY1L,qBACnC2L,EAA2BD,EAAYC,yBACvCC,EAAqBF,EAAYE,mBACjCC,EAAoBH,EAAYG,kBAChCC,EAAaJ,EAAYI,WACzBvM,EAAUmM,EAAYnM,QACtBH,EAAUsM,EAAYtM,QACtBvY,EAAO6kB,EAAY7kB,KACnBklB,EAAcL,EAAYK,YAC1BxV,EAAOmV,EAAYnV,KACnBiK,EAAYkL,EAAYlL,UACxBwL,EAAgBN,EAAYM,cAC5BC,EAAgBP,EAAYO,cAC5B9mB,EAAYumB,EAAYvmB,UACxBqN,EAAQkZ,EAAYlZ,MACpB0Z,EAAUR,EAAYQ,QACtBC,EAAanY,YAAyB0X,EAAa,CAC/C,uBACA,2BACA,qBACA,oBACA,aACA,UACA,UACA,OACA,QACA,WACA,cACA,OACA,YACA,gBACA,gBACA,UACA,YACA,QACA,UACA,SACA,SACA,aACA,YACA,WACA,aACA,oBACA,gBACA,kBACA,mBACA,aACA,OACA,WACA,OACA,aACA,cACA,cACA,iBAKJtM,IACAqM,EAASI,EAAkBtc,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,sBAG/C,IAAIgnB,GAAsBJ,GAAWJ,EACjCS,EAAsBR,GAAevX,YAAauX,EAAallB,GAC/D2lB,EAAc,CACdllB,MAAO,GAAM0Y,GAnEkByM,EAmF/BhoB,EAAMoC,KAZN+Y,EAvE+B6M,EAuE/B7M,IACAjJ,EAxE+B8V,EAwE/B9V,GACA+I,EAzE+B+M,EAyE/B/M,KACAuI,EA1E+BwE,EA0E/BxE,YACAlI,EA3E+B0M,EA2E/B1M,WACA9C,EA5E+BwP,EA4E/BxP,cACAD,EA7E+ByP,EA6E/BzP,gBACAL,EA9E+B8P,EA8E/B9P,iBACAuL,EA/E+BuE,EA+E/BvE,WACAxO,EAhF+B+S,EAgF/B/S,KACAsE,EAjF+ByO,EAiF/BzO,SACAsB,EAlF+BmN,EAkF/BnN,WAGEoN,EAAa,CAACpnB,YAChBgnB,GAAoBI,EAAW7f,KAAKvH,sBACpCgnB,IAAuB/M,GACvBmN,EAAW7f,KAAKvH,qBAChB0mB,GAAeU,EAAW7f,KAAKvH,uBAC/B2mB,GAAeS,EAAW7f,KAAKvH,uBAC9BgnB,GAAoBI,EAAW7f,KAAK1H,GAsBzC,OACIoK,EAAA1K,EAAAC,cAAA,MAAA2L,OAAA0C,OAAA,GACQI,YAAS,CAAEf,MAAO,CAAExF,OAAQ,SAAYmf,GADhD,CAEItmB,YAAa,kBACTpB,EAAM4pB,UAAU1X,EAAIqG,EAAiBC,IAEzCwR,aAAc,kBAAMhqB,EAAM8pB,SAAS5X,EAAI+C,IACvCgV,YAAa,kBAAMjqB,EAAM8pB,SAAS5X,EAAI+C,IACtCiV,aAAc,kBAAMlqB,EAAM+pB,gBAEzB7C,GACG9kB,EAAK2F,WACJ3F,EAAK2F,SAASP,OAAS,GACK,oBAAlBpF,EAAK2F,WACZ+C,EAAA1K,EAAAC,cAAA,WACIyK,EAAA1K,EAAAC,cAAA,UACIyH,KAAK,SACLogB,aAAY9lB,EAAKulB,SAAW,WAAa,SACzCjnB,UACI0B,EAAKulB,SACC9mB,sBACAA,oBAEVkN,MAAOga,EACP7mB,QAAS,WACL,OAAOgmB,EAAyB,CAC5B9kB,KAAMA,EACN0P,KAAMA,EACNiK,UAAWA,OAItB3Z,EAAKulB,WAAaN,GACfvc,EAAA1K,EAAAC,cAAA,OACI0N,MAAO,CAAE9N,MAAOsb,GAChB7a,UAAWG,uBAK/BiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,mBACXsmB,EACGrc,EAAA1K,EAAAC,cAAA,OACIK,UAAWunB,EAAWjd,KAAK,KAC3B+C,MAAO0C,YACH,CACI0X,QAASL,EAAsB,GAAM,GAEzC/Z,IAGHiZ,EACDlc,EAAA1K,EAAAC,cAAA,OACIK,UACIia,EACM9Z,mBACA,CACIA,mBACAA,gCACFmK,KAAK,MAGjBF,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACXoa,EACG,QACCuI,EACK,OACAA,EAAY2G,OAAO,EAAG,KACrB3G,EAAYhc,OAAS,GAChB,MACA,IACN,IACA,IAENsD,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACMgb,EAAmB,GAAN,IACJ,WAATrG,GACEsE,EAAS/R,OAAS,GACZ,SAATyN,GACGsE,EAAS/R,OAAS,EAClBsD,EAAA1K,EAAAC,cAACkL,EAAA,EAAD,CACIoB,SAAUkO,EACV1S,MAAOgT,EACPrO,MAAO6c,EAASlhB,IAAI,SAAAgF,GAChB,MAAO,CACHF,KAAME,EACNJ,KAAMI,KAGdnB,KA7GvB,SAAAnE,GACjB,GAAIA,IAAUgT,EAAK,CACf,GAAa,WAATlG,EAAmB,CACnB,IAAM4R,EAAgB3O,EAAiB8K,KACnC,SAAAvV,GAAI,OAAIA,EAAKyE,KAAOqG,IAExB,IAAKsO,EAAe,OACpB,GAAI1e,IAAU0e,EAAcxZ,KAExB,YADA+c,MAAM,oCAIdpqB,EAAM6pB,kBACF,MACA1hB,EACAoQ,EACAC,KA8FgCzL,WAAS,IAGboO,EAEHsI,EAAWvR,GAAX,QAAAvR,OACa8iB,EAAWvR,GADxB,KAEK,GACLuR,EAAWC,MAAX,WAAA/iB,OACgB8iB,EAAWC,MAD3B,KAEK,GACJpI,EAEI,wBADA,ySChH/Bzb,cAnBS,SAAAC,GACpB,MAAO,CACHuqB,OAAQvqB,EAAMuqB,OACdC,KAAMxqB,EAAMyqB,QACZC,OAAQ1qB,EAAM0qB,OACdC,aAAc3qB,EAAM2qB,eAID,SAAA9gB,GACvB,MAAO,CACH+gB,YAAa,SAACC,EAAON,EAAQC,EAAME,GAAtB,OACT7gB,EAASC,IAAoB+gB,EAAON,EAAQC,EAAME,KACtDI,YAAa,SAAAC,GAAK,OAAIlhB,EAASC,IAAoBihB,KACnDC,YAAa,SAAAD,GAAK,OAAIlhB,EAASC,IAAoBihB,KACnDE,YAAa,SAAAF,GAAK,OAAIlhB,EAASC,IAAoBihB,OAI5ChrB,CA5GA,SAACG,GAAD,OACX8K,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,aACZiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACZiK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNQ,KAAK,mGACLL,cAAe,kBAAMnB,EAAM+qB,YAAY/qB,EAAMyqB,eAC7CjqB,QAAQ,sBAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNQ,KAAK,yJACLL,cAAe,kBAAMnB,EAAM8qB,YAAY9qB,EAAMyqB,eAC7CjqB,QAAQ,sBAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNQ,KAAK,qPACLL,cAAe,kBA7CP,SAAA8pB,GACpB,IAAMjiB,EAAKgO,SAAS3W,cAAc,YAClC2I,EAAGb,MAAQ8iB,EACXjiB,EAAGiY,aAAa,WAAY,IAC5BjY,EAAG+E,MAAM9L,SAAW,WACpB+G,EAAG+E,MAAMlL,KAAO,UAEhBmU,SAASiJ,KAAKiL,YAAYliB,GAC1B,IAAMmiB,EAEFnU,SAASjE,eAAeqY,WAAa,GAE/BpU,SAASjE,eAAesY,WAAW,GAE7CriB,EAAGsiB,SACHtU,SAASuU,YAAY,QAErBvU,SAASiJ,KAAKuL,YAAYxiB,GACtBmiB,IAGAnU,SAASjE,eAAe0Y,kBAExBzU,SAASjE,eAAe2Y,SAASP,IAuBrBQ,CAAgB,YAAc3rB,EAAMyqB,eAExCjqB,QAAQ,iFAGhBsK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,UACZiK,EAAA1K,EAAAC,cAAA,SAAOK,UAAWG,kBACdiK,EAAA1K,EAAAC,cAAA,SACIK,UAAWG,aACXiH,KAAK,OACL8jB,OAAO,UACP5e,SAAU,SAAAzD,GAAC,OACPvJ,EAAM0qB,YACFnhB,EAAE7G,OAAOioB,MACT3qB,EAAMqqB,OACNrqB,EAAMsqB,KACNtqB,EAAMwqB,WAIlB1f,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,kHACVsJ,EAAA1K,EAAAC,cAAA,KAAGK,UAAWG,aAAd,iBAEHb,EAAMqqB,OAAO5hB,IAAI,SAAAoiB,GACd,IAAMgB,EAAe1Y,KAAKI,UAAU,CAChCuY,OC/FE,WDgGF5jB,IAAK2iB,EAAMxd,KACX0e,MAAO,CACHC,OAAQ,CACJ/rB,MAAO,IACPsI,OAAQ,IACR0jB,IAAK,UACLhe,WAAY,CAAEie,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,MAAO,IAE3CC,SAAU,SAGZ3H,EAAG,GAAAhkB,OC1GI,yCD0GJ,KAAAA,OAAuB4rB,KAAKV,IAEjCW,EAAa3rB,iBASjB,OAPIgqB,EAAMxd,OAASrN,EAAMyqB,eACrB+B,EAAa,CACT3rB,iBACAA,wBACFmK,KAAK,MAIPF,EAAA1K,EAAAC,cAAA,OACIK,UAAW8rB,EACXtkB,IAAK2iB,EAAMxd,KACXnM,QAAS,kBAAMlB,EAAM4qB,YAAYC,EAAMxd,QAEvCvC,EAAA1K,EAAAC,cAACosB,EAAArsB,EAAD,CAAUmI,OAAQ,KACduC,EAAA1K,EAAAC,cAAA,OACIqsB,IAAK/H,EACLpc,OAAO,MACPtI,MAAM,MACN0sB,IAAI,aAER7hB,EAAA1K,EAAAC,cAAA,KAAGK,UAAWG,aAAoBgqB,EAAMxX,4FE8JrDxT,cA5BS,SAAAC,GACpB,MAAO,CACHokB,eAAgBpkB,EAAMokB,eACtBhM,iBAAkBpY,EAAMoY,iBACxBqQ,kBAAmBzoB,EAAMyoB,kBACzBvQ,cAAelY,EAAMkY,cACrBC,iBAAkBnY,EAAMmY,iBACxB2O,YAAa9mB,EAAM8mB,YACnBC,cAAe/mB,EAAM+mB,gBAIF,SAAAld,GACvB,MAAO,CACHijB,eAAgB,SAAC1a,EAAIpK,GAAL,OACZ6B,EAASC,IAAuBsI,EAAIpK,KACxC+kB,uBAAwB,SAAC9U,EAAW+U,EAAcC,EAAcjlB,GAAxC,OACpB6B,EACIC,IACImO,EACA+U,EACAC,EACAjlB,OAMLjI,CAjPM,SAACG,GAClB,IAkBIgnB,EAlBAC,EAAcjnB,EACdub,EAAuB0L,EAAY1L,qBACnC2L,EAA2BD,EAAYC,yBACvCC,EAAqBF,EAAYE,mBACjCC,EAAoBH,EAAYG,kBAChCC,EAAaJ,EAAYI,WACzBvM,EAAUmM,EAAYnM,QACtBH,EAAUsM,EAAYtM,QACtBvY,EAAO6kB,EAAY7kB,KACnBklB,EAAcL,EAAYK,YAC1BxV,EAAOmV,EAAYnV,KACnBiK,EAAYkL,EAAYlL,UACxBwL,EAAgBN,EAAYM,cAC5BC,EAAgBP,EAAYO,cAC5B9mB,EAAYumB,EAAYvmB,UACxBqN,EAAQkZ,EAAYlZ,MACpB0Z,EAAUR,EAAYQ,QAItB9M,IACAqM,EAASI,EAAkBtc,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,sBAG/C,IAAIgnB,GAAsBJ,GAAWJ,EACjCS,EAAsBR,GAAevX,YAAauX,EAAallB,GAC/D2lB,EAAc,CACdllB,MAAO,GAAM0Y,GA5BkByM,EA+BuBhoB,EAAMoC,KAAxDiL,EA/B2B2a,EA+B3B3a,KAAM6E,EA/BqB8V,EA+BrB9V,GAAIyS,EA/BiBqD,EA+BjBrD,IAAKqI,EA/BYhF,EA+BZgF,SAAUC,EA/BEjF,EA+BFiF,OAAQC,EA/BNlF,EA+BMkF,aAEnCjF,EAAa,CAACpnB,YAChBgnB,GAAoBI,EAAW7f,KAAKvH,sBACpCgnB,IAAuB/M,GACvBmN,EAAW7f,KAAKvH,qBAChB0mB,GAAeU,EAAW7f,KAAKvH,uBAC/B2mB,GAAeS,EAAW7f,KAAKvH,uBAC9BgnB,GAAoBI,EAAW7f,KAAK1H,GAEzC,IAAMysB,EAAuB,SAACjlB,EAAKC,EAAO+J,GACtC/J,EAAQA,EAAMV,OACF,QAARS,IACAC,EAAQA,EAAMilB,QAAQ,OAAQ,KAAK9f,eAGvC,IAAIwf,EAAe,GACA,SAAf9sB,EAAM8H,OACNglB,EAAerH,oBAAUzlB,EAAMkkB,iBAChB,WAAflkB,EAAM8H,OACNglB,EAAerH,oBAAUzlB,EAAMkY,mBACnC,IAAMxP,EAAUokB,EAAa9J,KAAK,SAAAvV,GAAI,OAAIA,EAAKyE,KAAOA,IAElDxJ,EAAQR,KAASC,IAEjBO,EAAQR,GAAOC,EACfnI,EAAM6sB,uBACF7sB,EAAMgY,cACN8U,EACA9sB,EAAMkkB,eACNlkB,EAAM8H,QAUlB,OACIgD,EAAA1K,EAAAC,cAAA,MAAA2L,OAAA0C,OAAA,GACQI,YAAS,CAAEf,MAAO,CAAExF,OAAQ,UADpC,CAEInH,YAAa,kBARA,SAAA8Q,GACblS,EAAM4mB,cAAgB1U,GAAMlS,EAAM6mB,gBAAkB3U,GACpDlS,EAAM4sB,eAAe1a,EAAIlS,EAAM8H,MAMZulB,CAAanb,MAE/BgV,GACG9kB,EAAK2F,WACJ3F,EAAK2F,SAASP,OAAS,GACK,oBAAlBpF,EAAK2F,WACZ+C,EAAA1K,EAAAC,cAAA,WACIyK,EAAA1K,EAAAC,cAAA,UACIyH,KAAK,SACLogB,aAAY9lB,EAAKulB,SAAW,WAAa,SACzCjnB,UACI0B,EAAKulB,SACC9mB,sBACAA,oBAEVkN,MAAOga,EACP7mB,QAAS,WACL,OAAOgmB,EAAyB,CAC5B9kB,KAAMA,EACN0P,KAAMA,EACNiK,UAAWA,OAItB3Z,EAAKulB,WAAaN,GACfvc,EAAA1K,EAAAC,cAAA,OACI0N,MAAO,CAAE9N,MAAOsb,GAChB7a,UAAWG,uBAK/BiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,mBACXsmB,EACGrc,EAAA1K,EAAAC,cAAA,OACIK,UAAWunB,EAAWjd,KAAK,KAC3B+C,MAAO0C,YACH,CACI0X,QAASL,EAAsB,GAAM,GAEzC/Z,IAGHiZ,EACDlc,EAAA1K,EAAAC,cAAA,OACIK,UACIia,EACM9Z,mBACA,CACIA,mBACAA,gCACFmK,KAAK,KAEjB+C,MACmB,SAAf/N,EAAM8H,KACA,CACIwlB,SAAU,QACVC,aAAc,QAElB,IAGVziB,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAACkL,EAAA,EAAD,CACIpD,MAAOkF,EACPP,MAAO,GACPR,KAAM,SAAAnE,GAAK,OACPglB,EAAqB,OAAQhlB,EAAO+J,IAExCnF,WAAS,KAGD,SAAf/M,EAAM8H,KACHgD,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBAAhB,OAEIiK,EAAA1K,EAAAC,cAACkL,EAAA,EAAD,CACIpD,MAAOwc,EACP7X,MAAO,GACPR,KAAM,SAAAnE,GAAK,OACPglB,EACI,MACAhlB,EACA+J,IAGRnF,WAAS,EACTygB,YAAU,KAGlB,KACJ1iB,EAAA1K,EAAAC,cAAA,OACIK,UAAW,CACPG,iBACe,SAAfb,EAAM8H,KACAjH,qBACAA,yBACRmK,KAAK,MAES,SAAfhL,EAAM8H,KACHgD,EAAA1K,EAAAC,cAAA,WACK2sB,EACGliB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,gHAEVsJ,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,wCAGlB,KACY,SAAfxB,EAAM8H,KACHgD,EAAA1K,EAAAC,cAAA,WACK4sB,EACGniB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,8RAEVsJ,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,wCAGlB,KACJsJ,EAAA1K,EAAAC,cAAA,WACK6sB,EACGpiB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,s3BAEVsJ,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,wCAGlBsJ,EAAA1K,EAAAC,cAAA,WACKL,EAAMuoB,kBAAkBzF,SAAS5Q,GAC9BpH,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,2NAEVsJ,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,yDCmEnCsW,cACXjY,YAzDoB,SAAAC,GACpB,MAAO,CACHkY,cAAelY,EAAMkY,cACrBC,iBAAkBnY,EAAMmY,mBAIL,SAAAtO,GACvB,MAAO,CACH8jB,YAAa,SAAC1V,EAAW2V,EAAW5lB,GAAvB,OACT6B,EAASC,IAAoBmO,EAAW2V,EAAW5lB,KACvD6lB,kBAAmB,SAAC5V,EAAW2V,EAAW5lB,GAAvB,OACf6B,EAASC,IAAoBmO,EAAW2V,EAAW5lB,GAAM,KAC7D8lB,eAAgB,SAACF,EAAW5lB,GAAZ,OACZ6B,EAASC,IAAuB8jB,EAAW5lB,KAC/C+kB,uBAAwB,SAAC9U,EAAW+U,EAAcC,EAAcjlB,GAAxC,OACpB6B,EACIC,IACImO,EACA+U,EACAC,EACAjlB,KAGZ+lB,aAAc,SAACtV,EAAiBN,EAAkBe,EAAWlR,GAA/C,OACV6B,EACIC,IACI2O,EACAN,EACAe,EACAlR,KAGZgmB,sBAAuB,SACnBvV,EACAS,EACAlR,EACAimB,EACA9V,GALmB,OAOnBtO,EACIC,IACI2O,EACAS,EACAlR,EACAimB,EACA9V,KAGZ+V,sBAAuB,SAACzV,EAAiBN,GAAlB,OACnBtO,EACIC,IAA8B2O,EAAiBN,OAM3DpY,CA1RkB,SAACG,GACnB,IAaIiuB,EAbE7U,EAAWC,YAAUrZ,EAAMgZ,WAc7BhZ,EAAMuY,kBACN0V,EAAmCjuB,EAAMgZ,UAAUgK,KAC/C,SAAAvV,GAAI,OAAIA,EAAKyE,KAAOlS,EAAMuY,mBAGlC,IAAM2V,EAAmC,SAAChmB,EAAKC,GAC3C,GAAK8lB,EAAL,CACA,IAAMnB,EAAe9sB,EAAMgZ,UAAUvQ,IAAI,SAAAgF,GACrC,OAAIA,EAAKyE,KAAOlS,EAAMuY,gBACXvM,OAAAmiB,EAAA,EAAAniB,CAAA,GACAyB,EADPzB,OAAAqE,EAAA,EAAArE,CAAA,GAEK9D,EAAMC,IAGC,aAARD,EAA2B8D,OAAAmiB,EAAA,EAAAniB,CAAA,GAAKyB,EAAZ,CAAkBuf,UAAU,IACxCvf,IAGpBzN,EAAM6sB,uBACF7sB,EAAMgY,cACN8U,EACA9sB,EAAMgZ,UACNhZ,EAAM8H,QAmBRsmB,EAAsB,SAACL,GACzB,GAAKE,EAAL,CACA,IAAMnB,EAAe9sB,EAAMgZ,UAAUvQ,IAAI,SAAAgF,GACrC,OAAIA,EAAKyE,KAAOlS,EAAMuY,gBACXvM,OAAAmiB,EAAA,EAAAniB,CAAA,GAAKyB,EAAZ,CAAkByf,cAAc,IACxBzf,IAEhBzN,EAAM8tB,sBACF9tB,EAAMuY,gBACNuU,EACA9sB,EAAM8H,KACNimB,EACA/tB,EAAMiY,oBApEsBrM,EAwEHC,mBAAS,CACtCyL,aAAc,GACdG,iBAAkB,EAClBD,iBAAkB,KAClBkC,4BAA4B,EAC5B7B,YAAY,IA7EoB9L,EAAAC,OAAAqiB,EAAA,EAAAriB,CAAAJ,EAAA,GAwE7B9L,EAxE6BiM,EAAA,GAwEfG,EAxEeH,EAAA,GAqFpC,OACIjB,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAA,WACIyK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACXnB,EAAMytB,YACFztB,EAAMgY,cACNhY,EAAMuY,gBACNvY,EAAM8H,OAGdtG,KAAK,8GACLhB,QAAQ,sCAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACXnB,EAAM2tB,kBACF3tB,EAAMgY,cACNhY,EAAMuY,gBACNvY,EAAM8H,OAGdtG,KAAK,qPACLhB,QAAQ,uBAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACXnB,EAAM4tB,eAAe5tB,EAAMuY,gBAAiBvY,EAAM8H,OAEtDtG,KAAK,wJACLhB,QAAQ,oBAEI,SAAfR,EAAM8H,KACHgD,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACX+sB,EACI,YACA,IAGR1sB,KAAK,8GACLhB,QAAQ,wBAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,WACP8sB,GACAC,EACI,UACCD,EAAiChB,SAG9CzrB,KAAK,4RACLhB,QAAQ,oFAGhB,KACJsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBA5GJ,WACvB,GAAK8sB,EAAL,CACA,IAAMnB,EAAe9sB,EAAMgZ,UAAUvQ,IAAI,SAAAgF,GACrC,OAAIA,EAAKyE,KAAOlS,EAAMuY,gBACXvM,OAAAmiB,EAAA,EAAAniB,CAAA,GAAKyB,EAAZ,CAAkByf,cAAc,IACxBzf,IAEhBzN,EAAM6tB,aACF7tB,EAAMuY,gBACNvY,EAAMiY,iBACN6U,EACA9sB,EAAM8H,OAiGuBwmB,IACrB9sB,KAAK,yNACLhB,QAAQ,sHAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBAAMitB,KACrB5sB,KAAK,o3BACLhB,QAAQ,gDAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBAAMitB,GAAoB,IACzC5sB,KAAK,46BACLhB,QAAQ,kDAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACXnB,EAAMguB,sBACFhuB,EAAMuY,gBACNvY,EAAMiY,mBAGdzW,KAAK,+XACLhB,QAAQ,8CAEZsK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIhqB,QAAM,EACNG,cAAe,kBACX+K,EAASF,OAAAmiB,EAAA,EAAAniB,CAAA,GACFlM,EADC,CAEJ+X,YAAa/X,EAAM+X,eAG3BrW,KAAK,qTACLhB,QAAQ,yBAGhBsK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAACkuB,EAAA,EAAD,CACInV,SAAUA,EACVpM,SA5LK,SAAAF,GACjB,IAAM3F,EAAS,GACf0K,YAAW/E,EAAO,GAAI3F,GACtBnH,EAAM6sB,uBACF7sB,EAAMgY,cACN7Q,EACAnH,EAAMgZ,UACNhZ,EAAM8H,OAsLE2S,oBAAqBC,EACrBa,qBAAsB,GACtBE,kBAAmB,SAAAb,GAAA,MAAe,CAC9Bla,UADeka,EAAGxY,KAET8P,KAAOlS,EAAMuY,gBACZ,CAAC1X,UACD,KACViH,KAAM9H,EAAM8H,OAEhB8T,eAAe,EACfJ,UAAW,GACXW,YAAarc,EAAMwX,aACnB8E,kBAAmBtc,EAAM2X,iBACzB4E,qBAAsB,SAAAC,GAAO,OACzBpQ,EAASF,OAAAmiB,EAAA,EAAAniB,CAAA,GACFlM,EADC,CAEJ0X,iBAAkB8E,EAAQ9U,OAC1BiQ,iBACI6E,EAAQ9U,OAAS,EACX1H,EAAM2X,iBAAmB6E,EAAQ9U,OACjC,MAGlB+U,aAvIK,SAAAxB,GAA4C,IAAzC3Y,EAAyC2Y,EAAzC3Y,KAAuB+Z,GAAkBpB,EAAnCjJ,KAAmCiJ,EAA7BgB,UAA6BhB,EAAlBoB,aAC3C,QAAKA,IACD/Z,EAAKiL,KAAK3F,QAAQyU,IAAgB,QAAtC,OAwIKrc,EAAM+X,WACH/M,EAAA1K,EAAAC,cAAC+W,EAAA,EAAD,CAAYtX,MAAOA,EAAOoM,SAAUA,IACpC,+ECxEDrM,cACX,KAxBuB,SAAC8J,EAAU3J,GAClC,MAAO,CACHwuB,UAAW,SAACC,EAAOC,GAAR,OACP/kB,EACIC,IACI6kB,EACAC,EACA1uB,EAAMuY,gBACNvY,EAAMwY,iBAGlBmW,WAAY,SAACF,EAAOC,GAAR,OACR/kB,EACIC,IACI6kB,EACAC,EACA1uB,EAAMuY,gBACNvY,EAAMwY,mBAMX3Y,CA5JM,SAACG,GAAiB,IAAA4L,EACTC,mBAAS,CAC/B+iB,eAAgB,EAChBC,aAAc,EACd1mB,MAAO,KAJwB4D,EAAAC,OAAAqiB,EAAA,EAAAriB,CAAAJ,EAAA,GAC5B9L,EAD4BiM,EAAA,GACrBG,EADqBH,EAAA,GAO7B+G,EAASnH,iBAAO,MAEtBQ,oBAAU,WACFnM,EAAM0I,QAAQ8a,cAAgB1jB,EAAMqI,OACpC+D,EAAS,CACL0iB,eAAgB,EAChBC,aAAc,EACd1mB,MAAOnI,EAAM0I,QAAQ8a,gBAKjC,IAkBMsL,EAAwB,SAAAvlB,GAC1B2C,EAASF,OAAAmiB,EAAA,EAAAniB,CAAA,GACFlM,EADC,CAEJ8uB,eAAgBrlB,EAAE7G,OAAOksB,eACzBC,aAActlB,EAAE7G,OAAOmsB,iBAI/B,OAAO7uB,EAAM0I,QACToC,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAA,WACIyK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,mBACZiK,EAAA1K,EAAAC,cAACqc,EAAA,EAAD,CACI5H,QAAS,CACL,CAAE3M,MAAO,OAAQkL,MAAO,QACxB,CAAElL,MAAO,MAAOkL,MAAO,OACvB,CAAElL,MAAO,aAAckL,MAAO,eAElCyD,QAC+B,SAA3B9W,EAAM0I,QAAQqmB,SACR,EAC2B,QAA3B/uB,EAAM0I,QAAQqmB,SACd,EACA,EAEV/hB,SA3CD,SAAAS,GAAI,OAAIzN,EAAMslB,eAAe,WAAY7X,EAAKtF,QA4C7CqV,aAAa,KAIO,SAA3Bxd,EAAM0I,QAAQqmB,SACXjkB,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACItpB,MAAM,QACNP,cAAe,WACXnB,EAAMwuB,UACF1uB,EAAM8uB,eACN9uB,EAAM+uB,aACN7uB,EAAMuY,gBACNvY,EAAMwY,gBAGdhX,KAAK,mLACLR,QAAM,IAGV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACItpB,MAAM,UACNP,cAAe,WACXnB,EAAM2uB,WACF7uB,EAAM8uB,eACN9uB,EAAM+uB,aACN7uB,EAAMuY,gBACNvY,EAAMwY,gBAGdhX,KAAK,mLACLR,QAAM,KAId8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACI7pB,cAAe,WACX2R,EAAO3F,QAAQqG,oBAEnBhS,KAAK,mLACLR,QAAM,EACNR,QAAQ,sBAIpBsK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACgB,SAA3Bb,EAAM0I,QAAQqmB,SACXjkB,EAAA1K,EAAAC,cAAA,YACIK,UAAWG,WACXmM,SAtFS,SAAAzD,GACzB,IAAMpB,EAAQoB,EAAE7G,OAAOyF,MAAMilB,QAAQ,cAAe,KACpDptB,EAAMslB,eAAe,cAAend,GACL,SAA3BnI,EAAM0I,QAAQqmB,UACd7iB,EAAS,CACL0iB,eAAgBrlB,EAAE7G,OAAOksB,eACzBC,aAActlB,EAAE7G,OAAOmsB,aACvB1mB,WAgFQA,MAAOrI,EAAMqI,MACb6mB,QAASF,EACTG,UAAWH,IAGfhkB,EAAA1K,EAAAC,cAACiS,EAAA,EAAD,CACIzF,IAAKiG,EACLuB,eAAgBrU,EAAM0I,QAAQwJ,GAC9BoC,aAActU,EAAM0I,QAAQ8a,aAAe,GAE3C3P,WAAY7T,EAAM0I,QAAQqmB,SAC1Blc,aAvGQ,SAAA1K,GACxBA,EAAQA,EAAMilB,QAAQ,cAAe,KACrCptB,EAAMslB,eAAe,cAAend,IAsGpBkF,KAAK,iBAKrB,gBC7JO6hB,EAAA,CACXC,aAAc,CACV,CACIhnB,MAAO,wBACPkL,MAAO,QAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,uBAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,sBAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,4BAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,yBAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,wBAEX,CACIlL,MAAO,CAAC,SACRkL,MAAO,+BAGf+b,cAAe,CACX,CACIjnB,MAAO,KACPkL,MAAO,MAEX,CACIlL,MAAO,QACPkL,MAAO,WC4IJgc,EAtJI,SAACrvB,GAChB,IAAKA,EAAMwY,cAAcQ,UAAW,OAAO,KAC3C,IAAMtQ,EAAU1I,EAAMwY,cAAcQ,UAAUgK,KAC1C,SAAAvV,GAAI,OAAIzN,EAAMwY,cAAcmD,aAAelO,EAAKyE,KA2C9Cod,IAAW5mB,GAAUwS,YAAexS,EAAQyS,IAAIC,OAAO,IAC7D,OAAO1S,EACHA,EAAQuS,OAASqU,EACbxkB,EAAA1K,EAAAC,cAACkvB,EAAD,CACI7mB,QAASA,EACT4c,eAAgBtlB,EAAMslB,eACtB/M,gBAAiBvY,EAAMuY,gBACvBC,cAAexY,EAAMwY,gBAGzB1N,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAM9uB,UAAW,CAAC,aAAcG,aAAmBmK,KAAK,MACpDF,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KAEMF,EASE,KARAxkB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACI9uB,UAAW,CACP,kBACAG,gBACFmK,KAAK,MAJX,SAUJF,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACI9uB,UAAW,CACP,kBACAG,gBACFmK,KAAK,MAJX,cAQiB,iBAAhBtC,EAAQyS,IACLrQ,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACI9uB,UAAW,CACP,kBACAG,gBACFmK,KAAK,MAJX,SAQA,MAGNskB,EAgBE,KAfAxkB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACItJ,kBAAmB,CACf,kCACArlB,6BACFmK,KAAK,MAEPF,EAAA1K,EAAAC,cAACiS,EAAA,EAAD,CACI+B,eAAgBrU,EAAMwY,cAAcmD,WACpCrH,aAAc,MAAQ5L,EAAQqF,OAAS,IAAM,KAC7C2F,qBAAsBhL,EAAQ4d,eAC9BzS,WAAW,MACXhB,aA7EE,SAAC1K,EAAOme,GAC9B,GAAIne,EAAO,EACPA,EAAQA,EAAMV,QACJD,OAAS,EACfW,EAAQ,IAEgB,MAApBA,EAAMiT,OAAO,KACbjT,EAAQA,EAAMsnB,MAAM,IAEe,MAAnCtnB,EAAMiT,OAAOjT,EAAMX,OAAS,KAC5BW,EAAQA,EAAMsnB,MAAM,EAAGtnB,EAAMX,OAAS,IAE1CW,EAAQA,EAAMV,QAElB,IAAMioB,EAAU,CACZ3hB,MAAO5F,EACPme,kBAEJtmB,EAAMslB,eAAeoK,EAASvnB,KA4DdkF,KAAK,iBAKjBvC,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACItJ,kBAAmB,CACf,kCACArlB,6BACFmK,KAAK,MAEPF,EAAA1K,EAAAC,cAACiS,EAAA,EAAD,CACIqC,eAAc,GAAAhU,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CACU,SAAhBtD,EAAQyS,IACN+T,EAAwBE,cACxB,IAHIpjB,OAAA2jB,EAAA,EAAA3jB,CAINkjB,EAAwBxmB,EAAQyS,KAC9B+T,EAAwBxmB,EAAQyS,KAChC,KAEV9G,eAAgBrU,EAAMwY,cAAcmD,WACpCrH,aAAc5L,EAAQ2d,kBAAoB,KAC1C3S,qBAAsBhL,EAAQ4d,eAC9BzS,WAAW,OACXhB,aAzHW,SAAC1K,EAAOme,GACnC,GAAIne,EAAO,CACP,IAGIb,EAHEooB,EAAuB,GAC7BA,EAAQpJ,eAAiBA,EACzBoJ,EAAO,iBAAuBvnB,EAE9B,IACIb,EAAM6L,KAAKC,MAAMjL,GACnB,MAAOoB,GACLjC,EAAM,KAENA,IACAooB,EAAO,WAAiBpoB,EACxBooB,EAAO,iBAAuBvc,KAAKI,UAAUjM,IAEjDtH,EAAMslB,eAAeoK,EAASvnB,KA2GlBkF,KAAK,sBAGI,iBAAhB3E,EAAQyS,IACLrQ,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACItJ,kBAAmB,CACf,kCACArlB,6BACFmK,KAAK,MAEPF,EAAA1K,EAAAC,cAACuvB,EAAA,EAAD,CACIlnB,QAASA,EACT4c,eAAgBtlB,EAAMslB,eACtBrQ,KAAMjV,EAAMiV,QAGpB,MAGZ,MChDOpV,eAzBS,SAAAC,GACpB,MAAO,CACHwL,SAAUxL,EAAMwL,SAChB4M,iBAAkBpY,EAAMoY,iBACxB2O,cAAe/mB,EAAM+mB,cACrB5O,iBAAkBnY,EAAMmY,mBAIL,SAAAtO,GACvB,MAAO,CACHwa,cAAe,SAAC7Y,EAAU8Y,GAAX,OACXza,EAASC,IAAsB0B,EAAU8Y,KAC7CyF,kBAAmB,SAAC3hB,EAAKC,EAAOoQ,EAAiBC,GAA9B,OACf7O,EACIC,IACI1B,EACAC,EACAoQ,EACAC,OAML3Y,CAzGC,SAACG,GACb,IAAM6vB,EAAO7vB,EAAM6mB,eACb7mB,EAAMiY,iBAAiBjY,EAAM6mB,eACxB7mB,EAAMiY,iBAAiBjY,EAAM6mB,eAAeiJ,QAAQ9W,UAEjDhZ,EAAMiY,iBAAiBjY,EAAM6mB,eAAeiJ,QAD5C9vB,EAAMiY,iBAAiBjY,EAAM6mB,eAAekJ,MAGpD,KACN,OACIjlB,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACZiK,EAAA1K,EAAAC,cAAA,OACIK,UAAWG,YACXkN,MAAO,CACHmX,KAAM,OAASllB,EAAMsL,SAASrL,MAAQ,OAG1C6K,EAAA1K,EAAAC,cAAC2vB,EAAD,CACIloB,KAAK,SACLkR,UAAWhZ,EAAMkY,iBACjBK,gBAAiBvY,EAAM6mB,gBAE3B/b,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,gBACVuK,WAAYpL,EAAMsL,SAASrL,MAC3BoL,QAAS,SAAAlD,GAAK,OACVnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,QACLC,cAKf0nB,EACG/kB,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAA,OACIK,UAAWG,YACXkN,MAAO,CACHmX,KAAM,OAASllB,EAAMsL,SAAS2kB,OAAS,OAG3CnlB,EAAA1K,EAAAC,cAAC6vB,EAAA,EAAD,CACIhM,eAAgBlkB,EAAMkkB,eACtB3L,gBAAiBvY,EAAM6mB,cACvB5O,iBAAkBjY,EAAMiY,iBACxBO,cAAeqX,EACf5a,KAAK,WAGTnK,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,gBACVuK,WAAYpL,EAAMsL,SAAS2kB,OAC3B5kB,QAAS,SAAAlD,GAAK,OACVnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,SACLC,cAKhB2C,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAAC8vB,EAAD,CACIlb,KAAK,SACLsD,gBAAiBvY,EAAM6mB,cACvBrO,cAAeqX,EACfvK,eAAgB,SAACpd,EAAKC,GAAN,OACZnI,EAAM6pB,kBACF3hB,EACAC,EACAnI,EAAM6mB,cACNgJ,QAMpB,QC6BDhwB,eAzBS,SAAAC,GACpB,MAAO,CACHwL,SAAUxL,EAAMwL,SAChB4Y,eAAgBpkB,EAAMokB,eACtB0C,YAAa9mB,EAAM8mB,YACnB3O,iBAAkBnY,EAAMmY,mBAIL,SAAAtO,GACvB,MAAO,CACHwa,cAAe,SAAC7Y,EAAU8Y,GAAX,OACXza,EAASC,IAAsB0B,EAAU8Y,KAC7CyF,kBAAmB,SAAC3hB,EAAKC,EAAOoQ,EAAiBC,GAA9B,OACf7O,EACIC,IACI1B,EACAC,EACAoQ,EACAC,OAML3Y,CAzGD,SAACG,GACX,IAAM6vB,EAAO7vB,EAAM4mB,aACb5mB,EAAMiY,iBAAiBjY,EAAM4mB,aACxB5mB,EAAMiY,iBAAiBjY,EAAM4mB,aAAakJ,QAAQ9W,UAE/ChZ,EAAMiY,iBAAiBjY,EAAM4mB,aAAakJ,QAD1C9vB,EAAMiY,iBAAiBjY,EAAM4mB,aAAamJ,MAGlD,KACN,OACIjlB,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACZiK,EAAA1K,EAAAC,cAAA,OACIK,UAAWG,YACXkN,MAAO,CACHmX,KAAM,OAASllB,EAAMsL,SAASrL,MAAQ,OAG1C6K,EAAA1K,EAAAC,cAAC2vB,EAAD,CACIloB,KAAK,OACLkR,UAAWhZ,EAAMkkB,eACjB3L,gBAAiBvY,EAAM4mB,cAE3B9b,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,gBACVuK,WAAYpL,EAAMsL,SAASrL,MAC3BoL,QAAS,SAAAlD,GAAK,OACVnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,QACLC,cAKf0nB,EACG/kB,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAA,OACIK,UAAWG,YACXkN,MAAO,CACHmX,KAAM,OAASllB,EAAMsL,SAAS2kB,OAAS,OAG3CnlB,EAAA1K,EAAAC,cAAC6vB,EAAA,EAAD,CACIhM,eAAgBlkB,EAAMkkB,eACtB3L,gBAAiBvY,EAAM4mB,YACvB3O,iBAAkBjY,EAAMiY,iBACxBO,cAAeqX,EACf5a,KAAK,SAGTnK,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,gBACVuK,WAAYpL,EAAMsL,SAAS2kB,OAC3B5kB,QAAS,SAAAlD,GAAK,OACVnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,SACLC,cAKhB2C,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAAC8vB,EAAD,CACIlb,KAAK,OACLsD,gBAAiBvY,EAAM4mB,YACvBpO,cAAeqX,EACfvK,eAAgB,SAACpd,EAAKC,GAAN,OACZnI,EAAM6pB,kBACF3hB,EACAC,EACAnI,EAAM4mB,YACNiJ,QAMpB,iBC7BDhwB,eAfS,SAAAC,GACpB,MAAO,CACHswB,QAAStwB,EAAMswB,QACf7F,QAASzqB,EAAMyqB,UAII,SAAA5gB,GACvB,MAAO,CACH0mB,WAAY,kBAAM1mB,EAASC,QAC3B0mB,OAAQ,SAAA9L,GAAG,OAAI7a,EAASC,IAAe4a,KACvC+L,eAAgB,kBAAM5mB,EAASC,UAIxB/J,CAnDC,SAACG,GAAD,OACZ8K,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACZiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,aACZiK,EAAA1K,EAAAC,cAAA,WAAML,EAAMuqB,QAAZ,SACAzf,EAAA1K,EAAAC,cAACmwB,GAAA,EAAD,CACIloB,WAAW,gBACXmoB,QAAS,kBAAMzwB,EAAMswB,UACrBI,QAAQ,UAHZ,UAOA5lB,EAAA1K,EAAAC,cAACmwB,GAAA,EAAD,CACIloB,WAAW,gBACXmoB,QAAS,kBAAMzwB,EAAMswB,QAAO,IAC5BI,QAAQ,UAHZ,yBAOA5lB,EAAA1K,EAAAC,cAACmwB,GAAA,EAAD,CACIloB,WAAW,gBACXmoB,QAAS,kBAAMzwB,EAAMuwB,kBACrBG,QAAQ,UAHZ,wBAOA5lB,EAAA1K,EAAAC,cAACmwB,GAAA,EAAD,CACIloB,WAAW,gBACXmoB,QAAS,kBAAMzwB,EAAMqwB,cACrBK,QAAQ,UAHZ,kECsBGC,GA9CU,SAAC3wB,GACtB,OACI8K,EAAA1K,EAAAC,cAAA,OACIK,UAAW,CAACG,KAAQyc,IAAKtd,EAAMgB,OAASH,KAAQI,OAAS,IAAI+J,KACzD,MAGHhL,EAAM0B,MACPoJ,EAAA1K,EAAAC,cAAA,SACII,cAAaT,EAAMsI,YAAc,UACjCR,KAAK,OACLpH,UAAW,CACPG,KAAQ+N,MACR5O,EAAM4wB,MAAQ/vB,KAAQ4oB,MAAQ,GAC9BzpB,EAAM8C,MAAQjC,KAAQ6oB,MAAQ,IAChC1e,KAAK,KACP+C,MAAO,CACHuf,SAAUttB,EAAMstB,SAAWttB,EAAMstB,SAAW,KAAO,QAEvDnlB,MAAOnI,EAAMmI,OAAS,GACtB6E,SAAU,SAAAzD,GAAC,OACPvJ,EAAMqL,QAAUrL,EAAMqL,QAAQ9B,EAAE7G,OAAOyF,OAAS,IAEpDwG,OAAQ,SAAApF,GAAC,OAAKvJ,EAAMsM,KAAOtM,EAAMsM,KAAK/C,EAAE7G,OAAOyF,OAAS,QCiMzD2P,eACXjY,YAlBoB,SAAAC,GACpB,MAAO,CACHsoB,eAAgBtoB,EAAMsoB,eACtBC,SAAUvoB,EAAMuoB,SAChBC,YAAaxoB,EAAMwoB,YACnBuI,kBAAmB/wB,EAAM+wB,oBAIN,SAAAlnB,GACvB,MAAO,CACHyf,sBAAuB,SAAClhB,EAAKC,EAAO+J,GAAb,OACnBvI,EAASC,IAA8B1B,EAAKC,EAAO+J,KACvD4e,mBAAoB,SAAA5e,GAAE,OAAIvI,EAASC,IAA2BsI,OAKlErS,CArNuB,SAACG,GACxBmM,oBAAU,WACN,IAAM4kB,EAAiB/wB,EAAMqoB,SAASrF,KAClC,SAAA2F,GAAO,OAAIA,EAAQC,MAAQ5oB,EAAMooB,iBAEjCjgB,EAAQ,GACR4oB,IACA5oB,EAAQ4oB,EAAeC,QAE3BC,EAAe9oB,GACfA,EAAQ,GACJ4oB,IACA5oB,EAAQ4oB,EAAeG,cAAgB,IAE7B,eAAV/oB,IACAA,EAAQ,IAEZgpB,EAAqBhpB,IACtB,CAACnI,EAAMooB,iBAlB+B,IAqBrCO,EArBqC/c,EAmBKC,mBAAS,IAnBdE,EAAAC,OAAAqiB,EAAA,EAAAriB,CAAAJ,EAAA,GAmBlCwlB,EAnBkCrlB,EAAA,GAmBbklB,EAnBallB,EAAA,GAAAslB,EAoBSxlB,mBAAS,IApBlBylB,EAAAtlB,OAAAqiB,EAAA,EAAAriB,CAAAqlB,EAAA,GAoBlCE,EApBkCD,EAAA,GAoBfH,EApBeG,EAAA,GA2BzC,OALItxB,EAAMqoB,WACNM,EAAU3oB,EAAMqoB,SAASrF,KACrB,SAAA2F,GAAO,OAAIA,EAAQC,MAAQ5oB,EAAMooB,kBAGlCpoB,EAAMooB,eACTtd,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,mBACZiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,gBACZiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,UACX8nB,GACGA,EAAQ6I,aACJ1mB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,skBAEd,KACJsJ,EAAA1K,EAAAC,cAAA,8BAEJyK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,UACZiK,EAAA1K,EAAAC,cAAA,QAAMK,UAAWG,SAAjB,8BAGAiK,EAAA1K,EAAAC,cAACoxB,GAAD,CACIpmB,QAAS,SAAAlD,GAAK,OAAI8oB,EAAe9oB,IACjCA,MAAOipB,EACPR,MAAO5wB,EAAMsoB,YACbtnB,QAAM,EACN8B,OAAK,EACLwqB,SAAU,OAIlBxiB,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,yNACLL,cAAe,kBACXnB,EAAMopB,sBACF,SACAgI,EACApxB,EAAMooB,iBAGd5nB,QAAQ,yBACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,4RACLL,cAAe,WACPwnB,GACA3oB,EAAMopB,sBACF,gBACCT,EAAQ6I,aACTxxB,EAAMooB,iBAGlB5nB,QAAQ,yBACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,6MACLL,cAAe,WACPiwB,GACAlxB,OAAOygB,KACH,6BAA+ByQ,EAC/B,WAIZ5wB,QAAQ,oBACRQ,QAAM,KAGd8J,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,UACX8nB,GACGA,EAAQ+I,mBACJ5mB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,skBAEd,KACHmnB,GACGA,EAAQgJ,qBACJ7mB,EAAA1K,EAAAC,cAACoB,EAAA,EAAD,CAAKD,KAAK,gMAEd,KACJsJ,EAAA1K,EAAAC,cAAA,+BAEJyK,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,UACZiK,EAAA1K,EAAAC,cAAA,QAAMK,UAAWG,SAAjB,YACAiK,EAAA1K,EAAAC,cAACoxB,GAAD,CACIpmB,QAAS,SAAAlD,GAAK,OAAIgpB,EAAqBhpB,IACvCA,MAAOopB,EACPX,MAAO5wB,EAAM6wB,kBACb7vB,QAAM,EACN8B,OAAK,EACLwqB,SAAU,OAGlBxiB,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,yNACLL,cAAe,kBACXnB,EAAMopB,sBACF,eACAmI,EACAvxB,EAAMooB,iBAGd5nB,QAAQ,0BACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,4RACLL,cAAe,WACPwnB,GACA3oB,EAAMopB,sBACF,sBACCT,EAAQ+I,mBACT1xB,EAAMooB,iBAGlB5nB,QAAQ,0BACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,6MACLL,cAAe,WACPiwB,GACAlxB,OAAOygB,KACH,WAAa4Q,EACb,WAIZ/wB,QAAQ,oBACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,8LACLL,cAAe,kBACXnB,EAAM8wB,mBAAmB9wB,EAAMooB,iBAEnC5nB,QAAQ,2BACRQ,QAAM,IAEV8J,EAAA1K,EAAAC,cAAC2qB,EAAA,EAAD,CACIxpB,KAAK,wJACLL,cAAe,kBACXnB,EAAMopB,sBACF,eACA,aACAppB,EAAMooB,iBAGd5nB,QAAQ,uBACRQ,QAAM,IAET2nB,GACGA,EAAQuI,cACRvI,EAAQiJ,OACRjJ,EAAQkJ,WACJ/mB,EAAA1K,EAAAC,cAAA,oGAE0CyK,EAAA1K,EAAAC,cAAA,WAF1C,KAGKsoB,EAAQiJ,MACT9mB,EAAA1K,EAAAC,cAAA,WAJJ,mLAQIyK,EAAA1K,EAAAC,cAAA,WARJ,IAQYsoB,EAAQkJ,WARpB,KAWJ,OAGZ,QC/JOhyB,eAbS,SAAAC,GACpB,MAAO,CACHwL,SAAUxL,EAAMwL,WAIG,SAAA3B,GACvB,MAAO,CACHwa,cAAe,SAAC7Y,EAAU8Y,GAAX,OACXza,EAASC,IAAsB0B,EAAU8Y,OAItCvkB,CArCE,SAACG,GAAD,OACb8K,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,WACZiK,EAAA1K,EAAAC,cAAA,OACIK,UAAWG,YACXkN,MAAO,CAAEmX,KAAM,OAASllB,EAAMsL,SAASrL,MAAQ,OAE/C6K,EAAA1K,EAAAC,cAACyxB,GAAA,EAAD,CAAc/I,WAAY/oB,EAAM+oB,aAChCje,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,gBACVuK,WAAYpL,EAAMsL,SAASrL,MAC3BoL,QAAS,SAAAlD,GAAK,OACVnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,QACLC,cAKhB2C,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,iBACZiK,EAAA1K,EAAAC,cAAC0xB,GAAD,UCuFGlyB,eAnBS,SAAAC,GACpB,MAAO,CACHwL,SAAUxL,EAAMwL,SAChB8kB,QAAStwB,EAAMswB,UAII,SAAAzmB,GACvB,MAAO,CACHwa,cAAe,SAAC7Y,EAAU8Y,GAAX,OACXza,EAASC,IAAsB0B,EAAU8Y,KAC7C4N,iBAAkB,SAAAC,GAAa,OAC3BtoB,EAASC,IAAyBqoB,KACtC9b,oBAAqB,kBAAMxM,EAASC,QACpCwM,oBAAqB,kBAAMzM,EAASC,QACpCqP,eAAgB,SAAA9Q,GAAK,OAAIwB,EAASC,IAAuBzB,OAIlDtI,CAnGK,SAACG,GACjB,IAAMkyB,EAAW,CAAC,kBAAmBrxB,gBAAsBmK,KAAK,KAE1DmnB,EAAc,CAChB,kCACAtxB,6BACFmK,KAAK,KAEDonB,EAAmB,CACrB,4BACAvxB,eACFmK,KAAK,KAEDqnB,EAAmB,CAAC,OAAQ,SAAU,GAAI,GAAI,GAAI,IAexD,OACIvnB,EAAA1K,EAAAC,cAAA,OACI0N,MAAO,CAAExF,OAAQvI,EAAMsL,SAAS/C,OAAS,MACzC7H,UAAWG,gBACXyxB,SAAS,IACTC,UAAW,SAAAhpB,GAAC,OAlBE,SAAAA,GACbA,EAAEipB,WAAYjpB,EAAEkpB,SAAsB,MAAVlpB,EAAErB,KAAyB,MAAVqB,EAAErB,KAChDlI,EAAMmW,sBACN5M,EAAEipB,UAAYjpB,EAAEkpB,UAAsB,MAAVlpB,EAAErB,KAAyB,MAAVqB,EAAErB,MAC/ClI,EAAMoW,sBAcUsc,CAAcnpB,KAE9BuB,EAAA1K,EAAAC,cAACwK,EAAA,EAAD,CACIE,SAAUlK,iBACVoK,UAAQ,EACRG,WAAYpL,EAAMsL,SAAS/C,OAC3B8C,QAAS,SAAAlD,GACLnI,EAAMmkB,cAAcnkB,EAAMsL,SAAU,CAChCpD,IAAK,SACLC,aAIZ2C,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CACI9uB,UAAW,CAAC,aAAcG,aAAmBmK,KAAK,KAClDiC,SAAU,SAAAtE,GAAK,OA1BD,SAAAA,GACtB3I,EAAMgyB,iBAAiBK,EAAiB1pB,IACxC3I,EAAMmkB,cAAcnkB,EAAMsL,UAC1BtL,EAAMiZ,iBAuBqB0Z,CAAkBhqB,IACrCiqB,qBAAsBR,EACtBS,0BAA2BV,GAE3BrnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAS9uB,UAAWG,WAChBiK,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAK9uB,UAAWwxB,GAAhB,SACApnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAK9uB,UAAWwxB,GAAhB,WACApnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAK9uB,UAAWwxB,GAAhB,eACApnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAK9uB,UAAWwxB,GAAhB,YACApnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,CAAK9uB,UAAWwxB,GAAhB,YAGJpnB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KACI1kB,EAAA1K,EAAAC,cAACyyB,GAAD,OAEJhoB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KACI1kB,EAAA1K,EAAAC,cAAC0yB,GAAD,OAEJjoB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KACI1kB,EAAA1K,EAAAC,cAAC2yB,EAAD,OAEJloB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KACI1kB,EAAA1K,EAAAC,cAAC4yB,GAAD,OAEJnoB,EAAA1K,EAAAC,cAACmvB,EAAA,EAAD,KACI1kB,EAAA1K,EAAAC,cAAC6yB,GAAD,WChELrzB,eANS,SAAAC,GACpB,MAAO,CACHqzB,UAAWrzB,EAAMwL,SAAS/C,SAInB1I,CArBW,SAACG,GACvB,OACI8K,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAAA,QACII,cAAY,wBACZC,UAAWG,IAAQ2F,QACnBuH,MAAO,CAAExF,OAAQ,eAAiBvI,EAAMmzB,UAAY,QAEnDnzB,EAAM+H,UAEX+C,EAAA1K,EAAAC,cAAC+yB,GAAD,2FCtBZ,SAAS1iB,GAAQ+Q,EAAQ4R,GAAkB,IAAI3jB,EAAO1D,OAAO0D,KAAK+R,GAAS,GAAIzV,OAAO4D,sBAAuB,CAAE,IAAI0jB,EAAUtnB,OAAO4D,sBAAsB6R,GAAa4R,IAAgBC,EAAUA,EAAQ3iB,OAAO,SAAUC,GAAO,OAAO5E,OAAO6E,yBAAyB4Q,EAAQ7Q,GAAKN,cAAgBZ,EAAKtH,KAAKiH,MAAMK,EAAM4jB,GAAY,OAAO5jB,EAI9U,SAASU,GAAgB9I,EAAKY,EAAKC,GAAiK,OAApJD,KAAOZ,EAAO0E,OAAOqE,eAAe/I,EAAKY,EAAK,CAAEC,MAAOA,EAAOmI,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBlJ,EAAIY,GAAOC,EAAgBb,EAE3M,SAASisB,GAAeviB,EAAKjC,GAAK,OAMlC,SAAyBiC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EANtBwiB,CAAgBxiB,IAIzD,SAA+BA,EAAKjC,GAAK,KAAMuC,OAAOC,YAAYvF,OAAOgF,IAAgD,uBAAxChF,OAAOkD,UAAUsC,SAASpC,KAAK4B,IAAkC,OAAU,IAAIyiB,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnd,EAAW,IAAM,IAAK,IAAiCod,EAA7BC,EAAK9iB,EAAIM,OAAOC,cAAmBmiB,GAAMG,EAAKC,EAAGC,QAAQC,QAAoBP,EAAKrrB,KAAKyrB,EAAG1rB,QAAY4G,GAAK0kB,EAAKjsB,SAAWuH,GAA3D2kB,GAAK,IAAoE,MAAOO,GAAON,GAAK,EAAMC,EAAKK,EAAtL,QAAuM,IAAWP,GAAsB,MAAhBI,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAJpcS,CAAsBljB,EAAKjC,IAE5F,WAA8B,MAAM,IAAI4C,UAAU,wDAFgDwiB,GASlG,IAAIC,GAAa,UACbC,GAAY,QACZC,GAAc,QACdC,GAAe,2BAEfC,GAAgB,WAChBC,GAAc,6BACdC,GAAe,qCACfC,GAAe,iBACfC,GAAgB,wBAEhBC,GAAkB,cAClBC,GAAoB,QACpBC,GAAa,cACbC,GAAc,gCACdC,GAAe,yBAEnB,SAASC,GAAMC,EAAOC,GACpB,OAAOD,EAAME,KAAKD,GAGpB,SAASE,GAASF,GAChB,IAAIG,EAAKH,IAAmC,qBAAdI,UAA4BA,UAAUJ,UAAY,IAG5EK,EAAMF,EAAGG,MAAM,SAEG,qBAAXD,EAAI,KAKbF,EAFYhC,GAFDkC,EAEsB,GAEtB,IAQS,qBAFtBA,EAAMF,EAAGG,MAAM,YAEA,KAKbH,EAFYhC,GAFAkC,EAEsB,GAEvB,IAGb,IAAItuB,EAAS,CACXwuB,MAAO,CACLC,MAAOV,GAAMd,GAAYmB,KAAQL,GAAMP,GAAcY,GACrDM,KAAMX,GAAMb,GAAWkB,GACvBO,QAASZ,GAAMd,GAAYmB,IAAOL,GAAMZ,GAAaiB,KAAQL,GAAMP,GAAcY,GACjFQ,QAASb,GAAMd,GAAYmB,IAAOL,GAAMb,GAAWkB,IAAOL,GAAMZ,GAAaiB,MAASL,GAAMP,GAAcY,IAE5GS,OAAQ,CACNJ,MAAOV,GAAMT,GAAac,GAC1BO,QAASZ,GAAMT,GAAac,IAAOL,GAAMR,GAAca,GACvDQ,OAAQb,GAAMT,GAAac,IAAOL,GAAMR,GAAca,IAExDU,QAAS,CACPL,OAAQV,GAAMP,GAAcY,IAAOL,GAAMT,GAAac,KAAQL,GAAMP,GAAcY,IAAOL,GAAMX,GAAcgB,GAC7GO,QAASZ,GAAMP,GAAcY,KAAQL,GAAMT,GAAac,KAAQL,GAAMX,GAAcgB,KAAQL,GAAMR,GAAca,IAAOL,GAAMV,GAAee,IAC5IQ,QAASb,GAAMP,GAAcY,KAAQL,GAAMT,GAAac,IAAOL,GAAMR,GAAca,IAAOL,GAAMX,GAAcgB,IAAOL,GAAMV,GAAee,KAAQL,GAAM,cAAeK,IAEzKW,QAAS,CACPN,MAAOV,GAAMP,GAAcY,GAC3BO,OAAQZ,GAAMN,GAAeW,GAC7BQ,OAAQb,GAAMP,GAAcY,IAAOL,GAAMN,GAAeW,IAE1DY,MAAO,CACLC,WAAYlB,GAAML,GAAiBU,GACnCc,aAAcnB,GAAMJ,GAAmBS,GACvCe,MAAOpB,GAAMH,GAAYQ,GACzBgB,QAASrB,GAAMD,GAAcM,GAC7BiB,OAAQtB,GAAMF,GAAaO,GAC3BQ,OAAQb,GAAML,GAAiBU,IAAOL,GAAMJ,GAAmBS,IAAOL,GAAMH,GAAYQ,IAAOL,GAAMD,GAAcM,IAAOL,GAAMF,GAAaO,IAG/IkB,IAAK,KACLb,MAAO,KACPE,OAAQ,MAMV,OAJA3uB,EAAOsvB,IAAMtvB,EAAOwuB,MAAMI,QAAU5uB,EAAO8uB,QAAQF,QAAU5uB,EAAO+uB,QAAQH,QAAU5uB,EAAOgvB,MAAMJ,OAEnG5uB,EAAOyuB,MAAQzuB,EAAOwuB,MAAMC,OAASzuB,EAAO8uB,QAAQL,OAASzuB,EAAO+uB,QAAQN,MAC5EzuB,EAAO2uB,OAAS3uB,EAAOwuB,MAAMG,QAAU3uB,EAAO8uB,QAAQH,QAAU3uB,EAAO+uB,QAAQJ,OACxE3uB,EAGT,IAIeuvB,GA3Gf,SAAuBh0B,GAAU,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CAAE,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK2B,GAAQzB,GAAQ,GAAM6B,QAAQ,SAAU5I,GAAOkI,GAAgB1N,EAAQwF,EAAK+G,EAAO/G,MAAsB8D,OAAO2qB,0BAA6B3qB,OAAOgS,iBAAiBtb,EAAQsJ,OAAO2qB,0BAA0B1nB,IAAmByB,GAAQzB,GAAQ6B,QAAQ,SAAU5I,GAAO8D,OAAOqE,eAAe3N,EAAQwF,EAAK8D,OAAO6E,yBAAyB5B,EAAQ/G,MAAe,OAAOxF,EAuGze+N,CAAc,GAAI6kB,KAAY,CAChDA,SAAUA,KCtFL,SAASsB,MACT,SAASC,GAAwB1mB,EAAO2mB,EAAcnuB,GACzD,IAAIouB,EAASD,GAAgB,GAC7B,OAAO3mB,EAAMjI,KAAO,GAAGvH,OAAOo2B,EAAQ,SAASp2B,OAAOgI,GAEnD,SAASquB,GAA6BC,GACzC,MAAO,GAAGt2B,OAAOs2B,EAAU,UAExB,SAASC,GAAanvB,EAAUovB,GACnC,IAAIxuB,GAAS,EACbyuB,WAAetmB,QAAQ/I,EAAU,SAASsvB,GACtC1uB,GAAS,EAEL0uB,GAAKA,EAAEvvB,MAAQuvB,EAAEvvB,KAAKwvB,gBACtBF,WAAetmB,QAAQumB,EAAEr3B,MAAM+H,SAAU,SAASwvB,GAE9CJ,EAAGI,EADH5uB,GAAS,KAIbwuB,EAAGE,EAAG1uB,KAiCX,IAAI6uB,GAAe,CACtB,sBACA,eACA,kBACA,WACA,OACA,oBACA,WACA,aACA,YACA,qBACA,gBACA,mBACA,oBACA,qBACA,uBACA,QACA,aACA,WACA,eACA,UACA,YACA,qBACA,YACA,eACA,aACA,QACA,gBACA,WACA,SACA,cACA,oBACA,oBACA,eACA,aACA,cACA,SACA,iBACA,YACA,aACA,WACA,QACA,aACA,QACA,YACA,oBACA,sBACA,SACA,YACA,QACA,iBACA,kBACA,OACA,QACA,WACA,cAwBOC,GAAiB,WACxB,OAAOnC,GAASmB,4CCxJhBiB,GAAqB,CACvBC,QAAS,EACTC,QAAS,GAwBIC,GAtBS,CACtBC,QAAS,CACPC,OAAQ,CAAC,KAAM,MACf1pB,SAAUqpB,GACVp1B,OAAQ,CAAC,GAAI,IAEf01B,WAAY,CACVD,OAAQ,CAAC,KAAM,MACf1pB,SAAUqpB,GACVp1B,OAAQ,CAAC,EAAG,IAEd21B,QAAS,CACPF,OAAQ,CAAC,KAAM,MACf1pB,SAAUqpB,GACVp1B,OAAQ,EAAE,EAAG,IAEf41B,SAAU,CACRH,OAAQ,CAAC,KAAM,MACf1pB,SAAUqpB,GACVp1B,OAAQ,CAAC,EAAG,KCZhB,SAAS61B,GAAQ7wB,GAAwT,OAAtO6wB,GAArD,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBjK,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXgK,QAAyBhK,EAAImY,cAAgBnO,QAAUhK,IAAQgK,OAAOpC,UAAY,gBAAkB5H,IAAyBA,GAIxV,SAAS8wB,GAAkB11B,EAAQ1C,GAAS,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CAAE,IAAIkP,EAAaje,EAAM+O,GAAIkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EAAO2N,EAAW1N,cAAe,EAAU,UAAW0N,IAAYA,EAAWzN,UAAW,GAAMxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAM7S,SAASoa,GAAgBC,GAAwJ,OAAnJD,GAAkBrsB,OAAO0T,eAAiB1T,OAAOkT,eAAiB,SAAyBoZ,GAAK,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAA8BA,GAExM,SAASC,GAAuBzZ,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAI/J,SAAS0Z,GAAgBF,EAAGG,GAA+G,OAA1GD,GAAkBxsB,OAAO0T,gBAAkB,SAAyB4Y,EAAGG,GAAsB,OAAjBH,EAAErZ,UAAYwZ,EAAUH,IAA6BA,EAAGG,GAErK,SAAS/nB,GAAQ+Q,EAAQ4R,GAAkB,IAAI3jB,EAAO1D,OAAO0D,KAAK+R,GAAS,GAAIzV,OAAO4D,sBAAuB,CAAE,IAAI0jB,EAAUtnB,OAAO4D,sBAAsB6R,GAAa4R,IAAgBC,EAAUA,EAAQ3iB,OAAO,SAAUC,GAAO,OAAO5E,OAAO6E,yBAAyB4Q,EAAQ7Q,GAAKN,cAAgBZ,EAAKtH,KAAKiH,MAAMK,EAAM4jB,GAAY,OAAO5jB,EAE9U,SAASe,GAAc/N,GAAU,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CAAE,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK2B,GAAQzB,GAAQ,GAAM6B,QAAQ,SAAU5I,GAAOkI,GAAgB1N,EAAQwF,EAAK+G,EAAO/G,MAAsB8D,OAAO2qB,0BAA6B3qB,OAAOgS,iBAAiBtb,EAAQsJ,OAAO2qB,0BAA0B1nB,IAAmByB,GAAQzB,GAAQ6B,QAAQ,SAAU5I,GAAO8D,OAAOqE,eAAe3N,EAAQwF,EAAK8D,OAAO6E,yBAAyB5B,EAAQ/G,MAAe,OAAOxF,EAE7f,SAAS0N,GAAgB9I,EAAKY,EAAKC,GAAiK,OAApJD,KAAOZ,EAAO0E,OAAOqE,eAAe/I,EAAKY,EAAK,CAAEC,MAAOA,EAAOmI,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBlJ,EAAIY,GAAOC,EAAgBb,EAE3M,IAAIoxB,GAAO,EACPC,GAAoB,CACtBC,WAAY,aACZ3tB,SAAU,WACV4tB,gBAAiB,WACjBC,iBAAkB,WAGhBC,GAA2B,SAAkCrvB,EAAOutB,EAAU+B,GAChF,IAAIC,EAASjC,GAA6BC,GACtCn3B,EAAQ4J,EAAMwvB,WAClBxvB,EAAMwC,SAAS,CACb8sB,mBAAoBvoB,GAAc,GAAI3Q,EAAMk5B,mBAAoB5oB,GAAgB,GAAI6oB,EAAQD,OAIrFG,GAEX,SAAUC,GAGR,SAASD,EAAQn5B,GACf,IAAIuS,EAtC4BuM,EAAM1P,GAN1C,SAAyBwP,EAAUV,GAAe,KAAMU,aAAoBV,GAAgB,MAAM,IAAIvM,UAAU,qCA8C5GkN,CAAgBvP,KAAM6pB,GAxCUra,EA0CGxP,KA1CGF,EA0CGipB,GAAgBc,GAAS/pB,KAAKE,KAAMtP,IAA7EuS,GA1CkDnD,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAA8CmpB,GAAuBzZ,GAAtC1P,GA4CzHiqB,UAAY,SAAUnxB,GAC1BqK,EAAMvS,MAAMq5B,UAAUnxB,IASxBqK,EAAMggB,UAAY,SAAUhpB,GAC1B,IAAI+vB,EAAU/vB,EAAE+vB,QACZ1c,EAAOrK,EAAMgnB,aACbtS,EAAc1U,EAAMvS,MACpBw5B,EAASvS,EAAYuS,OACrB9vB,EAAQud,EAAYvd,MAExB,GAAI4vB,IAAYG,KAAQC,MAItB,OAHAnnB,EAAMonB,aAAapwB,GAEnBwvB,GAAyBrvB,EAAO6I,EAAMvS,MAAMi3B,UAAU,IAC/C,EAGT,GAAIqC,IAAYG,KAAQG,MAUtB,OATIJ,EACF5c,EAAK2V,UAAUhpB,IAEfgJ,EAAMsnB,mBAAkB,GAGxBd,GAAyBrvB,EAAO6I,EAAMvS,MAAMi3B,UAAU,KAGjD,EAGT,GAAIqC,IAAYG,KAAQK,KAAM,CAC5B,IAAIC,EAEJ,IAAIP,EAGF,OASF,OAXEO,EAAUnd,EAAK2V,UAAUhpB,MAMzBgJ,EAAMsnB,mBAAkB,GAExBE,GAAU,GAGLA,EAGT,OAAIP,GAAWF,IAAYG,KAAQO,IAAMV,IAAYG,KAAQQ,UAA7D,EACSrd,EAAK2V,UAAUhpB,IAM1BgJ,EAAM2nB,aAAe,SAAU3wB,GAC7BgJ,EAAMvS,MAAMk6B,aAAa3wB,IAG3BgJ,EAAM4nB,qBAAuB,SAAUC,GACrC7nB,EAAMsnB,kBAAkBO,EAASA,EAAU,aAAe,eAG5D7nB,EAAMyX,aAAe,SAAUzgB,GAC7B,IAAI8wB,EAAe9nB,EAAMvS,MACrBkI,EAAMmyB,EAAapD,SACnBjN,EAAeqQ,EAAarQ,aAC5BtgB,EAAQ2wB,EAAa3wB,MACzBqvB,GAAyBrvB,EAAO6I,EAAMvS,MAAMi3B,UAAU,GACtDjN,EAAa,CACX9hB,IAAKA,EACLoyB,SAAU/wB,KAIdgJ,EAAM2X,aAAe,SAAU3gB,GAC7B,IAAIgxB,EAAehoB,EAAMvS,MACrBw6B,EAAaD,EAAaC,WAC1BvD,EAAWsD,EAAatD,SACxB/M,EAAeqQ,EAAarQ,aAChCsQ,EAAWC,gBAAkBlC,GAAuBhmB,GACpD2X,EAAa,CACXhiB,IAAK+uB,EACLqD,SAAU/wB,KAIdgJ,EAAMmoB,kBAAoB,SAAUJ,GAClC,IAAIK,EAAepoB,EAAMvS,MACrBkI,EAAMyyB,EAAa1D,SACnB2D,EAAcD,EAAaC,YAC3BF,EAAoBC,EAAaD,kBACrCE,EAAY,CACV1yB,IAAKA,EACL2yB,OAAO,IAETH,EAAkB,CAChBxyB,IAAKA,EACLoyB,SAAUA,KAId/nB,EAAMuoB,kBAAoB,SAAUvxB,GAClC,IAAIwxB,EAAexoB,EAAMvS,MACrBw6B,EAAaO,EAAaP,WAC1BvD,EAAW8D,EAAa9D,SACxB2D,EAAcG,EAAaH,YAC3BE,EAAoBC,EAAaD,kBACrCN,EAAWC,gBAAkBlC,GAAuBhmB,GACpDqoB,EAAY,CACV1yB,IAAK+uB,EACL4D,OAAO,IAETC,EAAkB,CAChB5yB,IAAK+uB,EACLqD,SAAU/wB,KAIdgJ,EAAMonB,aAAe,SAAUpwB,GAC7B,IACIvJ,EADwBu4B,GAAuBhmB,GACjBvS,MAElCA,EAAM25B,aAAa,CACjBzxB,IAAKlI,EAAMi3B,SACXqD,SAAU/wB,IAGuB,UAA/BvJ,EAAMg7B,uBAIVzoB,EAAMsnB,mBAAmB75B,EAAMw5B,OAAQ,SAEvCT,GAAyB/4B,EAAM0J,MAAO6I,EAAMvS,MAAMi3B,UAAU,KAG9D1kB,EAAM0oB,eAAiB,SAAUC,GAGI,oBAAxB3oB,EAAMvS,MAAMkB,SACrBqR,EAAMvS,MAAMkB,QAAQqR,EAAM4oB,WAAWD,KAIzC3oB,EAAMtF,SAAW,SAAUiuB,GACzB3oB,EAAMvS,MAAMiN,SAASiuB,IAGvB3oB,EAAM6oB,WAAa,SAAUF,GAC3B3oB,EAAMvS,MAAMo7B,WAAWF,IAGzB3oB,EAAM8oB,aAAe,WACnB,MAAO,GAAG16B,OAAO4R,EAAMvS,MAAMs7B,cAAe,aAG9C/oB,EAAMgpB,mBAAqB,WACzB,MAAO,GAAG56B,OAAO4R,EAAM8oB,eAAgB,YAGzC9oB,EAAMipB,qBAAuB,WAC3B,MAAO,GAAG76B,OAAO4R,EAAM8oB,eAAgB,cAGzC9oB,EAAMkpB,qBAAuB,WAC3B,MAAO,GAAG96B,OAAO4R,EAAM8oB,eAAgB,cAGzC9oB,EAAMmpB,iBAAmB,WACvB,MAAO,GAAG/6B,OAAO4R,EAAMvS,MAAMs7B,cAAe,kBAG9C/oB,EAAMopB,iBAAmB,SAAUtE,GAEjC9kB,EAAMgnB,aAAelC,GAGvB9kB,EAAM4oB,WAAa,SAAUD,GAC3B,OAAOzqB,GAAc,GAAIyqB,EAAM,CAC7BU,SAAUV,EAAKU,SAAW,IAAIj7B,OAAO4R,EAAMvS,MAAMi3B,aAIrD1kB,EAAMsnB,kBAAoB,SAAUlZ,EAAM7Y,GACxC,IAAII,EAAMqK,EAAMvS,MAAMi3B,SAElB4E,EAAa,WACftpB,EAAM2nB,aAAa,CACjBhyB,IAAKA,EACLuF,KAAM8qB,GAAuBhmB,GAC7BupB,QAASh0B,EACT6Y,KAAMA,KAIG,eAAT7Y,EAEFyK,EAAMwpB,kBAAoB7uB,WAAW,WACnC2uB,KACC,GAEHA,KAIJtpB,EAAMypB,mBAAqB,WACzB,IAAIC,EAAM,CACRjZ,MAAM,GAGR,OF9OC,SAASkZ,EAAwBn0B,EAAU2H,EAAMusB,GAE/Cl0B,IAAYk0B,EAAIjZ,MAIrBoU,WAAetmB,QAAQ/I,EAAU,SAASsvB,GACtC,GAAIA,EAAG,CACH,IAAI8E,EAAY9E,EAAEvvB,KAElB,IACKq0B,KAEGA,EAAUC,WACVD,EAAUE,YACVF,EAAU7E,iBAGd,QAGyB,IAAzB5nB,EAAKhI,QAAQ2vB,EAAEnvB,KACf+zB,EAAIjZ,MAAO,EACJqU,EAAEr3B,MAAM+H,UACfm0B,EAAwB7E,EAAEr3B,MAAM+H,SAAU2H,EAAMusB,MEqN1DC,CAAwB3pB,EAAMvS,MAAM+H,SAAUwK,EAAMvS,MAAMs8B,aAAcL,GACjEA,EAAIjZ,MAGbzQ,EAAMinB,OAAS,WACb,OAA+D,IAAxDjnB,EAAMvS,MAAMu8B,SAAS70B,QAAQ6K,EAAMvS,MAAMi3B,WAGlD1kB,EAAMiqB,YAAc,WAElB,GAAKjqB,EAAMkqB,cAAiBlqB,EAAMgnB,aAAlC,CAIA,IAAImD,EAAYC,eAAqBpqB,EAAMgnB,cAEvCmD,EAAUE,aAAerqB,EAAMkqB,aAAaG,cAMhDF,EAAU3uB,MAAMuf,SAAW,GAAG3sB,OAAO4R,EAAMkqB,aAAaG,YAAa,SAGvErqB,EAAMsqB,iBAAmB,SAAUJ,GACjClqB,EAAMkqB,aAAeA,GAGvB,IAAI/yB,EAAQ1J,EAAM0J,MACdutB,EAAWj3B,EAAMi3B,SAGjB+B,EADkBtvB,EAAMwvB,WACaF,mBAEzCzmB,EAAMuqB,YAAa,EACnB,IAAI30B,GAAQ,EAOZ,OALI6wB,IACF7wB,EAAQ6wB,EAAmB/B,IAG7B8B,GAAyBrvB,EAAOutB,EAAU9uB,GACnCoK,EAlTX,IAAsB2L,EAAaC,EAAYC,EAkiB7C,OA1hBF,SAAmBkB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI5N,UAAU,sDAAyD2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CAAEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAAegP,GAAYiZ,GAAgBlZ,EAAUC,GA6BjXI,CAAUwZ,EA8fV/B,gBAniBoBlZ,EAqTPib,GArToBhb,EAqTX,CAAC,CACrBjW,IAAK,oBACLC,MAAO,WACLmH,KAAKytB,uBAEN,CACD70B,IAAK,qBACLC,MAAO,WACL,IAAIsM,EAASnF,KAET0tB,EAAe1tB,KAAKtP,MACpBiV,EAAO+nB,EAAa/nB,KACpBulB,EAAawC,EAAaxC,WAC1ByC,EAAYD,EAAaC,UAEzBA,GACFA,EAAU3tB,MAGC,eAAT2F,GAA0BulB,EAAWsC,YAAextB,KAAKtP,MAAMw5B,SAInElqB,KAAK4tB,gBAAkBhwB,WAAW,WAChC,OAAOuH,EAAO+nB,eACb,MAEJ,CACDt0B,IAAK,uBACLC,MAAO,WACL,IAAIg1B,EAAe7tB,KAAKtP,MACpBq5B,EAAY8D,EAAa9D,UACzBpC,EAAWkG,EAAalG,SAExBoC,GACFA,EAAUpC,GAKR3nB,KAAK4tB,iBACPE,aAAa9tB,KAAK4tB,iBAKhB5tB,KAAKysB,mBACPqB,aAAa9tB,KAAKysB,qBAGrB,CACD7zB,IAAK,iBACLC,MAAO,SAAwBJ,GAC7B,IAAIs1B,EAAS/tB,KAETtP,EAAQsP,KAAKtP,MACbs9B,EAAY,CACdroB,KAAqB,eAAfjV,EAAMiV,KAAwB,WAAajV,EAAMiV,KACvDmlB,QAAS9qB,KAAKtP,MAAMw5B,OACpB+D,MAAOv9B,EAAMu9B,MAAQ,EACrBC,aAAcx9B,EAAMw9B,aACpBC,WAAW,EACXv8B,QAASoO,KAAK2rB,eACdhuB,SAAUqC,KAAKrC,SACfmuB,WAAY9rB,KAAK8rB,WACjB/B,UAAW/pB,KAAK+pB,UAChBiD,aAAct8B,EAAMs8B,aACpBrF,SAAU,GAAGt2B,OAAOX,EAAMi3B,SAAU,UACpCsF,SAAUv8B,EAAMu8B,SAChBmB,OAAQ19B,EAAM09B,OACdxD,aAAc5qB,KAAK4qB,aACnByD,iBAAkB39B,EAAM29B,iBACxBnD,WAAYlrB,KACZsuB,kBAAmB59B,EAAM49B,kBACzBC,mBAAoB79B,EAAM69B,mBAC1B7C,qBAAsBh7B,EAAMg7B,qBAC5B8C,kBAAmB99B,EAAM89B,kBACzB9E,mBAAoBh5B,EAAM0J,MAAMwvB,WAAWF,mBAAmBhC,GAA6Bh3B,EAAMi3B,WACjG8G,SAAU/9B,EAAM+9B,SAChBC,UAAWh+B,EAAMs7B,cACjBppB,GAAI5C,KAAK2uB,eACThB,UAAW3tB,KAAKqsB,iBAChBuC,SAAUl+B,EAAMk+B,SAChBC,WAAYn+B,EAAMm+B,YAEhBC,EAAe9uB,KAAK8uB,aAIxB,GAHA9uB,KAAK8uB,cAAe,EACpB9uB,KAAK+uB,WAAa/uB,KAAK+uB,YAAcf,EAAUlD,SAAWkD,EAAUO,oBAE/DvuB,KAAK+uB,WACR,OAAOjH,gBAAoB,MAAO,MAOpC,IAAIkH,EAAe7tB,GAAc,GAAIzQ,EAAM09B,OAAQ,CACjDa,gBAAiB,GAAG59B,OAAOX,EAAMs7B,cAAe,WAChDkD,eAAe,EACfC,aAAcL,IAAiBd,EAAUlD,SAA8B,WAAnBkD,EAAUroB,OAGhE,OAAOmiB,gBAAoBsH,KAAW1yB,OAAO0C,OAAO,CAClD0rB,QAASkD,EAAUlD,SAClBkE,GAAe,SAAUvjB,GAC1B,IAAIra,EAAYqa,EAAKra,UACjBqN,EAAQgN,EAAKhN,MACb4wB,EAAkBC,KAAW,GAAGj+B,OAAO28B,EAAUU,UAAW,QAASt9B,EAAWqa,EAAK8jB,uBACzF,OAAOzH,gBAAoB0H,GAAc9yB,OAAO0C,OAAO,GAAI4uB,EAAW,CACpEprB,GAAImrB,EAAOY,eACXv9B,UAAWi+B,EACX5wB,MAAOA,IACLhG,OAGP,CACDG,IAAK,SACLC,MAAO,WACL,IAAI42B,EAEA/+B,EAAQyQ,GAAc,GAAInB,KAAKtP,OAE/Bw5B,EAASx5B,EAAMw5B,OACfwE,EAAY1uB,KAAK+rB,eACjB2D,EAA8B,WAAfh/B,EAAMiV,KACrBvU,EAAYk+B,KAAWZ,EAAW,GAAGr9B,OAAOq9B,EAAW,KAAKr9B,OAAOX,EAAMiV,OAA0B7E,GAAlB2uB,EAAc,GAAiC/+B,EAAMU,YAAaV,EAAMU,WAAY0P,GAAgB2uB,EAAazvB,KAAKosB,mBAAoBlC,GAASppB,GAAgB2uB,EAAazvB,KAAKisB,qBAAsBv7B,EAAM8L,QAAU0tB,IAAWwF,GAAe5uB,GAAgB2uB,EAAazvB,KAAKksB,uBAAwBx7B,EAAMY,UAAWwP,GAAgB2uB,EAAazvB,KAAKmsB,uBAAwBnsB,KAAK0sB,sBAAuB+C,IACzer+B,EAAW,CAACA,EAAWV,EAAMi/B,MAAQj/B,EAAM0J,MAAMwvB,WAAWgG,qBAAsBl/B,EAAM0J,MAAMwvB,WAAWiG,oBAAoBn0B,KAAK,KAE/HsE,KAAK2uB,iBACJj+B,EAAMi3B,SACR3nB,KAAK2uB,eAAiB,GAAGt9B,OAAOX,EAAMi3B,SAAU,UAEhDyB,IAAQ,EACRppB,KAAK2uB,eAAiB,OAAOt9B,OAAO+3B,GAAM,WAI9C,IAAI0G,EAAc,GACdC,EAAmB,GACnBC,EAAmB,GAElBt/B,EAAMY,WACTw+B,EAAc,CACZlV,aAAc5a,KAAK4a,aACnBF,aAAc1a,KAAK0a,cAGrBqV,EAAmB,CACjBn+B,QAASoO,KAAKqqB,cAEhB2F,EAAmB,CACjBtV,aAAc1a,KAAKorB,kBACnBxQ,aAAc5a,KAAKwrB,oBAIvB,IAAI/sB,EAAQ,GAERixB,IACFjxB,EAAMwxB,YAAcv/B,EAAMw9B,aAAex9B,EAAMu9B,OAGjD,IAAIiC,EAAW,GAIXlwB,KAAKtP,MAAMw5B,SACbgG,EAAW,CACTC,YAAanwB,KAAK2uB,iBAKtB,IAAIz8B,EAAO,KAEQ,eAAfxB,EAAMiV,OACRzT,EAAO8N,KAAKtP,MAAMm+B,WAEmB,oBAA1B7uB,KAAKtP,MAAMm+B,aACpB38B,EAAO41B,gBAAoB9nB,KAAKtP,MAAMm+B,WAAY1tB,GAAc,GAAInB,KAAKtP,UAG7E,IAAI0B,EAAQ01B,gBAAoB,MAAOprB,OAAO0C,OAAO,CACnD7B,IAAKyC,KAAKutB,iBACV9uB,MAAOA,EACPrN,UAAW,GAAGC,OAAOq9B,EAAW,WAC/BsB,EAAkBD,EAAkB,CACrCK,gBAAiBlG,GAChBgG,EAAU,CACXG,gBAAiB,OACjBj+B,MAA8B,kBAAhB1B,EAAM0B,MAAqB1B,EAAM0B,WAAQ+U,IACrDzW,EAAM0B,MAAOF,GAAQ41B,gBAAoB,IAAK,CAChD12B,UAAW,GAAGC,OAAOq9B,EAAW,aAE9Bj2B,EAAWuH,KAAKswB,eAAe5/B,EAAM+H,UACrC83B,EAAoB7/B,EAAMw6B,WAAWsC,WAAa98B,EAAMw6B,WAAWx6B,MAAM6/B,kBAAoB,SAAUC,GACzG,OAAOA,EAAYC,YAEjBC,EAAiBrH,GAAkB34B,EAAMiV,MACzCgrB,EAAajgC,EAAMkgC,YAAc,CACnC59B,OAAQtC,EAAMkgC,aACZ,GACAC,EAAgC,WAAfngC,EAAMiV,KAAoB,GAAKjV,EAAMmgC,eACtDv/B,EAAWZ,EAAMY,SACjBo6B,EAAuBh7B,EAAMg7B,qBAC7B2C,EAAmB39B,EAAM29B,iBACzBE,EAAqB79B,EAAM69B,mBAC3BD,EAAoB59B,EAAM49B,kBAC1BE,EAAoB99B,EAAM89B,kBAO9B,OANAtG,GAAa1mB,QAAQ,SAAU5I,GAC7B,cAAclI,EAAMkI,YAGflI,EAAMkB,eACNlB,EAAMi/B,MACN7H,gBAAoB,KAAMprB,OAAO0C,OAAO,GAAI1O,EAAOo/B,EAAa,CACrE1+B,UAAWA,EACX0/B,KAAM,aACJpB,GAAgBt9B,EAAOs9B,GAAgBj3B,GAAWi3B,GAAgB5H,gBAAoBiJ,KAAS,CACjGrC,UAAWA,EACXmC,eAAgB,GAAGx/B,OAAOq9B,EAAW,WAAWr9B,OAAOw/B,GACvDN,kBAAmBA,EACnB/B,kBAAmB9xB,OAAO0C,OAAO,GAAImpB,GAAYiG,GACjDkC,eAAgBA,EAChBM,aAAc9G,EACdyG,WAAYA,EACZM,MAAOx4B,EACPy4B,OAAQ5/B,EAAW,GAAK,CAACo6B,GACzByF,gBAAiB9C,EACjB+C,gBAAiB9C,EACjBzD,qBAAsB7qB,KAAK6qB,qBAC3BwG,YAAa9C,GACZn8B,SA9hBqE02B,GAAkBla,EAAYhP,UAAWiP,GAAiBC,GAAaga,GAAkBla,EAAaE,GAkiB3K+a,EA9fT,GAggBAA,GAAQ1b,aAAe,CACrBuM,aAAc4M,GACd1M,aAAc0M,GACd8D,kBAAmB9D,GACnBkE,kBAAmBlE,GACnB+C,aAAc/C,GACdqG,UAAWrG,GACX3hB,KAAM,WACNvT,MAAO,IAET,IAAIk/B,GAAY/gC,mBAAQ,SAAU+a,EAAOc,GACvC,IAAI6gB,EAAW3hB,EAAM2hB,SACjBsE,EAAYjmB,EAAMimB,UAClBvE,EAAe1hB,EAAM0hB,aACrBrF,EAAWvb,EAAMub,SACjB6J,EAAaplB,EAAMolB,WACvB,MAAO,CACLtH,OAAQ+C,EAAS70B,QAAQuvB,IAAa,EACtCnrB,OAAQ+0B,EAAUC,KAAgB7J,EAClCqF,aAAcA,IATFz8B,CAWbs5B,IACHyH,GAAUxE,WAAY,EACPwE,UCvkBf,SAASzI,GAAQ7wB,GAeb,OAbI6wB,GADkB,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiBjK,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAXgK,QACPhK,EAAImY,cAAgBnO,QACpBhK,IAAQgK,OAAOpC,UACb,gBACO5H,IAGNA,GAGnB,SAASyJ,GAAmBC,GACxB,OAiBJ,SAA4BA,GACxB,GAAIC,MAAMC,QAAQF,GAAM,CACpB,IAAK,IAAIjC,EAAI,EAAGoC,EAAO,IAAIF,MAAMD,EAAIxJ,QAASuH,EAAIiC,EAAIxJ,OAAQuH,IAC1DoC,EAAKpC,GAAKiC,EAAIjC,GAElB,OAAOoC,GArBPC,CAAmBJ,IAQ3B,SAA0BK,GACtB,GACIC,OAAOC,YAAYvF,OAAOqF,IACe,uBAAzCrF,OAAOkD,UAAUsC,SAASpC,KAAKiC,GAE/B,OAAOJ,MAAMQ,KAAKJ,GAbSK,CAAiBV,IAIpD,WACI,MAAM,IAAIW,UAAU,mDALoCC,GA6E5D,SAASrC,GAAyBN,EAAQO,GACtC,GAAc,MAAVP,EAAgB,MAAO,GAC3B,IACI/G,EAAK6G,EADLrM,EAeR,SAAuCuM,EAAQO,GAC3C,GAAc,MAAVP,EAAgB,MAAO,GAC3B,IAEI/G,EAAK6G,EAFLrM,EAAS,GACT+M,EAAazD,OAAO0D,KAAKT,GAE7B,IAAKF,EAAI,EAAGA,EAAIU,EAAWjI,OAAQuH,IAC/B7G,EAAMuH,EAAWV,GACbS,EAAS9H,QAAQQ,IAAQ,IAC7BxF,EAAOwF,GAAO+G,EAAO/G,IAEzB,OAAOxF,EAzBMiN,CAA8BV,EAAQO,GAEnD,GAAIxD,OAAO4D,sBAAuB,CAC9B,IAAIC,EAAmB7D,OAAO4D,sBAAsBX,GACpD,IAAKF,EAAI,EAAGA,EAAIc,EAAiBrI,OAAQuH,IACrC7G,EAAM2H,EAAiBd,GACnBS,EAAS9H,QAAQQ,IAAQ,GACxB8D,OAAOkD,UAAUY,qBAAqBV,KAAKH,EAAQ/G,KAExDxF,EAAOwF,GAAO+G,EAAO/G,IAG7B,OAAOxF,EAsBX,SAAS01B,GAAkB11B,EAAQ1C,GAC/B,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CACnC,IAAIkP,EAAaje,EAAM+O,GACvBkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EACjD2N,EAAW1N,cAAe,EACtB,UAAW0N,IAAYA,EAAWzN,UAAW,GACjDxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAiBtD,SAASoa,GAAgBC,GAMrB,OALAD,GAAkBrsB,OAAO0T,eACnB1T,OAAOkT,eACP,SAAyBoZ,GACrB,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAE/BA,GAG3B,SAASC,GAAuBzZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAAS0Z,GAAgBF,EAAGG,GAOxB,OANAD,GACIxsB,OAAO0T,gBACP,SAAyB4Y,EAAGG,GAExB,OADAH,EAAErZ,UAAYwZ,EACPH,IAEQA,EAAGG,GAG9B,IAAIsI,KACkB,qBAAX7gC,SACPA,OAAO8W,WACP9W,OAAO8W,SAAS3W,eAKhB0gC,IAEApqB,EAAQ,KAGZ,IAAIqqB,GAEC,SAAS5H,GAGN,SAAS4H,IACL,IAAIzuB,EAlEoBuM,EAAM1P,EAoS9B,OA1TZ,SAAyBwP,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIvM,UAAU,qCAwFhBkN,CAAgBvP,KAAM0xB,GApEEliB,EAuEpBxP,KAvE0BF,EAwE1BipB,GAAgB2I,GAAS3xB,MAAMC,KAAMN,YAFzCuD,GArEJnD,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAG3CmpB,GAAuBzZ,GAFnB1P,GAwEG6xB,eAAiB,KACvB1uB,EAAM2uB,iBAAmB,KAEzB3uB,EAAM4uB,mBAAqB,EAE3B5uB,EAAM6uB,gBAAkB,GAExB7uB,EAAM8uB,cAAgB,GACtB9uB,EAAMzS,MAAQ,CACVwhC,sBAAkB7qB,GAGtBlE,EAAMgvB,iBAAmB,WACrB,IAAIvD,EAAYzrB,EAAMvS,MAAMg+B,UACxBwD,EAAK7E,eAAqBpE,GAAuBhmB,IAErD,OAAKivB,EAIE,GAAG/R,MAAMrgB,KAAKoyB,EAAGz5B,UAAU4I,OAAO,SAASvO,GAC9C,OACIA,EAAK1B,UACAg1B,MAAM,KACNhuB,QACG,GAAG/G,OAAOq9B,EAAW,wBACrB,IATL,IAcfzrB,EAAMkvB,yBAA2B,SAC7BC,EACAN,EACAO,GAEA,IAAI1a,EAAc1U,EAAMvS,MACEinB,EAAY2a,oBAC1B3a,EAAYsW,MACbtW,EAAYhS,KACPgS,EAAY+W,UAChB/W,EAAY/R,MAExB,OAAO,MAwEX3C,EAAMsvB,0BAA4B,aA8DlCtvB,EAAMuvB,aAAe,aAyCdvvB,EA1SnB,IAAsB2L,EAAaC,EAAYC,EA6cvC,OA9aR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAI5N,UACN,sDAGR2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CACnEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAE9DgP,GAAYiZ,GAAgBlZ,EAAUC,GA6BtCI,CAAUqhB,EAyYX5J,gBA9celZ,EA6SD8iB,GA7Sc7iB,EA6SL,CAClB,CACIjW,IAAK,oBACLC,MAAO,WACH,IAAIsM,EAASnF,KAIb,GAFAA,KAAKuyB,4BAGoB,IAArBvyB,KAAKtP,MAAMu9B,OACS,eAApBjuB,KAAKtP,MAAMiV,KACb,CACE,IAAI8sB,EAASpF,eAAqBrtB,MAElC,IAAKyyB,EACD,OAGJzyB,KAAK2xB,eAAiB,IAAIe,KAAe,SACrCC,GAEAA,EAAQnxB,QAAQ2D,EAAOotB,6BAE1B,GAAGpS,MACCrgB,KAAK2yB,EAAOh6B,UACZpH,OAAOohC,GACPjxB,QAAQ,SAAS9H,GACdyL,EAAOwsB,eAAeiB,QAAQl5B,KAGN,qBAArBm5B,mBACP7yB,KAAK4xB,iBAAmB,IAAIiB,iBACxB,WACI1tB,EAAOwsB,eAAemB,aACrB,GAAG3S,MACCrgB,KAAK2yB,EAAOh6B,UACZpH,OAAOohC,GACPjxB,QAAQ,SAAS9H,GACdyL,EAAOwsB,eAAeiB,QAAQl5B,KAGtCyL,EAAOotB,8BAGfvyB,KAAK4xB,iBAAiBgB,QAAQH,EAAQ,CAClCM,YAAY,EACZC,WAAW,EACXC,SAAS,QAM7B,CACIr6B,IAAK,uBACLC,MAAO,WACCmH,KAAK2xB,gBACL3xB,KAAK2xB,eAAemB,aAGpB9yB,KAAK4xB,kBACL5xB,KAAK2xB,eAAemB,eAIhC,CACIl6B,IAAK,iBACLC,MAAO,SAAwBJ,GAIJuH,KAAKxP,MAAMwhC,iBAClC,OAAQv5B,GAAY,IAAIy6B,OAAO,SAC3BC,EACAC,EACA/5B,GAEA,IAAI8E,EAAOi1B,EA6CX,MAAO,GAAG/hC,OAAOoQ,GAAmB0xB,GAAM,CAACh1B,KAE/C,MAGR,CACIvF,IAAK,SACLC,MAAO,WACH,IAAIkyB,EAAe/qB,KAAKtP,MAMpBmb,GALUkf,EAAaD,QACXC,EAAa2D,UACH3D,EAAauH,oBAC5BvH,EAAaplB,KACZolB,EAAakD,MACflD,EAAalf,KACnBpT,EAAWsyB,EAAatyB,SAExB46B,GADQtI,EAAanlB,MACd3F,GAAyB8qB,EAAc,CAC1C,UACA,YACA,sBACA,OACA,QACA,MACA,WACA,WAGJuI,EAAMznB,EACV,OAAOic,gBACHwL,EACA52B,OAAO0C,OAAO,GAAIi0B,GAClBrzB,KAAKswB,eAAe73B,SAtcxBqwB,GAAkBla,EAAYhP,UAAWiP,GACrDC,GAAaga,GAAkBla,EAAaE,GA2crC4iB,EAzYV,GA4YLA,GAAQvjB,aAAe,CACnBtC,IAAK,MACLza,UAAW,IAEAsgC,UChmBf,SAAS7I,GAAQ7wB,GAAwT,OAAtO6wB,GAArD,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SAAmC,SAAiBjK,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,oBAAXgK,QAAyBhK,EAAImY,cAAgBnO,QAAUhK,IAAQgK,OAAOpC,UAAY,gBAAkB5H,IAAyBA,GAExV,SAASwH,KAA2Q,OAA9PA,GAAW9C,OAAO0C,QAAU,SAAUhM,GAAU,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAI7G,KAAO+G,EAAcjD,OAAOkD,UAAUC,eAAeC,KAAKH,EAAQ/G,KAAQxF,EAAOwF,GAAO+G,EAAO/G,IAAY,OAAOxF,IAA2B2M,MAAMC,KAAMN,WAIhT,SAASopB,GAAkB11B,EAAQ1C,GAAS,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CAAE,IAAIkP,EAAaje,EAAM+O,GAAIkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EAAO2N,EAAW1N,cAAe,EAAU,UAAW0N,IAAYA,EAAWzN,UAAW,GAAMxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAM7S,SAASoa,GAAgBC,GAAwJ,OAAnJD,GAAkBrsB,OAAO0T,eAAiB1T,OAAOkT,eAAiB,SAAyBoZ,GAAK,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAA8BA,GAExM,SAASC,GAAuBzZ,GAAQ,QAAa,IAATA,EAAmB,MAAM,IAAIC,eAAe,6DAAgE,OAAOD,EAI/J,SAAS0Z,GAAgBF,EAAGG,GAA+G,OAA1GD,GAAkBxsB,OAAO0T,gBAAkB,SAAyB4Y,EAAGG,GAAsB,OAAjBH,EAAErZ,UAAYwZ,EAAUH,IAA6BA,EAAGG,GAErK,SAAS/nB,GAAQ+Q,EAAQ4R,GAAkB,IAAI3jB,EAAO1D,OAAO0D,KAAK+R,GAAS,GAAIzV,OAAO4D,sBAAuB,CAAE,IAAI0jB,EAAUtnB,OAAO4D,sBAAsB6R,GAAa4R,IAAgBC,EAAUA,EAAQ3iB,OAAO,SAAUC,GAAO,OAAO5E,OAAO6E,yBAAyB4Q,EAAQ7Q,GAAKN,cAAgBZ,EAAKtH,KAAKiH,MAAMK,EAAM4jB,GAAY,OAAO5jB,EAE9U,SAASe,GAAc/N,GAAU,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CAAE,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAK2B,GAAQzB,GAAQ,GAAM6B,QAAQ,SAAU5I,GAAOkI,GAAgB1N,EAAQwF,EAAK+G,EAAO/G,MAAsB8D,OAAO2qB,0BAA6B3qB,OAAOgS,iBAAiBtb,EAAQsJ,OAAO2qB,0BAA0B1nB,IAAmByB,GAAQzB,GAAQ6B,QAAQ,SAAU5I,GAAO8D,OAAOqE,eAAe3N,EAAQwF,EAAK8D,OAAO6E,yBAAyB5B,EAAQ/G,MAAe,OAAOxF,EAE7f,SAAS0N,GAAgB9I,EAAKY,EAAKC,GAAiK,OAApJD,KAAOZ,EAAO0E,OAAOqE,eAAe/I,EAAKY,EAAK,CAAEC,MAAOA,EAAOmI,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBlJ,EAAIY,GAAOC,EAAgBb,EAa3M,SAASu7B,GAAgBn5B,EAAOuvB,EAAQ4H,GACtC,IAAI/gC,EAAQ4J,EAAMwvB,WAClBxvB,EAAMwC,SAAS,CACb20B,UAAWpwB,GAAc,GAAI3Q,EAAM+gC,UAAWzwB,GAAgB,GAAI6oB,EAAQ4H,MAI9E,SAASiC,GAAY9iC,GAEnB,OAAOA,EAAMi3B,UAAY,UAGpB,SAAS8L,GAAa/iC,EAAOgjC,GAClC,IAKMC,EALFpC,EAAYmC,EACZj7B,EAAW/H,EAAM+H,SACjBkvB,EAAWj3B,EAAMi3B,SAErB,GAAI4J,IAEF3J,GAAanvB,EAAU,SAAUsvB,EAAGtoB,GAC9BsoB,GAAKA,EAAEr3B,QAAUq3B,EAAEr3B,MAAMY,UAAYigC,IAAchK,GAAwBQ,EAAGJ,EAAUloB,KAC1Fk0B,GAAQ,KAIRA,GACF,OAAOpC,EAMX,OAFAA,EAAY,KAER7gC,EAAMg5B,oBACR9B,GAAanvB,EAAU,SAAUsvB,EAAGtoB,GAC7B8xB,IAAaxJ,GAAMA,EAAEr3B,MAAMY,WAC9BigC,EAAYhK,GAAwBQ,EAAGJ,EAAUloB,MAG9C8xB,GAGFA,EAEF,SAASqC,GAAQ7L,GACtB,GAAIA,EAAG,CACL,IAAI1uB,EAAQ2G,KAAK6zB,cAAcz7B,QAAQ2vB,IAExB,IAAX1uB,EAEF2G,KAAK6zB,cAAcx6B,GAAS0uB,EAG5B/nB,KAAK6zB,cAAc/6B,KAAKivB,IAIvB,IAAIyH,GAEX,SAAU1F,GAGR,SAAS0F,EAAa9+B,GACpB,IAAIuS,EAzF4BuM,EAAM1P,EAiStC,OAvSJ,SAAyBwP,EAAUV,GAAe,KAAMU,aAAoBV,GAAgB,MAAM,IAAIvM,UAAU,qCAiG5GkN,CAAgBvP,KAAMwvB,GA3FUhgB,EA6FGxP,KA7FGF,EA6FGipB,GAAgByG,GAAc1vB,KAAKE,KAAMtP,IAAlFuS,GA7FkDnD,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAA8CmpB,GAAuBzZ,GAAtC1P,GAsGzHmjB,UAAY,SAAUhpB,EAAG65B,GAC7B,IACIrJ,EADAT,EAAU/vB,EAAE+vB,QAShB,GANA/mB,EAAM8wB,uBAAuBvyB,QAAQ,SAAUxJ,GACzCA,GAAOA,EAAItH,MAAM8L,QAAUxE,EAAIirB,YACjCwH,EAAUzyB,EAAIirB,UAAUhpB,MAIxBwwB,EACF,OAAO,EAGT,IAAIuJ,EAAa,KAMjB,OAJIhK,IAAYG,KAAQO,IAAMV,IAAYG,KAAQQ,OAChDqJ,EAAa/wB,EAAMgxB,KAAKjK,IAAYG,KAAQO,IAAM,EAAI,IAGpDsJ,GACF/5B,EAAEi6B,iBACFX,GAAgBtwB,EAAMvS,MAAM0J,MAAOo5B,GAAYvwB,EAAMvS,OAAQsjC,EAAWtjC,MAAMi3B,UAEtD,oBAAbmM,GACTA,EAASE,GAGJ,QART,GAcF/wB,EAAMqoB,YAAc,SAAUrxB,GAC5B,IAAIrB,EAAMqB,EAAErB,IACR2yB,EAAQtxB,EAAEsxB,MACdgI,GAAgBtwB,EAAMvS,MAAM0J,MAAOo5B,GAAYvwB,EAAMvS,OAAQ66B,EAAQ3yB,EAAM,OAG7EqK,EAAM6oB,WAAa,SAAUqI,GAC3BlxB,EAAMvS,MAAMo7B,WAAWqI,IAGzBlxB,EAAMtF,SAAW,SAAUw2B,GACzBlxB,EAAMvS,MAAMiN,SAASw2B,IAGvBlxB,EAAMrR,QAAU,SAAUqI,GACxBgJ,EAAMvS,MAAMkB,QAAQqI,IAGtBgJ,EAAM2nB,aAAe,SAAU3wB,GAC7BgJ,EAAMvS,MAAMk6B,aAAa3wB,IAG3BgJ,EAAM8mB,UAAY,SAAUnxB,GAE1BqK,EAAMvS,MAAMq5B,UAAUnxB,IAGxBqK,EAAM8wB,qBAAuB,WAC3B,OAAO9wB,EAAM4wB,eAGf5wB,EAAMgxB,KAAO,SAAUG,GACrB,IAAI37B,EAAWwK,EAAM8wB,uBAEjBxC,EAAYtuB,EAAMvS,MAAM0J,MAAMwvB,WAAW2H,UAAUiC,GAAYvwB,EAAMvS,QAErE2jC,EAAM57B,EAASP,OAEnB,IAAKm8B,EACH,OAAO,KAGLD,EAAY,IACd37B,EAAWA,EAASpH,SAASijC,WAI/B,IAAIC,GAAe,EAUnB,GATA97B,EAAS+7B,MAAM,SAAUzM,EAAG0M,GAC1B,OAAI1M,GAAKA,EAAEr3B,MAAMi3B,WAAa4J,IAC5BgD,EAAcE,GACP,KAMNxxB,EAAMvS,MAAMg5B,qBAAuC,IAAjB6K,IAhLxB7yB,EAgL0DjJ,EAAS0nB,MAAMoU,EAAaF,EAAM,IA/KtGn8B,SAIFwJ,EAAI8yB,MAAM,SAAUzM,GACzB,QAASA,EAAEr3B,MAAMY,WA0Kf,CAhLN,IAAqBoQ,EAoLXyd,GAASoV,EAAc,GAAKF,EAC5B50B,EAAI0f,EAER,EAAG,CACD,IAAIte,EAAQpI,EAASgH,GAErB,GAAKoB,IAASA,EAAMnQ,MAAMY,SAGxB,OAAOuP,EAFPpB,GAAKA,EAAI,GAAK40B,QAIT50B,IAAM0f,GAEf,OAAO,OAGTlc,EAAMyxB,qBAAuB,SAAU7zB,EAAOpB,EAAGk1B,GAC/C,IAAInkC,EAAQyS,EAAMvS,MAAM0J,MAAMwvB,WAG1Bl5B,EADwBu4B,GAAuBhmB,GACjBvS,MAE9BkI,EAAM2uB,GAAwB1mB,EAAOnQ,EAAMi3B,SAAUloB,GACrDm1B,EAAa/zB,EAAMnQ,MAEvB,IAAKkkC,GAAoC,kBAAf/zB,EAAMrI,KAC9B,OAAOqI,EAGT,IAAIg0B,EAAWj8B,IAAQpI,EAAM+gC,UAEzBuD,EAAgB3zB,GAAc,CAChCwE,KAAMivB,EAAWjvB,MAAQjV,EAAMiV,KAC/BsoB,MAAOv9B,EAAMu9B,MACbC,aAAcx9B,EAAMw9B,aACpB6G,eAAgB9xB,EAAM8xB,eACtB/I,cAAet7B,EAAMg+B,UACrBr1B,MAAOoG,EACPyrB,WAAYx6B,EAAMw6B,WAElByC,UAAWiH,EAAWtjC,cAAW6V,EAAY6tB,aAAsBn0B,EAAMtD,IAAKq2B,GAAQjvB,KAAKskB,GAAuBhmB,KAClH0kB,SAAU/uB,EACV4D,QAASo4B,EAAWtjC,UAAYujC,EAChCpG,SAAU/9B,EAAM+9B,SAChB78B,QAAS,SAAiBqI,IACvB26B,EAAWhjC,SAAW01B,IAAMrtB,GAE7BgJ,EAAMrR,QAAQqI,IAEhBqxB,YAAaroB,EAAMqoB,YACnB8C,OAAQ19B,EAAM09B,OACdC,iBAAkB39B,EAAM29B,iBACxBC,kBAAmB59B,EAAM49B,kBACzBC,mBAAoB79B,EAAM69B,mBAC1B3D,aAAc3nB,EAAM2nB,aACpBkB,WAAY7oB,EAAM6oB,WAClBnuB,SAAUsF,EAAMtF,SAChB6wB,kBAAmB99B,EAAM89B,kBACzBI,SAAUgG,EAAWhG,UAAY3rB,EAAMvS,MAAMk+B,SAC7CC,WAAY+F,EAAW/F,YAAc5rB,EAAMvS,MAAMm+B,YAChD8F,GAOH,OAJmB,WAAfjkC,EAAMiV,MAAqBwiB,QAC7B2M,EAAcpJ,qBAAuB,SAGhC5D,eAAmBjnB,EAAOi0B,IAGnC7xB,EAAM8xB,eAAiB,SAAUhN,EAAGtoB,EAAG+xB,EAAYyD,GAEjD,IAAKlN,EACH,OAAO,KAGT,IAAIv3B,EAAQyS,EAAMvS,MAAM0J,MAAMwvB,WAE1B+K,EAAUj4B,OAAAmiB,EAAA,EAAAniB,CAAA,CACZuwB,SAAUz8B,EAAMy8B,SAChBD,aAAcx8B,EAAMw8B,aACpBtB,qBAAsBzoB,EAAMvS,MAAMg7B,qBAClC8F,WAAYA,GACTyD,GAEL,OAAOhyB,EAAMyxB,qBAAqB3M,EAAGtoB,EAAGk1B,IAG1CjkC,EAAM0J,MAAMwC,SAAS,CACnB20B,UAAWpwB,GAAc,GAAIzQ,EAAM0J,MAAMwvB,WAAW2H,UAAWzwB,GAAgB,GAAIpQ,EAAMi3B,SAAU8L,GAAa/iC,EAAOA,EAAM6gC,eAE/HtuB,EAAM4wB,cAAgB,GACf5wB,EAnSX,IAAsB2L,EAAaC,EAAYC,EAiY7C,OAzXF,SAAmBkB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI5N,UAAU,sDAAyD2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CAAEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAAegP,GAAYiZ,GAAgBlZ,EAAUC,GAgFjXI,CAAUmf,EA0SV1H,gBAlYoBlZ,EAsSP4gB,GAtSoB3gB,EAsSN,CAAC,CAC1BjW,IAAK,oBACLC,MAAO,WAEDmH,KAAKtP,MAAMi9B,WACb3tB,KAAKtP,MAAMi9B,UAAU3tB,QAGxB,CACDpH,IAAK,wBACLC,MAAO,SAA+Bq8B,GAClC,IAAIxkC,EAAQsP,KAAKtP,MACnB,OAAOsP,KAAKtP,MAAMo6B,SAAWoK,EAAUpK,UAAYqK,KAAa,CAACn1B,KAAKtP,MAAMU,UAAWV,EAAM0J,MAAMwvB,WAAWwL,oBAAwB1kC,EAAM0J,MAAMwvB,WAAWiG,mBAAuBn/B,EAAM0J,MAAMwvB,WAAWyL,yBAA6B3kC,EAAM0J,MAAMwvB,WAAW2F,sBAA0B7+B,EAAM0J,MAAMwvB,WAAWgG,qBAAyBl/B,EAAM0J,MAAMwvB,WAAW0L,4BAA6B,CAACJ,EAAU9jC,UAAW8jC,EAAUE,oBAAwBF,EAAUrF,mBAAuBqF,EAAUG,yBAA6BH,EAAU3F,sBAA0B2F,EAAUtF,qBAAyBsF,EAAUI,+BAAiCH,KAAan1B,KAAKtP,MAAM+N,MAAOy2B,EAAUz2B,SAEzpB,CACD7F,IAAK,qBACLC,MAAO,SAA4BgM,GACjC,IAAInU,EAAQsP,KAAKtP,MACbgjC,EAAoB,cAAehjC,EAAQA,EAAM6gC,UAAY7gC,EAAM0J,MAAMwvB,WAAW2H,UAAUiC,GAAY9iC,IAC1G6gC,EAAYkC,GAAa/iC,EAAOgjC,GAEpC,GAAInC,IAAcmC,EAChBH,GAAgB7iC,EAAM0J,MAAOo5B,GAAY9iC,GAAQ6gC,QAC5C,GAAI,cAAe1sB,EAAW,CAK/B0sB,IAFgBkC,GAAa5uB,EAAWA,EAAU0sB,YAGpDgC,GAAgB7iC,EAAM0J,MAAOo5B,GAAY9iC,GAAQ6gC,MAItD,CACD34B,IAAK,SACLC,MAAO,WACL,IAAIsM,EAASnF,KAETtP,EAAQ8O,GAAS,GAAIQ,KAAKtP,OAE9BsP,KAAK6zB,cAAgB,GACrB,IAEI0B,EAAW,CACbnkC,UAAW,CAHGk+B,KAAW5+B,EAAMg+B,UAAWh+B,EAAMU,UAAW,GAAGC,OAAOX,EAAMg+B,UAAW,KAAKr9B,OAAOX,EAAMiV,OAGjFjV,EAAMu9B,MAAQ,EAAIv9B,EAAM0J,MAAMwvB,WAAWwL,oBAAsB1kC,EAAM0J,MAAMwvB,WAAW2F,uBAAuB7zB,KAAK,KAEzIo1B,KAAMpgC,EAAMogC,MAAQ,QAGlBpgC,EAAMkS,KACR2yB,EAAS3yB,GAAKlS,EAAMkS,IAGlBlS,EAAMy9B,YACRoH,EAASvS,SAAW,EACpBuS,EAAStS,UAAYjjB,KAAKijB,WAG5B,IAAIyL,EAAYh+B,EAAMg+B,UAClB/G,EAAWj3B,EAAMi3B,SACjBmD,EAAUp6B,EAAMo6B,QAChBmD,EAAQv9B,EAAMu9B,MACdtoB,EAAOjV,EAAMiV,KACb2sB,EAAsB5hC,EAAM4hC,oBAC5B1sB,EAAQlV,EAAMkV,MAalB,OAZAsiB,GAAa1mB,QAAQ,SAAU5I,GAC7B,cAAclI,EAAMkI,YAGflI,EAAMkB,eACNlB,EAAM0kC,2BACN1kC,EAAMm/B,0BACNn/B,EAAM2kC,gCACN3kC,EAAM6+B,6BACN7+B,EAAMk/B,4BACNl/B,EAAM4kC,kCACN5kC,EAAM8kC,WACN1N,gBAAoB4J,GAASh1B,OAAO0C,OAAO,GAAI1O,EAAO,CAC3Dg+B,UAAWA,EACX/oB,KAAMA,EACNkG,IAAK,KACLoiB,MAAOA,EACProB,MAAOA,EACPklB,QAASA,EACTwH,oBAAqBA,GACpBiD,GAAWzN,WAAe3uB,IAAIzI,EAAM+H,SAAU,SAAUsvB,EAAGtoB,GAC5D,OAAO0F,EAAO4vB,eAAehN,EAAGtoB,EAAGkoB,GAAY,UAAW,CAACgI,MAAO1B,EAAM,YA5XFnF,GAAkBla,EAAYhP,UAAWiP,GAAiBC,GAAaga,GAAkBla,EAAaE,GAiY3K0gB,EA1ST,GA4SAA,GAAarhB,aAAe,CAC1BugB,UAAW,UACXt9B,UAAW,GACXuU,KAAM,WACNsoB,MAAO,EACPC,aAAc,GACdpD,SAAS,EACTqD,WAAW,EACX1vB,MAAO,GACPkvB,UAAWrG,IAEb,IACegK,GADC/gC,qBAAUi/B,cC7Z1B,SAAS3G,GAAQ7wB,GAeb,OAbI6wB,GADkB,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiBjK,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAXgK,QACPhK,EAAImY,cAAgBnO,QACpBhK,IAAQgK,OAAOpC,UACb,gBACO5H,IAGNA,GAGZ,SAASy9B,GAAUhqB,GACtB,IAAIijB,EAAYjjB,EAAKijB,UACjBN,EAAS3iB,EAAK2iB,OACdsH,EAAgBjqB,EAAKiqB,cACrBC,EAAqBlqB,EAAKkqB,mBAE9B,GAAIvH,EACA,OAAOA,EAGX,GAA+B,WAA3BvF,GAAQ6M,IAA+BA,EACvCE,cACI,EACA,gFAED,GAA6B,kBAAlBF,EACd,MAAO,CACHG,WAAY,GAAGxkC,OAAOq9B,EAAW,UAAUr9B,OAAOqkC,IAI1D,OAAIC,EACO,CACHE,WAAYF,GAIb,KCxCX,SAAS9M,GAAQ7wB,GAeb,OAbI6wB,GADkB,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiBjK,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAXgK,QACPhK,EAAImY,cAAgBnO,QACpBhK,IAAQgK,OAAOpC,UACb,gBACO5H,IAGNA,GAGnB,SAASoJ,GAAQ+Q,EAAQ4R,GACrB,IAAI3jB,EAAO1D,OAAO0D,KAAK+R,GACvB,GAAIzV,OAAO4D,sBAAuB,CAC9B,IAAI0jB,EAAUtnB,OAAO4D,sBAAsB6R,GACvC4R,IACAC,EAAUA,EAAQ3iB,OAAO,SAASC,GAC9B,OAAO5E,OAAO6E,yBAAyB4Q,EAAQ7Q,GAAKN,cAE5DZ,EAAKtH,KAAKiH,MAAMK,EAAM4jB,GAE1B,OAAO5jB,EAGX,SAASe,GAAc/N,GACnB,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJ2B,GAAQzB,GAAQ,GAAM6B,QAAQ,SAAS5I,GACnCkI,GAAgB1N,EAAQwF,EAAK+G,EAAO/G,MAEjC8D,OAAO2qB,0BACd3qB,OAAOgS,iBACHtb,EACAsJ,OAAO2qB,0BAA0B1nB,IAGrCyB,GAAQzB,GAAQ6B,QAAQ,SAAS5I,GAC7B8D,OAAOqE,eACH3N,EACAwF,EACA8D,OAAO6E,yBAAyB5B,EAAQ/G,MAKxD,OAAOxF,EAGX,SAAS0N,GAAgB9I,EAAKY,EAAKC,GAW/B,OAVID,KAAOZ,EACP0E,OAAOqE,eAAe/I,EAAKY,EAAK,CAC5BC,MAAOA,EACPmI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdlJ,EAAIY,GAAOC,EAERb,EASX,SAAS8wB,GAAkB11B,EAAQ1C,GAC/B,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CACnC,IAAIkP,EAAaje,EAAM+O,GACvBkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EACjD2N,EAAW1N,cAAe,EACtB,UAAW0N,IAAYA,EAAWzN,UAAW,GACjDxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAiBtD,SAASoa,GAAgBC,GAMrB,OALAD,GAAkBrsB,OAAO0T,eACnB1T,OAAOkT,eACP,SAAyBoZ,GACrB,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAE/BA,GAG3B,SAASC,GAAuBzZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAAS0Z,GAAgBF,EAAGG,GAOxB,OANAD,GACIxsB,OAAO0T,gBACP,SAAyB4Y,EAAGG,GAExB,OADAH,EAAErZ,UAAYwZ,EACPH,IAEQA,EAAGG,GAG9B,IAAI2M,GAEC,SAAShM,GAGN,SAASgM,EAAKplC,GACV,IAAIuS,EArDoBuM,EAAM1P,GAtB1C,SAAyBwP,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIvM,UAAU,qCA2EhBkN,CAAgBvP,KAAM81B,GAvDEtmB,EA0DpBxP,KA1D0BF,EA2D1BipB,GAAgB+M,GAAMh2B,KAAKE,KAAMtP,IAFrCuS,GAxDJnD,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAG3CmpB,GAAuBzZ,GAFnB1P,GA4DGnC,SAAW,SAASw2B,GACtB,IACIzjC,EADwBu4B,GAAuBhmB,GACjBvS,MAElC,GAAIA,EAAMqlC,WAAY,CAElB,IACIC,EADuB/yB,EAAM7I,MAAMwvB,WACEoD,aAErCiJ,EAAc9B,EAAWv7B,IAGzBo9B,EADAtlC,EAAM+9B,SACUuH,EAAc3kC,OAAO,CAAC4kC,IAEtB,CAACA,GAGf,iBAAkBvlC,GACpBuS,EAAM7I,MAAMwC,SAAS,CACjBowB,aAAcgJ,IAItBtlC,EAAMiN,SACFwD,GAAc,GAAIgzB,EAAY,CAC1BnH,aAAcgJ,OAM9B/yB,EAAMrR,QAAU,SAASqI,GACrBgJ,EAAMvS,MAAMkB,QAAQqI,IAKxBgJ,EAAMggB,UAAY,SAAShpB,EAAG65B,GAC1B7wB,EAAMizB,UAAUC,qBAAqBlT,UAAUhpB,EAAG65B,IAGtD7wB,EAAM2nB,aAAe,SAASwL,GAC1B,IACI1lC,EADyBu4B,GAAuBhmB,GACjBvS,MAE/Bu8B,EAAWhqB,EAAM7I,MAAMwvB,WAAWqD,SAAS57B,SAE3C0K,GAAU,EAEVs6B,EAAgB,SAAuBp8B,GACvC,IAAIq8B,GAAa,EAEjB,GAAIr8B,EAAEoX,MACFilB,GAA0C,IAA7BrJ,EAAS70B,QAAQ6B,EAAErB,OAG5Bq0B,EAASn0B,KAAKmB,EAAErB,SAEjB,CACH,IAAIS,EAAQ4zB,EAAS70B,QAAQ6B,EAAErB,MAC/B09B,GAAwB,IAAXj9B,IAGT4zB,EAASsJ,OAAOl9B,EAAO,GAI/B0C,EAAUA,GAAWu6B,GAGrB30B,MAAMC,QAAQw0B,GAEdA,EAAM50B,QAAQ60B,GAEdA,EAAcD,GAGdr6B,IACM,aAAckH,EAAMvS,OACtBuS,EAAM7I,MAAMwC,SAAS,CACjBqwB,SAAUA,IAIlBv8B,EAAMk6B,aAAaqC,KAI3BhqB,EAAM6oB,WAAa,SAASqI,GACxB,IACIzjC,EADyBu4B,GAAuBhmB,GACjBvS,MAEnC,GAAIA,EAAMqlC,WAAY,CAClB,IAAIS,EAAiBvzB,EAAM7I,MACtBwvB,WACAoD,aAAa37B,SAEd4kC,EAAc9B,EAAWv7B,IAEzBS,EAAQm9B,EAAep+B,QAAQ69B,IAEpB,IAAX58B,GACAm9B,EAAeD,OAAOl9B,EAAO,GAG3B,iBAAkB3I,GACpBuS,EAAM7I,MAAMwC,SAAS,CACjBowB,aAAcwJ,IAItB9lC,EAAMo7B,WACF3qB,GAAc,GAAIgzB,EAAY,CAC1BnH,aAAcwJ,OAM9BvzB,EAAMwzB,sBAAwB,WAC1B,IACI/lC,EADyBu4B,GAAuBhmB,GACjBvS,MAE/BgmC,EAAiBhmC,EAAMilC,mBACvBgB,EAAgBjmC,EAAMglC,cAQ1B,OANKgB,GAA2C,kBAAlBC,IAC1BD,EAAiB,GACZrlC,OAAOX,EAAMg+B,UAAW,UACxBr9B,OAAOslC,IAGTD,GAGXzzB,EAAM2zB,aAAe,SAAS9jC,GAC1BmQ,EAAMizB,UAAYpjC,GAGtBmQ,EAAMuqB,YAAa,EACnB,IAAIR,EAAet8B,EAAMmmC,oBACrB5J,EAAWv8B,EAAMomC,gBAiBrB,MAfI,iBAAkBpmC,IAClBs8B,EAAet8B,EAAMs8B,cAAgB,IAGrC,aAAct8B,IACdu8B,EAAWv8B,EAAMu8B,UAAY,IAGjChqB,EAAM7I,MAAQ8V,kBAAO,CACjB8c,aAAcA,EACdC,SAAUA,EACVsE,UAAW,CACPwF,UAAWtD,GAAa/iC,EAAOA,EAAM6gC,cAGtCtuB,EAlOnB,IAAsB2L,EAAaC,EAAYC,EA0VvC,OA3TR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAI5N,UACN,sDAGR2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CACnEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAE9DgP,GAAYiZ,GAAgBlZ,EAAUC,GAgBtCI,CAAUylB,EAmSXhO,gBA3VelZ,EAqODknB,GArOcjnB,EAqOR,CACf,CACIjW,IAAK,oBACLC,MAAO,WACHmH,KAAKg3B,oBAGb,CACIp+B,IAAK,qBACLC,MAAO,WACHmH,KAAKg3B,oBAGb,CACIp+B,IAAK,kBACLC,MAAO,WACC,iBAAkBmH,KAAKtP,OACvBsP,KAAK5F,MAAMwC,SAAS,CAChBowB,aAAchtB,KAAKtP,MAAMs8B,cAAgB,KAI7C,aAAchtB,KAAKtP,OACnBsP,KAAK5F,MAAMwC,SAAS,CAChBqwB,SAAUjtB,KAAKtP,MAAMu8B,UAAY,KAIzCjtB,KAAKi3B,6BAGb,CACIr+B,IAAK,2BACLC,MAAO,WACC,wBAAyBmH,KAAKtP,OAC9BsP,KAAK5F,MAAMwC,SAAS,CAChBw4B,oBACIp1B,KAAKtP,MAAM0kC,qBAAuB,KAI1C,uBAAwBp1B,KAAKtP,OAC7BsP,KAAK5F,MAAMwC,SAAS,CAChBizB,mBACI7vB,KAAKtP,MAAMm/B,oBAAsB,KAIzC,6BAA8B7vB,KAAKtP,OACnCsP,KAAK5F,MAAMwC,SAAS,CAChBy4B,yBACIr1B,KAAKtP,MAAM2kC,0BAA4B,KAI/C,0BAA2Br1B,KAAKtP,OAChCsP,KAAK5F,MAAMwC,SAAS,CAChB2yB,sBACIvvB,KAAKtP,MAAM6+B,uBAAyB,KAI5C,yBAA0BvvB,KAAKtP,OAC/BsP,KAAK5F,MAAMwC,SAAS,CAChBgzB,qBACI5vB,KAAKtP,MAAMk/B,sBAAwB,KAI3C,+BAAgC5vB,KAAKtP,OACrCsP,KAAK5F,MAAMwC,SAAS,CAChB04B,2BACIt1B,KAAKtP,MAAM4kC,4BAA8B,KAIjD,eAAgBt1B,KAAKtP,OACrBsP,KAAK5F,MAAMwC,SAAS,CAChB44B,WAAYx1B,KAAKtP,MAAM8kC,YAAc,OAKrD,CACI58B,IAAK,SACLC,MAAO,WACHmH,KAAKi3B,2BACL,IAAIvmC,EAAQyQ,GAAc,GAAInB,KAAKtP,OAanC,OAXAA,EAAMU,WAAa,IAAIC,OAAOX,EAAMg+B,UAAW,gBAC/Ch+B,EAAQyQ,GAAc,GAAIzQ,EAAO,CAC7BkB,QAASoO,KAAKpO,QACdg5B,aAAc5qB,KAAK4qB,aACnBkB,WAAY9rB,KAAK8rB,WACjBnuB,SAAUqC,KAAKrC,SACfutB,WAAYlrB,KACZouB,OAAQqH,GAAUz1B,KAAKtP,UAEdglC,qBACNhlC,EAAMilC,mBACN7N,gBACHlgB,YACA,CACIxN,MAAO4F,KAAK5F,OAEhB0tB,gBACI0H,GACA9yB,OAAO0C,OAAO,GAAI1O,EAAO,CACrB6M,IAAKyC,KAAK42B,eAEd52B,KAAKtP,MAAM+H,gBAlVnBqwB,GAAkBla,EAAYhP,UAAWiP,GACrDC,GAAaga,GAAkBla,EAAaE,GAwVrCgnB,EAnSV,GAsSLA,GAAK3nB,aAAe,CAChB4nB,YAAY,EACZnkC,QAAS01B,GACT3pB,SAAU2pB,GACVsD,aAActD,GACdwE,WAAYxE,GACZuP,oBAAqB,GACrBC,gBAAiB,GACjBzI,iBAAkB,GAClBC,kBAAmB,GACnB5C,qBAAsB,QACtBgD,UAAW,UACXt9B,UAAW,GACXuU,KAAM,WACNlH,MAAO,GACP+vB,kBAAmB,GACnB8D,oBAAqBxK,gBAAoB,OAAQ,KAAM,gBACvDsN,oBAAqB,GACrBvF,mBAAoB,GACpBwF,yBAA0B,GAC1B9F,sBAAuB,GACvBK,qBAAsB,GACtB0F,2BAA4B,GAC5BE,WAAY,IAEDM,+BC3cf,SAASjN,GAAQ7wB,GAeb,OAbI6wB,GADkB,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiBjK,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAXgK,QACPhK,EAAImY,cAAgBnO,QACpBhK,IAAQgK,OAAOpC,UACb,gBACO5H,IAGNA,GAGnB,SAASoJ,GAAQ+Q,EAAQ4R,GACrB,IAAI3jB,EAAO1D,OAAO0D,KAAK+R,GACvB,GAAIzV,OAAO4D,sBAAuB,CAC9B,IAAI0jB,EAAUtnB,OAAO4D,sBAAsB6R,GACvC4R,IACAC,EAAUA,EAAQ3iB,OAAO,SAASC,GAC9B,OAAO5E,OAAO6E,yBAAyB4Q,EAAQ7Q,GAAKN,cAE5DZ,EAAKtH,KAAKiH,MAAMK,EAAM4jB,GAE1B,OAAO5jB,EAGX,SAASe,GAAc/N,GACnB,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJ2B,GAAQzB,GAAQ,GAAM6B,QAAQ,SAAS5I,GACnCkI,GAAgB1N,EAAQwF,EAAK+G,EAAO/G,MAEjC8D,OAAO2qB,0BACd3qB,OAAOgS,iBACHtb,EACAsJ,OAAO2qB,0BAA0B1nB,IAGrCyB,GAAQzB,GAAQ6B,QAAQ,SAAS5I,GAC7B8D,OAAOqE,eACH3N,EACAwF,EACA8D,OAAO6E,yBAAyB5B,EAAQ/G,MAKxD,OAAOxF,EAGX,SAAS0N,GAAgB9I,EAAKY,EAAKC,GAW/B,OAVID,KAAOZ,EACP0E,OAAOqE,eAAe/I,EAAKY,EAAK,CAC5BC,MAAOA,EACPmI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdlJ,EAAIY,GAAOC,EAERb,EASX,SAAS8wB,GAAkB11B,EAAQ1C,GAC/B,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CACnC,IAAIkP,EAAaje,EAAM+O,GACvBkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EACjD2N,EAAW1N,cAAe,EACtB,UAAW0N,IAAYA,EAAWzN,UAAW,GACjDxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAiBtD,SAASoa,GAAgBC,GAMrB,OALAD,GAAkBrsB,OAAO0T,eACnB1T,OAAOkT,eACP,SAAyBoZ,GACrB,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAE/BA,GAG3B,SAASC,GAAuBzZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAAS0Z,GAAgBF,EAAGG,GAOxB,OANAD,GACIxsB,OAAO0T,gBACP,SAAyB4Y,EAAGG,GAExB,OADAH,EAAErZ,UAAYwZ,EACPH,IAEQA,EAAGG,GAGvB,IAAI+N,GAEN,SAASpN,GAGN,SAASoN,IACL,IAAIj0B,EArDoBuM,EAAM1P,EAuI9B,OA7JZ,SAAyBwP,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIvM,UAAU,qCA2EhBkN,CAAgBvP,KAAMk3B,GAvDE1nB,EA0DpBxP,KA1D0BF,EA2D1BipB,GAAgBmO,GAAUn3B,MAAMC,KAAMN,YAF1CuD,GAxDJnD,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAG3CmpB,GAAuBzZ,GAFnB1P,GA4DGmjB,UAAY,SAAShpB,GAGvB,GAFcA,EAAE+vB,UAEAG,KAAQC,MAGpB,OAFAnnB,EAAMrR,QAAQqI,IAEP,GAMfgJ,EAAM2X,aAAe,SAAS3gB,GAC1B,IAAI0d,EAAc1U,EAAMvS,MACpBi3B,EAAWhQ,EAAYgQ,SACvB2D,EAAc3T,EAAY2T,YAC1B1Q,EAAejD,EAAYiD,aAC/B0Q,EAAY,CACR1yB,IAAK+uB,EACL4D,OAAO,IAEX3Q,EAAa,CACThiB,IAAK+uB,EACLqD,SAAU/wB,KAIlBgJ,EAAMyX,aAAe,SAASzgB,GAC1B,IAAI8wB,EAAe9nB,EAAMvS,MACrBi3B,EAAWoD,EAAapD,SACxB2D,EAAcP,EAAaO,YAC3B5Q,EAAeqQ,EAAarQ,aAChC4Q,EAAY,CACR1yB,IAAK+uB,EACL4D,OAAO,IAEX7Q,EAAa,CACT9hB,IAAK+uB,EACLqD,SAAU/wB,KAIlBgJ,EAAMrR,QAAU,SAASqI,GACrB,IAAIgxB,EAAehoB,EAAMvS,MACrBi3B,EAAWsD,EAAatD,SACxB8G,EAAWxD,EAAawD,SACxB78B,EAAUq5B,EAAar5B,QACvB+L,EAAWstB,EAAattB,SACxBmuB,EAAab,EAAaa,WAC1BqL,EAAalM,EAAakM,WAC1BvL,EAAO,CACPhzB,IAAK+uB,EACL2E,QAAS,CAAC3E,GACVxpB,KAAM8qB,GAAuBhmB,GAC7B+nB,SAAU/wB,GAEdrI,EAAQg6B,GAEJ6C,EACI0I,EACArL,EAAWF,GAEXjuB,EAASiuB,GAELuL,GACRx5B,EAASiuB,IAIjB3oB,EAAMm0B,SAAW,SAAStkC,GACtBmQ,EAAMnQ,KAAOA,GAGVmQ,EA7InB,IAAsB2L,EAAaC,EAAYC,EA4UvC,OA7SR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAI5N,UACN,sDAGR2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CACnEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAE9DgP,GAAYiZ,GAAgBlZ,EAAUC,GAgBtCI,CAAU6mB,EAqRXpP,gBA7UelZ,EAgJDsoB,GAhJcroB,EAgJJ,CACnB,CACIjW,IAAK,oBACLC,MAAO,WAEHmH,KAAKq3B,YAGb,CACIz+B,IAAK,qBACLC,MAAO,SAA4BgM,GAC/B,IAAIwmB,EAAerrB,KAAKtP,MACpB8L,EAAS6uB,EAAa7uB,OACtB0uB,EAAaG,EAAaH,WAC1BvD,EAAW0D,EAAa1D,SAIvB9iB,EAAUrI,SACXA,GACE0uB,GACGA,EAAW,YAAY75B,OAAOs2B,IAanCuD,GACAA,EAAW,YAAY75B,OAAOs2B,YAEvBuD,EAAW,YAAY75B,OAAOs2B,IAdjC3nB,KAAKlN,OACLwkC,KACIt3B,KAAKlN,KACLu6B,eAAqBnC,GACrB,CACIqM,oBAAoB,IAG5BrM,EAAW,YAAY75B,OAAOs2B,KAAa,GASnD3nB,KAAKq3B,YAGb,CACIz+B,IAAK,uBACLC,MAAO,WACH,IAAInI,EAAQsP,KAAKtP,MAEbA,EAAMq5B,WACNr5B,EAAMq5B,UAAUr5B,EAAMi3B,YAIlC,CACI/uB,IAAK,eACLC,MAAO,WACH,MAAO,GAAGxH,OAAO2O,KAAKtP,MAAMs7B,cAAe,WAGnD,CACIpzB,IAAK,qBACLC,MAAO,WACH,MAAO,GAAGxH,OAAO2O,KAAK+rB,eAAgB,aAG9C,CACInzB,IAAK,uBACLC,MAAO,WACH,MAAO,GAAGxH,OAAO2O,KAAK+rB,eAAgB,eAG9C,CACInzB,IAAK,uBACLC,MAAO,WACH,MAAO,GAAGxH,OAAO2O,KAAK+rB,eAAgB,eAG9C,CACInzB,IAAK,UACLC,MAAO,WACCmH,KAAKtP,MAAMi9B,WACX3tB,KAAKtP,MAAMi9B,UAAU3tB,QAIjC,CACIpH,IAAK,SACLC,MAAO,WACH,IAAI42B,EAEA/+B,EAAQyQ,GAAc,GAAInB,KAAKtP,OAC/BU,EAAYk+B,KACZtvB,KAAK+rB,eACLr7B,EAAMU,WAEN0P,GADE2uB,EAAc,GAGZzvB,KAAKisB,sBACJv7B,EAAMY,UAAYZ,EAAM8L,QAE7BsE,GACI2uB,EACAzvB,KAAKmsB,uBACLz7B,EAAMymC,YAEVr2B,GACI2uB,EACAzvB,KAAKksB,uBACLx7B,EAAMY,UAEVm+B,IAGA+H,EAAQr2B,GAAc,GAAIzQ,EAAM+mC,UAAW,CAC3CrlC,MAAO1B,EAAM0B,MACbhB,UAAW,CACPA,GADOC,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CAEHhM,EAAMi/B,MACJj/B,EAAM0J,MAAMwvB,WAAWgG,qBACvBl/B,EAAM0J,MAAMwvB,WAAWiG,oBAJtBnzB,OAAA2jB,EAAA,EAAA3jB,CAKHhM,EAAM0J,MACLwvB,WACA4L,WAAWhiB,SAASxT,KAAKtP,MAAMi3B,UAC9Bj3B,EAAMi/B,MACFj/B,EAAM0J,MAAMwvB,WACP0L,2BACL5kC,EAAM0J,MAAMwvB,WACPyL,yBACT,KACR35B,KAAK,KAEPo1B,KAAMpgC,EAAMogC,MAAQ,WACpB4G,gBAAiBhnC,EAAMY,WAGR,WAAfZ,EAAMogC,KAEN0G,EAAQr2B,GAAc,GAAIq2B,EAAO,CAC7B1G,KAAM,SACN6G,gBAAiBjnC,EAAMymC,aAEL,OAAfzmC,EAAMogC,MAAgC,SAAfpgC,EAAMogC,OAMpC0G,EAAM1G,KAAO,QAGjB,IAAI8G,EAAa,CACbhmC,QAASlB,EAAMY,SAAW,KAAO0O,KAAKpO,QACtCgpB,aAAclqB,EAAMY,SAAW,KAAO0O,KAAK4a,aAC3CF,aAAchqB,EAAMY,SAAW,KAAO0O,KAAK0a,cAG3Cjc,EAAQ0C,GAAc,GAAIzQ,EAAM+N,OAEjB,WAAf/N,EAAMiV,OACNlH,EAAMwxB,YAAcv/B,EAAMw9B,aAAex9B,EAAMu9B,OAGnD/F,GAAa1mB,QAAQ,SAAS5I,GAC1B,cAAclI,EAAMkI,KAExB,IAAI1G,EAAO8N,KAAKtP,MAAMk+B,SAUtB,MARmC,oBAAxB5uB,KAAKtP,MAAMk+B,WAElB18B,EAAO41B,gBACH9nB,KAAKtP,MAAMk+B,SACX5uB,KAAKtP,eAGNA,EAAMi/B,MACN7H,gBACH,KACAprB,OAAO0C,OAAO,GAAI1O,EAAO8mC,EAAOI,EAAY,CACxCn5B,MAAOA,EACPlB,IAAKyC,KAAKo3B,WAEd1mC,EAAM+H,SACNvG,QArUJ42B,GAAkBla,EAAYhP,UAAWiP,GACrDC,GAAaga,GAAkBla,EAAaE,GA0UrCooB,EArRV,GAuRLA,GAASnK,YAAa,EACtBmK,GAAS/oB,aAAe,CACpBxQ,SAAU2pB,GACV5M,aAAc4M,GACd1M,aAAc0M,GACdqG,UAAWrG,IAEf,IAUegK,GAVC/gC,mBAAQ,SAASkb,EAAMH,GACnC,IAAIimB,EAAY9lB,EAAK8lB,UACjBvE,EAAevhB,EAAKuhB,aACpBrF,EAAWrc,EAAMqc,SAErB,MAAO,CACHnrB,OAAQ+0B,EAFKjmB,EAAMkmB,cAEe7J,EAClCwP,YAAgD,IAApCnK,EAAa50B,QAAQuvB,KAPzBp3B,CASb2mC,ICzbH,SAASrO,GAAQ7wB,GAeb,OAbI6wB,GADkB,oBAAX7mB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiBjK,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAXgK,QACPhK,EAAImY,cAAgBnO,QACpBhK,IAAQgK,OAAOpC,UACb,gBACO5H,IAGNA,GAGnB,SAASwH,KAcL,OAbAA,GACI9C,OAAO0C,QACP,SAAShM,GACL,IAAK,IAAIqM,EAAI,EAAGA,EAAIC,UAAUxH,OAAQuH,IAAK,CACvC,IAAIE,EAASD,UAAUD,GACvB,IAAK,IAAI7G,KAAO+G,EACRjD,OAAOkD,UAAUC,eAAeC,KAAKH,EAAQ/G,KAC7CxF,EAAOwF,GAAO+G,EAAO/G,IAIjC,OAAOxF,IAEC2M,MAAMC,KAAMN,WAShC,SAASopB,GAAkB11B,EAAQ1C,GAC/B,IAAK,IAAI+O,EAAI,EAAGA,EAAI/O,EAAMwH,OAAQuH,IAAK,CACnC,IAAIkP,EAAaje,EAAM+O,GACvBkP,EAAW3N,WAAa2N,EAAW3N,aAAc,EACjD2N,EAAW1N,cAAe,EACtB,UAAW0N,IAAYA,EAAWzN,UAAW,GACjDxE,OAAOqE,eAAe3N,EAAQub,EAAW/V,IAAK+V,IAUtD,SAASe,GAA2BF,EAAM1P,GACtC,OAAIA,GAA2B,WAAlB+oB,GAAQ/oB,IAAsC,oBAATA,EAMtD,SAAgC0P,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EATAyZ,CAAuBzZ,GAFnB1P,EAcf,SAASipB,GAAgBC,GAMrB,OALAD,GAAkBrsB,OAAO0T,eACnB1T,OAAOkT,eACP,SAAyBoZ,GACrB,OAAOA,EAAErZ,WAAajT,OAAOkT,eAAeoZ,KAE/BA,GAe3B,SAASE,GAAgBF,EAAGG,GAOxB,OANAD,GACIxsB,OAAO0T,gBACP,SAAyB4Y,EAAGG,GAExB,OADAH,EAAErZ,UAAYwZ,EACPH,IAEQA,EAAGG,GAG9B,IAAI0O,GAEC,SAAS/N,GAGN,SAAS+N,IACL,IAAI50B,EAgBJ,OA3FZ,SAAyBqM,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIvM,UAAU,qCA2EhBkN,CAAgBvP,KAAM63B,IAEtB50B,EAAQyM,GACJ1P,KACA+oB,GAAgB8O,GAAe93B,MAAMC,KAAMN,aAGzCo4B,oBAAsB,SAAS35B,GACjC,IAAIwZ,EAAc1U,EAAMvS,MAGxB,OAAOqkC,EAFcpd,EAAYod,gBAEX52B,EADVwZ,EAAYte,MACW4J,EAAMvS,MAAM8gC,aAG5CvuB,EA3EnB,IAAsB2L,EAAaC,EAAYC,EAwIvC,OAzGR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAI5N,UACN,sDAGR2N,EAASpQ,UAAYlD,OAAOwT,OAAOD,GAAcA,EAAWrQ,UAAW,CACnEuQ,YAAa,CAAEtX,MAAOmX,EAAU9O,UAAU,EAAMD,cAAc,KAE9DgP,GAAYiZ,GAAgBlZ,EAAUC,GAgBtCI,CAAUwnB,EAiFX/P,gBAzIelZ,EA8EDipB,GA9EchpB,EA8EC,CACxB,CACIjW,IAAK,SACLC,MAAO,WACH,IAAInI,EAAQ8O,GAAS,GAAIQ,KAAKtP,OAE1BqnC,EAAmBrnC,EAAMU,UACzBA,OACyB,IAArB2mC,EAA8B,GAAKA,EACvC/L,EAAgBt7B,EAAMs7B,cACtBgM,EAAiB,GAAG3mC,OACpB26B,EACA,qBAEAiM,EAAgB,GAAG5mC,OACnB26B,EACA,oBAEA55B,EAAQ1B,EAAM0B,MACdqG,EAAW/H,EAAM+H,SAMrB,OALAyvB,GAAa1mB,QAAQ,SAAS5I,GAC1B,cAAclI,EAAMkI,YAGjBlI,EAAMkB,QACNk2B,gBACH,KACAprB,OAAO0C,OAAO,GAAI1O,EAAO,CACrBU,UAAW,GACNC,OAAOD,EAAW,KAClBC,OAAO26B,EAAe,iBAE/BlE,gBACI,MACA,CACI12B,UAAW4mC,EACX5lC,MACqB,kBAAVA,EACDA,OACA+U,GAEd/U,GAEJ01B,gBACI,KACA,CACI12B,UAAW6mC,GAEfnQ,WAAe3uB,IACXV,EACAuH,KAAK83B,4BA/HjBhP,GAAkBla,EAAYhP,UAAWiP,GACrDC,GAAaga,GAAkBla,EAAaE,GAsIrC+oB,EAjFV,GAoFLA,GAAc7P,iBAAkB,EAChC6P,GAAc1pB,aAAe,CACzB7c,UAAU,GAECumC,IClMXK,GAAU,SAAiBzsB,GAC7B,IAAIra,EAAYqa,EAAKra,UACjB46B,EAAgBvgB,EAAKugB,cACrBvtB,EAAQgN,EAAKhN,MACjB,OAAOqpB,gBAAoB,KAAM,CAC/B12B,UAAW,GAAGC,OAAOD,EAAW,KAAKC,OAAO26B,EAAe,iBAC3DvtB,MAAOA,KAIXy5B,GAAQ/pB,aAAe,CAErB7c,UAAU,EACVF,UAAW,GACXqN,MAAO,IAEMy5B,ICZApC,MCYTN,GAAa,GAgEb2C,GAAW,SAAAznC,GAAS,IACXm2B,EADWnqB,OAAA07B,GAAA,EAAA17B,CAAA,GACDhM,GACrB,OACI8K,EAAA1K,EAAAC,cAACsnC,GAAD37B,OAAA0C,OAAA,GAAaynB,EAAb,CAAoBz0B,MAAO1B,EAAMyN,KAAKJ,OACjCrN,EAAMyN,KAAK1F,SAASU,IAAI,SAACgF,EAAM9E,GAC5B,GAA6B,IAAzB8E,EAAK1F,SAASP,OAAc,CAC5B,IAAMU,EAAMuF,EAAKyE,GAAK,IAAMvJ,EAM5B,OAJI8E,EAAKkX,MAAQ3kB,EAAM4nC,gBAAgBjjB,KACrB,KAAblX,EAAKkX,KAAc3kB,EAAM4nC,gBAAgB5a,WAE1C8X,GAAW18B,KAAKF,GAEhB4C,EAAA1K,EAAAC,cAACwnC,GAAD,CAAU3/B,IAAKA,GACX4C,EAAA1K,EAAAC,cAAA,OACI0N,MAAO,CAAExF,OAAQ,OAAQtI,MAAO,QAChCiB,QAAS,kBAAOhB,OAAO4nC,SAAWr6B,EAAKkX,MAEtClX,EAAKJ,OAKlB,OACIvC,EAAA1K,EAAAC,cAAC0nC,GAAD/7B,OAAA0C,OAAA,CACIjB,KAAMA,GACF0oB,EAFR,CAGIjuB,IAAKuF,EAAKyE,GAAK,IAAMvJ,EACrBi/B,gBAAiB5nC,EAAM4nC,uBAS7CG,GAAWN,GAQF5nC,eANS,SAAAC,GACpB,MAAO,CACHokB,eAAgBpkB,EAAMokB,iBAIfrkB,CA3GK,SAACG,GACjB,IAAMgoC,ECjBK,SAAChoC,GACZ,IAsEMioC,EAAc,GAYpB,OAXAjoC,EAAMkkB,eAAepT,QAAQ,SAAA+e,GACrBA,EAAK5C,QAAQgb,EAAY7/B,KAAKynB,EAAK3d,MAE3ClS,EAAMkkB,eAAepT,QAAQ,SAAA+e,GACzBA,EAAK/d,KAAKhB,QAAQ,SAAAoB,GACV+1B,EAAYnlB,SAAS5Q,IACrB+1B,EAAY7/B,KAAKynB,EAAK3d,QAK3BmH,YAlFgB,SAAAwL,GACnB,IAAM7L,EAAY,GAmElB,OAlEI6L,GACAA,EAAU/T,QAAQ,SAAArD,GACa,QAAvBA,EAAKgX,cACLzkB,EAAMkkB,eAAepT,QAAQ,SAAA+e,GACpBoY,EAAYnlB,SAAS+M,EAAK3d,KAC3B8G,EAAU5Q,KAAK,CACXiF,KAAMwiB,EAAKxiB,KACXoW,WAAYhW,EAAKgW,WACjBvR,GAAIzE,EAAKyE,GAAK2d,EAAK3d,GACnBJ,KAAI,GAAAnR,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CACGyB,EAAKqE,MADR9F,OAAA2jB,EAAA,EAAA3jB,CAEG6jB,EAAK/d,KAAKrJ,IAAI,SAAAy/B,GAAC,OAAIz6B,EAAKyE,GAAKg2B,MAEpCvjB,IAAKkL,EAAKlL,QAIflX,EAAK+W,IACZxkB,EAAMkkB,eAAepT,QAAQ,SAAA+e,GAErBA,EAAK/d,KAAKgR,SAASrV,EAAKgX,iBACvBwjB,EAAYnlB,SAAS+M,EAAK3d,KAE3B8G,EAAU5Q,KAAK,CACX8J,GAAIzE,EAAKyE,GAAK2d,EAAK3d,GACnB7E,KAAMwiB,EAAKxiB,KACXoW,WAAYhW,EAAKgW,WACjB3R,KAAI,GAAAnR,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CACGyB,EAAKqE,MADR9F,OAAA2jB,EAAA,EAAA3jB,CAEG6jB,EAAK/d,KACH2d,MACGI,EAAK/d,KAAKpK,QACN+F,EAAKgX,eACL,GAEPhc,IAAI,SAAAy/B,GAAC,OAAIz6B,EAAKyE,GAAKg2B,MAE5BvjB,IAAKkL,EAAKlL,QAIQ,SAAvBlX,EAAKgX,cACZzkB,EAAMkkB,eAAepT,QAAQ,SAAA+e,GAErBA,EAAK3d,KAAOzE,EAAKgX,eAChBwjB,EAAYnlB,SAAS+M,EAAK3d,KAE3B8G,EAAU5Q,KAAK,CACX8J,GAAIzE,EAAKyE,GACT7E,KAAMI,EAAKJ,KACXoW,WAAYhW,EAAKgW,WACjB3R,KAAMrE,EAAKqE,KACX6S,IAAKkL,EAAKlL,QAIQ,SAAvBlX,EAAKgX,eACZzL,EAAU5Q,KAAK,CACX8J,GAAIzE,EAAKyE,GACT7E,KAAMI,EAAKJ,KACXyE,KAAMrE,EAAKqE,KACX6S,IAAKlX,EAAKgW,YAAahW,EAAKgW,WAAWkB,KAAY,GACnDlB,WAAYhW,EAAKgW,eAI1BzK,EAcMmvB,CAAenoC,EAAM0I,QAAQmc,YDlE3BujB,CAAkBpoC,GAErC8kC,GAAWt9B,OAAS,EACpB,IAAM6gC,EAAeL,EAAWv/B,IAAI,SAACgF,EAAM9E,GACvC,GAA6B,IAAzB8E,EAAK1F,SAASP,OAAc,CAC5B,IAAMU,EAAMuF,EAAKyE,GAAK,IAAMvJ,EAM5B,OAJI8E,EAAKkX,MAAQ3kB,EAAM4nC,gBAAgBjjB,KACrB,KAAblX,EAAKkX,KAAc3kB,EAAM4nC,gBAAgB5a,WAE1C8X,GAAW18B,KAAKF,GAEhB4C,EAAA1K,EAAAC,cAACwnC,GAAD,CACI3/B,IAAKA,EACLxH,UAAW+M,EAAKgW,WAAahW,EAAKgW,WAAWC,MAAQ,IAErD5Y,EAAA1K,EAAAC,cAAA,OACI0N,MAAO,CAAExF,OAAQ,OAAQtI,MAAO,QAChCiB,QAAS,kBAAOhB,OAAO4nC,SAAWr6B,EAAKkX,MAEtClX,EAAKJ,OAKlB,OACIvC,EAAA1K,EAAAC,cAACioC,GAAD,CACI76B,KAAMA,EACNvF,IAAKuF,EAAKyE,GAAK,IAAMvJ,EACrBi/B,gBAAiB5nC,EAAM4nC,oBAKvC,OACI98B,EAAA1K,EAAAC,cAACkoC,GAAD,CACIvK,UAAW,mBAEX6B,kBAAmB,kBAAM7/B,EAAMgX,SAASiJ,MACxCykB,oBAAqB1kC,EAAM0I,QAAQ+a,WAAWihB,oBAC9CvF,mBAAoBn/B,EAAM0I,QAAQ+a,WAAW0b,mBAC7CwF,yBACI3kC,EAAM0I,QAAQ+a,WAAWkhB,yBAE7B9F,sBACI7+B,EAAM0I,QAAQ+a,WAAWob,sBAE7BK,qBAAsBl/B,EAAM0I,QAAQ+a,WAAWyb,qBAC/C0F,2BACI5kC,EAAM0I,QAAQ+a,WAAWmhB,2BAE7B3vB,KAAMjV,EAAM0I,QAAQ+a,WAAWxO,KAC/BowB,YAAY,EACZrK,qBAAsBh7B,EAAM0I,QAAQ+a,WAAWqY,QAC/CgJ,WAAYA,IAEXuD,KEzEAG,GAAmB,SAC5BC,EACAC,EACA1oC,GAEA,KAAOyoC,EAAIpG,WAAW76B,OAAS,GAC3BihC,EAAIE,gBAAgBF,EAAIpG,WAAW,GAAGh1B,MAC1C,GAAIrN,EAAM0I,QAAQqF,MAAO,CACrB,IAAMA,EAAQ/N,EAAM0I,QAAQqF,MAAMqf,QAAQ,kBAAmB,SAAA8H,GACzD,IAAM0T,EAAwBC,YAAyB3T,GACvD,OAAO0T,GACD5oC,EAAM8oC,kBAAkBF,IACxB,KAEVH,EAAIxnB,aAAa,QAASlT,GAG9B,IAAK,IAAIg5B,KAAa2B,EAAmB,CACrC,IAAM1gC,EAAO++B,EAAUz5B,cACvB,OAAQtF,GACJ,IAAK,QAEL,IAAK,GACD,MACJ,QACIygC,EAAIxnB,aAAajZ,EAAM0gC,EAAkB1gC,OCtB5C8hB,GAAW,SAACvgB,EAA0BvJ,GAC/CuJ,EAAEw/B,kBACF,IAAInG,EAAM5iC,EAAM0I,QAAQyS,KAAO,MAE/BynB,EAAMA,EAAIp7B,OAAS,EAAIo7B,EAAM,MAGN,SAAnB5iC,EAAMoY,SACNpY,EAAM8pB,SACS9pB,EAAMgpC,aAAehpC,EAAM0I,QAAQwJ,GAC9C,QACA,GAEsB,WAAnBlS,EAAMoY,UACTpY,EAAMujB,eACNvjB,EAAM4sB,eAAe5sB,EAAMujB,aAAc,UACzCvjB,EAAM8pB,SAAS9pB,EAAM0I,QAAQwJ,GAAI,UAAU,KAK1C6X,GAAa,SAACxgB,EAA0BvJ,GAC7CA,EAAMoY,WACN7O,EAAEw/B,kBACF/oC,EAAM+pB,eAIDH,GAAY,SAACrgB,EAA0BvJ,GAChD,GAAuB,SAAnBA,EAAMoY,SACN7O,EAAEw/B,kBACF/oC,EAAM4pB,UACF5pB,EAAMgpC,aAAehpC,EAAM0I,QAAQwJ,GACnClS,EAAMuY,gBACNvY,EAAMwY,oBAEP,GAAuB,WAAnBxY,EAAMoY,WACb7O,EAAEw/B,kBACE/oC,EAAMujB,cAAc,CACpBvjB,EAAM4sB,eAAe5sB,EAAMujB,aAAc,UACzC,IAAM/K,EAAgB0K,YAClBljB,EAAMujB,aACNvjB,EAAMiY,kBAENO,GACAxY,EAAM4pB,UACF5pB,EAAM0I,QAAQwJ,GACdlS,EAAMujB,aACN/K,GAIhBxY,EAAMiZ,kBC3DGgwB,GAAY,CACrB,OACA,OACA,KACA,MACA,QACA,KACA,MACA,QACA,SACA,OACA,OACA,QACA,SACA,QACA,OAGSC,GAAW,CACpB,OACA,QACA,OACA,OACA,QACA,SACA,WACA,QCiREC,GAAiBtpC,YAnBC,SAACC,EAAOE,GAC5B,MAAO,CAAEoY,SAAUtY,EAAMsY,WAGF,SAAAzO,GACvB,MAAO,CACHy/B,uBAAwB,SAACt3B,EAAMwY,GAAP,OACpB3gB,EAASC,IAA+BkI,EAAMwY,KAClDR,SAAU,SAAC5X,EAAI+C,EAAMoD,GAAX,OACN1O,EAASC,IAAiBsI,EAAI+C,EAAMoD,KACxC0R,WAAY,kBAAMpgB,EAASC,QAC3BggB,UAAW,SAAC1X,EAAIqG,EAAiBC,GAAtB,OACP7O,EAASC,IAAkBsI,EAAIqG,EAAiBC,KACpDS,eAAgB,SAAA9Q,GAAK,OAAIwB,EAASC,IAAuBzB,KACzDykB,eAAgB,SAAC1a,EAAIpK,GAAL,OACZ6B,EAASC,IAAuBsI,EAAIpK,OAIzBjI,CAzPC,SAACG,GACrB,IAAMqpC,EAAa19B,iBAAO,MAE1BQ,oBAAU,WACN,IAAMs8B,EAAMY,EAAWl8B,QACvB,GAAIs7B,EAGA,GHvB0B,SAACA,EAAkBzoC,GACrD,IAAMspC,EAAOb,EAAI9lC,wBACX4mC,EAAWvyB,SAASwyB,eACtB,gBAEEC,EAAUF,EAASA,EAAOG,cAAcC,YAAc,EACtDC,EAAUL,EAASA,EAAOG,cAAcG,YAAc,EAE5D7pC,EAAMopC,uBAAN,GAAAzoC,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CAEWhM,EAAM8pC,kBAFjB,CAGQ,CACI53B,GAAIlS,EAAM0I,QAAQwJ,GAClB63B,OAAQ,QAGhB,CACIlnC,KAAMymC,EAAKzmC,KAAO+mC,EAClBnnC,IAAK6mC,EAAK7mC,IAAMgnC,EAChBxpC,MAAOqpC,EAAKxmC,MAAQwmC,EAAKzmC,KACzB0F,OAAQ+gC,EAAK1mC,OAAS0mC,EAAK7mC,MGE3B2mC,CAAuBX,EAAKzoC,GAChB,SAAR4iC,EAAgB,CAChB3mB,QAAQ+tB,IAAItB,GACZzsB,QAAQ+tB,IAAIhqC,EAAMgX,UAClB,IAAMizB,EAAYjqC,EAAMgX,SAAS3W,cAAc,QAC/C4b,QAAQ+tB,IAAIC,GACZzB,GAAiByB,EAAWvB,EAAmB1oC,GAC/Cic,QAAQ+tB,IAAIC,GACZjqC,EAAMgX,SAASiJ,KAAKiqB,aAAaD,EAAWxB,QAE5CD,GAAiBC,EAAKC,EAAmB1oC,KAKrD,IAAM0oC,EClEK,SAAC1oC,GACZ,IAAMmH,EAAS,GACf,IAAK,IAAI4/B,KAAa/mC,EAAM0I,QAAQ+a,WAAY,CAC5C,IAAMmlB,EAAwBC,YAC1B7oC,EAAM0I,QAAQ+a,WAAWsjB,IAK7B,GAHA5/B,EAAO4/B,GAAa6B,EACd5oC,EAAM8oC,kBAAkBF,GACxB5oC,EAAM0I,QAAQ+a,WAAWsjB,GACb,QAAdA,EAAqB,CACrB,IAAIpiB,EAAMxd,EAAO4/B,GACXj1B,EAAO6S,EAAI+Q,MAAM,KACvB,GAAI5jB,EAAKtK,OAAS,GACE,aAAZsK,EAAK,GAAmB,CACxBA,EAAKq4B,QACL,IAAIlqC,OAAK,EAAEsI,OAAM,EACjB,GAAIuJ,EAAKtK,OAAS,EAAG,CACjB,IAAM4iC,EAAQt4B,EAAKA,EAAKtK,OAAS,GAC3B6iC,EAASD,EAAM1iC,QAAQ,KACvB4iC,EAASF,EAAM1iC,QAAQ,KACzB2iC,GAAU,GAAKC,GAAU,EACrBD,EAASC,GACTrqC,EAAQmqC,EAAMjgB,OAAOkgB,EAAS,EAAGC,EAAS,GAC1C/hC,EAAS6hC,EAAMjgB,OAAOmgB,EAAS,KAE/B/hC,EAAS6hC,EAAMjgB,OAAOmgB,EAAS,EAAGD,EAAS,GAC3CpqC,EAAQmqC,EAAMjgB,OAAOkgB,EAAS,KAG9BA,GAAU,IAAGpqC,EAAQmqC,EAAMjgB,OAAOkgB,EAAS,IAC3CC,GAAU,IAAG/hC,EAAS6hC,EAAMjgB,OAAOmgB,EAAS,KAItCrqC,EAAdsqC,MAAMtqC,GAAgB,KACbuqC,SAASvqC,GACHsI,EAAfgiC,MAAMhiC,GAAkB,KACdiiC,SAASjiC,IAEnBtI,GAASsI,IACTuJ,EAAKlK,MAGT,IAAMikB,EAAe1Y,KAAKI,UAAU,CAChCuY,OhClDF,WgCmDE5jB,IAAK4J,EAAK9G,KAAK,KACf+gB,MAAO,CACHC,OAAQ,CACJ/rB,MAAOA,GAAS,GAChBsI,OAAQA,GAAU,KAClB0jB,IAAK,QACLhe,WAAY,CAAEie,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,MAAO,IAE3CC,SAAU,SAIlB3H,EAAG,GAAAhkB,OhC9DM,yCgC8DN,KAAAA,OAAuB4rB,KAAKV,IAC/B1kB,EAAO4/B,GAAapiB,IAKpC,OAAOxd,EDGmBsjC,CAAiBzqC,GAErC0qC,EAAW,GAAA/pC,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CAAOhM,EAAM0I,QAAQoJ,MAArB,CAA2B9R,EAAM0I,QAAQwJ,KAEtD0wB,EAAM5iC,EAAM0I,QAAQyS,KAAO,MAI/B,GAFAynB,EAAMA,EAAIp7B,OAAS,EAAIo7B,EAAM,MAEzB5iC,EAAM0I,QAAQmS,WACd,OAAO,KACJ,GAAI7a,EAAM0I,QAAQ4S,WAAY,CACjC,IAAMqvB,EAAsB3qC,EAAM4qC,kBAAkB5nB,KAChD,SAAA6nB,GAAO,OACHA,EAAQhwB,aAAe7a,EAAM0I,QAAQwJ,IACrC24B,EAAQvnB,YAActjB,EAAMujB,eAGpC,GAAIonB,EAAqB,CACrB,IAAM7d,EAAe9sB,EAAM4qC,kBAAkBj6B,OAAO,SAAAk6B,GAAO,OACvDA,EAAQ/4B,KAAKgR,SAAS6nB,EAAoBz4B,MAG9C,OAAO4a,EACFnc,OAAO,SAAAk6B,GACJ,OAAIA,EAAQ/4B,KAAKtK,OAAS,GAElBqjC,EAAQ/4B,KAAK+4B,EAAQ/4B,KAAKtK,OAAS,KACnCmjC,EAAoBz4B,KAM/BzJ,IAAI,SAAAgF,GAAI,OACL3C,EAAA1K,EAAAC,cAAC8oC,GAAD,CACIjhC,IAAKuF,EAAKyE,GACV8G,UAAW8T,EACXpkB,QAAS+E,EACTyK,iBAAkBlY,EAAMkY,iBACxBD,iBAAkBjY,EAAMiY,iBACxBjB,SAAUhX,EAAMgX,SAChB8yB,iBAAkB9pC,EAAM8pC,iBACxBvmB,aAAconB,EAAoBpnB,aAClCylB,YAAahpC,EAAMgpC,YACnBxwB,cAAexY,EAAMwY,cACrBD,gBAAiBvY,EAAMuY,gBACvBuwB,kBAAmB9oC,EAAM8oC,kBACzB8B,kBAAmB5qC,EAAM4qC,kBACzBhD,gBAAiB5nC,EAAM4nC,oBAIvC,OAAO,KACJ,GAAI1sB,YAAe0nB,EAAIxnB,OAAO,IAAK,CACtC,IAAM2uB,EAAS/pC,EAAMkY,iBAAiB8K,KAAK,SAAAvV,GAAI,OAAIA,EAAKJ,OAASu1B,IACjE,GAAImH,IACKA,EAAO9c,OAAQ,CAChB,IAAM6d,EAAiBC,kBACnB/qC,EAAMiY,iBAAiB8xB,EAAO73B,IAAI4d,SAEhC9vB,EAAMiY,iBAAiB8xB,EAAO73B,IAAI6d,MAClC/vB,EAAMiY,iBAAiB8xB,EAAO73B,IAAI4d,QAGlC8a,EAAiB,GAAAjqC,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CAChBhM,EAAMgZ,UAAUrI,OAAO,SAAAk6B,GAAO,OAC7BA,EAAQ/4B,KAAKgR,SAAS9iB,EAAM0I,QAAQwJ,OAFrBlG,OAAA2jB,EAAA,EAAA3jB,CAIfhM,EAAM4qC,kBAAoB5qC,EAAM4qC,kBAAoB,KAG5D,IAAKE,EAAe9xB,UAAW,OAE/B,OAAO8xB,EAAe9xB,UACjBrI,OAAO,SAAAk6B,GAAO,OACXG,kBAAQH,EAAQ/4B,KAAM,CAClBg5B,EAAe9xB,UAAUrI,OACrB,SAAAlD,GAAI,OAAyB,IAArBA,EAAKqE,KAAKtK,SACpB,GAAG0K,OAGZzJ,IAAI,SAAAoiC,GACD,OACI7qC,EAAM8pC,iBAAiB9mB,KACnB,SAAAvV,GAAI,OAAIA,EAAKs8B,SAAWA,EAAO73B,KAG5B,KAGPpH,EAAA1K,EAAAC,cAAC8oC,GAAD,CACIjhC,IAAK2iC,EAAQ34B,GACb8G,UAAW8xB,EAAe9xB,UAC1BtQ,QAASmiC,EACT3yB,iBAAkBlY,EAAMkY,iBACxBD,iBAAkBjY,EAAMiY,iBACxBjB,SAAUhX,EAAMgX,SAChBuM,aAAcwmB,EAAO73B,GACrB82B,YACIhpC,EAAMgpC,aAAehpC,EAAM0I,QAAQwJ,GAEvC43B,iBAAgB,GAAAnpC,OAAAqL,OAAA2jB,EAAA,EAAA3jB,CACThM,EAAM8pC,kBADG,CAEZ,CACI53B,GAAIlS,EAAM0I,QAAQwJ,GAClB63B,OAAQA,EAAO73B,MAGvBsG,cAAexY,EAAMwY,cACrBD,gBAAiBvY,EAAMuY,gBACvBuwB,kBAAmBJ,EACnBkC,kBAAmBA,EACnBhD,gBAAiB5nC,EAAM4nC,oBAM/C,OAAO,KACJ,OAAK5nC,EAAMirC,QAAU/B,GAASpmB,SAAS8f,GAC9B,iBAARA,EAEI93B,EAAA1K,EAAAC,cAAA,OACIwM,IAAKw8B,EACLrf,aAAc,SAAAzgB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC/BiqB,YAAa,SAAA1gB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC9BkqB,aAAc,SAAA3gB,GAAC,OAAIwgB,GAAWxgB,EAAGvJ,IACjCoB,YAAa,SAAAmI,GAAC,OAAIqgB,GAAUrgB,EAAGvJ,KAE/B8K,EAAA1K,EAAAC,cAAC6qC,GAAD,CACIxiC,QAAS1I,EAAM0I,QACfsO,SAAUhX,EAAMgX,SAChB8xB,kBAAmB9oC,EAAM8oC,kBACzB8B,kBAAmB5qC,EAAM4qC,kBACzBhD,gBAAiB5nC,EAAM4nC,mBAIpB,SAARhF,EACH5iC,EAAM0I,QAAQ8a,YACPxjB,EAAM0I,QAAQ8a,YAAY4J,QAE7B,oBACA,SAAA8H,GACI,IAAM0T,EAAwBC,YAC1B3T,GAEJ,OAAO0T,GACD5oC,EAAM8oC,kBAAkBF,IAExB,KAIP5oC,EAAMirC,OAAS,GAAK,KAGxBhC,GAAUnmB,SAAS8f,GACtB93B,EAAA1K,EAAAC,cAACuiC,EAAD,CACI/1B,IAAKw8B,EACLrf,aAAc,SAAAzgB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC/BiqB,YAAa,SAAA1gB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC9BkqB,aAAc,SAAA3gB,GAAC,OAAIwgB,GAAWxgB,EAAGvJ,IACjCoB,YAAa,SAAAmI,GAAC,OAAIqgB,GAAUrgB,EAAGvJ,MAGnC8K,EAAA1K,EAAAC,cAACuiC,EAAD,CACI/1B,IAAKw8B,EACLrf,aAAc,SAAAzgB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC/BiqB,YAAa,SAAA1gB,GAAC,OAAIugB,GAASvgB,EAAGvJ,IAC9BkqB,aAAc,SAAA3gB,GAAC,OAAIwgB,GAAWxgB,EAAGvJ,IACjCoB,YAAa,SAAAmI,GAAC,OAAIqgB,GAAUrgB,EAAGvJ,KAEtB,SAAR4iC,EACK5iC,EAAMgZ,UACDrI,OAAO,SAAAlD,GAAI,OAAIu9B,kBAAQv9B,EAAKqE,KAAM44B,KAClCjiC,IAAI,SAAAgF,GAAI,OACL3C,EAAA1K,EAAAC,cAAC8oC,GAAD,CACIjhC,IAAKuF,EAAKyE,GACV8G,UAAWhZ,EAAMgZ,UAAUrI,OACvB,SAAAk6B,GAAO,OACHA,EAAQ/4B,KAAKgR,SAASrV,EAAKyE,MAEnCxJ,QAAS+E,EACTyK,iBAAkBlY,EAAMkY,iBACxBD,iBAAkBjY,EAAMiY,iBACxBjB,SAAUhX,EAAMgX,SAChB8yB,iBAAkB9pC,EAAM8pC,iBACxBvmB,aAAcvjB,EAAMujB,aACpBylB,YAAahpC,EAAMgpC,YACnBxwB,cAAexY,EAAMwY,cACrBD,gBAAiBvY,EAAMuY,gBACvBuwB,kBACI9oC,EAAM8oC,kBAEV8B,kBACI5qC,EAAM4qC,kBAEVhD,gBAAiB5nC,EAAM4nC,oBAGnC,WAlFf,IAiHIuB,MErNAtpC,eATS,SAAAC,GACpB,MAAO,CACHqY,iBAAkBrY,EAAMqY,iBACxBgzB,mBAAoBrrC,EAAMqrC,mBAC1BC,UAAWtrC,EAAMsrC,UACjBvkB,cAAe/mB,EAAM+mB,gBAIdhnB,CA9Ea,SAACG,GACzB,IAAMupC,EAAWvyB,SAASwyB,eACtB,gBAGJ,IAAKD,EAAQ,OAAO,KACpB,IAAME,EAAUF,EAAOG,cAAcC,YAC/BC,EAAUL,EAAOG,cAAcG,YAE/B1iC,EAAS,GACTkkC,EAAU,GACVC,EAAgB,SAAhBA,EAAgBC,GAClB,GAAKR,kBAAQQ,EAAOxjC,UAKhBZ,EAAOiB,KACH0C,EAAA1K,EAAAC,cAAA,OACI6H,IAAKf,EAAOK,OACZuG,MAAO,CACHE,WAAY,OACZka,QAAS,KACTlmB,SAAU,QACVY,KAAM0oC,EAAO1oC,KAAO+mC,EAAU,KAC9BnnC,IAAK8oC,EAAO9oC,IAAMgnC,EAAU,KAC5BxpC,MAAOsrC,EAAOtrC,MAAQ,KACtBsI,OAAQgjC,EAAOhjC,OAAS,KACxBijC,cAAe,OACfx9B,OAAQ,aACRE,OAAQ,OACR4O,OAAQ,MACRG,QAAS,MACTwuB,aAAc,MACdC,UAAW,OACXC,gBAAiB,gBAtB7B,IAAK,IAAMl+B,KAAQ89B,EAAOxjC,SACtBujC,EAAcC,EAAOxjC,SAAS0F,KAoD1C,OAZIzN,EAAMmY,mBACkB,SAApBnY,EAAMorC,UACFprC,EAAMmrC,mBAAmBnrC,EAAMmY,mBAC/BmzB,EAActrC,EAAMmrC,mBAAmBnrC,EAAMmY,mBAEtB,WAApBnY,EAAMorC,YAlBD,SAAdQ,EAAc7jC,GAChB,IAAK,IAAM0F,KAAQ1F,EACf,GAAIA,EAAS0F,GAAMs8B,SAAW/pC,EAAM6mB,cAChC,IAAK,IAAMglB,KAAa9jC,EAAS0F,GAAM1F,SAC/B8jC,IAAc7rC,EAAMmY,kBACpBkzB,EAAQjjC,KAAKL,EAAS0F,GAAM1F,SAAS8jC,SAI7CD,EAAY7jC,EAAS0F,GAAM1F,UAU/B6jC,CAAY5rC,EAAMmrC,oBAClBE,EAAQv6B,QAAQ,SAAApI,GACZ4iC,EAAc5iC,OAInBvB,kCC/BL2kC,8MACFhsC,MAAQ,CACJisC,UAAW,MAMfzqB,KAAO,KA6CP0qB,aAAe,SAAAziC,GACX,GAAgD,MAA5C0iC,eAAeC,QAAQ,iBASvB,OARAD,eAAeE,QAAQ,gBAAiB,KAExC55B,EAAKvS,MAAMosC,sBACP75B,EAAKvS,MAAMsL,SACXiH,EAAKvS,MAAMD,WACXwS,EAAKvS,MAAM4mB,YACXrU,EAAKvS,MAAM6mB,eAEXtU,EAAKvS,MAAMuoB,kBAAkB/gB,OAAS,EAC/B,+BACN,uFC/GF,SAACxH,GACZ,IAAMupC,EAAWvyB,SAASwyB,eACtB,gBAEJ,GAAID,EAAQ,CACR,IAAM8C,EAAW9C,EAAOzpB,iBAAmBypB,EAAOG,cAAc1yB,SAChE,GAAIq1B,EAASpsB,KAAM,CACf,IAAMqpB,EAAO+C,EAASpsB,KAAKtd,wBAC3B3C,EAAMopC,uBAAuB,CAAC,CAAEl3B,GAAI,cAAgB,CAChDrP,KAAMymC,EAAKzmC,KACXJ,IAAK6mC,EAAK7mC,IACVxC,MAAOqpC,EAAKxmC,MAAQwmC,EAAKzmC,KACzB0F,OAAQ+gC,EAAK1mC,OAAS0mC,EAAK7mC,QDwCnC6pC,CAASh9B,KAAKtP,iGAIcusC,+EACtBC,EAA6BD,EAASroB,eAAelB,KACvD,SAAAvV,GAAI,OAAIA,EAAKyE,KAAOq6B,EAAS3lB,cAE3BpO,EAAgB0K,YAClBqpB,EAAS3lB,YACT2lB,EAASt0B,kBAEPw0B,EAAUj0B,GACVA,EAAcQ,UACVR,EAAcQ,UACTrI,OAAO,SAAAk6B,GAAO,OACXG,kBAAQH,EAAQ/4B,KAAM,CAAC,aAAc,gBAExCrJ,IAAI,SAAAoiC,GAAO,OACR//B,EAAA1K,EAAAC,cAACqsC,GAAD,CACIxkC,IAAK2iC,EAAQ34B,GACb8G,UAAWR,EAAcQ,UACzBtQ,QAASmiC,EACT1yB,iBAAkBo0B,EAASp0B,iBAC3BD,iBAAkBq0B,EAASr0B,iBAC3BD,iBAAkBs0B,EAASt0B,iBAC3BjB,SAAUA,SACV8yB,iBAAkB,GAClBtxB,cAAeA,EACfD,gBAAiBg0B,EAAS3lB,YAC1BghB,gBAAiB4E,MAIjC,IACAG,EAAgBC,yBAClB9hC,EAAA1K,EAAAC,cAACwsC,EAAA,EAAD,CAAUnjC,MAAOA,UAAQ+iC,MAIrBE,IAAkBr9B,KAAKxP,MAAMisC,YAC7Bz8B,KAAKtP,MAAM8sC,gBAAe,GAC1Bx9B,KAAKpD,SAAS,CAAE6/B,UAAWY,yIAqB9B,IAAAl4B,EAAAnF,KACCk9B,EAA6Bl9B,KAAKtP,MAAMkkB,eAAelB,KACzD,SAAAvV,GAAI,OAAIA,EAAKyE,KAAOuC,EAAKzU,MAAM4mB,cAE7BpO,EAAgB0K,YAClB5T,KAAKtP,MAAM4mB,YACXtX,KAAKtP,MAAMiY,kBAGX80B,EAAQ,KACZ,GAAIv0B,EAAe,KACPxY,EAAUsP,KAAVtP,MACFgtC,EAAOhtC,EAAMgtC,KAAO,IACpB1iB,EAAO,IAAM0iB,EAAO,IACpBh0B,EAAYR,EAAcQ,UAE1Bi0B,EAAcj0B,EAAUrI,OAC1B,SAAAlD,GAAI,OAAyB,IAArBA,EAAKqE,KAAKtK,SACpB,GACIwZ,EAAYyE,oBAAUwnB,EAAYxpB,YAClCypB,EAAYD,EAAYl/B,MAC1Bm/B,IAAWlsB,EAAUjT,MAAQm/B,GAEjC,IAAMC,EAAcn0B,EAAUrI,OAC1B,SAAAlD,GAAI,OAAyB,IAArBA,EAAKqE,KAAKtK,SACpB,GACI4Z,EAAYqE,oBAAU0nB,EAAY1pB,YAClC2pB,EAAYD,EAAYp/B,MAC1Bq/B,IAAWhsB,EAAUrT,MAAQq/B,GAEjCL,EAAQz9B,KAAKtP,MAAMqtC,aACfviC,EAAA1K,EAAAC,cAACitC,GAAD,MAEAxiC,EAAA1K,EAAAC,cAAAyK,EAAA1K,EAAAE,SAAA,KACIwK,EAAA1K,EAAAC,cAACktC,EAAAntC,EAAD,CACI8R,GAAG,eACHhK,IAAK,EACL6F,MAAO,CACH9N,MAAOqqB,EACP/hB,OAAQ+hB,EACRkjB,OAAQR,EACRS,aAAY,SAAA9sC,OAAWqsC,EAAX,KACZU,mBAAoB,MACpBC,WAAU,SAAAhtC,OAAWqsC,EAAX,KACVY,iBAAkB,MAClBC,gBAAe,SAAAltC,OAAWqsC,EAAX,KACfc,sBAAuB,MACvB5/B,OAAQ,OACR4O,OAAQ,IACRG,QAAS,KAEb+D,UAAWA,EACXI,UAAWA,EACXP,eAAc,8BAAAlgB,OE1KV,uldF0KU,KAAAA,OACV2O,KAAKxP,MAAMisC,UADD,gCAIdjhC,EAAA1K,EAAAC,cAACoe,EAAA,qBAAD,KACK,SAAA1D,GAA0B,IAAvB/D,EAAuB+D,EAAvB/D,SAAuB+D,EAAb7a,OACV,OAAO8Y,EACDA,EACKrI,OAAO,SAAAk6B,GAAO,OACXG,kBAAQH,EAAQ/4B,KAAM,CAClB,aACA,gBAGPrJ,IAAI,SAAAoiC,GAAO,OACR//B,EAAA1K,EAAAC,cAACqsC,GAAD,CACIxkC,IAAK2iC,EAAQ34B,GACb8G,UAAWA,EACXtQ,QAASmiC,EACT1yB,iBACInY,EAAMmY,iBAEVD,iBACIlY,EAAMkY,iBAEVD,iBACIjY,EAAMiY,iBAEVjB,SAAUA,EACV8yB,iBAAkB,GAClBtxB,cAAeA,EACfD,gBACI9D,EAAKzU,MAAM4mB,YAEfghB,gBACI4E,MAIhB,OAGd1hC,EAAA1K,EAAAC,cAAC0tC,GAAD,QAKhB,OACIjjC,EAAA1K,EAAAC,cAAC2tC,GAAA,aAAD,CAAcC,eAAgB,SAAA1kC,GAAC,OAAIkL,EAAKu3B,aAAaziC,KACjDuB,EAAA1K,EAAAC,cAAC6tC,GAAA,EAAD,CACIC,aAAW,EACXC,cAAY,EACZC,SAAU,kBACN55B,EAAKzU,MAAMmkB,cAAc1P,EAAKzU,MAAMsL,aAG5CR,EAAA1K,EAAAC,cAACiuC,GAAD,KACKvB,EACAz9B,KAAKtP,MAAMuuC,eACRzjC,EAAA1K,EAAAC,cAAA,OAAKK,UAAWG,YAChB,cAtLEwV,aA6LpBm4B,GAAkB,SAAA1uC,GACpB,MAAO,CACHktC,KAAMltC,EAAM2uC,SACZ7nB,YAAa9mB,EAAM8mB,YACnBC,cAAe/mB,EAAM+mB,cACrB5O,iBAAkBnY,EAAMmY,iBACxBC,iBAAkBpY,EAAMoY,iBACxBgM,eAAgBpkB,EAAMokB,eACtBmpB,aAAcvtC,EAAMutC,aACpBkB,eAAgBzuC,EAAMyuC,eACtBhmB,kBAAmBzoB,EAAMyoB,kBACzBjd,SAAUxL,EAAMwL,SAChB8M,SAAUtY,EAAMsY,SAChBrY,WAAYD,EAAMC,aAIpB2uC,GAAqB,SAAA/kC,GACvB,MAAO,CACHmjC,eAAgB,SAAA6B,GAAU,OACtBhlC,EAASC,IAAuB+kC,KACpCvC,sBAAuB,SACnB9gC,EACAvL,EACA6mB,EACAC,GAJmB,OAMnBld,EACIC,IACI0B,EACAvL,EACA6mB,EACAC,KAGZ1C,cAAe,SAAC7Y,EAAU8Y,GAAX,OACXza,EAASC,IAAsB0B,EAAU8Y,KAC7CglB,uBAAwB,SAACl3B,EAAIoY,GAAL,OACpB3gB,EAASC,IAA+BsI,EAAIoY,OAIlDgjB,GAAcztC,YAChB2uC,GACAE,GAFgB7uC,CAGlB,SAAAG,GACE,IAAM4uC,EAAOjjC,iBAAO,MAMpB,OALAQ,oBAAU,WACFyiC,EAAKzhC,SACLnN,EAAM8sC,gBAAe,KAGtBhiC,EAAA1K,EAAAC,cAAA,QAAMwM,IAAK+hC,EAAM7gC,MAAO,CAAE8gC,QAAS,YAE/BhvC,sBACX2uC,GACAE,GAFW7uC,CAGbisC","file":"static/js/4.91328078.chunk.js","sourcesContent":["import React from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport { connect } from 'react-redux'\n\nimport classes from './SmallButton.module.css'\nimport Svg from '../../../Svg/Svg'\n\ntype Props = {\n    title?: string,\n    buttonClicked?: Function,\n    mouseDown?: Function,\n    icon?: string,\n    inline?: boolean,\n    tooltip?: string,\n    tooltipsOn: boolean,\n    disabled?: boolean,\n}\n\nexport const SmallButton = (props: Props) => {\n    const width = window.innerWidth\n    return (\n        <>\n            <button\n                data-tip={props.tooltip}\n                data-testid=\"MyButton\"\n                className={`${\n                    props.disabled ? classes.ButtonDisabled : classes.Button\n                } ${props.inline ? classes.Inline : ''}`}\n                onClick={props.buttonClicked}\n                onMouseDown={props.mouseDown}\n                disabled={props.disabled}\n            >\n                <table className={classes.Table}>\n                    <tbody>\n                        <tr>\n                            <td className={classes.Cell}>\n                                {props.icon ? (\n                                    <Svg\n                                        icon={props.icon}\n                                        className={classes.Svg}\n                                    />\n                                ) : null}\n                            </td>\n                            <td className={classes.Cell}>{props.title}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </button>\n            {props.tooltipsOn ? (\n                <ReactTooltip\n                    effect=\"solid\"\n                    multiline={true}\n                    place=\"top\"\n                    className={classes.Tooltip}\n                    delayShow={250}\n                    overridePosition={(\n                        position,\n                        currentEvent,\n                        currentTarget,\n                        node,\n                        place,\n                        desiredPlace,\n                        effect,\n                        offset\n                    ) => {\n                        let buttonRect, tooltipRect\n                        if (currentEvent.target) {\n                            buttonRect = currentTarget.getBoundingClientRect()\n                            tooltipRect = node.getBoundingClientRect()\n                        } else {\n                            buttonRect = currentEvent.getBoundingClientRect()\n                            tooltipRect = currentTarget.getBoundingClientRect()\n                        }\n\n                        let top, left\n                        if (\n                            buttonRect.top -\n                                (tooltipRect.bottom - tooltipRect.top) >=\n                            0\n                        ) {\n                            top =\n                                buttonRect.top -\n                                (tooltipRect.bottom - tooltipRect.top)\n                        } else {\n                            top = buttonRect.bottom\n                        }\n\n                        if (\n                            buttonRect.left +\n                                (tooltipRect.right - tooltipRect.left) <=\n                            width\n                        ) {\n                            left = buttonRect.left\n                        } else {\n                            left =\n                                width - (tooltipRect.right - tooltipRect.left)\n                        }\n                        return { left, top }\n                    }}\n                />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        tooltipsOn: state.tooltipsOn,\n    }\n}\n\nexport default connect(mapStateToProps)(SmallButton)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"ResourcesTree_rst__virtualScrollOverride__14H_n\",\"ReactVirtualized__Grid__innerScrollContainer\":\"ResourcesTree_ReactVirtualized__Grid__innerScrollContainer__3oB7v\",\"rst__rtl\":\"ResourcesTree_rst__rtl__2v8si\",\"ReactVirtualized__Grid\":\"ResourcesTree_ReactVirtualized__Grid__2itHy\",\"rst__node\":\"ResourcesTree_rst__node__1UngL\",\"rst__nodeContent\":\"ResourcesTree_rst__nodeContent__T6EAQ\",\"rst__lineBlock\":\"ResourcesTree_rst__lineBlock__WqdmT\",\"rst__absoluteLineBlock\":\"ResourcesTree_rst__absoluteLineBlock__kLCAo\",\"rst__lineHalfHorizontalRight\":\"ResourcesTree_rst__lineHalfHorizontalRight__3y3sx\",\"rst__lineFullVertical\":\"ResourcesTree_rst__lineFullVertical__3Ymv5\",\"rst__lineHalfVerticalTop\":\"ResourcesTree_rst__lineHalfVerticalTop__3t0z_\",\"rst__lineHalfVerticalBottom\":\"ResourcesTree_rst__lineHalfVerticalBottom__2EWSD\",\"rst__highlightLineVertical\":\"ResourcesTree_rst__highlightLineVertical__2bs3i\",\"arrow-pulse\":\"ResourcesTree_arrow-pulse__33hBy\",\"rst__highlightTopLeftCorner\":\"ResourcesTree_rst__highlightTopLeftCorner__lPAZc\",\"rst__highlightBottomLeftCorner\":\"ResourcesTree_rst__highlightBottomLeftCorner__25QNo\",\"rst__rowWrapper\":\"ResourcesTree_rst__rowWrapper__3XsZ3\",\"rst__row\":\"ResourcesTree_rst__row__bcARd\",\"rst__rowLandingPad\":\"ResourcesTree_rst__rowLandingPad__1f07p\",\"rst__rowCancelPad\":\"ResourcesTree_rst__rowCancelPad__FcoMC\",\"rst__rowSearchMatch\":\"ResourcesTree_rst__rowSearchMatch__1dEhr\",\"rst__rowSearchFocus\":\"ResourcesTree_rst__rowSearchFocus__hn8oU\",\"rst__rowContents\":\"ResourcesTree_rst__rowContents__TJoCP\",\"rst__rowLabel\":\"ResourcesTree_rst__rowLabel__3YFrc\",\"rst__rowToolbar\":\"ResourcesTree_rst__rowToolbar__19RS7\",\"rst__moveHandle\":\"ResourcesTree_rst__moveHandle__3rWVj\",\"rst__toolbarButton\":\"ResourcesTree_rst__toolbarButton__evOf_\",\"rst__rowContentsDragDisabled\":\"ResourcesTree_rst__rowContentsDragDisabled__1EWBY\",\"rst__loadingHandle\":\"ResourcesTree_rst__loadingHandle__2Zu5M\",\"rst__loadingCircle\":\"ResourcesTree_rst__loadingCircle__1_Ncp\",\"rst__loadingCirclePoint\":\"ResourcesTree_rst__loadingCirclePoint__3Iqw0\",\"pointFade\":\"ResourcesTree_pointFade__DIUx5\",\"rst__rowTitle\":\"ResourcesTree_rst__rowTitle__XvyLR\",\"rst__rowTitleWithSubtitle\":\"ResourcesTree_rst__rowTitleWithSubtitle__FsOAp\",\"rst__rowSubtitle\":\"ResourcesTree_rst__rowSubtitle__33HgD\",\"rst__collapseButton\":\"ResourcesTree_rst__collapseButton__3ZMhA\",\"rst__expandButton\":\"ResourcesTree_rst__expandButton__2IdqU\",\"rst__lineChildren\":\"ResourcesTree_rst__lineChildren__3e7wI\",\"rst__placeholder\":\"ResourcesTree_rst__placeholder__3z4Y9\",\"rst__placeholderLandingPad\":\"ResourcesTree_rst__placeholderLandingPad__33C1B\",\"rst__placeholderCancelPad\":\"ResourcesTree_rst__placeholderCancelPad__1dnkd\",\"ReactVirtualized__Table__headerRow\":\"ResourcesTree_ReactVirtualized__Table__headerRow__2ItiE\",\"ReactVirtualized__Table__row\":\"ResourcesTree_ReactVirtualized__Table__row__3Dbho\",\"ReactVirtualized__Table__headerTruncatedText\":\"ResourcesTree_ReactVirtualized__Table__headerTruncatedText__Cw5HL\",\"ReactVirtualized__Table__headerColumn\":\"ResourcesTree_ReactVirtualized__Table__headerColumn__14jIY\",\"ReactVirtualized__Table__rowColumn\":\"ResourcesTree_ReactVirtualized__Table__rowColumn__3wE69\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderColumn__3a1cB\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1pMeg\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIcon__3O5xb\",\"Hovered\":\"ResourcesTree_Hovered__2-yOq\",\"Chosen\":\"ResourcesTree_Chosen__3cVK7\",\"IconsContainer\":\"ResourcesTree_IconsContainer__y_KXp\",\"IconsContainerPage\":\"ResourcesTree_IconsContainerPage__1OwQJ\",\"IconsContainerNotPage\":\"ResourcesTree_IconsContainerNotPage__1isHi\",\"TreeContainer\":\"ResourcesTree_TreeContainer__1uytI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"AdvancedBar_Content__2eu8X\",\"Container\":\"AdvancedBar_Container__ouxly\",\"LastContainer\":\"AdvancedBar_LastContainer__2gmGl\",\"reactTabs\":\"AdvancedBar_reactTabs__PeMUE\",\"reactTabsTabPanelSelected\":\"AdvancedBar_reactTabsTabPanelSelected__3Z5LQ\",\"reactTabsTab\":\"AdvancedBar_reactTabsTab__1i-7U\",\"TabSelected\":\"AdvancedBar_TabSelected__2gsJ3\",\"mainContainer\":\"AdvancedBar_mainContainer__3Igr9\",\"heightControll\":\"AdvancedBar_heightControll__kZHcw\",\"widthControll\":\"AdvancedBar_widthControll__1TDc2\",\"TabList\":\"AdvancedBar_TabList__DeMU7\"};","import React from 'react'\n\ntype Props = {\n    className?: string,\n    icon: ?string,\n    datatestid?: string,\n}\n\ntype Element = {\n    type: string,\n    children: Array<Element>,\n    fill: string,\n    d: string,\n}\n\nexport const Svg = (props: Props) => {\n    const svgStringToObj = (svg: string): Object => {\n        const obj = []\n\n        const stack = []\n\n        while (svg.length > 0) {\n            svg = svg.trim()\n            if (svg.indexOf('</') === 0) {\n                svg = svg.substring(2)\n                if (svg.indexOf('<') > 0) {\n                    svg = svg.substring(svg.indexOf('<'))\n                    stack.pop()\n                } else {\n                    svg = ''\n                }\n            } else {\n                svg = svg.substring(svg.indexOf('<'))\n                const curObj = {\n                    type: svg.substring(1, svg.indexOf(' ')),\n                    children: [],\n                }\n                svg = svg.substring(svg.indexOf(' '))\n                let attr = svg.substring(0, svg.indexOf('>'))\n                let selfclosing = attr.indexOf('/>') >= 0\n\n                svg = svg.substring(svg.indexOf('>') + 1).trim()\n                while (attr.length > 0) {\n                    let key = attr.substring(0, attr.indexOf('=')).trim()\n                    attr = attr.substring(attr.indexOf('\"') + 1)\n                    let value = attr.substring(0, attr.indexOf('\"')).trim()\n                    attr = attr.substring(attr.indexOf('\"') + 1).trim()\n                    curObj[key] = value\n                }\n                if (stack.length === 0) {\n                    obj.push(curObj)\n                } else {\n                    stack[stack.length - 1].children.push(curObj)\n                }\n                if (!selfclosing) {\n                    stack.push(curObj)\n                }\n            }\n        }\n        return obj[0]\n    }\n\n    const svgChildrenToElements = (element: Element, elementIndex: number) => {\n        switch (element.type) {\n            case 'path':\n                return (\n                    <path key={elementIndex} d={element.d} fill={element.fill}>\n                        {element.children.map((el: Element, index) =>\n                            svgChildrenToElements(el, index)\n                        )}\n                    </path>\n                )\n            case 'g':\n                return (\n                    <g key={elementIndex} fill={element.fill}>\n                        {element.children.map((el: Element, index) =>\n                            svgChildrenToElements(el, index)\n                        )}\n                    </g>\n                )\n            default:\n                return\n        }\n    }\n\n    let result = null\n    if (props.icon) {\n        const objectSvg = svgStringToObj(props.icon)\n\n        result = (\n            <svg\n                data-testid={props.datatestid || 'svg'}\n                height={objectSvg.height}\n                width={objectSvg.width}\n                viewBox={objectSvg.viewBox}\n                className={props.className}\n            >\n                {objectSvg.children.map((element, index) =>\n                    svgChildrenToElements(element, index)\n                )}\n            </svg>\n        )\n    }\n    return result\n}\n\nexport default Svg\n","import { DragDropContext } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\nexport default DragDropContext(HTML5Backend)\n","import { store } from '../index'\nimport * as actions from '../store/actions'\n\nexport const dragStart = (\n    e: SyntheticMouseEvent<>,\n    callbackMove: Object,\n    callbackStop: Object\n) => {\n    // $FlowFixMe\n    // const window = document.getElementById('builderFrame').contentWindow;\n    store.dispatch(actions.setSizeIsChanging(true))\n    const startMouseX = e.pageX\n    const startMouseY = e.pageY\n    let prevMouseX = e.pageX\n    let prevMouseY = e.pageY\n\n    const dragMouseMove = e => {\n        const totalDifX = e.pageX - startMouseX\n        const totalDifY = e.pageY - startMouseY\n        const relDifX = e.pageX - prevMouseX\n        const relDifY = e.pageY - prevMouseY\n        prevMouseX = e.pageX\n        prevMouseY = e.pageY\n        callbackMove(totalDifX, totalDifY, relDifX, relDifY)\n    }\n\n    const dragMouseUp = () => {\n        store.dispatch(actions.setSizeIsChanging(false))\n        window.removeEventListener('mousemove', dragMouseMove)\n        window.removeEventListener('mouseup', dragMouseUp)\n        callbackStop()\n    }\n\n    window.addEventListener('mousemove', dragMouseMove)\n    window.addEventListener('mouseup', dragMouseUp)\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './SizeDragController.module.css'\nimport { dragStart } from '../../../utils/dragFunction'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    addClass: string,\n    changed: (value: number) => {},\n    vertical?: boolean,\n    startValue: number,\n    barSizes?: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nexport const SizeDragController = (props: Props) => {\n    const handleDragMouseDown = e => {\n        if (props.vertical) {\n            dragStart(\n                e,\n                (difX, difY) => {\n                    let value = props.startValue - difY\n                    props.changed(value)\n                },\n                () => {}\n            )\n        } else {\n            dragStart(\n                e,\n                (difX, difY) => {\n                    let value = props.startValue + difX\n                    props.changed(value)\n                },\n                () => {}\n            )\n        }\n    }\n\n    return (\n        <div\n            className={[classes.SectionHeight, props.addClass].join(' ')}\n            onMouseDown={handleDragMouseDown}\n            data-testid=\"sizeDragController\"\n        >\n            {!props.vertical ? <div className={classes.InnerDiv} /> : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n    }\n}\n\nexport default connect(mapStateToProps)(SizeDragController)\n","import React, { useState, forwardRef, useEffect, useRef } from 'react'\nimport Autocomplete from 'react-autocomplete'\n\nimport classes from './InspectorValue.module.css'\n\ntype Props = {\n    value?: string,\n    changed: Function,\n    datatestid?: string,\n    blur?: Function,\n    focus?: Function,\n    allowEmpty?: boolean,\n    withState?: boolean,\n}\n\n// $FlowFixMe\nexport const InspectorValue = forwardRef((props: Props, parentRef) => {\n    const input = useRef(null)\n    const [state, setState] = useState({\n        active: false,\n        value: props.value,\n        startValue: props.value,\n    })\n    useEffect(() => {\n        setState({ ...state, value: props.value, startValue: props.value })\n    }, [props.value])\n\n    const matchStateToTerm = (items, value) => {\n        return (\n            items.name.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n            items.abbr.toLowerCase().indexOf(value.toLowerCase()) !== -1\n        )\n    }\n\n    const parentPropsBlur = props.blur\n    const parentPropsFocus = props.focus\n\n    return (\n        <div className={classes.InspectorDiv}>\n            {props.readonly ? (\n                <span>{props.value}</span>\n            ) : (\n                <Autocomplete\n                    ref={input}\n                    items={props.items || []}\n                    value={props.withState ? state.value : props.value}\n                    onChange={(e, value) => {\n                        setState({ ...state, value: value })\n                        if (props.changed) props.changed(value)\n                    }}\n                    onSelect={value => {\n                        setState({ ...state, value: value, active: false })\n                        setTimeout(() => {\n                            if (input.current) input.current.blur()\n                        }, 50)\n                    }}\n                    shouldItemRender={matchStateToTerm}\n                    getItemValue={item => item.name}\n                    renderItem={(item, isHighlighted) => (\n                        <div\n                            className={\n                                isHighlighted ? classes.ItemHighlighted : null\n                            }\n                            key={item.abbr}\n                        >\n                            {item.name}\n                        </div>\n                    )}\n                    renderMenu={(items, value, styles) => {\n                        return (\n                            <div\n                                style={{\n                                    zIndex: 1000,\n                                    position: 'absolute',\n                                    background: 'white',\n                                    border: '1px solid #ccc',\n                                    color: '#333',\n                                    maxHeight: '100px',\n                                    overflow: 'auto',\n                                }}\n                                children={items}\n                            />\n                        )\n                    }}\n                    renderInput={(props, inputEl) => {\n                        return (\n                            <>\n                                <span\n                                    ref={parentRef}\n                                    className={classes.Span}\n                                    onClick={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                    onFocus={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                >\n                                    {props.withState\n                                        ? state.value\n                                        : props.value}\n                                </span>\n                                <input\n                                    {...props}\n                                    onBlur={e => {\n                                        props.onBlur(e)\n\n                                        if (parentPropsBlur) {\n                                            parentPropsBlur(e.target.value)\n                                        }\n                                        setState({ ...state, active: false })\n                                    }}\n                                    onFocus={e => {\n                                        props.onBlur(e)\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    onMouseDown={e => {\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    className={\n                                        state.active\n                                            ? classes.Input\n                                            : [\n                                                  classes.Input,\n                                                  classes.InputHidden,\n                                              ].join(' ')\n                                    }\n                                    value={\n                                        props.withState\n                                            ? state.value\n                                            : props.value\n                                    }\n                                />\n                            </>\n                        )\n                    }}\n                />\n            )}\n        </div>\n    )\n})\n\nexport default InspectorValue\n","export function _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n\n            return target\n        }\n\n    return _extends.apply(this, arguments)\n}\n\nexport function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n\n    return target\n}\n\nexport function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n\n    var key, i\n\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n\n    return target\n}\nexport function classnames() {\n    for (\n        var _len = arguments.length, classes = new Array(_len), _key = 0;\n        _key < _len;\n        _key++\n    ) {\n        classes[_key] = arguments[_key]\n    }\n\n    // Use Boolean constructor as a filter callback\n    // Allows for loose type truthy/falsey checks\n    // Boolean(\"\") === false;\n    // Boolean(false) === false;\n    // Boolean(undefined) === false;\n    // Boolean(null) === false;\n    // Boolean(0) === false;\n    // Boolean(\"classname\") === true;\n    return classes.filter(Boolean).join(' ')\n}\nexport function isDescendant(older, younger) {\n    return (\n        !!older.children &&\n        typeof older.children !== 'function' &&\n        older.children.some(function(child) {\n            return child === younger || isDescendant(child, younger)\n        })\n    )\n}\nexport function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n\n    return obj\n}\nexport function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        var ownKeys = Object.keys(source)\n\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(\n                        source,\n                        sym\n                    ).enumerable\n                })\n            )\n        }\n\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key])\n        })\n    }\n\n    return target\n}\nexport function _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nexport function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n            arr2[i] = arr[i]\n\n        return arr2\n    }\n}\n\nexport function _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nexport function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n","import { isEqual, omit } from 'lodash'\n\nimport type {\n    initialStateType,\n    resourceType,\n    elementType,\n} from '../store/reducer/reducer'\n\nexport const findDecedants = (\n    items: $PropertyType<initialStateType, 'pagesStructure'>,\n    id: string\n): $PropertyType<initialStateType, 'pagesStructure'> => {\n    return items.filter(item =>\n        item.path.some(element => element.toString() === id.toString())\n    )\n}\n\nexport const findDirectChildren = (\n    items: $PropertyType<initialStateType, 'pagesStructure'>,\n    id: string\n): $PropertyType<initialStateType, 'pagesStructure'> => {\n    const elements = items.filter(item => item.id === id)\n    if (elements.length !== 1) {\n        return []\n    } else {\n        return items.filter(item =>\n            isEqual(item.path, [...elements[0].path, id])\n        )\n    }\n}\ntype child = {\n    children: Array<child>,\n    id: string,\n}\n\nexport const buildItems = (children, path, result) => {\n    const doBuildItems = (children, path) => {\n        children.forEach(element => {\n            result.push({\n                ...omit(element, [\n                    'children',\n                    'resourceDraft',\n                    'currentResource',\n                    'mode',\n                    'pluginsStructure',\n                ]),\n                path,\n            })\n            if (element.children)\n                doBuildItems(element.children, [...path, element.id])\n        })\n    }\n    doBuildItems(children, path)\n    return result\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions/index'\nimport AceEditor from 'react-ace'\n\nimport ace from 'ace-builds'\nimport 'ace-builds/src-noconflict/mode-css'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/mode-javascript'\nimport 'ace-builds/src-noconflict/mode-text'\nimport 'ace-builds/src-noconflict/theme-github'\nimport 'ace-builds/src-min-noconflict/ext-searchbox'\nimport 'ace-builds/src-min-noconflict/ext-language_tools'\n// import beautify from 'ace-builds/src-min-noconflict/ext-beautify'\nimport beautify_js, { css as beautify_css } from 'js-beautify'\nimport Select from '../UI/Select/Select'\n\nimport type { elementType } from '../../../../store/reducer/reducer'\n\nace.config.set('basePath', '/ace-builds/src-noconflict')\nace.config.set('modePath', '/ace-builds/src-noconflict')\nace.config.set('themePath', '/ace-builds/src-noconflict')\nace.config.set('workerPath', '/ace-builds/src-noconflict')\n\n// var editor = ace.edit('editor') // get reference to editor\n\ntype Props = {\n    currentElement: $PropertyType<elementType, 'id'>,\n    elementValue: $PropertyType<elementType, 'propertiesString'>,\n    elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n    editorMode: 'json' | 'css',\n    handleChange: (value: string, cursorPosition: {}) => {},\n}\n\ntype State = {\n    value: string,\n    updateValue: boolean,\n    isBeatifying: boolean,\n}\n\nclass Editor extends Component<Props, State> {\n    onChange = value => {\n        this.setState({\n            value,\n            updateValue: false,\n        })\n        if (this.state.isBeatifying) return\n        setTimeout(\n            () =>\n                this.props.handleChange(\n                    value,\n                    this.editor.getSelection().getCursor()\n                ),\n            10\n        )\n    }\n\n    handleSelectProperty = selectedOption => {\n        if (!selectedOption) return\n        let obj\n        try {\n            obj = JSON.parse(this.state.value)\n        } catch (e) {\n            obj = null\n        }\n        if (obj) {\n            obj[selectedOption.label] = selectedOption.value\n            const resultString = JSON.stringify(obj)\n            this.onChange(resultString)\n        }\n        this.makeCodePrettier()\n    }\n\n    makeCodePrettier = () => {\n        setTimeout(() => {\n            this.editor.moveCursorToPosition(\n                this.props.elementCurrentCursor || {\n                    column: 0,\n                    row: 0,\n                }\n            )\n            if (!this.state.updateValue) {\n                this.setState({ isBeatifying: true })\n                if (this.props.editorMode === 'json') {\n                    let obj\n                    try {\n                        obj = JSON.parse(this.state.value)\n                    } catch (e) {\n                        obj = null\n                    }\n                    if (obj) {\n                        this.setState({\n                            value: JSON.stringify(obj, null, '\\t'),\n                            updateValue: false,\n                        })\n                    }\n                } else {\n                    // beautify.beautify(this.editor.session)\n                    if (this.props.editorMode === 'css') {\n                        const newValue = beautify_css(this.state.value)\n                        this.setState({ value: newValue })\n                    } else if (this.props.editorMode === 'javascript') {\n                        const newValue = beautify_js(this.state.value)\n                        this.setState({ value: newValue })\n                    }\n                }\n                this.setState({ isBeatifying: false })\n            }\n        }, 10)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { props } = this\n        if (\n            prevState.updateValue === false &&\n            this.state.updateValue === true\n        ) {\n        } else {\n            if (\n                props.currentElement !== prevProps.currentElement ||\n                this.state.updateValue ||\n                props.editorMode !== prevProps.editorMode\n            ) {\n                if (!props.currentElement) {\n                    this.setState({\n                        value: '',\n                        updateValue: false,\n                    })\n                } else {\n                    this.setState({\n                        value: props.elementValue,\n                        updateValue: false,\n                    })\n                    this.makeCodePrettier()\n                }\n            }\n        }\n    }\n    editor\n    componentDidMount() {\n        this.editor = this.refs.aceEditor.editor\n        this.setState({\n            value: this.props.elementValue,\n            updateValue: false,\n        })\n        this.makeCodePrettier()\n    }\n    constructor(props) {\n        super(props)\n        this.state = { value: '', updateValue: false, isBeatifying: false }\n        this.onChange = this.onChange.bind(this)\n    }\n\n    render() {\n        return (\n            <>\n                {this.props.suggestOptions ? (\n                    <div>\n                        <Select\n                            placeholder=\"Possible properties\"\n                            onChange={this.handleSelectProperty}\n                            options={this.props.suggestOptions}\n                            isSearchable\n                        />\n                    </div>\n                ) : null}\n                <AceEditor\n                    ref=\"aceEditor\"\n                    value={this.state.value}\n                    mode={this.props.editorMode}\n                    theme=\"github\"\n                    onChange={this.onChange}\n                    name={this.props.name}\n                    fontSize={14}\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    width=\"100%\"\n                    height=\"100%\"\n                    placeholder=\"Put your code here\"\n                    setOptions={{\n                        enableBasicAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableLiveAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableSnippets: this.props.editorMode !== 'text',\n                        showLineNumbers: this.props.editorMode !== 'text',\n                        tabSize: 2,\n                        useWorker: false,\n                    }}\n                    commands={[\n                        {\n                            name: 'undo',\n                            bindKey: { win: 'Ctrl-z', mac: 'Command-z' },\n                            exec: () => {\n                                this.setState({\n                                    updateValue: true,\n                                })\n                                this.props.undoResourceVersion()\n                            },\n                        },\n                        {\n                            name: 'redo',\n                            bindKey: {\n                                win: 'Ctrl-Shift-z',\n                                mac: 'Command-Shift-z',\n                            },\n                            exec: () => {\n                                this.setState({\n                                    updateValue: true,\n                                })\n                                this.props.redoResourceVersion()\n                            },\n                        },\n                    ]}\n                />\n            </>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps,\n    null,\n    { forwardRef: true }\n)(Editor)\n// <ControlledEditor\n//     width=\"100%\"\n//     height=\"100%\"\n//     language=\"css\"\n//     theme=\"vs-dark\"\n//     value={state.value}\n//     // options={options}\n//     onChange={handleChange}\n//     // editorDidMount={::this.editorDidMount}\n// />\n// <CodeMirror\n//     value={state.value}\n//     options={{\n//         mode: 'css',\n//         theme: 'material',\n//         lineNumbers: true,\n//         autocorrect: true,\n//         extraKeys: {\n//             'Ctrl-Z': () => {},\n//             'Shift-Ctrl-Z': () => {},\n//         },\n//     }}\n//     onChange={(editor, data, value) => {\n//         if (data.origin) {\n//             //setState({ ...state, value })\n//             props.addResourceVersion(props.currentFile, {\n//                 value: editor.getValue(),\n//             })\n//         }\n//     }}\n//     onBeforeChange={(editor, data, value) => {\n//         setState({ ...state, value })\n//     }}\n// />\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar doc = void 0;\nvar win = void 0;\nif (typeof document !== 'undefined') {\n  doc = document;\n}\nif (typeof window !== 'undefined') {\n  win = window;\n}\n\nvar FrameContext = exports.FrameContext = _react2.default.createContext({ document: doc, window: win });\n\nvar FrameContextProvider = FrameContext.Provider,\n    FrameContextConsumer = FrameContext.Consumer;\nexports.FrameContextProvider = FrameContextProvider;\nexports.FrameContextConsumer = FrameContextConsumer;","import React, { useState } from 'react'\n\nimport * as classes from './TreeSearch.module.css'\nimport SmallButton from '../Buttons/SmallButton/SmallButton'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\nimport type { State } from '../../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\ntype Props = {\n    state: State,\n    setState: Function,\n}\n\nconst handleSearchOnChange = (state, setState, e) => {\n    setState({ ...state, searchString: e.target.value })\n}\n\nconst selectPrevMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFoundCount + searchFocusIndex - 1) %\n                      searchFoundCount\n                    : searchFoundCount - 1\n                : null,\n    })\n}\n\nconst selectNextMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFocusIndex + 1) % searchFoundCount\n                    : 0\n                : null,\n    })\n}\n\nexport const TreeSearch = (props: Props) => (\n    <div className={classes.Container}>\n        <input\n            className={classes.Input}\n            type=\"text\"\n            onChange={e => handleSearchOnChange(props.state, props.setState, e)}\n        />\n        <div className={classes.Label}>\n            {props.state.searchFoundCount\n                ? props.state.searchFocusIndex + 1\n                : 0}\n            /{props.state.searchFoundCount}\n        </div>\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"></path></svg>'\n            buttonClicked={() => selectPrevMatch(props.state, props.setState)}\n            tooltip=\"Search previous\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"></path></svg>'\n            buttonClicked={() => selectNextMatch(props.state, props.setState)}\n            tooltip=\"Search next\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>'\n            buttonClicked={() =>\n                props.setState({\n                    ...props.state,\n                    searchOpen: false,\n                    searchString: '',\n                })\n            }\n            tooltip=\"Close\"\n        />\n    </div>\n)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport SortableTree from 'react-sortable-tree'\nimport { checkIfCapital, buildTree } from '../../../utils/basic'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport withDragDropContext from '../../../hoc/withDragDropContext'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport populateStructureWithPluginChildren from './methods/populateStructureWithPluginChildren'\nimport { searchOnHover, searchMethod, searchMethod2 } from './methods/search'\nimport getBoxType from './methods/getBoxType'\nimport generateButtonRules from './methods/generateButtonRules'\n\nimport type {\n    resourceType,\n    initialStateType,\n    elementType,\n} from '../../../store/reducer/reducer'\n\nexport type State = {\n    searchString: string,\n    searchFocusIndex: number,\n    searchFoundCount: null | number,\n    searchStringHasBeenCleared: boolean,\n    searchOpen: boolean,\n}\n\nexport type Props = {\n    loadedPage: $PropertyType<initialStateType, 'currentPage'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    resourceDraft: resourceType,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    mode: 'page' | 'plugin',\n    pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    websiteId: $PropertyType<initialStateType, 'loadedWebsite'>,\n    chooseBox: typeof actions.chooseBox,\n    addBox: typeof actions.addBox,\n    duplicateBox: typeof actions.duplicateBox,\n    deleteBox: typeof actions.deleteBox,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n    dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n    toggleFindMode: typeof actions.toggleFindMode,\n    currentBoxType:\n        | 'html'\n        | 'page'\n        | 'headBody'\n        | 'plugin'\n        | 'children'\n        | 'childrenTo'\n        | 'element'\n        | 'none',\n    searchQuery: string,\n    node: elementType,\n}\n\nconst ElementsTree = (props: Props) => {\n    const structureWithPluginChildren = populateStructureWithPluginChildren(\n        props.resourceDraft.structure,\n        props\n    )\n    const treeData = buildTree(\n        structureWithPluginChildren.map(item => ({\n            ...item,\n            itemPath: item.path,\n            resourceDraft: props.resourceDraft,\n            currentResource: props.currentResource,\n            mode: props.mode,\n            pluginsStructure: props.pluginsStructure,\n        }))\n    )\n\n    const currentBoxType = getBoxType(props)\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        props.saveElementsStructure(\n            result,\n            props.currentResource,\n            props.resourceDraft\n        )\n    }\n\n    const canDropHandle = ({ nextParent }) => {\n        return (\n            nextParent &&\n            !nextParent.text &&\n            (!checkIfCapital(nextParent.tag.charAt(0)) ||\n                nextParent.itemPath.length === 0 ||\n                nextParent.forChildren) &&\n            nextParent.tag !== 'menu' &&\n            ((nextParent.mode === 'page' && nextParent.itemPath.length > 0) ||\n                nextParent.mode === 'plugin') &&\n            !nextParent.isChildren\n        )\n    }\n\n    const canDragHandle = ({ node }) => {\n        return (\n            node.itemPath.length > (node.mode === 'page' ? 1 : 0) &&\n            !node.childrenTo\n        )\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        className:\n            node.id === props.resourceDraft.currentBox\n                ? [classes.Chosen]\n                : node.id === props.hoveredElementId\n                ? [classes.Hovered]\n                : null,\n    })\n\n    const onMoveNodeHandle = ({ node, treeIndex, path }) => {\n        return global.console.debug(\n            'node:',\n            node,\n            'treeIndex:',\n            treeIndex,\n            'path:',\n            path\n        )\n    }\n\n    const searchFinishCallbackHandle = matches => {\n        setState({\n            ...state,\n            searchFoundCount: matches.length,\n            searchFocusIndex:\n                matches.length > 0\n                    ? state.searchFocusIndex % matches.length\n                    : 0,\n        })\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    useEffect(() => {\n        searchOnHover(props, state, setState)\n    }, [props.hoveredElementId, props.findMode])\n\n    const buttonRules = generateButtonRules(props, currentBoxType)\n\n    return (\n        <>\n            <div>\n                <SmallButton\n                    inline\n                    buttonClicked={() => props.toggleFindMode(props.mode)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z\"></path></svg>'\n                    tooltip=\"Select an element on the page\"\n                />\n                {buttonRules.addNext ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.addBox(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.mode\n                            )\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                        tooltip=\"Add a new element next to the chosen element\"\n                    />\n                ) : null}\n                {buttonRules.addInside ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.addBox(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.mode,\n                                'inside'\n                            )\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                        tooltip=\"Add a new element inside the chosen element\"\n                    />\n                ) : null}\n                {buttonRules.addChildren ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.addBox(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.mode,\n                                'children'\n                            )\n                        }\n                        title=\"Children\"\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                        tooltip=\"Add a new inherited children\"\n                    />\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.addBox(\n                            props.currentResource,\n                            props.resourceDraft,\n                            props.mode,\n                            'text'\n                        )\n                    }\n                    title=\"Text\"\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    tooltip=\"Add a new text element\"\n                />\n                {buttonRules.duplicate ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.duplicateBox(\n                                    props.currentResource,\n                                    props.resourceDraft,\n                                    props.mode\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                            tooltip=\"Duplicate the element without children elements\"\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.duplicateBox(\n                                    props.currentResource,\n                                    props.resourceDraft,\n                                    props.mode,\n                                    true\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17.8,3h4v5.1h-4V3z M17.8,15.9h4V21h-4V15.9z M17.8,9.4h4v5.2h-4V9.4z M4.1,3c-1,0-1.8,0.8-1.8,1.8v14.4  c0,1,0.8,1.8,1.8,1.8h10.8c1,0,1.8-0.8,1.8-1.8V8.4L11.3,3H4.1z M10.4,9.3v-5l5,5H10.4z\"></path></svg>'\n                            tooltip=\"Duplicate the element with children elements\"\n                        />\n                    </>\n                ) : null}\n\n                {buttonRules.mergeToPlugin ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.mergeBoxToPlugin(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.websiteId,\n                                props.mode\n                            )\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"></path></svg>'\n                        tooltip=\"Merge element and children elements into a new plugin\"\n                    />\n                ) : null}\n                {buttonRules.mergeToPluginChildren ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.mergeBoxToPlugin(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.websiteId,\n                                props.mode,\n                                true\n                            )\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"></path></svg>'\n                        tooltip=\"Merge children elements into a new plugin\"\n                    />\n                ) : null}\n                {buttonRules.dissolve ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.dissolvePluginToBox(\n                                props.currentResource,\n                                props.resourceDraft,\n                                props.pluginsStructure,\n                                props.resourcesObjects\n                            )\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"></path></svg>'\n                        tooltip=\"Dissolve the plugin into elements\"\n                    />\n                ) : null}\n\n                {buttonRules.delete ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.deleteBox(\n                                    props.currentResource,\n                                    props.resourceDraft,\n                                    props.mode\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                            tooltip=\"Delete element without children.<br>All children will remain on the page\"\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.deleteBox(\n                                    props.currentResource,\n                                    props.resourceDraft,\n                                    props.mode,\n                                    true\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.8,3h-5l-1,1H2.3v2h14V4h-3.5L11.8,3z M3.3,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7h-12C3.3,7,3.3,19,3.3,19z M17.8,3  v5.1h4V3H17.8z M17.8,21h4v-5.1h-4V21z M17.8,14.6h4V9.4h-4V14.6z\"></path></svg>'\n                            tooltip=\"Delete element with all children inside\"\n                        />\n                    </>\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        setState({\n                            ...state,\n                            searchOpen: !state.searchOpen,\n                        })\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                    tooltip=\"Show or hide search\"\n                />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    scaffoldBlockPxWidth={22}\n                    rowHeight={20}\n                    generateNodeProps={generateNodePropsHandle}\n                    isVirtualized={true}\n                    onMoveNode={onMoveNodeHandle}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={searchFinishCallbackHandle}\n                    searchMethod={props.findMode ? searchMethod2 : searchMethod}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        websiteId: state.loadedWebsite,\n        resourcesObjects: state.resourcesObjects,\n        pluginsStructure: state.pluginsStructure,\n        hoveredElementId: state.hoveredElementId,\n        findMode: state.findMode,\n        fromFrame: state.fromFrame,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        addBox: (currentResource, resourceDraft, mode, type) =>\n            dispatch(\n                actions.addBox(currentResource, resourceDraft, mode, type)\n            ),\n        duplicateBox: (currentResource, resourceDraft, mode, withChildren) =>\n            dispatch(\n                actions.duplicateBox(\n                    currentResource,\n                    resourceDraft,\n                    mode,\n                    withChildren\n                )\n            ),\n        mergeBoxToPlugin: (\n            currentResource,\n            resourceDraft,\n            websiteId,\n            mode,\n            onlyChildren\n        ) =>\n            dispatch(\n                actions.mergeBoxToPlugin(\n                    currentResource,\n                    resourceDraft,\n                    websiteId,\n                    mode,\n                    onlyChildren\n                )\n            ),\n        dissolvePluginToBox: (\n            currentResource,\n            resourceDraft,\n            pluginsStructure,\n            resourcesObjects\n        ) =>\n            dispatch(\n                actions.dissolvePluginToBox(\n                    currentResource,\n                    resourceDraft,\n                    pluginsStructure,\n                    resourcesObjects\n                )\n            ),\n        deleteBox: (currentResource, resourceDraft, mode, withChildren) =>\n            dispatch(\n                actions.deleteBox(\n                    currentResource,\n                    resourceDraft,\n                    mode,\n                    withChildren\n                )\n            ),\n        saveElementsStructure: (structure, currentResource, resourceDraft) =>\n            dispatch(\n                actions.saveElementsStructure(\n                    structure,\n                    currentResource,\n                    resourceDraft\n                )\n            ),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ElementsTree)\n)\n","import React from 'react'\nimport SelectComponent from 'react-select'\n\nimport classes from './Select.module.css'\n\ntype Props = {\n    startValue?: any,\n    title?: string,\n    onChange: Function,\n    datatestid?: string,\n    styles?: {},\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n    default: number,\n    isSearchable?: boolean,\n    isClearable?: boolean,\n    placeholder?: String,\n}\n\nconst Select = (props: Props) => {\n    const customStyles = {\n        menu: (provided: {}, state: {}) => ({\n            ...provided,\n            width: '100%',\n            top: 'auto',\n            zIndex: '100000',\n            margin: '0px',\n        }),\n        selectContainer: (provided: {}) => ({\n            ...provided,\n            width: '200px',\n            top: 'auto',\n        }),\n        clearIndicator: provided => ({\n            ...provided,\n            padding: '0px',\n        }),\n        dropdownIndicator: provided => ({\n            ...provided,\n            padding: '0px 5px',\n        }),\n        control: provided => ({\n            ...provided,\n            minHeight: 'auto',\n        }),\n    }\n\n    let startValue\n    if (props.startValue) {\n        startValue = props.options.filter(\n            option => option.value === props.startValue\n        )\n        startValue = startValue.length === 1 ? startValue[0] : null\n    }\n\n    return (\n        <div className={classes.Div}>\n            {props.title}\n            <SelectComponent\n                // className={classes.Select}\n                styles={\n                    customStyles\n                    // ...props.styles,\n                }\n                //value={startValue || props.options[props.default]}\n                value={props.options[props.default] || 0}\n                isClearable={props.isClearable}\n                isSearchable={props.isSearchable}\n                onChange={props.onChange}\n                options={props.options}\n                placeholder={props.placeholder}\n            />\n        </div>\n    )\n}\n\nSelect.defaultProps = {\n    default: 0,\n}\n\nexport default Select\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"SiteBuilder_Overlay__Ed0dz\"};","'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContext = undefined\n\nvar _Context = require('./Context')\n\nObject.defineProperty(exports, 'FrameContext', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContext\n    },\n})\nObject.defineProperty(exports, 'FrameContextConsumer', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContextConsumer\n    },\n})\n\nvar _Frame = require('./Frame')\n\nvar _Frame2 = _interopRequireDefault(_Frame)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nexports.default = _Frame2.default\n","'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _extends =\n    Object.assign ||\n    function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i]\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key]\n                }\n            }\n        }\n        return target\n    }\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _reactDom = require('react-dom')\n\nvar _reactDom2 = _interopRequireDefault(_reactDom)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nvar _Context = require('./Context')\n\nvar _Content = require('./Content')\n\nvar _Content2 = _interopRequireDefault(_Content)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n}\n\nvar Frame = (function(_Component) {\n    _inherits(Frame, _Component)\n\n    // React warns when you render directly into the body since browser extensions\n    // also inject into the body and can mess up React. For this reason\n    // initialContent is expected to have a div inside of the body\n    // element that we render react into.\n    function Frame(props, context) {\n        _classCallCheck(this, Frame)\n\n        var _this = _possibleConstructorReturn(\n            this,\n            (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(\n                this,\n                props,\n                context\n            )\n        )\n\n        _this.handleLoad = function() {\n            _this.forceUpdate()\n        }\n\n        _this._isMounted = false\n        return _this\n    }\n\n    _createClass(Frame, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this._isMounted = true\n\n                var doc = this.getDoc()\n                if (doc && doc.readyState === 'complete') {\n                    this.forceUpdate()\n                } else {\n                    this.node.addEventListener('load', this.handleLoad)\n                }\n            },\n        },\n        {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this._isMounted = false\n\n                this.node.removeEventListener('load', this.handleLoad)\n            },\n        },\n        {\n            key: 'getDoc',\n            value: function getDoc() {\n                return this.node.contentDocument // eslint-disable-line\n            },\n        },\n        {\n            key: 'getMountTarget',\n            value: function getMountTarget() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.body\n            },\n        },\n        {\n            key: 'getMountTargetHtml',\n            value: function getMountTargetHtml() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.documentElement\n            },\n        },\n        {\n            key: 'renderFrameContents',\n            value: function renderFrameContents() {\n                if (!this._isMounted) {\n                    return null\n                }\n\n                var doc = this.getDoc()\n\n                var contentDidMount = this.props.contentDidMount\n                var contentDidUpdate = this.props.contentDidUpdate\n\n                var win = doc.defaultView || doc.parentView\n                if (this.props.updateHead) this._setInitialContent = false\n                var initialRender = !this._setInitialContent\n                var contents = _react2.default.createElement(\n                    _Content2.default,\n                    {\n                        contentDidMount: contentDidMount,\n                        contentDidUpdate: contentDidUpdate,\n                    },\n                    _react2.default.createElement(\n                        _Context.FrameContextProvider,\n                        { value: { document: doc, window: win } },\n\n                        this.props.children\n                    )\n                )\n\n                if (initialRender) {\n                    doc.open('text/html', 'replace')\n                    doc.write(this.props.initialContent)\n                    doc.close()\n                    this._setInitialContent = true\n                }\n\n                var mountTarget = this.getMountTarget()\n                for (let attr in this.props.bodyProps) {\n                    mountTarget.setAttribute(attr, this.props.bodyProps[attr])\n                }\n\n                var mountTargetHtml = this.getMountTargetHtml()\n                for (let attr in this.props.htmlProps) {\n                    mountTargetHtml.setAttribute(\n                        attr,\n                        this.props.htmlProps[attr]\n                    )\n                }\n\n                return [\n                    //_reactDom2.default.createPortal(this.props.head, this.getDoc().head),\n                    _reactDom2.default.createPortal(contents, mountTarget),\n                ]\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                var _this2 = this\n\n                var props = _extends({}, this.props, {\n                    children: undefined, // The iframe isn't ready so we drop children from props here. #12, #17\n                })\n                delete props.head\n                delete props.initialContent\n                delete props.mountTarget\n                delete props.contentDidMount\n                delete props.contentDidUpdate\n                delete props.bodyProps\n                delete props.htmlProps\n                return _react2.default.createElement(\n                    'iframe',\n                    _extends({}, props, {\n                        ref: function ref(node) {\n                            _this2.node = node\n                        },\n                    }),\n                    this.renderFrameContents()\n                )\n            },\n        },\n    ])\n\n    return Frame\n})(_react.Component)\n\nFrame.propTypes = {\n    style: _propTypes2.default.object, // eslint-disable-line\n    head: _propTypes2.default.node,\n    bodyProps: _propTypes2.default.object,\n    htmlProps: _propTypes2.default.object,\n    initialContent: _propTypes2.default.string,\n    mountTarget: _propTypes2.default.string,\n    contentDidMount: _propTypes2.default.func,\n    contentDidUpdate: _propTypes2.default.func,\n    children: _propTypes2.default.oneOfType([\n        _propTypes2.default.element,\n        _propTypes2.default.arrayOf(_propTypes2.default.element),\n    ]),\n}\nFrame.defaultProps = {\n    style: {},\n    head: null,\n    bodyProps: {},\n    htmlProps: {},\n    children: undefined,\n    mountTarget: undefined,\n    contentDidMount: function contentDidMount() {},\n    contentDidUpdate: function contentDidUpdate() {},\n    initialContent: '<!DOCTYPE html><html><head></head><body></body></html>',\n}\nexports.default = Frame\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // eslint-disable-line no-unused-vars\n\n\nvar Content = function (_Component) {\n  _inherits(Content, _Component);\n\n  function Content() {\n    _classCallCheck(this, Content);\n\n    return _possibleConstructorReturn(this, (Content.__proto__ || Object.getPrototypeOf(Content)).apply(this, arguments));\n  }\n\n  _createClass(Content, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.contentDidMount();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.props.contentDidUpdate();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react.Children.only(this.props.children);\n    }\n  }]);\n\n  return Content;\n}(_react.Component);\n\nContent.propTypes = {\n  children: _propTypes2.default.element.isRequired,\n  contentDidMount: _propTypes2.default.func.isRequired,\n  contentDidUpdate: _propTypes2.default.func.isRequired\n};\nexports.default = Content;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"SiteBuilderLayout_Content__vDwKG\",\"ContentPreview\":\"SiteBuilderLayout_ContentPreview__2Lf2Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SectionHeight\":\"SizeDragController_SectionHeight__2xHTI\",\"InnerDiv\":\"SizeDragController_InnerDiv__3XbGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageContainer\":\"Images_ImageContainer__2C72p\",\"ImageContainerChosen\":\"Images_ImageContainerChosen__2szoJ\",\"ImageContainerCurrent\":\"Images_ImageContainerCurrent__cU6k-\",\"ImageName\":\"Images_ImageName__1c3oe\",\"ImageInput\":\"Images_ImageInput__2RsQJ\",\"Buttons\":\"Images_Buttons__2xnnz\",\"Images\":\"Images_Images__1sTkw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"SmallButton_Button__2auv6\",\"ButtonDisabled\":\"SmallButton_ButtonDisabled__8lcil\",\"Inline\":\"SmallButton_Inline__2j7Md\",\"Table\":\"SmallButton_Table__1QigA\",\"Cell\":\"SmallButton_Cell__1cD_6\",\"Svg\":\"SmallButton_Svg__3X4Wp\",\"Tooltip\":\"SmallButton_Tooltip__3GG4i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectorDiv\":\"InspectorValue_InspectorDiv__3NoW1\",\"Input\":\"InspectorValue_Input__3jg9o\",\"InputHidden\":\"InspectorValue_InputHidden__20aPX\",\"Span\":\"InspectorValue_Span__2r1SY\",\"ItemHighlighted\":\"InspectorValue_ItemHighlighted__10tLg\",\"DropDown\":\"InspectorValue_DropDown__12yME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TreeSearch_Container__gqL_q\",\"Input\":\"TreeSearch_Input__1fDdy\",\"Label\":\"TreeSearch_Label__1_Jf9\"};","import {\n    checkIfCapital,\n    getCurrentResourceValue,\n} from '../../../../utils/basic'\n\nimport type { Props } from '../ElementsTree'\nimport type { resourceType } from '../../../../store/reducer/reducer'\n\nexport default (\n    structure: $PropertyType<resourceType, 'structure'>,\n    props: Props\n) => {\n    let result = []\n    let excludeItems = []\n    structure.forEach(item => {\n        if (!item.childrenTo && !excludeItems.includes(item.id)) {\n            result.push(item)\n        }\n        if (checkIfCapital(item.tag.charAt(0))) {\n            const pluginItem = props.pluginsStructure.find(\n                element => element.name === item.tag\n            )\n            if (pluginItem) {\n                const pluginElement = getCurrentResourceValue(\n                    pluginItem.id,\n                    props.resourcesObjects\n                )\n                if (pluginElement) {\n                    const neededChildren = pluginElement.structure.filter(\n                        element => element.isChildren\n                    )\n                    const currentChildren = structure.filter(element =>\n                        element.path.includes(item.id)\n                    )\n                    excludeItems = [\n                        ...excludeItems,\n                        ...currentChildren.map(element => element.id),\n                    ]\n                    neededChildren.forEach(child => {\n                        const existingChild = currentChildren.find(\n                            element => element.childrenTo === child.id\n                        )\n                        if (existingChild) {\n                            result = [\n                                ...result,\n                                {\n                                    ...existingChild,\n                                    tag: `Children for ${child.tag}`,\n                                },\n                                ...currentChildren.filter(element =>\n                                    element.path.includes(existingChild.id)\n                                ),\n                            ]\n                        } else {\n                            result.push({\n                                id: `${item.id}_forPlugin_${\n                                    pluginItem.id\n                                }_childrenTo_${child.id}`,\n                                childrenTo: child.id,\n                                forPlugin: pluginItem.id,\n                                sourcePlugin:\n                                    props.mode === 'plugin'\n                                        ? props.currentResource\n                                        : '',\n                                path: [...item.path, item.id],\n                                text: false,\n                                textContent: '',\n                                isChildren: false,\n                                forChildren: true,\n                                properties: {},\n                                tag: `Children for ${child.tag}`,\n                            })\n                        }\n                    })\n                }\n            }\n        }\n    })\n    return result\n}\n","import type { Props, State } from '../ElementsTree'\n\nexport const searchOnHover = (\n    props: Props,\n    state: State,\n    setState: Function\n) => {\n    if (props.findMode && props.fromFrame) {\n        setState({\n            ...state,\n            searchString: props.hoveredElementId || '',\n            searchStringHasBeenCleared: false,\n        })\n    } else {\n        if (!state.searchStringHasBeenCleared) {\n            setState({\n                ...state,\n                searchString: '',\n                searchStringHasBeenCleared: true,\n            })\n        }\n    }\n}\n\nexport const searchMethod = ({ node, path, treeIndex, searchQuery }: Props) => {\n    if (!searchQuery) return false\n\n    if (node.tag.indexOf(searchQuery) > -1) return true\n    if (node.properties.id)\n        if (node.properties.id.indexOf(searchQuery) > -1) return true\n    if (node.properties.class)\n        if (node.properties.class.indexOf(searchQuery) > -1) return true\n}\n\nexport const searchMethod2 = ({\n    node,\n    path,\n    treeIndex,\n    searchQuery,\n}: Props) => {\n    if (!searchQuery) return false\n\n    if (node.id.indexOf(searchQuery) > -1) return true\n}\n","import { checkIfCapital } from '../../../../utils/basic'\n\nimport type { Props } from '../ElementsTree'\n\nexport default (props: Props) => {\n    const currentBox = props.resourceDraft.currentBox\n    let currentItemInStructure = null\n    if (currentBox) {\n        currentItemInStructure = props.resourceDraft.structure.find(\n            item => item.id === currentBox\n        )\n    }\n    let currentBoxType: $PropertyType<Props, 'currentBoxType'>\n    if (currentItemInStructure) {\n        if (currentItemInStructure.path.length === 0) {\n            currentBoxType = 'html'\n        } else if (\n            currentItemInStructure.path.length === 1 &&\n            props.mode === 'page'\n        ) {\n            currentBoxType = 'headBody'\n        } else if (checkIfCapital(currentItemInStructure.tag.charAt(0))) {\n            currentBoxType = 'plugin'\n        } else {\n            currentBoxType = 'element'\n        }\n        if (currentItemInStructure.isChildren) {\n            currentBoxType = 'children'\n        }\n        if (currentItemInStructure.childrenTo) {\n            currentBoxType = 'childrenTo'\n        }\n    } else {\n        currentBoxType = 'none'\n    }\n    return currentBoxType\n}\n","import type { Props } from '../ElementsTree'\n\nexport default (\n    props: Props,\n    currentBoxType: $PropertyType<Props, 'currentBoxType'>\n) => {\n    const buttonRules = {}\n\n    if (currentBoxType !== 'childrenTo') buttonRules.addNext = true\n\n    if (props.mode === 'plugin') buttonRules.addChildren = true\n\n    if (currentBoxType !== 'plugin' && currentBoxType !== 'children')\n        buttonRules.addInside = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children'\n    )\n        buttonRules.duplicate = true\n\n    if (currentBoxType === 'element') buttonRules.mergeToPlugin = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'headBody')\n        buttonRules.mergeToPluginChildren = true\n\n    if (currentBoxType === 'plugin') buttonRules.dissolve = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children'\n    )\n        buttonRules.delete = true\n\n    return buttonRules\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"Properties_OlContainer__363Ba\",\"reactTabs\":\"Properties_reactTabs__1n7Tw\",\"reactTabsTabPanelSelected\":\"Properties_reactTabsTabPanelSelected__2YQhG\",\"reactTabsTab\":\"Properties_reactTabsTab__3p2jn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"TextProperty_Textarea__2wNAE\",\"Editors\":\"TextProperty_Editors__3uGEn\",\"SelectContainer\":\"TextProperty_SelectContainer__zyD1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"Select_Div__3ogAU\",\"Input\":\"Select_Input__1mnhJ\",\"StyleControls\":\"Select_StyleControls__3ci3w\"};","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport SortableTree from 'react-sortable-tree'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport { cloneDeep } from 'lodash'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\n//import * as classes from './MenuItems.module.css'\n// import SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../../../utils/pagesStructure'\nimport withDragDropContext from '../../../../hoc/withDragDropContext'\n// import OtherProperties from '../OtherProperties/OtherProperties'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport { SizeDragController } from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport Editor from '../../../Editor/Editor'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\n\nconst MenuItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n\n    useEffect(() => {\n        const pagesStructureWithAll = [\n            {\n                path: [],\n                all: false,\n                id: 'link',\n                generatedFrom: 'link',\n                sourceItem: true,\n                name: 'Link',\n                properties: {\n                    url: 'http://www.logision.com/',\n                },\n            },\n            {\n                path: [],\n                all: true,\n                id: 'all',\n                generatedFrom: 'all',\n                sourceItem: true,\n                name: 'All pages',\n            },\n        ]\n        props.pagesStructure.forEach(element => {\n            pagesStructureWithAll.push({\n                ...element,\n                sourceItem: true,\n                all: false,\n                id: element.id,\n                generatedFrom: element.id,\n                path: ['all', ...element.path],\n            })\n            pagesStructureWithAll.push({\n                path: ['all', ...element.path, element.id],\n                all: true,\n                id: element.id + '_all',\n                generatedFrom: element.id,\n                sourceItem: true,\n                name: 'All in ' + element.name,\n            })\n        })\n        const treeDataSource = buildTree(pagesStructureWithAll).map(item => ({\n            ...item,\n            type: props.mode,\n        }))\n        setState({ ...state, treeDataSource })\n    }, [props.pagesStructure])\n\n    let menuItems = props.element.menuItems || []\n    menuItems = menuItems.map(item => ({\n        ...item,\n        type: props.mode,\n    }))\n    const treeData = buildTree(menuItems)\n\n    const handleChange = items => {\n        const newItems = cloneDeep(items)\n        const findNewItem = children => {\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i]\n                if (child.sourceItem) return child\n                else if (child.children.length > 0)\n                    return findNewItem(child.children)\n            }\n        }\n        const newItem = findNewItem(newItems)\n\n        let newCurrentMenuId = null\n        if (newItem) {\n            newItem.children = []\n            newItem.id = 'item_' + (props.element.currentMenuId || 0)\n            newItem.sourceItem = false\n            newCurrentMenuId = props.element.currentMenuId\n                ? props.element.currentMenuId + 1\n                : 1\n        }\n\n        const saveItems = []\n        buildItems(newItems, [], saveItems)\n        const result = { menuItems: saveItems, currentMenuId: -1 }\n        if (newCurrentMenuId) result.currentMenuId = newCurrentMenuId\n        props.changeProperty(result, '')\n    }\n\n    const menuItem =\n        props.element.currentMenuItem && props.element.menuItems\n            ? props.element.menuItems.find(\n                  item => item.id === props.element.currentMenuItem\n              )\n            : null\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value && props.element.currentMenuItem) {\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            const newMenuItems = props.element.menuItems.map(item => {\n                if (item.id === props.element.currentMenuItem) {\n                    const newItem = cloneDeep(item)\n                    newItem.propertiesString = value\n                    if (obj) {\n                        newItem.properties = obj\n                    }\n                    return newItem\n                } else {\n                    return item\n                }\n            })\n            props.changeProperty('menuItems', newMenuItems, cursorPosition)\n        }\n    }\n\n    const handleDeleteItem = () => {\n        if (props.element.currentMenuItem) {\n            const newMenuItems = props.element.menuItems.filter(\n                item => item.id !== props.element.currentMenuItem\n            )\n            props.changeProperty('menuItems', newMenuItems)\n        }\n    }\n\n    return props.element ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n            >\n                <div>\n                    <SmallButton\n                        inline\n                        buttonClicked={handleDeleteItem}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                        tooltip=\"Delete menu item\"\n                    />\n                </div>\n                <div className={classes.TreeContainer}>\n                    {treeData.length === 0 ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                border: '1px dashed #777',\n                                left: '20px',\n                                padding: '4px',\n                            }}\n                        >\n                            Drop menu items here\n                        </div>\n                    ) : null}\n                    <SortableTree\n                        onChange={handleChange}\n                        treeData={treeData}\n                        nodeContentRenderer={ItemRenderer}\n                        generateNodeProps={({ node }) => ({\n                            className:\n                                node.id === props.element.currentMenuItem\n                                    ? [classes.Chosen]\n                                    : null,\n                        })}\n                        isVirtualized={true}\n                        onMoveNode={({ node, treeIndex, path }) => {\n                            global.console.debug(\n                                'node:',\n                                node,\n                                'treeIndex:',\n                                treeIndex,\n                                'path:',\n                                path\n                            )\n                        }}\n                        rowHeight={20}\n                        scaffoldBlockPxWidth={22}\n                        className={classes.Tree}\n                        dndType={'menuItems'}\n                    />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    changed={value =>\n                        props.changeBarSize(props.barSizes, {\n                            key: 'width3',\n                            value,\n                        })\n                    }\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs\n                    className={[\n                        'react-tabs',\n                        classesAdvancedBar.reactTabs,\n                        classes.MenuItemsTabs,\n                    ].join(' ')}\n                >\n                    <TabList>\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classesAdvancedBar.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Source elements\n                        </Tab>\n                        {menuItem ? (\n                            <Tab\n                                className={[\n                                    'react-tabs__tab',\n                                    classesAdvancedBar.reactTabsTab,\n                                ].join(' ')}\n                            >\n                                Item properties\n                            </Tab>\n                        ) : null}\n                    </TabList>\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classesAdvancedBar.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        <SortableTree\n                            treeData={state.treeDataSource}\n                            nodeContentRenderer={ItemRenderer}\n                            isVirtualized={true}\n                            onMoveNode={({ node, treeIndex, path }) =>\n                                global.console.debug(\n                                    'node:',\n                                    node,\n                                    'treeIndex:',\n                                    treeIndex,\n                                    'path:',\n                                    path\n                                )\n                            }\n                            rowHeight={20}\n                            scaffoldBlockPxWidth={22}\n                            canDrop={() => false}\n                            shouldCopyOnOutsideDrop={true}\n                            dndType={'menuItems'}\n                            onChange={treeData =>\n                                setState({ ...state, treeDataSource: treeData })\n                            }\n                        />\n                    </TabPanel>\n                    {menuItem ? (\n                        <TabPanel\n                            selectedClassName={[\n                                'react-tabs__tab-panel--selected',\n                                classesAdvancedBar.reactTabsTabPanelSelected,\n                            ].join(' ')}\n                        >\n                            <Editor\n                                currentElement={props.element.currentMenuItem}\n                                elementValue={menuItem.propertiesString}\n                                elementCurrentCursor={\n                                    props.element.cursorPosition\n                                }\n                                editorMode=\"json\"\n                                handleChange={hanglePropertiesChange}\n                                name=\"editorMenuItems\"\n                            />\n                        </TabPanel>\n                    ) : null}\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.pagesStructure,\n        barSizes: state.barSizes,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(MenuItems)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectWithoutProperties,\n    isDescendant,\n    _toConsumableArray,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\n\nimport type {\n    menuItemType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    chooseMenuItem: typeof actions.chooseMenuItem,\n    changeMenuItemProperty: typeof actions.changeMenuItemProperty,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: menuItemType & { children: Array<menuItemType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop,\n        otherProps = _objectWithoutProperties(_this$props, [\n            'scaffoldBlockPxWidth',\n            'toggleChildrenVisibility',\n            'connectDragPreview',\n            'connectDragSource',\n            'isDragging',\n            'canDrop',\n            'canDrag',\n            'node',\n            'title',\n            'subtitle',\n            'draggedNode',\n            'path',\n            'treeIndex',\n            'isSearchMatch',\n            'isSearchFocus',\n            'buttons',\n            'className',\n            'style',\n            'didDrop',\n            'treeId',\n            'isOver',\n            'parentNode',\n            'currentPage',\n            'currentPlugin',\n            'resourcesObjects',\n            'chooseMenuItem',\n            'changeMenuItemProperty',\n            'isSub',\n        ])\n\n    var handle\n\n    if (canDrag) {\n        if (typeof node.children === 'function' && node.expanded) {\n            handle = (\n                <div className={classes.rst__loadingHandle}>\n                    <div className={classes.rst__loadingCircle}>\n                        {_toConsumableArray(new Array(12)).map(function(\n                            _,\n                            index\n                        ) {\n                            return (\n                                <div\n                                    key={index}\n                                    className={classes.rst__loadingCirclePoint}\n                                />\n                            )\n                        })}\n                        )}\n                    </div>\n                </div>\n            )\n        } else {\n            handle = connectDragSource(\n                <div className={classes.rst__moveHandle} />\n            )\n        }\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, sourceItem, type } = props.node\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n    return (\n        <div\n            // $FlowFixMe\n            {..._extends({ style: { height: '100%' } }, otherProps)}\n            onMouseDown={() =>\n                props.chooseMenuItem(\n                    id,\n                    type === 'page' ? props.currentPage : props.currentPlugin,\n                    props.resourcesObjects\n                )\n            }\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {sourceItem ? (\n                                    name\n                                ) : (\n                                    <InspectorValue\n                                        value={name}\n                                        blur={value =>\n                                            props.changeMenuItemProperty(\n                                                'name',\n                                                value,\n                                                type === 'page'\n                                                    ? props.currentPage\n                                                    : props.currentPlugin,\n                                                props.resourcesObjects\n                                            )\n                                        }\n                                        withState\n                                    />\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentPage: state.currentPage,\n        currentPlugin: state.currentPlugin,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        chooseMenuItem: (id, currentPage, resourcesObjects) =>\n            dispatch(actions.chooseMenuItem(id, currentPage, resourcesObjects)),\n        changeMenuItemProperty: (key, value, currentPage, resourcesObjects) =>\n            dispatch(\n                actions.changeMenuItemProperty(\n                    key,\n                    value,\n                    currentPage,\n                    resourcesObjects\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport SortableTree from 'react-sortable-tree'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../../components/ResourcesTree/ResourcesTree.module.css'\nimport withDragDropContext from '../../../../hoc/withDragDropContext'\nimport SmallButton from '../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport ItemRenderer from './ItemRenderer'\n\nimport type { initialStateType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    addWebsite: typeof actions.addWebsite,\n    loadWebsite: typeof actions.loadWebsite,\n    duplicateWebsite: typeof actions.addWebsite,\n    deleteWebsite: typeof actions.deleteWebsite,\n    currentWebsite: $PropertyType<initialStateType, 'currentWebsite'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    notVirtual?: boolean,\n}\n\nconst WebsitesTree = (props: Props) => {\n    const treeData = props.websites.map(website => {\n        return {\n            ...website,\n            id: website._id,\n            children: {},\n        }\n    })\n\n    return (\n        <>\n            <div>\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.loadWebsite(\n                            props.currentWebsite,\n                            props.notSavedResources\n                        )\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"></path></svg>'\n                    tooltip=\"Load website.<br>All unsaved data in the currently loaded website will be lost.\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() => props.addWebsite()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    tooltip=\"Add a new website\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.addWebsite(true, props.currentWebsite)\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    tooltip=\"Duplicate website\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.deleteWebsite(props.currentWebsite)\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    tooltip=\"Delete website.<br>This action can not be reverted.\"\n                />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={() => {}}\n                    nodeContentRenderer={ItemRenderer}\n                    canDrop={() => false}\n                    canDrag={() => false}\n                    generateNodeProps={({ node }) => ({\n                        className:\n                            node.id === props.currentWebsite\n                                ? [classes.Chosen]\n                                : null,\n                    })}\n                    isVirtualized={!props.notVirtual}\n                    onMoveNode={({ node, treeIndex, path }) =>\n                        global.console.debug(\n                            'node:',\n                            node,\n                            'treeIndex:',\n                            treeIndex,\n                            'path:',\n                            path\n                        )\n                    }\n                    scaffoldBlockPxWidth={22}\n                    rowHeight={20}\n                />\n            </div>\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentWebsite: state.currentWebsite,\n        websites: state.websites,\n        domainNotOk: state.domainNotOk,\n        notSavedResources: state.notSavedResources,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        loadWebsite: (id, notSavedResources) =>\n            dispatch(actions.loadWebsite(id, notSavedResources)),\n        addWebsite: (duplicate, currentWebsite) =>\n            dispatch(actions.addWebsite(duplicate, currentWebsite)),\n        deleteWebsite: id => dispatch(actions.deleteWebsite(id)),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(WebsitesTree)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './WebsitesTree.module.css'\nimport InspectorValue from '../../../../components/UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\nimport Svg from '../../../../components/Svg/Svg'\n\ntype Props = {\n    chooseWebsite: typeof actions.chooseWebsite,\n    loadedWebsite: string,\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    connectDragPreview: Function,\n    className: string,\n    style: string,\n    node: { name: string, id: string },\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        connectDragPreview = _this$props.connectDragPreview,\n        className = _this$props.className,\n        style = _this$props.style\n\n    const { name, id } = props.node\n    const rowClasses = [classes.rst__row, className]\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => {\n                props.chooseWebsite(id)\n            }}\n            data-testid={name}\n        >\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            className={[\n                                classes.rst__rowContents,\n                                classes.rst__rowContentsDragDisabled,\n                            ].join(' ')}\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <InspectorValue\n                                    value={name}\n                                    items={[]}\n                                    blur={value => {\n                                        if (value !== name)\n                                            props.changeWebsiteProperty(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                    }}\n                                    withState\n                                />\n                                {props.loadedWebsite === id ? (\n                                    <div className={classes.Loaded}>\n                                        <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"></path></svg>' />\n                                    </div>\n                                ) : null}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        loadedWebsite: state.loadedWebsite,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseWebsite: id => dispatch(actions.chooseWebsite(id)),\n        changeWebsiteProperty: (key, value, id) =>\n            dispatch(actions.changeWebsiteProperty(key, value, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"WebsitesTree_rst__virtualScrollOverride__3zbIC\",\"ReactVirtualized__Grid__innerScrollContainer\":\"WebsitesTree_ReactVirtualized__Grid__innerScrollContainer__2P6dm\",\"rst__rtl\":\"WebsitesTree_rst__rtl__3iVcx\",\"ReactVirtualized__Grid\":\"WebsitesTree_ReactVirtualized__Grid__1cJYw\",\"rst__node\":\"WebsitesTree_rst__node__3jU7p\",\"rst__nodeContent\":\"WebsitesTree_rst__nodeContent__29s16\",\"rst__lineBlock\":\"WebsitesTree_rst__lineBlock__1_T2J\",\"rst__absoluteLineBlock\":\"WebsitesTree_rst__absoluteLineBlock__4gyz3\",\"rst__lineHalfHorizontalRight\":\"WebsitesTree_rst__lineHalfHorizontalRight__1IMJ8\",\"rst__lineFullVertical\":\"WebsitesTree_rst__lineFullVertical__1OWaW\",\"rst__lineHalfVerticalTop\":\"WebsitesTree_rst__lineHalfVerticalTop__39jCq\",\"rst__lineHalfVerticalBottom\":\"WebsitesTree_rst__lineHalfVerticalBottom__2qsPL\",\"rst__highlightLineVertical\":\"WebsitesTree_rst__highlightLineVertical__2DrSL\",\"arrow-pulse\":\"WebsitesTree_arrow-pulse__3fbyg\",\"rst__highlightTopLeftCorner\":\"WebsitesTree_rst__highlightTopLeftCorner__1VjlE\",\"rst__highlightBottomLeftCorner\":\"WebsitesTree_rst__highlightBottomLeftCorner__8cL4Q\",\"rst__rowWrapper\":\"WebsitesTree_rst__rowWrapper__3N8x9\",\"rst__row\":\"WebsitesTree_rst__row__sOpMM\",\"rst__rowLandingPad\":\"WebsitesTree_rst__rowLandingPad__8iBh_\",\"rst__rowCancelPad\":\"WebsitesTree_rst__rowCancelPad__168WQ\",\"rst__rowSearchMatch\":\"WebsitesTree_rst__rowSearchMatch__3tvfk\",\"rst__rowSearchFocus\":\"WebsitesTree_rst__rowSearchFocus__i0tQK\",\"rst__rowContents\":\"WebsitesTree_rst__rowContents__2gjT5\",\"rst__rowLabel\":\"WebsitesTree_rst__rowLabel__2vqlv\",\"rst__rowToolbar\":\"WebsitesTree_rst__rowToolbar__1ywUi\",\"rst__moveHandle\":\"WebsitesTree_rst__moveHandle__ZTCAp\",\"rst__toolbarButton\":\"WebsitesTree_rst__toolbarButton__1WSvf\",\"rst__rowContentsDragDisabled\":\"WebsitesTree_rst__rowContentsDragDisabled__UefNT\",\"rst__loadingHandle\":\"WebsitesTree_rst__loadingHandle__3Nd3-\",\"rst__loadingCircle\":\"WebsitesTree_rst__loadingCircle__2N8ti\",\"rst__loadingCirclePoint\":\"WebsitesTree_rst__loadingCirclePoint__2UkRf\",\"pointFade\":\"WebsitesTree_pointFade__3_7pL\",\"rst__rowTitle\":\"WebsitesTree_rst__rowTitle__3cKTG\",\"rst__rowTitleWithSubtitle\":\"WebsitesTree_rst__rowTitleWithSubtitle__1PmlO\",\"rst__rowSubtitle\":\"WebsitesTree_rst__rowSubtitle__3UVA_\",\"rst__collapseButton\":\"WebsitesTree_rst__collapseButton__33uiF\",\"rst__expandButton\":\"WebsitesTree_rst__expandButton__1Xkuw\",\"rst__lineChildren\":\"WebsitesTree_rst__lineChildren__2vODD\",\"rst__placeholder\":\"WebsitesTree_rst__placeholder__2LIHl\",\"rst__placeholderLandingPad\":\"WebsitesTree_rst__placeholderLandingPad__1pKvB\",\"rst__placeholderCancelPad\":\"WebsitesTree_rst__placeholderCancelPad__3-6r7\",\"ReactVirtualized__Table__headerRow\":\"WebsitesTree_ReactVirtualized__Table__headerRow__29v2k\",\"ReactVirtualized__Table__row\":\"WebsitesTree_ReactVirtualized__Table__row__1YT8P\",\"ReactVirtualized__Table__headerTruncatedText\":\"WebsitesTree_ReactVirtualized__Table__headerTruncatedText__3M-mT\",\"ReactVirtualized__Table__headerColumn\":\"WebsitesTree_ReactVirtualized__Table__headerColumn__VGmzH\",\"ReactVirtualized__Table__rowColumn\":\"WebsitesTree_ReactVirtualized__Table__rowColumn__3lTTO\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderColumn__2q3-M\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIconContainer__UrZlv\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIcon__X_qVi\",\"Chosen\":\"WebsitesTree_Chosen__4l8J5\",\"Loaded\":\"WebsitesTree_Loaded__3Jl7q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"WebsitesProperties_Span__2WznQ\",\"Input\":\"WebsitesProperties_Input__UKbGO\",\"Button\":\"WebsitesProperties_Button__2wTZ1\",\"LocalDomain\":\"WebsitesProperties_LocalDomain__3ONPY\",\"Title\":\"WebsitesProperties_Title__12BGx\",\"DomainSettings\":\"WebsitesProperties_DomainSettings__28t36\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"TextInput_Div__1cUnp\",\"Input\":\"TextInput_Input__iGsIp\",\"StyleControls\":\"TextInput_StyleControls__2aGfC\",\"Wrong\":\"TextInput_Wrong__2kJTR\",\"Inline\":\"TextInput_Inline__3BzMb\",\"Right\":\"TextInput_Right__3iZqV\"};","export default [\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'base',\n    'basefont',\n    'bdi',\n    'bdo',\n    'bgsound',\n    'big',\n    'blink',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'content',\n    'data',\n    'datalist',\n    'dd',\n    'decorator',\n    'del',\n    'details',\n    'dfn',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'element',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'isindex',\n    'kbd',\n    'keygen',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'map',\n    'mark',\n    'marquee',\n    'menu',\n    'menuitem',\n    'meta',\n    'meter',\n    'nav',\n    'nobr',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'plaintext',\n    'pre',\n    'progress',\n    'q',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'shadow',\n    'small',\n    'source',\n    'spacer',\n    'span',\n    'strike',\n    'strong',\n    'style',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'title',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n    'xmp',\n    'websiterMenu',\n]\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectWithoutProperties,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../utils/sortTreeMethods'\nimport tagItems from '../../../utils/tagItems'\n\nimport type {\n    initialStateType,\n    elementType,\n    resourceType,\n} from '../../../store/reducer/reducer'\n\ntype Props = {\n    changeBoxProperty: typeof actions.changeBoxProperty,\n    chooseBox: typeof actions.chooseBox,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: elementType & {\n        children: Array<elementType>,\n        expanded: boolean,\n        resourceDraft: resourceType,\n        currentResource:\n            | $PropertyType<initialStateType, 'currentPage'>\n            | $PropertyType<initialStateType, 'currentPlugin'>,\n        pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n        mode: 'page' | 'plugin',\n        itemPath: Array<{}>,\n    },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin',\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop,\n        otherProps = _objectWithoutProperties(_this$props, [\n            'scaffoldBlockPxWidth',\n            'toggleChildrenVisibility',\n            'connectDragPreview',\n            'connectDragSource',\n            'isDragging',\n            'canDrop',\n            'canDrag',\n            'node',\n            'title',\n            'subtitle',\n            'draggedNode',\n            'path',\n            'treeIndex',\n            'isSearchMatch',\n            'isSearchFocus',\n            'buttons',\n            'className',\n            'style',\n            'didDrop',\n            'treeId',\n            'isOver',\n            'parentNode',\n            'chooseBox',\n            'hoverBox',\n            'unhoverBox',\n            'changeBoxProperty',\n            'resourceDraft',\n            'currentResource',\n            'pluginsStructure',\n            'properties',\n            'mode',\n            'itemPath',\n            'text',\n            'isChildren',\n            'forChildren',\n            'textContent',\n            'rowDirection',\n        ])\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(<div className={classes.rst__moveHandle} />)\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const {\n        tag,\n        id,\n        text,\n        textContent,\n        isChildren,\n        resourceDraft,\n        currentResource,\n        pluginsStructure,\n        properties,\n        mode,\n        itemPath,\n        childrenTo,\n    } = props.node\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handleRename = value => {\n        if (value !== tag) {\n            if (mode === 'plugin') {\n                const currentPlugin = pluginsStructure.find(\n                    item => item.id === currentResource\n                )\n                if (!currentPlugin) return\n                if (value === currentPlugin.name) {\n                    alert('Plugin can not be inside itself.')\n                    return\n                }\n            }\n            props.changeBoxProperty(\n                'tag',\n                value,\n                currentResource,\n                resourceDraft\n            )\n        }\n    }\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } }, otherProps)}\n            onMouseDown={() =>\n                props.chooseBox(id, currentResource, resourceDraft)\n            }\n            onMouseEnter={() => props.hoverBox(id, mode)}\n            onMouseMove={() => props.hoverBox(id, mode)}\n            onMouseLeave={() => props.unhoverBox()}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {text ? (\n                                    'text' +\n                                    (textContent\n                                        ? ' - \"' +\n                                          textContent.substr(0, 25) +\n                                          (textContent.length > 25\n                                              ? '...'\n                                              : '') +\n                                          '\"'\n                                        : '')\n                                ) : (\n                                    <>\n                                        {!isChildren ? '<' : ''}\n                                        {(mode === 'plugin' &&\n                                            itemPath.length > 0) ||\n                                        (mode === 'page' &&\n                                            itemPath.length > 1) ? (\n                                            <InspectorValue\n                                                readonly={childrenTo}\n                                                value={tag}\n                                                items={tagItems.map(item => {\n                                                    return {\n                                                        abbr: item,\n                                                        name: item,\n                                                    }\n                                                })}\n                                                blur={handleRename}\n                                                withState\n                                            />\n                                        ) : (\n                                            tag\n                                        )}\n                                        {properties.id\n                                            ? ` id=\"${properties.id}\"`\n                                            : ''}\n                                        {properties.class\n                                            ? ` class=\"${properties.class}\"`\n                                            : ''}\n                                        {!isChildren\n                                            ? ' >'\n                                            : ' (inherited children)'}\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {}\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        chooseBox: (id, currentResource, resourceDraft) =>\n            dispatch(actions.chooseBox(id, currentResource, resourceDraft)),\n        changeBoxProperty: (key, value, currentResource, resourceDraft) =>\n            dispatch(\n                actions.changeBoxProperty(\n                    key,\n                    value,\n                    currentResource,\n                    resourceDraft\n                )\n            ),\n        hoverBox: (id, mode) => dispatch(actions.hoverBox(id, mode)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from './Images.module.css'\n// import * as barClasses from '../AdvancedBar.module.css'\nimport Svg from '../../../components/Svg/Svg'\nimport { bucket, CloudFrontUrl } from '../../../awsConfig'\nimport SmallButton from '../../../components/UI/Buttons/SmallButton/SmallButton'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    renameImage: typeof actions.renameImage,\n    deleteImage: typeof actions.deleteImage,\n    imageUpload: typeof actions.imageUpload,\n    chooseImage: typeof actions.chooseImage,\n    images: $PropertyType<initialStateType, 'images'>,\n    size: $PropertyType<initialStateType, 'storage'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n    currentImage: $PropertyType<initialStateType, 'currentImage'>,\n}\n\nconst copyToClipboard = str => {\n    const el = document.createElement('textarea') // Create a <textarea> element\n    el.value = str // Set its value to the string that you want copied\n    el.setAttribute('readonly', '') // Make it readonly to be tamper-proof\n    el.style.position = 'absolute'\n    el.style.left = '-9999px' // Move outside the screen to make it invisible\n    // $FlowFixMe\n    document.body.appendChild(el) // Append the <textarea> element to the HTML document\n    const selected =\n        // $FlowFixMe\n        document.getSelection().rangeCount > 0 // Check if there is any content selected previously\n            ? // $FlowFixMe\n              document.getSelection().getRangeAt(0) // Store selection if found\n            : false // Mark as false to know no selection existed before\n    el.select() // Select the <textarea> content\n    document.execCommand('copy') // Copy - only works as a result of a user action (e.g. click events)\n    // $FlowFixMe\n    document.body.removeChild(el) // Remove the <textarea> element\n    if (selected) {\n        // If a selection existed before copying\n        // $FlowFixMe\n        document.getSelection().removeAllRanges() // Unselect everything on the HTML document\n        // $FlowFixMe\n        document.getSelection().addRange(selected) // Restore the original selection\n    }\n}\n\nconst Images = (props: Props) => (\n    <div className={classes.Container}>\n        <div className={classes.Buttons}>\n            <SmallButton\n                inline\n                icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M5 4v3h5.5v12h3V7H19V4z\" ></path></svg>'\n                buttonClicked={() => props.renameImage(props.currentImage)}\n                tooltip=\"Rename media file\"\n            />\n            <SmallButton\n                inline\n                icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" ></path></svg>'\n                buttonClicked={() => props.deleteImage(props.currentImage)}\n                tooltip=\"Delete media file\"\n            />\n            <SmallButton\n                inline\n                icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                buttonClicked={() =>\n                    copyToClipboard('websiter/' + props.currentImage)\n                }\n                tooltip=\"Copy path to the media file to clipboard.<br>You can paste it where needed.\"\n            />\n        </div>\n        <div className={classes.Images}>\n            <label className={classes.ImageContainer}>\n                <input\n                    className={classes.ImageInput}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={e =>\n                        props.imageUpload(\n                            e.target.files,\n                            props.images,\n                            props.size,\n                            props.userId\n                        )\n                    }\n                />\n                <Svg icon='<svg height=\"150\" viewBox=\"0 0 24 24\" width=\"150\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>' />\n                <p className={classes.ImageName}>Upload image</p>\n            </label>\n            {props.images.map(image => {\n                const imageRequest = JSON.stringify({\n                    bucket: bucket,\n                    key: image.name,\n                    edits: {\n                        resize: {\n                            width: 150,\n                            height: 150,\n                            fit: 'contain',\n                            background: { r: 0, g: 0, b: 0, alpha: 0 },\n                        },\n                        toFormat: 'png',\n                    },\n                })\n                const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n                let imageClass = classes.ImageContainer\n\n                if (image.name === props.currentImage) {\n                    imageClass = [\n                        classes.ImageContainer,\n                        classes.ImageContainerChosen,\n                    ].join(' ')\n                }\n\n                return (\n                    <div\n                        className={imageClass}\n                        key={image.name}\n                        onClick={() => props.chooseImage(image.name)}\n                    >\n                        <LazyLoad height={150}>\n                            <img\n                                src={url}\n                                height=\"150\"\n                                width=\"150\"\n                                alt=\"websiter\"\n                            />\n                            <p className={classes.ImageName}>{image.label}</p>\n                        </LazyLoad>\n                    </div>\n                )\n            })}\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        images: state.images,\n        size: state.storage,\n        userId: state.userId,\n        currentImage: state.currentImage,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        imageUpload: (files, images, size, userId) =>\n            dispatch(actions.imageUpload(files, images, size, userId)),\n        chooseImage: image => dispatch(actions.chooseImage(image)),\n        deleteImage: image => dispatch(actions.deleteImage(image)),\n        renameImage: image => dispatch(actions.renameImage(image)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Images)\n","export const bucket = 'websiter'\nexport const CloudFrontUrl = 'https://d397lp77nj14b9.cloudfront.net/'\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { cloneDeep } from 'lodash'\n\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport InspectorValue from '../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../utils/sortTreeMethods'\nimport Svg from '../Svg/Svg'\n\nimport type { pageType, initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    chooseWebsite: typeof actions.chooseWebsite,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    chooseResource: typeof actions.chooseResource,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: pageType & { children: Array<pageType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin',\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    pagesStructure: $PropertyType<initialStateType, 'pagesStructure'>,\n    pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(<div className={classes.rst__moveHandle} />)\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, url, homepage, hidden, notPublished } = props.node\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        value = value.trim()\n        if (key === 'url') {\n            value = value.replace(/\\s+/g, '-').toLowerCase()\n        }\n\n        let newStructure = []\n        if (props.type === 'page')\n            newStructure = cloneDeep(props.pagesStructure)\n        if (props.type === 'plugin')\n            newStructure = cloneDeep(props.pluginsStructure)\n        const element = newStructure.find(item => item.id === id)\n        // $FlowFixMe\n        if (element[key] !== value) {\n            // $FlowFixMe\n            element[key] = value\n            props.saveResourcesStructure(\n                props.loadedWebsite,\n                newStructure,\n                props.pagesStructure,\n                props.type\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (props.currentPage !== id && props.currentPlugin !== id)\n            props.chooseResource(id, props.type)\n    }\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                            style={\n                                props.type === 'page'\n                                    ? {\n                                          minWidth: '350px',\n                                          paddingRight: '90px',\n                                      }\n                                    : {}\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <InspectorValue\n                                    value={name}\n                                    items={[]}\n                                    blur={value =>\n                                        handlePropertyChange('name', value, id)\n                                    }\n                                    withState\n                                />\n                            </div>\n                            {props.type === 'page' ? (\n                                <div className={classes.rst__rowLabel}>\n                                    url:\n                                    <InspectorValue\n                                        value={url}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'url',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        allowEmpty\n                                    />\n                                </div>\n                            ) : null}\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                {props.type === 'page' ? (\n                                    <div>\n                                        {homepage ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {props.type === 'page' ? (\n                                    <div>\n                                        {hidden ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                <div>\n                                    {notPublished ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {props.notSavedResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.pagesStructure,\n        pluginsStructure: state.pluginsStructure,\n        notSavedResources: state.notSavedResources,\n        loadedWebsite: state.loadedWebsite,\n        resourcesObjects: state.resourcesObjects,\n        currentPage: state.currentPage,\n        currentPlugin: state.currentPlugin,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: (id, type) =>\n            dispatch(actions.chooseResource(id, type)),\n        saveResourcesStructure: (websiteId, newStructure, oldStructure, type) =>\n            dispatch(\n                actions.saveResourcesStructure(\n                    websiteId,\n                    newStructure,\n                    oldStructure,\n                    type\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport SortableTree from 'react-sortable-tree'\n\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport withDragDropContext from '../../hoc/withDragDropContext'\nimport SmallButton from '../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../UI/TreeSearch/TreeSearch'\nimport { buildTree } from '../../utils/basic'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\nimport type { State } from '../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\nexport type Props = {\n    structure:\n        | $PropertyType<initialStateType, 'pagesStructure'>\n        | $PropertyType<initialStateType, 'pluginsStructure'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    type: 'page' | 'plugin',\n    addResource: typeof actions.addResource,\n    duplicateResource: typeof actions.addResource,\n    deleteResource: typeof actions.deleteResource,\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    saveResource: typeof actions.saveResource,\n    publishRevertResource: typeof actions.publishRevertResource,\n    revertResourceToSaved: typeof actions.revertResourceToSaved,\n}\n\nconst ResourcesTree = (props: Props) => {\n    const treeData = buildTree(props.structure)\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        props.saveResourcesStructure(\n            props.loadedWebsite,\n            result,\n            props.structure,\n            props.type\n        )\n    }\n\n    let currentResourcesStructureElement\n    if (props.currentResource) {\n        currentResourcesStructureElement = props.structure.find(\n            item => item.id === props.currentResource\n        )\n    }\n    const resourceStructureAttributeChange = (key, value) => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = props.structure.map(item => {\n            if (item.id === props.currentResource) {\n                return {\n                    ...item,\n                    [key]: value,\n                }\n            } else {\n                if (key === 'homepage') return { ...item, homepage: false }\n                else return item\n            }\n        })\n        props.saveResourcesStructure(\n            props.loadedWebsite,\n            newStructure,\n            props.structure,\n            props.type\n        )\n    }\n\n    const handleSaveResource = () => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = props.structure.map(item => {\n            if (item.id === props.currentResource)\n                return { ...item, notPublished: true }\n            else return item\n        })\n        props.saveResource(\n            props.currentResource,\n            props.resourcesObjects,\n            newStructure,\n            props.type\n        )\n    }\n\n    const handlePublishRevert = (revert?: boolean) => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = props.structure.map(item => {\n            if (item.id === props.currentResource)\n                return { ...item, notPublished: false }\n            else return item\n        })\n        props.publishRevertResource(\n            props.currentResource,\n            newStructure,\n            props.type,\n            revert,\n            props.resourcesObjects\n        )\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    return (\n        <>\n            <div>\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.addResource(\n                            props.loadedWebsite,\n                            props.currentResource,\n                            props.type\n                        )\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    tooltip=\"Add new resource (page or plugin)\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.duplicateResource(\n                            props.loadedWebsite,\n                            props.currentResource,\n                            props.type\n                        )\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    tooltip=\"Duplicate resource\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.deleteResource(props.currentResource, props.type)\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    tooltip=\"Delete resource\"\n                />\n                {props.type === 'page' ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                resourceStructureAttributeChange(\n                                    'homepage',\n                                    true\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>'\n                            tooltip=\"Set as the homepage\"\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() => {\n                                if (currentResourcesStructureElement)\n                                    resourceStructureAttributeChange(\n                                        'hidden',\n                                        !currentResourcesStructureElement.hidden\n                                    )\n                            }}\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                            tooltip=\"Make hidden or visible. <br>Hidden resources do not influence other resources.\"\n                        />\n                    </>\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() => handleSaveResource()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    tooltip=\"Save all changes in the resource.<br>Saved changes are not visible on the live version if they are not published.\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() => handlePublishRevert()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>'\n                    tooltip=\"Publish last saved changes of the resource.\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() => handlePublishRevert(true)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.2,8c-3.8,0-6.8,3.1-6.8,6.8c0,3.8,3,6.8,6.8,6.8s6.8-3.1,6.8-6.8S19,8,15.2,8z M19.9,12.1h-2c-0.2-0.9-0.5-1.7-0.9-2.4   C18.2,10.1,19.3,11,19.9,12.1z M15.2,9.4c0.6,0.8,1,1.7,1.3,2.7h-2.6C14.2,11.2,14.7,10.3,15.2,9.4z M13.5,9.7   c-0.5,0.8-0.8,1.6-1,2.4h-2C11.2,11,12.2,10.1,13.5,9.7z M9.9,16.2c-0.1-0.4-0.2-0.9-0.2-1.4s0.1-0.9,0.2-1.4h2.3   c-0.1,0.4-0.1,0.9-0.1,1.4s0,0.9,0.1,1.4H9.9z M10.5,17.6h2c0.2,0.9,0.5,1.7,0.9,2.4C12.2,19.6,11.2,18.7,10.5,17.6z M15.2,20.3   c-0.6-0.8-1-1.7-1.3-2.7h2.6C16.2,18.6,15.8,19.5,15.2,20.3z M16.8,16.2h-3.2c-0.1-0.4-0.1-0.9-0.1-1.4s0-0.9,0.1-1.4h3.2   c0.1,0.4,0.1,0.9,0.1,1.4S16.9,15.8,16.8,16.2z M17,20c0.4-0.8,0.7-1.6,0.9-2.4h2C19.3,18.7,18.2,19.6,17,20z M18.2,16.2   c0.1-0.4,0.1-0.9,0.1-1.4s0-0.9-0.1-1.4h2.3c0.1,0.4,0.2,0.9,0.2,1.4s-0.1,0.9-0.2,1.4H18.2z M9,10.6H2V3.5l2,2   c4-3.1,8.1-2.1,11.1,0C12.1,5,9.5,6,7,8.5L9,10.6z\"></path></svg>'\n                    tooltip=\"Revert resource to the last published version\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.revertResourceToSaved(\n                            props.currentResource,\n                            props.resourcesObjects\n                        )\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M18.6,10.1h-7.3c-0.7,0-1.2,0.5-1.2,1.2v8.5c0,0.7,0.5,1.2,1.2,1.2h8.5c0.7,0,1.2-0.5,1.2-1.2v-7.3L18.6,10.1z M15.6,19.8   c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C17.4,19,16.6,19.8,15.6,19.8z M17.4,13.7h-6v-2.4h6V13.7z    M10.1,10.1H3V3l2,2c4-3,8.1-2,11.1,0c-3-0.5-5.6,0.5-8.1,3L10.1,10.1z\"></path></svg>'\n                    tooltip=\"Revert resource to the last saved version\"\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        setState({\n                            ...state,\n                            searchOpen: !state.searchOpen,\n                        })\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                    tooltip=\"Show or hide search\"\n                />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    generateNodeProps={({ node }) => ({\n                        className:\n                            node.id === props.currentResource\n                                ? [classes.Chosen]\n                                : null,\n                        type: props.type,\n                    })}\n                    isVirtualized={true}\n                    rowHeight={20}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        loadedWebsite: state.loadedWebsite,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addResource: (websiteId, currentId, type) =>\n            dispatch(actions.addResource(websiteId, currentId, type)),\n        duplicateResource: (websiteId, currentId, type) =>\n            dispatch(actions.addResource(websiteId, currentId, type, true)),\n        deleteResource: (currentId, type) =>\n            dispatch(actions.deleteResource(currentId, type)),\n        saveResourcesStructure: (websiteId, newStructure, oldStructure, type) =>\n            dispatch(\n                actions.saveResourcesStructure(\n                    websiteId,\n                    newStructure,\n                    oldStructure,\n                    type\n                )\n            ),\n        saveResource: (currentResource, resourcesObjects, structure, type) =>\n            dispatch(\n                actions.saveResource(\n                    currentResource,\n                    resourcesObjects,\n                    structure,\n                    type\n                )\n            ),\n        publishRevertResource: (\n            currentResource,\n            structure,\n            type,\n            revert,\n            resourcesObjects\n        ) =>\n            dispatch(\n                actions.publishRevertResource(\n                    currentResource,\n                    structure,\n                    type,\n                    revert,\n                    resourcesObjects\n                )\n            ),\n        revertResourceToSaved: (currentResource, resourcesObjects) =>\n            dispatch(\n                actions.revertResourceToSaved(currentResource, resourcesObjects)\n            ),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(ResourcesTree)\n)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './TextProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport Checkbox from '../../../UI/Checkbox/Checkbox'\nimport Select from '../../../UI/Select/Select'\n\nimport type {\n    resourceType,\n    elementType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    element: elementType,\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => {},\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>,\n    splitText: typeof actions.splitText,\n    textToSpan: typeof actions.textToSpan,\n}\n\nconst TextProperty = (props: Props) => {\n    const [state, setState] = useState({\n        selectionStart: 0,\n        selectionEnd: 0,\n        value: '',\n    })\n\n    const editor = useRef(null)\n\n    useEffect(() => {\n        if (props.element.textContent !== state.value) {\n            setState({\n                selectionStart: 0,\n                selectionEnd: 0,\n                value: props.element.textContent,\n            })\n        }\n    })\n\n    const setCssMode = item => props.changeProperty('textMode', item.value)\n\n    const handleTextChangeCss = value => {\n        value = value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        props.changeProperty('textContent', value)\n    }\n\n    const handleTextChangeText = e => {\n        const value = e.target.value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        props.changeProperty('textContent', value)\n        if (props.element.textMode === 'text')\n            setState({\n                selectionStart: e.target.selectionStart,\n                selectionEnd: e.target.selectionEnd,\n                value,\n            })\n    }\n\n    const handleSelectionChange = e => {\n        setState({\n            ...state,\n            selectionStart: e.target.selectionStart,\n            selectionEnd: e.target.selectionEnd,\n        })\n    }\n\n    return props.element ? (\n        <>\n            <div>\n                <div className={classes.SelectContainer}>\n                    <Select\n                        options={[\n                            { value: 'text', label: 'text' },\n                            { value: 'css', label: 'css' },\n                            { value: 'javascript', label: 'javascript' },\n                        ]}\n                        default={\n                            props.element.textMode === 'text'\n                                ? 0\n                                : props.element.textMode === 'css'\n                                ? 1\n                                : 2\n                        }\n                        onChange={setCssMode}\n                        isClearable={false}\n                    />\n                </div>\n\n                {props.element.textMode === 'text' ? (\n                    <>\n                        <SmallButton\n                            title=\"Split\"\n                            buttonClicked={() => {\n                                props.splitText(\n                                    state.selectionStart,\n                                    state.selectionEnd,\n                                    props.currentResource,\n                                    props.resourceDraft\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                        />\n\n                        <SmallButton\n                            title=\"To span\"\n                            buttonClicked={() => {\n                                props.textToSpan(\n                                    state.selectionStart,\n                                    state.selectionEnd,\n                                    props.currentResource,\n                                    props.resourceDraft\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                        />\n                    </>\n                ) : (\n                    <SmallButton\n                        buttonClicked={() => {\n                            editor.current.makeCodePrettier()\n                        }}\n                        icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                        inline\n                        tooltip=\"Beatify the code\"\n                    />\n                )}\n            </div>\n            <div className={classes.Editors}>\n                {props.element.textMode === 'text' ? (\n                    <textarea\n                        className={classes.Textarea}\n                        onChange={handleTextChangeText}\n                        value={state.value}\n                        onKeyUp={handleSelectionChange}\n                        onMouseUp={handleSelectionChange}\n                    />\n                ) : (\n                    <Editor\n                        ref={editor}\n                        currentElement={props.element.id}\n                        elementValue={props.element.textContent || ''}\n                        // elementCurrentCursor={element.cursorPosition}\n                        editorMode={props.element.textMode}\n                        handleChange={handleTextChangeCss}\n                        name=\"editorText\"\n                    />\n                )}\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        splitText: (start, end) =>\n            dispatch(\n                actions.splitText(\n                    start,\n                    end,\n                    props.currentResource,\n                    props.resourceDraft\n                )\n            ),\n        textToSpan: (start, end) =>\n            dispatch(\n                actions.textToSpan(\n                    start,\n                    end,\n                    props.currentResource,\n                    props.resourceDraft\n                )\n            ),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(TextProperty)\n","export default {\n    websiterMenu: [\n        {\n            value: 'horizontal | vertical',\n            label: 'mode',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemActiveClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemActiveClasses',\n        },\n    ],\n    baseHtmlProps: [\n        {\n            value: 'id',\n            label: 'id',\n        },\n        {\n            value: 'class',\n            label: 'class',\n        },\n    ],\n}\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n// $FlowFixMe\nimport 'react-tabs/style/react-tabs.css'\n\nimport * as classes from './Properties.module.css'\n// import * as actions from '../../../store/actions'\nimport TextProperty from './TextProperty/TextProperty'\nimport MenuItems from './MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport { checkIfCapital } from '../../../utils/basic'\nimport propertiesSuggestedList from './propertiesSuggestedList'\n\nimport type {\n    resourceType,\n    elementType,\n    initialStateType,\n} from '../../../store/reducer/reducer'\n\ntype Props = {\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => {},\n    mode: 'page' | 'plugin',\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>,\n}\n\nconst Properties = (props: Props) => {\n    if (!props.resourceDraft.structure) return null\n    const element = props.resourceDraft.structure.find(\n        item => props.resourceDraft.currentBox === item.id\n    )\n\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value) {\n            const changes: elementType = {}\n            changes.cursorPosition = cursorPosition\n            changes['propertiesString'] = value\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            if (obj) {\n                changes['properties'] = obj\n                changes['propertiesString'] = JSON.stringify(obj)\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n\n    const handleStyleChange = (value, cursorPosition) => {\n        if (value) {\n            value = value.trim()\n            if (value.length < 6) {\n                value = ''\n            } else {\n                if (value.charAt(0) === '{') {\n                    value = value.slice(1)\n                }\n                if (value.charAt(value.length - 1) === '}') {\n                    value = value.slice(0, value.length - 2)\n                }\n                value = value.trim()\n            }\n            const changes = {\n                style: value,\n                cursorPosition,\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n    const isPlugin = element ? checkIfCapital(element.tag.charAt(0)) : false\n    return element ? (\n        element.text && !isPlugin ? (\n            <TextProperty\n                element={element}\n                changeProperty={props.changeProperty}\n                currentResource={props.currentResource}\n                resourceDraft={props.resourceDraft}\n            />\n        ) : (\n            <Tabs className={['react-tabs', classes.reactTabs].join(' ')}>\n                <TabList>\n                    {/* {element.tag !== 'menu' ? ( */}\n                    {!isPlugin ? (\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classes.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Style\n                        </Tab>\n                    ) : null}\n                    {/* ) : null} */}\n                    <Tab\n                        className={[\n                            'react-tabs__tab',\n                            classes.reactTabsTab,\n                        ].join(' ')}\n                    >\n                        Properties\n                    </Tab>\n                    {element.tag === 'websiterMenu' ? (\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classes.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Items\n                        </Tab>\n                    ) : null}\n                </TabList>\n                {/* {element.tag !== 'menu' ? ( */}\n                {!isPlugin ? (\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classes.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        <Editor\n                            currentElement={props.resourceDraft.currentBox}\n                            elementValue={'{ ' + (element.style || '') + ' }'}\n                            elementCurrentCursor={element.cursorPosition}\n                            editorMode=\"css\"\n                            handleChange={handleStyleChange}\n                            name=\"editorStyle\"\n                        />\n                    </TabPanel>\n                ) : null}\n                {/* ) : null} */}\n                <TabPanel\n                    selectedClassName={[\n                        'react-tabs__tab-panel--selected',\n                        classes.reactTabsTabPanelSelected,\n                    ].join(' ')}\n                >\n                    <Editor\n                        suggestOptions={[\n                            ...(element.tag !== 'menu'\n                                ? propertiesSuggestedList.baseHtmlProps\n                                : []),\n                            ...(propertiesSuggestedList[element.tag]\n                                ? propertiesSuggestedList[element.tag]\n                                : []),\n                        ]}\n                        currentElement={props.resourceDraft.currentBox}\n                        elementValue={element.propertiesString || '{}'}\n                        elementCurrentCursor={element.cursorPosition}\n                        editorMode=\"json\"\n                        handleChange={hanglePropertiesChange}\n                        name=\"editorProperties\"\n                    />\n                </TabPanel>\n                {element.tag === 'websiterMenu' ? (\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classes.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        <MenuItems\n                            element={element}\n                            changeProperty={props.changeProperty}\n                            mode={props.mode}\n                        />\n                    </TabPanel>\n                ) : null}\n            </Tabs>\n        )\n    ) : null\n}\n\nexport default Properties\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    pagesStructure: $PropertyType<initialStateType, 'pagesStructure'>,\n    pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBarSize: typeof actions.changeBarSize,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Plugins = (props: Props) => {\n    const page = props.currentPlugin\n        ? props.resourcesObjects[props.currentPlugin]\n            ? !props.resourcesObjects[props.currentPlugin].present.structure\n                ? props.resourcesObjects[props.currentPlugin].draft\n                : props.resourcesObjects[props.currentPlugin].present\n            : null\n        : null\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree\n                    type=\"plugin\"\n                    structure={props.pluginsStructure}\n                    currentResource={props.currentPlugin}\n                />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    changed={value =>\n                        props.changeBarSize(props.barSizes, {\n                            key: 'width',\n                            value,\n                        })\n                    }\n                />\n            </div>\n            {page ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree\n                            pagesStructure={props.pagesStructure}\n                            currentResource={props.currentPlugin}\n                            resourcesObjects={props.resourcesObjects}\n                            resourceDraft={page}\n                            mode=\"plugin\"\n                        />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            changed={value =>\n                                props.changeBarSize(props.barSizes, {\n                                    key: 'width2',\n                                    value,\n                                })\n                            }\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"plugin\"\n                            currentResource={props.currentPlugin}\n                            resourceDraft={page}\n                            changeProperty={(key, value) =>\n                                props.changeBoxProperty(\n                                    key,\n                                    value,\n                                    props.currentPlugin,\n                                    page\n                                )\n                            }\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        pluginsStructure: state.pluginsStructure,\n        currentPlugin: state.currentPlugin,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n        changeBoxProperty: (key, value, currentResource, resourceDraft) =>\n            dispatch(\n                actions.changeBoxProperty(\n                    key,\n                    value,\n                    currentResource,\n                    resourceDraft\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Plugins)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    pagesStructure: $PropertyType<initialStateType, 'pagesStructure'>,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBarSize: typeof actions.changeBarSize,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Pages = (props: Props) => {\n    const page = props.currentPage\n        ? props.resourcesObjects[props.currentPage]\n            ? !props.resourcesObjects[props.currentPage].present.structure\n                ? props.resourcesObjects[props.currentPage].draft\n                : props.resourcesObjects[props.currentPage].present\n            : null\n        : null\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree\n                    type=\"page\"\n                    structure={props.pagesStructure}\n                    currentResource={props.currentPage}\n                />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    changed={value =>\n                        props.changeBarSize(props.barSizes, {\n                            key: 'width',\n                            value,\n                        })\n                    }\n                />\n            </div>\n            {page ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree\n                            pagesStructure={props.pagesStructure}\n                            currentResource={props.currentPage}\n                            resourcesObjects={props.resourcesObjects}\n                            resourceDraft={page}\n                            mode=\"page\"\n                        />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            changed={value =>\n                                props.changeBarSize(props.barSizes, {\n                                    key: 'width2',\n                                    value,\n                                })\n                            }\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"page\"\n                            currentResource={props.currentPage}\n                            resourceDraft={page}\n                            changeProperty={(key, value) =>\n                                props.changeBoxProperty(\n                                    key,\n                                    value,\n                                    props.currentPage,\n                                    page\n                                )\n                            }\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        pagesStructure: state.pagesStructure,\n        currentPage: state.currentPage,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n        changeBoxProperty: (key, value, currentResource, resourceDraft) =>\n            dispatch(\n                actions.changeBoxProperty(\n                    key,\n                    value,\n                    currentResource,\n                    resourceDraft\n                )\n            ),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Pages)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport LoginButton from '../../../components/UI/LoginButton/LoginButton'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    storage: $PropertyType<initialStateType, 'storage'>,\n    logout: typeof actions.logout,\n    switchTooltips: typeof actions.switchTooltips,\n    deleteUser: typeof actions.deleteUser,\n}\n\nconst Account = (props: Props) => (\n    <div className={classes.Content}>\n        <div className={classes.Container}>\n            <div>{props.storage}Bytes</div>\n            <LoginButton\n                datatestid=\"logoutAccount\"\n                clicked={() => props.logout()}\n                btnType=\"Danger\"\n            >\n                LOGOUT\n            </LoginButton>\n            <LoginButton\n                datatestid=\"logoutAccount\"\n                clicked={() => props.logout(true)}\n                btnType=\"Danger\"\n            >\n                LOGOUT ON ALL DEVICES\n            </LoginButton>\n            <LoginButton\n                datatestid=\"deleteAccount\"\n                clicked={() => props.switchTooltips()}\n                btnType=\"Danger\"\n            >\n                TURN OFF/ON TOOLTIPS\n            </LoginButton>\n            <LoginButton\n                datatestid=\"deleteAccount\"\n                clicked={() => props.deleteUser()}\n                btnType=\"Danger\"\n            >\n                DELETE MY ACCOUNT\n            </LoginButton>\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.loading,\n        storage: state.storage,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        deleteUser: () => dispatch(actions.deleteUser()),\n        logout: all => dispatch(actions.logout(all)),\n        switchTooltips: () => dispatch(actions.switchTooltips()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Account)\n","import React from 'react'\n\nimport classes from './TextInput.module.css'\n// import SmallButton from '../Buttons/SmallButton/SmallButton';\n\ntype Props = {\n    title?: string,\n    changed?: Function,\n    blur?: Function,\n    value?: string | number,\n    datatestid?: string,\n    wrong?: boolean,\n    inline?: boolean,\n    right?: boolean,\n    minWidth?: number,\n}\n\nexport const TextInput = (props: Props) => {\n    return (\n        <div\n            className={[classes.Div, props.inline ? classes.Inline : ''].join(\n                ' '\n            )}\n        >\n            {props.title}\n            <input\n                data-testid={props.datatestid || 'MyInput'}\n                type=\"text\"\n                className={[\n                    classes.Input,\n                    props.wrong ? classes.Wrong : '',\n                    props.right ? classes.Right : '',\n                ].join(' ')}\n                style={{\n                    minWidth: props.minWidth ? props.minWidth + 'px' : 'auto',\n                }}\n                value={props.value || ''}\n                onChange={e =>\n                    props.changed ? props.changed(e.target.value) : {}\n                }\n                onBlur={e => (props.blur ? props.blur(e.target.value) : {})}\n            />\n\n            {/* { props.changedStyleValues.includes(props.valueKey) ?\n                <div className={classes.StyleControls}>\n                    <SmallButton \n                        inline\n                        isSection={props.isSection}\n                        value={props.valueKey}\n                        icon='<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 24 24\"><path xmlns=\"http://www.w3.org/2000/svg\" d=\"M15 1H9v2h6V1zm4.03 6.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-.32-5H6.35c.57 1.62 1.82 2.92 3.41 3.56l-.11-.06 2.03-3.5zm5.97-4c-.57-1.6-1.78-2.89-3.34-3.54L12.26 11h5.39zm-7.04 7.83c.45.11.91.17 1.39.17 1.34 0 2.57-.45 3.57-1.19l-2.11-3.9-2.85 4.92zM7.55 8.99C6.59 10.05 6 11.46 6 13c0 .34.04.67.09 1h4.72L7.55 8.99zm8.79 8.14C17.37 16.06 18 14.6 18 13c0-.34-.04-.67-.09-1h-4.34l2.77 5.13zm-3.01-9.98C12.9 7.06 12.46 7 12 7c-1.4 0-2.69.49-3.71 1.29l2.32 3.56 2.72-4.7z\" ></path></svg>'\n                        clicked=\"transition\" />\n                    <SmallButton\n                        inline\n                        isSection={props.isSection}\n                        value={props.valueKey}\n                        icon='<svg width=\"16px\" height=\"16px\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" ></path></svg>'\n                        clicked=\"clearStyle\" />\n                </div> : null\n            } */}\n        </div>\n    )\n}\n\nexport default TextInput\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './WebsitesProperties.module.css'\nimport withDragDropContext from '../../../../hoc/withDragDropContext'\nimport SmallButton from '../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport TextInput from '../../../../components/UI/TextInput/TextInput'\nimport Svg from '../../../../components/Svg/Svg'\n\nimport type { initialStateType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    currentWebsite: $PropertyType<initialStateType, 'currentWebsite'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    domainNotOk: $PropertyType<initialStateType, 'domainNotOk'>,\n    customDomainNotOk: $PropertyType<initialStateType, 'customDomainNotOk'>,\n    verifyCustomDomain: typeof actions.verifyCustomDomain,\n}\n\nconst WebsitesProperties = (props: Props) => {\n    useEffect(() => {\n        const websiteElement = props.websites.find(\n            website => website._id === props.currentWebsite\n        )\n        let value = ''\n        if (websiteElement) {\n            value = websiteElement.domain\n        }\n        setDomainValue(value)\n        value = ''\n        if (websiteElement) {\n            value = websiteElement.customDomain || ''\n        }\n        if (value === '__delete__') {\n            value = ''\n        }\n        setCustomDomainValue(value)\n    }, [props.currentWebsite])\n    const [domainValue: string, setDomainValue] = useState('')\n    const [customDomainValue, setCustomDomainValue] = useState('')\n    let website\n    if (props.websites) {\n        website = props.websites.find(\n            website => website._id === props.currentWebsite\n        )\n    }\n    return props.currentWebsite ? (\n        <div className={classes.DomainSettings}>\n            <div className={classes.LocalDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        website.domainHidden ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    <span>Local domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>\n                        https://live.websiter.dev/\n                    </span>\n                    <TextInput\n                        changed={value => setDomainValue(value)}\n                        value={domainValue}\n                        wrong={props.domainNotOk}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.changeWebsiteProperty(\n                            'domain',\n                            domainValue,\n                            props.currentWebsite\n                        )\n                    }\n                    tooltip=\"Save local domain name\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainHidden',\n                                !website.domainHidden,\n                                props.currentWebsite\n                            )\n                    }}\n                    tooltip=\"Hide/show local domain\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://live.websiter.dev/' + domainValue,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n            </div>\n            <div className={classes.CustomDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        website.customDomainHidden ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    {website ? (\n                        website.customDomainVerified ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    <span>Custom domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>https://</span>\n                    <TextInput\n                        changed={value => setCustomDomainValue(value)}\n                        value={customDomainValue}\n                        wrong={props.customDomainNotOk}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.changeWebsiteProperty(\n                            'customDomain',\n                            customDomainValue,\n                            props.currentWebsite\n                        )\n                    }\n                    tooltip=\"Save custom domain name\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'customDomainHidden',\n                                !website.customDomainHidden,\n                                props.currentWebsite\n                            )\n                    }}\n                    tooltip=\"Hide/show custom domain\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://' + customDomainValue,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.verifyCustomDomain(props.currentWebsite)\n                    }\n                    tooltip=\"Verify website ownership\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.changeWebsiteProperty(\n                            'customDomain',\n                            '__delete__',\n                            props.currentWebsite\n                        )\n                    }\n                    tooltip=\"Delete custom domain\"\n                    inline\n                />\n                {website ? (\n                    website.customDomain &&\n                    website.cname &&\n                    website.verifyCode ? (\n                        <div>\n                            `In order to use your custom domain you need to\n                            create the following CNAME DNS record <br /> $\n                            {website.cname}\n                            <br /> If you want to verify your domain ownership\n                            and make sure that nobody else could connect this\n                            domain to other website add the following TXT DNS\n                            record and press verify button:\n                            <br />${website.verifyCode}`\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentWebsite: state.currentWebsite,\n        websites: state.websites,\n        domainNotOk: state.domainNotOk,\n        customDomainNotOk: state.customDomainNotOk,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeWebsiteProperty: (key, value, id) =>\n            dispatch(actions.changeWebsiteProperty(key, value, id)),\n        verifyCustomDomain: id => dispatch(actions.verifyCustomDomain(id)),\n    }\n}\n\nexport default withDragDropContext(\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(WebsitesProperties)\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport WebsitesTree from './WebsitesTree/WebsitesTree'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport WebsitesProperties from './WebsitesProperties/WebsitesProperties'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    changeBarSize: typeof actions.changeBarSize,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    notVirtual?: boolean,\n}\n\nconst Websites = (props: Props) => (\n    <div className={classes.Content}>\n        <div\n            className={classes.Container}\n            style={{ flex: '0 0 ' + props.barSizes.width + 'px' }}\n        >\n            <WebsitesTree notVirtual={props.notVirtual} />\n            <SizeDragController\n                addClass={classes.widthControll}\n                startValue={props.barSizes.width}\n                changed={value =>\n                    props.changeBarSize(props.barSizes, {\n                        key: 'width',\n                        value,\n                    })\n                }\n            />\n        </div>\n        <div className={classes.LastContainer}>\n            <WebsitesProperties />\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Websites)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n\nimport * as classes from './AdvancedBar.module.css'\nimport SizeDragController from './SizeDragController/SizeDragController'\nimport * as actions from '../../store/actions'\nimport Images from './Images/Images'\nimport Plugins from './Plugins/Plugins'\nimport Pages from './Pages/Pages'\nimport Account from './Account/Account'\nimport Websites from './Websites/Websites'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    undoResourceVersion: typeof actions.undoResourceVersion,\n    redoResourceVersion: typeof actions.redoResourceVersion,\n    setCurrentTopTab: typeof actions.setCurrentTopTab,\n    changeBarSize: typeof actions.changeBarSize,\n    toggleFindMode: typeof actions.toggleFindMode,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nconst AdvancedBar = (props: Props) => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const tabClassSelected = [\n        'react-tabs__tab--selected',\n        classes.TabSelected,\n    ].join(' ')\n\n    const undoRedoTabNames = ['page', 'plugin', '', '', '', '']\n\n    const handleKeyDown = e => {\n        if (!e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n            props.undoResourceVersion()\n        if (e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n            props.redoResourceVersion()\n    }\n\n    const handleTabSelected = index => {\n        props.setCurrentTopTab(undoRedoTabNames[index])\n        props.changeBarSize(props.barSizes)\n        props.toggleFindMode()\n    }\n\n    return (\n        <div\n            style={{ height: props.barSizes.height + 'px' }}\n            className={classes.mainContainer}\n            tabIndex=\"0\"\n            onKeyDown={e => handleKeyDown(e)}\n        >\n            <SizeDragController\n                addClass={classes.heightControll}\n                vertical\n                startValue={props.barSizes.height}\n                changed={value => {\n                    props.changeBarSize(props.barSizes, {\n                        key: 'height',\n                        value,\n                    })\n                }}\n            />\n            <Tabs\n                className={['react-tabs', classes.reactTabs].join(' ')}\n                onSelect={index => handleTabSelected(index)}\n                selectedTabClassName={tabClassSelected}\n                selectedTabPanelClassName={pannelClass}\n            >\n                <TabList className={classes.TabList}>\n                    <Tab className={tabClass}>Pages</Tab>\n                    <Tab className={tabClass}>Plugins</Tab>\n                    <Tab className={tabClass}>Media files</Tab>\n                    <Tab className={tabClass}>Websites</Tab>\n                    <Tab className={tabClass}>Account</Tab>\n                </TabList>\n\n                <TabPanel>\n                    <Pages />\n                </TabPanel>\n                <TabPanel>\n                    <Plugins />\n                </TabPanel>\n                <TabPanel>\n                    <Images />\n                </TabPanel>\n                <TabPanel>\n                    <Websites />\n                </TabPanel>\n                <TabPanel>\n                    <Account />\n                </TabPanel>\n            </Tabs>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        loading: state.loading,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n        setCurrentTopTab: currentTopTab =>\n            dispatch(actions.setCurrentTopTab(currentTopTab)),\n        undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AdvancedBar)\n","import React from 'react'\nimport type { Node } from 'react'\nimport { connect } from 'react-redux'\n\nimport classes from './SiteBuilderLayout.module.css'\nimport AdvancedBar from '../../containers/AdvancedBar/AdvancedBar'\n\ntype Props = {\n    children: Node,\n    barHeight: number,\n}\n\nconst SiteBuilderLayout = (props: Props) => {\n    return (\n        <>\n            <main\n                data-testid=\"siteBuilderLayoutMain\"\n                className={classes.Content}\n                style={{ height: 'calc(100% - ' + props.barHeight + 'px)' }}\n            >\n                {props.children}\n            </main>\n            <AdvancedBar />\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barHeight: state.barSizes.height,\n    }\n}\n\nexport default connect(mapStateToProps)(SiteBuilderLayout)\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// MIT License from https://github.com/kaimallea/isMobile\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","import * as React from 'react'\nimport isMobile from './utils/isMobile'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n    var prefix = menuEventKey || ''\n    return child.key || ''.concat(prefix, 'item_').concat(index)\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n    return ''.concat(eventKey, '-menu-')\n}\nexport function loopMenuItem(children, cb) {\n    var index = -1\n    React.Children.forEach(children, function(c) {\n        index += 1\n\n        if (c && c.type && c.type.isMenuItemGroup) {\n            React.Children.forEach(c.props.children, function(c2) {\n                index += 1\n                cb(c2, index)\n            })\n        } else {\n            cb(c, index)\n        }\n    })\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n    /* istanbul ignore if */\n    if (!children || ret.find) {\n        return\n    }\n\n    React.Children.forEach(children, function(c) {\n        if (c) {\n            var construct = c.type\n\n            if (\n                !construct ||\n                !(\n                    construct.isSubMenu ||\n                    construct.isMenuItem ||\n                    construct.isMenuItemGroup\n                )\n            ) {\n                return\n            }\n\n            if (keys.indexOf(c.key) !== -1) {\n                ret.find = true\n            } else if (c.props.children) {\n                loopMenuItemRecursively(c.props.children, keys, ret)\n            }\n        }\n    })\n}\nexport var menuAllProps = [\n    'defaultSelectedKeys',\n    'selectedKeys',\n    'defaultOpenKeys',\n    'openKeys',\n    'mode',\n    'getPopupContainer',\n    'onSelect',\n    'onDeselect',\n    'onDestroy',\n    'openTransitionName',\n    'openAnimation',\n    'subMenuOpenDelay',\n    'subMenuCloseDelay',\n    'forceSubMenuRender',\n    'triggerSubMenuAction',\n    'level',\n    'selectable',\n    'multiple',\n    'onOpenChange',\n    'visible',\n    'focusable',\n    'defaultActiveFirst',\n    'prefixCls',\n    'inlineIndent',\n    'parentMenu',\n    'title',\n    'rootPrefixCls',\n    'eventKey',\n    'active',\n    'onItemHover',\n    'onTitleMouseEnter',\n    'onTitleMouseLeave',\n    'onTitleClick',\n    'popupAlign',\n    'popupOffset',\n    'isOpen',\n    'renderMenuItem',\n    'manualRef',\n    'subMenuKey',\n    'disabled',\n    'index',\n    'isSelected',\n    'store',\n    'activeKey',\n    'builtinPlacements',\n    'overflowedIndicator',\n    'motion', // the following keys found need to be removed from test regression\n    'attribute',\n    'value',\n    'popupClassName',\n    'inlineCollapsed',\n    'menu',\n    'theme',\n    'itemIcon',\n    'expandIcon',\n] // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n    var width =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect().width\n\n    if (width) {\n        width = +width.toFixed(6)\n    }\n\n    return width || 0\n}\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n    if (elem && _typeof(elem.style) === 'object') {\n        elem.style[styleProperty] = value\n    }\n}\nexport var isMobileDevice = function isMobileDevice() {\n    return isMobile.any\n}\n","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport KeyCode from \"rc-util/es/KeyCode\"; // import Animate from 'rc-animate';\n\nimport CSSMotion from \"rc-animate/es/CSSMotion\";\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _objectSpread({}, state.defaultActiveFirst, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nexport var SubMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubMenu).call(this, props));\n\n    _this.onDestroy = function (key) {\n      _this.props.onDestroy(key);\n    };\n    /**\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      var menu = _this.menuInstance;\n      var _this$props = _this.props,\n          isOpen = _this$props.isOpen,\n          store = _this$props.store;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onTitleClick(e);\n\n        updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (isOpen) {\n          menu.onKeyDown(e);\n        } else {\n          _this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n\n          updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        }\n\n        return true;\n      }\n\n      if (keyCode === KeyCode.LEFT) {\n        var handled;\n\n        if (isOpen) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n\n        if (!handled) {\n          _this.triggerOpenChange(false);\n\n          handled = true;\n        }\n\n        return handled;\n      }\n\n      if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n\n      return undefined;\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onPopupVisibleChange = function (visible) {\n      _this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          key = _this$props2.eventKey,\n          onMouseEnter = _this$props2.onMouseEnter,\n          store = _this$props2.store;\n      updateDefaultActiveFirst(store, _this.props.eventKey, false);\n      onMouseEnter({\n        key: key,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props3 = _this.props,\n          parentMenu = _this$props3.parentMenu,\n          eventKey = _this$props3.eventKey,\n          onMouseLeave = _this$props3.onMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleMouseEnter = function (domEvent) {\n      var _this$props4 = _this.props,\n          key = _this$props4.eventKey,\n          onItemHover = _this$props4.onItemHover,\n          onTitleMouseEnter = _this$props4.onTitleMouseEnter;\n      onItemHover({\n        key: key,\n        hover: true\n      });\n      onTitleMouseEnter({\n        key: key,\n        domEvent: domEvent\n      });\n    };\n\n    _this.onTitleMouseLeave = function (e) {\n      var _this$props5 = _this.props,\n          parentMenu = _this$props5.parentMenu,\n          eventKey = _this$props5.eventKey,\n          onItemHover = _this$props5.onItemHover,\n          onTitleMouseLeave = _this$props5.onTitleMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onTitleMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleClick = function (e) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      props.onTitleClick({\n        key: props.eventKey,\n        domEvent: e\n      });\n\n      if (props.triggerSubMenuAction === 'hover') {\n        return;\n      }\n\n      _this.triggerOpenChange(!props.isOpen, 'click');\n\n      updateDefaultActiveFirst(props.store, _this.props.eventKey, false);\n    };\n\n    _this.onSubMenuClick = function (info) {\n      // in the case of overflowed submenu\n      // onClick is not copied over\n      if (typeof _this.props.onClick === 'function') {\n        _this.props.onClick(_this.addKeyPath(info));\n      }\n    };\n\n    _this.onSelect = function (info) {\n      _this.props.onSelect(info);\n    };\n\n    _this.onDeselect = function (info) {\n      _this.props.onDeselect(info);\n    };\n\n    _this.getPrefixCls = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu\");\n    };\n\n    _this.getActiveClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-active\");\n    };\n\n    _this.getDisabledClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-disabled\");\n    };\n\n    _this.getSelectedClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-selected\");\n    };\n\n    _this.getOpenClassName = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu-open\");\n    };\n\n    _this.saveMenuInstance = function (c) {\n      // children menu instance\n      _this.menuInstance = c;\n    };\n\n    _this.addKeyPath = function (info) {\n      return _objectSpread({}, info, {\n        keyPath: (info.keyPath || []).concat(_this.props.eventKey)\n      });\n    };\n\n    _this.triggerOpenChange = function (open, type) {\n      var key = _this.props.eventKey;\n\n      var openChange = function openChange() {\n        _this.onOpenChange({\n          key: key,\n          item: _assertThisInitialized(_this),\n          trigger: type,\n          open: open\n        });\n      };\n\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        _this.mouseenterTimeout = setTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    };\n\n    _this.isChildrenSelected = function () {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(_this.props.children, _this.props.selectedKeys, ret);\n      return ret.find;\n    };\n\n    _this.isOpen = function () {\n      return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1;\n    };\n\n    _this.adjustWidth = function () {\n      /* istanbul ignore if */\n      if (!_this.subMenuTitle || !_this.menuInstance) {\n        return;\n      }\n\n      var popupMenu = ReactDOM.findDOMNode(_this.menuInstance);\n\n      if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      popupMenu.style.minWidth = \"\".concat(_this.subMenuTitle.offsetWidth, \"px\");\n    };\n\n    _this.saveSubMenuTitle = function (subMenuTitle) {\n      _this.subMenuTitle = subMenuTitle;\n    };\n\n    var store = props.store,\n        eventKey = props.eventKey;\n\n    var _store$getState = store.getState(),\n        defaultActiveFirst = _store$getState.defaultActiveFirst;\n\n    _this.isRootMenu = false;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          mode = _this$props6.mode,\n          parentMenu = _this$props6.parentMenu,\n          manualRef = _this$props6.manualRef; // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = setTimeout(function () {\n        return _this2.adjustWidth();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props7 = this.props,\n          onDestroy = _this$props7.onDestroy,\n          eventKey = _this$props7.eventKey;\n\n      if (onDestroy) {\n        onDestroy(eventKey);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.minWidthTimeout) {\n        clearTimeout(this.minWidthTimeout);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.mouseenterTimeout) {\n        clearTimeout(this.mouseenterTimeout);\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(children) {\n      var _this3 = this;\n\n      var props = this.props;\n      var baseProps = {\n        mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n        visible: this.props.isOpen,\n        level: props.level + 1,\n        inlineIndent: props.inlineIndent,\n        focusable: false,\n        onClick: this.onSubMenuClick,\n        onSelect: this.onSelect,\n        onDeselect: this.onDeselect,\n        onDestroy: this.onDestroy,\n        selectedKeys: props.selectedKeys,\n        eventKey: \"\".concat(props.eventKey, \"-menu-\"),\n        openKeys: props.openKeys,\n        motion: props.motion,\n        onOpenChange: this.onOpenChange,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        parentMenu: this,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        triggerSubMenuAction: props.triggerSubMenuAction,\n        builtinPlacements: props.builtinPlacements,\n        defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n        multiple: props.multiple,\n        prefixCls: props.rootPrefixCls,\n        id: this.internalMenuId,\n        manualRef: this.saveMenuInstance,\n        itemIcon: props.itemIcon,\n        expandIcon: props.expandIcon,\n      };\n      var haveRendered = this.haveRendered;\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return React.createElement(\"div\", null);\n      } // ================== Motion ==================\n      // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n\n      var mergedMotion = _objectSpread({}, props.motion, {\n        leavedClassName: \"\".concat(props.rootPrefixCls, \"-hidden\"),\n        removeOnLeave: false,\n        motionAppear: haveRendered || !baseProps.visible || baseProps.mode !== 'inline'\n      });\n\n      return React.createElement(CSSMotion, Object.assign({\n        visible: baseProps.visible\n      }, mergedMotion), function (_ref) {\n        var className = _ref.className,\n            style = _ref.style;\n        var mergedClassName = classNames(\"\".concat(baseProps.prefixCls, \"-sub\"), className, _ref.popupMenuBlockClasses );\n        return React.createElement(SubPopupMenu, Object.assign({}, baseProps, {\n          id: _this3.internalMenuId,\n          className: mergedClassName,\n          style: style\n        }), children);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var props = _objectSpread({}, this.props);\n\n      var isOpen = props.isOpen;\n      var prefixCls = this.getPrefixCls();\n      var isInlineMode = props.mode === 'inline';\n      var className = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(props.mode), (_classNames = {}, _defineProperty(_classNames, props.className, !!props.className), _defineProperty(_classNames, this.getOpenClassName(), isOpen), _defineProperty(_classNames, this.getActiveClassName(), props.active || isOpen && !isInlineMode), _defineProperty(_classNames, this.getDisabledClassName(), props.disabled), _defineProperty(_classNames, this.getSelectedClassName(), this.isChildrenSelected()), _classNames));\n        className= [className, props.isSub ? props.store.getState().popupMenuItemClasses :props.store.getState().topMenuItemClasses].join(' ')\n\n      if (!this.internalMenuId) {\n        if (props.eventKey) {\n          this.internalMenuId = \"\".concat(props.eventKey, \"$Menu\");\n        } else {\n          guid += 1;\n          this.internalMenuId = \"$__$\".concat(guid, \"$Menu\");\n        }\n      }\n\n      var mouseEvents = {};\n      var titleClickEvents = {};\n      var titleMouseEvents = {};\n\n      if (!props.disabled) {\n        mouseEvents = {\n          onMouseLeave: this.onMouseLeave,\n          onMouseEnter: this.onMouseEnter\n        }; // only works in title, not outer li\n\n        titleClickEvents = {\n          onClick: this.onTitleClick\n        };\n        titleMouseEvents = {\n          onMouseEnter: this.onTitleMouseEnter,\n          onMouseLeave: this.onTitleMouseLeave\n        };\n      }\n\n      var style = {};\n\n      if (isInlineMode) {\n        style.paddingLeft = props.inlineIndent * props.level;\n      }\n\n      var ariaOwns = {}; // only set aria-owns when menu is open\n      // otherwise it would be an invalid aria-owns value\n      // since corresponding node cannot be found\n\n      if (this.props.isOpen) {\n        ariaOwns = {\n          'aria-owns': this.internalMenuId\n        };\n      } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n\n      var icon = null;\n\n      if (props.mode !== 'horizontal') {\n        icon = this.props.expandIcon; // ReactNode\n\n        if (typeof this.props.expandIcon === 'function') {\n          icon = React.createElement(this.props.expandIcon, _objectSpread({}, this.props));\n        }\n      }\n      var title = React.createElement(\"div\", Object.assign({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: \"\".concat(prefixCls, \"-title\"),\n      }, titleMouseEvents, titleClickEvents, {\n        \"aria-expanded\": isOpen\n      }, ariaOwns, {\n        \"aria-haspopup\": \"true\",\n        title: typeof props.title === 'string' ? props.title : undefined\n      }), props.title, icon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow\")\n      }));\n      var children = this.renderChildren(props.children);\n      var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n        return triggerNode.parentNode;\n      };\n      var popupPlacement = popupPlacementMap[props.mode];\n      var popupAlign = props.popupOffset ? {\n        offset: props.popupOffset\n      } : {};\n      var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n      var disabled = props.disabled,\n          triggerSubMenuAction = props.triggerSubMenuAction,\n          subMenuOpenDelay = props.subMenuOpenDelay,\n          forceSubMenuRender = props.forceSubMenuRender,\n          subMenuCloseDelay = props.subMenuCloseDelay,\n          builtinPlacements = props.builtinPlacements;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      delete props.isSub;\n      return React.createElement(\"li\", Object.assign({}, props, mouseEvents, {\n        className: className,\n        role: \"menuitem\"\n      }), isInlineMode && title, isInlineMode && children, !isInlineMode && React.createElement(Trigger, {\n        prefixCls: prefixCls,\n        popupClassName: \"\".concat(prefixCls, \"-popup \").concat(popupClassName),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: Object.assign({}, placements, builtinPlacements),\n        popupPlacement: popupPlacement,\n        popupVisible: isOpen,\n        popupAlign: popupAlign,\n        popup: children,\n        action: disabled ? [] : [triggerSubMenuAction],\n        mouseEnterDelay: subMenuOpenDelay,\n        mouseLeaveDelay: subMenuCloseDelay,\n        onPopupVisibleChange: this.onPopupVisibleChange,\n        forceRender: forceSubMenuRender\n      }, title));\n    }\n  }]);\n\n  return SubMenu;\n}(React.Component);\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: '',\n};\nvar connected = connect(function (_ref2, _ref3) {\n  var openKeys = _ref2.openKeys,\n      activeKey = _ref2.activeKey,\n      selectedKeys = _ref2.selectedKeys;\n  var eventKey = _ref3.eventKey,\n      subMenuKey = _ref3.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys,\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport SubMenu from './SubMenu'\nimport { getWidth, setStyle, menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n\nfunction _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i]\n        }\n        return arr2\n    }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar canUseDOM = !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n)\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed'\nvar FLOAT_PRECISION_ADJUST = 0.5 // Fix ssr\n\nif (canUseDOM) {\n    // eslint-disable-next-line global-require\n    require('mutationobserver-shim')\n}\n\nvar DOMWrap =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(DOMWrap, _React$Component)\n\n        function DOMWrap() {\n            var _this\n\n            _classCallCheck(this, DOMWrap)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(DOMWrap).apply(this, arguments)\n            )\n            _this.resizeObserver = null\n            _this.mutationObserver = null // original scroll size of the list\n\n            _this.originalTotalWidth = 0 // copy of overflowed items\n\n            _this.overflowedItems = [] // cache item of the original items (so we can track the size and order)\n\n            _this.menuItemSizes = []\n            _this.state = {\n                lastVisibleIndex: undefined,\n            } // get all valid menuItem nodes\n\n            _this.getMenuItemNodes = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) < 0\n                    )\n                })\n            }\n\n            _this.getOverflowedSubMenuItem = function(\n                keyPrefix,\n                overflowedItems,\n                renderPlaceholder\n            ) {\n                var _this$props = _this.props,\n                    overflowedIndicator = _this$props.overflowedIndicator,\n                    level = _this$props.level,\n                    mode = _this$props.mode,\n                    prefixCls = _this$props.prefixCls,\n                    theme = _this$props.theme\n\n                return null\n                if (level !== 1 || mode !== 'horizontal') {\n                    return null\n                } // put all the overflowed item inside a submenu\n                // with a title of overflow indicator ('...')\n\n                var copy = _this.props.children[0]\n\n                var _copy$props = copy.props,\n                    throwAway = _copy$props.children,\n                    title = _copy$props.title,\n                    propStyle = _copy$props.style,\n                    rest = _objectWithoutProperties(_copy$props, [\n                        'children',\n                        'title',\n                        'style',\n                    ])\n\n                var style = _objectSpread({}, propStyle)\n\n                var key = ''.concat(keyPrefix, '-overflowed-indicator')\n                var eventKey = ''.concat(keyPrefix, '-overflowed-indicator')\n\n                if (\n                    overflowedItems.length === 0 &&\n                    renderPlaceholder !== true\n                ) {\n                    style = _objectSpread({}, style, {\n                        display: 'none',\n                    })\n                } else if (renderPlaceholder) {\n                    style = _objectSpread({}, style, {\n                        visibility: 'hidden',\n                        // prevent from taking normal dom space\n                        position: 'absolute',\n                    })\n                    key = ''.concat(key, '-placeholder')\n                    eventKey = ''.concat(eventKey, '-placeholder')\n                }\n\n                var popupClassName = theme\n                    ? ''.concat(prefixCls, '-').concat(theme)\n                    : ''\n                var props = {}\n                menuAllProps.forEach(function(k) {\n                    if (rest[k] !== undefined) {\n                        props[k] = rest[k]\n                    }\n                })\n                return React.createElement(\n                    SubMenu,\n                    Object.assign(\n                        {\n                            title: overflowedIndicator,\n                            className: ''.concat(\n                                prefixCls,\n                                '-overflowed-submenu'\n                            ),\n                            popupClassName: popupClassName,\n                        },\n                        props,\n                        {\n                            key: key,\n                            eventKey: eventKey,\n                            disabled: false,\n                            style: style,\n                        }\n                    ),\n                    overflowedItems\n                )\n            } // memorize rendered menuSize\n\n            _this.setChildrenWidthAndResize = function() {\n                return\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var ulChildrenNodes = ul.children\n\n                if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n                    return\n                }\n\n                var lastOverflowedIndicatorPlaceholder =\n                    ul.children[ulChildrenNodes.length - 1] // need last overflowed indicator for calculating length;\n\n                setStyle(\n                    lastOverflowedIndicatorPlaceholder,\n                    'display',\n                    'inline-block'\n                )\n\n                var menuItemNodes = _this.getMenuItemNodes() // reset display attribute for all hidden elements caused by overflow to calculate updated width\n                // and then reset to original state after width calculation\n\n                var overflowedItems = menuItemNodes.filter(function(c) {\n                    return (\n                        c.className\n                            .split(' ')\n                            .indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0\n                    )\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'inline-block')\n                })\n                _this.menuItemSizes = menuItemNodes.map(function(c) {\n                    return getWidth(c)\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'none')\n                })\n                _this.overflowedIndicatorWidth = getWidth(\n                    ul.children[ul.children.length - 1]\n                )\n                _this.originalTotalWidth = _this.menuItemSizes.reduce(function(\n                    acc,\n                    cur\n                ) {\n                    return acc + cur\n                },\n                0)\n\n                _this.handleResize() // prevent the overflowed indicator from taking space;\n\n                setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none')\n            }\n\n            _this.handleResize = function() {\n                /////// edit !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n                return\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var width = getWidth(ul)\n                _this.overflowedItems = []\n                var currentSumWidth = 0 // index for last visible child in horizontal mode\n\n                var lastVisibleIndex // float number comparison could be problematic\n                // e.g. 0.1 + 0.2 > 0.3 =====> true\n                // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n\n                if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n                    lastVisibleIndex = -1\n\n                    _this.menuItemSizes.forEach(function(liWidth) {\n                        currentSumWidth += liWidth\n\n                        if (\n                            currentSumWidth + _this.overflowedIndicatorWidth <=\n                            width\n                        ) {\n                            lastVisibleIndex += 1\n                        }\n                    })\n                }\n\n                _this.setState({\n                    lastVisibleIndex: lastVisibleIndex,\n                })\n            }\n\n            return _this\n        }\n\n        _createClass(DOMWrap, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var _this2 = this\n\n                    this.setChildrenWidthAndResize()\n\n                    if (\n                        this.props.level === 1 &&\n                        this.props.mode === 'horizontal'\n                    ) {\n                        var menuUl = ReactDOM.findDOMNode(this)\n\n                        if (!menuUl) {\n                            return\n                        }\n\n                        this.resizeObserver = new ResizeObserver(function(\n                            entries\n                        ) {\n                            entries.forEach(_this2.setChildrenWidthAndResize)\n                        })\n                        ;[].slice\n                            .call(menuUl.children)\n                            .concat(menuUl)\n                            .forEach(function(el) {\n                                _this2.resizeObserver.observe(el)\n                            })\n\n                        if (typeof MutationObserver !== 'undefined') {\n                            this.mutationObserver = new MutationObserver(\n                                function() {\n                                    _this2.resizeObserver.disconnect()\n                                    ;[].slice\n                                        .call(menuUl.children)\n                                        .concat(menuUl)\n                                        .forEach(function(el) {\n                                            _this2.resizeObserver.observe(el)\n                                        })\n\n                                    _this2.setChildrenWidthAndResize()\n                                }\n                            )\n                            this.mutationObserver.observe(menuUl, {\n                                attributes: false,\n                                childList: true,\n                                subTree: false,\n                            })\n                        }\n                    }\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    if (this.resizeObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n\n                    if (this.mutationObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    // need to take care of overflowed items in horizontal mode\n                    var lastVisibleIndex = this.state.lastVisibleIndex\n                    return (children || []).reduce(function(\n                        acc,\n                        childNode,\n                        index\n                    ) {\n                        var item = childNode\n\n                        // if (_this3.props.mode === 'horizontal') {\n                        //   var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n\n                        //   if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(\"\".concat(_this3.props.prefixCls, \"-root\")) !== -1) {\n                        //     if (index > lastVisibleIndex) {\n                        //       item = React.cloneElement(childNode, //  eventKey  openkeys \n                        //       {\n                        //         style: {\n                        //           display: 'none'\n                        //         },\n                        //         eventKey: \"\".concat(childNode.props.eventKey, \"-hidden\"),\n\n                        //         /**\n                        //          * Legacy code. Here `className` never used:\n                        //          * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                        //          */\n                        //         className: \"\".concat(MENUITEM_OVERFLOWED_CLASSNAME)\n                        //       });\n                        //     }\n\n                        //     if (index === lastVisibleIndex + 1) {\n                        //       _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n                        //         return React.cloneElement(c, // children[index].key will become '.$key' in clone by default,\n                        //         // we have to overwrite with the correct key explicitly\n                        //         {\n                        //           key: c.props.eventKey,\n                        //           mode: 'vertical-left'\n                        //         });\n                        //       });\n                        //       overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n                        //     }\n                        //   }\n\n                        //   var ret = [].concat(_toConsumableArray(acc), [overflowed, item]);\n\n                        //   if (index === children.length - 1) {\n                        //     // need a placeholder for calculating overflowed indicator width\n                        //     ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n                        //   }\n\n                        //   return ret;\n                        // }\n\n                        return [].concat(_toConsumableArray(acc), [item])\n                    },\n                    [])\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this$props2 = this.props,\n                        visible = _this$props2.visible,\n                        prefixCls = _this$props2.prefixCls,\n                        overflowedIndicator = _this$props2.overflowedIndicator,\n                        mode = _this$props2.mode,\n                        level = _this$props2.level,\n                        tag = _this$props2.tag,\n                        children = _this$props2.children,\n                        theme = _this$props2.theme,\n                        rest = _objectWithoutProperties(_this$props2, [\n                            'visible',\n                            'prefixCls',\n                            'overflowedIndicator',\n                            'mode',\n                            'level',\n                            'tag',\n                            'children',\n                            'theme',\n                        ])\n\n                    var Tag = tag\n                    return React.createElement(\n                        Tag,\n                        Object.assign({}, rest),\n                        this.renderChildren(children)\n                    )\n                },\n            },\n        ])\n\n        return DOMWrap\n    })(React.Component)\n\nDOMWrap.defaultProps = {\n    tag: 'div',\n    className: '',\n}\nexport default DOMWrap\n","import * as React from 'react';\nimport { connect } from 'mini-store';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport shallowEqual from 'shallowequal';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _objectSpread({}, state.activeKey, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  function SubPopupMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubPopupMenu).call(this, props));\n    /**\n     * all keyboard events callbacks run from here at first\n     *\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e, callback) {\n      var keyCode = e.keyCode;\n      var handled;\n\n      _this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.props.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n\n      if (handled) {\n        return 1;\n      }\n\n      var activeItem = null;\n\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(_this.props.store, getEventKey(_this.props), activeItem.props.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n\n      return undefined;\n    };\n\n    _this.onItemHover = function (e) {\n      var key = e.key,\n          hover = e.hover;\n      updateActiveKey(_this.props.store, getEventKey(_this.props), hover ? key : null);\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      _this.props.onDeselect(selectInfo);\n    };\n\n    _this.onSelect = function (selectInfo) {\n      _this.props.onSelect(selectInfo);\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onDestroy = function (key) {\n      /* istanbul ignore next */\n      _this.props.onDestroy(key);\n    };\n\n    _this.getFlatInstanceArray = function () {\n      return _this.instanceArray;\n    };\n\n    _this.step = function (direction) {\n      var children = _this.getFlatInstanceArray();\n\n      var activeKey = _this.props.store.getState().activeKey[getEventKey(_this.props)];\n\n      var len = children.length;\n\n      if (!len) {\n        return null;\n      }\n\n      if (direction < 0) {\n        children = children.concat().reverse();\n      } // find current activeIndex\n\n\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.props.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (!_this.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n\n        if (!child || child.props.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    };\n\n    _this.renderCommonMenuItem = function (child, i, extraProps) {\n      var state = _this.props.store.getState();\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n      if (!childProps || typeof child.type === 'string') {\n        return child;\n      }\n\n      var isActive = key === state.activeKey;\n\n      var newChildProps = _objectSpread({\n        mode: childProps.mode || props.mode,\n        level: props.level,\n        inlineIndent: props.inlineIndent,\n        renderMenuItem: _this.renderMenuItem,\n        rootPrefixCls: props.prefixCls,\n        index: i,\n        parentMenu: props.parentMenu,\n        // customized ref function, need to be invoked manually in child's componentDidMount\n        manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_assertThisInitialized(_this))),\n        eventKey: key,\n        active: !childProps.disabled && isActive,\n        multiple: props.multiple,\n        onClick: function onClick(e) {\n          (childProps.onClick || noop)(e);\n\n          _this.onClick(e);\n        },\n        onItemHover: _this.onItemHover,\n        motion: props.motion,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        onOpenChange: _this.onOpenChange,\n        onDeselect: _this.onDeselect,\n        onSelect: _this.onSelect,\n        builtinPlacements: props.builtinPlacements,\n        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n        expandIcon: childProps.expandIcon || _this.props.expandIcon\n      }, extraProps); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.triggerSubMenuAction = 'click';\n      }\n\n      return React.cloneElement(child, newChildProps);\n    };\n\n    _this.renderMenuItem = function (c, i, subMenuKey, addProps) {\n      /* istanbul ignore if */\n      if (!c) {\n        return null;\n      }\n\n      var state = _this.props.store.getState();\n\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: _this.props.triggerSubMenuAction,\n        subMenuKey: subMenuKey,\n        ...addProps\n      };\n      return _this.renderCommonMenuItem(c, i, extraProps);\n    };\n\n    props.store.setState({\n      activeKey: _objectSpread({}, props.store.getState().activeKey, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  _createClass(SubPopupMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n        var props = this.props\n      return this.props.visible || nextProps.visible || !shallowEqual([this.props.className, props.store.getState().topMenuBlockClasses,    props.store.getState().topMenuItemClasses,    props.store.getState().topMenuItemActiveClasses,    props.store.getState().popupMenuBlockClasses,    props.store.getState().popupMenuItemClasses,    props.store.getState().popupMenuItemActiveClasses], [nextProps.className, nextProps.topMenuBlockClasses,    nextProps.topMenuItemClasses,    nextProps.topMenuItemActiveClasses,    nextProps.popupMenuBlockClasses,    nextProps.popupMenuItemClasses,    nextProps.popupMenuItemActiveClasses]) || !shallowEqual(this.props.style, nextProps.style);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n      var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n      var activeKey = getActiveKey(props, originalActiveKey);\n\n      if (activeKey !== originalActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      } else if ('activeKey' in prevProps) {\n        // If prev activeKey is not same as current activeKey,\n        // we should set it.\n        var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n        if (activeKey !== prevActiveKey) {\n          updateActiveKey(props.store, getEventKey(props), activeKey);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      this.instanceArray = [];\n      var className = classNames(props.prefixCls, props.className, \"\".concat(props.prefixCls, \"-\").concat(props.mode));\n      \n      var domProps = {\n        className: [className, props.level < 2 ? props.store.getState().topMenuBlockClasses : props.store.getState().popupMenuBlockClasses].join(' '),\n        // role could be 'select' and by default set to menu\n        role: props.role || 'menu'\n      };\n\n      if (props.id) {\n        domProps.id = props.id;\n      }\n\n      if (props.focusable) {\n        domProps.tabIndex = 0;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      var prefixCls = props.prefixCls,\n          eventKey = props.eventKey,\n          visible = props.visible,\n          level = props.level,\n          mode = props.mode,\n          overflowedIndicator = props.overflowedIndicator,\n          theme = props.theme;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Otherwise, the propagated click event will trigger another onClick\n\n      delete props.onClick;\n      delete props.topMenuBlockClasses;\n      delete props.topMenuItemClasses;\n      delete props.topMenuItemActiveClasses;\n      delete props.popupMenuBlockClasses;\n      delete props.popupMenuItemClasses;\n      delete props.popupMenuItemActiveClasses;\n      delete props.activeKeys;\n      return React.createElement(DOMWrap, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        mode: mode,\n        tag: \"ul\",\n        level: level,\n        theme: theme,\n        visible: visible,\n        overflowedIndicator: overflowedIndicator\n      }, domProps), React.Children.map(props.children, function (c, i) {\n        return _this2.renderMenuItem(c, i, eventKey || '0-menu-', {isSub: level>1});\n      }));\n    }\n  }]);\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop,\n};\nvar connected = connect()(SubPopupMenu);\nexport default connected;","import warning from 'rc-util/es/warning'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function getMotion(_ref) {\n    var prefixCls = _ref.prefixCls,\n        motion = _ref.motion,\n        openAnimation = _ref.openAnimation,\n        openTransitionName = _ref.openTransitionName\n\n    if (motion) {\n        return motion\n    }\n\n    if (_typeof(openAnimation) === 'object' && openAnimation) {\n        warning(\n            false,\n            'Object type of `openAnimation` is removed. Please use `motion` instead.'\n        )\n    } else if (typeof openAnimation === 'string') {\n        return {\n            motionName: ''.concat(prefixCls, '-open-').concat(openAnimation),\n        }\n    }\n\n    if (openTransitionName) {\n        return {\n            motionName: openTransitionName,\n        }\n    }\n\n    return null\n}\n","import * as React from 'react'\nimport { Provider, create } from 'mini-store'\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu'\nimport { noop } from './util'\nimport { getMotion } from './utils/legacyUtil'\n\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar Menu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(Menu, _React$Component)\n\n        function Menu(props) {\n            var _this\n\n            _classCallCheck(this, Menu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(Menu).call(this, props)\n            )\n\n            _this.onSelect = function(selectInfo) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                if (props.selectable) {\n                    // root menu\n                    var _this$store$getState = _this.store.getState(),\n                        _selectedKeys = _this$store$getState.selectedKeys\n\n                    var selectedKey = selectInfo.key\n\n                    if (props.multiple) {\n                        _selectedKeys = _selectedKeys.concat([selectedKey])\n                    } else {\n                        _selectedKeys = [selectedKey]\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys,\n                        })\n                    }\n\n                    props.onSelect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys,\n                        })\n                    )\n                }\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            } // onKeyDown needs to be exposed as a instance method\n            // e.g., in rc-select, we need to navigate menu item while\n            // current active item is rc-select input box rather than the menu itself\n\n            _this.onKeyDown = function(e, callback) {\n                _this.innerMenu.getWrappedInstance().onKeyDown(e, callback)\n            }\n\n            _this.onOpenChange = function(event) {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                var openKeys = _this.store.getState().openKeys.concat()\n\n                var changed = false\n\n                var processSingle = function processSingle(e) {\n                    var oneChanged = false\n\n                    if (e.open) {\n                        oneChanged = openKeys.indexOf(e.key) === -1\n\n                        if (oneChanged) {\n                            openKeys.push(e.key)\n                        }\n                    } else {\n                        var index = openKeys.indexOf(e.key)\n                        oneChanged = index !== -1\n\n                        if (oneChanged) {\n                            openKeys.splice(index, 1)\n                        }\n                    }\n\n                    changed = changed || oneChanged\n                }\n\n                if (Array.isArray(event)) {\n                    // batch change call\n                    event.forEach(processSingle)\n                } else {\n                    processSingle(event)\n                }\n\n                if (changed) {\n                    if (!('openKeys' in _this.props)) {\n                        _this.store.setState({\n                            openKeys: openKeys,\n                        })\n                    }\n\n                    props.onOpenChange(openKeys)\n                }\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize3.props\n\n                if (props.selectable) {\n                    var _selectedKeys2 = _this.store\n                        .getState()\n                        .selectedKeys.concat()\n\n                    var selectedKey = selectInfo.key\n\n                    var index = _selectedKeys2.indexOf(selectedKey)\n\n                    if (index !== -1) {\n                        _selectedKeys2.splice(index, 1)\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys2,\n                        })\n                    }\n\n                    props.onDeselect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys2,\n                        })\n                    )\n                }\n            }\n\n            _this.getOpenTransitionName = function() {\n                var _assertThisInitialize4 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize4.props\n\n                var transitionName = props.openTransitionName\n                var animationName = props.openAnimation\n\n                if (!transitionName && typeof animationName === 'string') {\n                    transitionName = ''\n                        .concat(props.prefixCls, '-open-')\n                        .concat(animationName)\n                }\n\n                return transitionName\n            }\n\n            _this.setInnerMenu = function(node) {\n                _this.innerMenu = node\n            }\n\n            _this.isRootMenu = true\n            var selectedKeys = props.defaultSelectedKeys\n            var openKeys = props.defaultOpenKeys\n\n            if ('selectedKeys' in props) {\n                selectedKeys = props.selectedKeys || []\n            }\n\n            if ('openKeys' in props) {\n                openKeys = props.openKeys || []\n            }\n\n            _this.store = create({\n                selectedKeys: selectedKeys,\n                openKeys: openKeys,\n                activeKey: {\n                    '0-menu-': getActiveKey(props, props.activeKey),\n                },\n            })\n            return _this\n        }\n\n        _createClass(Menu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'updateMiniStore',\n                value: function updateMiniStore() {\n                    if ('selectedKeys' in this.props) {\n                        this.store.setState({\n                            selectedKeys: this.props.selectedKeys || [],\n                        })\n                    }\n\n                    if ('openKeys' in this.props) {\n                        this.store.setState({\n                            openKeys: this.props.openKeys || [],\n                        })\n                    }\n\n                    this.updateClassesInMiniStore()\n                },\n            },\n            {\n                key: 'updateClassesInMiniStore',\n                value: function updateClassesInMiniStore() {\n                    if ('topMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            topMenuBlockClasses:\n                                this.props.topMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemClasses:\n                                this.props.topMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemActiveClasses:\n                                this.props.topMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuBlockClasses:\n                                this.props.popupMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemClasses:\n                                this.props.popupMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemActiveClasses:\n                                this.props.popupMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('activeKeys' in this.props) {\n                        this.store.setState({\n                            activeKeys: this.props.activeKeys || [],\n                        })\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    this.updateClassesInMiniStore()\n                    var props = _objectSpread({}, this.props)\n\n                    props.className += ' '.concat(props.prefixCls, '-root')\n                    props = _objectSpread({}, props, {\n                        onClick: this.onClick,\n                        onOpenChange: this.onOpenChange,\n                        onDeselect: this.onDeselect,\n                        onSelect: this.onSelect,\n                        parentMenu: this,\n                        motion: getMotion(this.props),\n                    })\n                    delete props.openAnimation\n                    delete props.openTransitionName\n                    return React.createElement(\n                        Provider,\n                        {\n                            store: this.store,\n                        },\n                        React.createElement(\n                            SubPopupMenu,\n                            Object.assign({}, props, {\n                                ref: this.setInnerMenu,\n                            }),\n                            this.props.children\n                        )\n                    )\n                },\n            },\n        ])\n\n        return Menu\n    })(React.Component)\n\nMenu.defaultProps = {\n    selectable: true,\n    onClick: noop,\n    onSelect: noop,\n    onOpenChange: noop,\n    onDeselect: noop,\n    defaultSelectedKeys: [],\n    defaultOpenKeys: [],\n    subMenuOpenDelay: 0.1,\n    subMenuCloseDelay: 0.1,\n    triggerSubMenuAction: 'hover',\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    style: {},\n    builtinPlacements: {},\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7'),\n    topMenuBlockClasses: [],\n    topMenuItemClasses: [],\n    topMenuItemActiveClasses: [],\n    popupMenuBlockClasses: [],\n    popupMenuItemClasses: [],\n    popupMenuItemActiveClasses: [],\n    activeKeys: [],\n}\nexport default Menu\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport classNames from 'classnames'\nimport scrollIntoView from 'dom-scroll-into-view'\nimport { connect } from 'mini-store'\nimport { noop, menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nexport var MenuItem =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItem, _React$Component)\n\n        function MenuItem() {\n            var _this\n\n            _classCallCheck(this, MenuItem)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItem).apply(this, arguments)\n            )\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onClick(e)\n\n                    return true\n                }\n\n                return undefined\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props = _this.props,\n                    eventKey = _this$props.eventKey,\n                    onItemHover = _this$props.onItemHover,\n                    onMouseLeave = _this$props.onMouseLeave\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    eventKey = _this$props2.eventKey,\n                    onItemHover = _this$props2.onItemHover,\n                    onMouseEnter = _this$props2.onMouseEnter\n                onItemHover({\n                    key: eventKey,\n                    hover: true,\n                })\n                onMouseEnter({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onClick = function(e) {\n                var _this$props3 = _this.props,\n                    eventKey = _this$props3.eventKey,\n                    multiple = _this$props3.multiple,\n                    onClick = _this$props3.onClick,\n                    onSelect = _this$props3.onSelect,\n                    onDeselect = _this$props3.onDeselect,\n                    isSelected = _this$props3.isSelected\n                var info = {\n                    key: eventKey,\n                    keyPath: [eventKey],\n                    item: _assertThisInitialized(_this),\n                    domEvent: e,\n                }\n                onClick(info)\n\n                if (multiple) {\n                    if (isSelected) {\n                        onDeselect(info)\n                    } else {\n                        onSelect(info)\n                    }\n                } else if (!isSelected) {\n                    onSelect(info)\n                }\n            }\n\n            _this.saveNode = function(node) {\n                _this.node = node\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItem, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var _this$props4 = this.props,\n                        active = _this$props4.active,\n                        parentMenu = _this$props4.parentMenu,\n                        eventKey = _this$props4.eventKey //  parentMenu  MenuItem key \n                    // https://github.com/ant-design/ant-design/issues/16181\n\n                    if (\n                        !prevProps.active &&\n                        active &&\n                        (!parentMenu ||\n                            !parentMenu['scrolled-'.concat(eventKey)])\n                    ) {\n                        if (this.node) {\n                            scrollIntoView(\n                                this.node,\n                                ReactDOM.findDOMNode(parentMenu),\n                                {\n                                    onlyScrollIfNeeded: true,\n                                }\n                            )\n                            parentMenu['scrolled-'.concat(eventKey)] = true\n                        }\n                    } else if (\n                        parentMenu &&\n                        parentMenu['scrolled-'.concat(eventKey)]\n                    ) {\n                        delete parentMenu['scrolled-'.concat(eventKey)]\n                    }\n\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var props = this.props\n\n                    if (props.onDestroy) {\n                        props.onDestroy(props.eventKey)\n                    }\n                },\n            },\n            {\n                key: 'getPrefixCls',\n                value: function getPrefixCls() {\n                    return ''.concat(this.props.rootPrefixCls, '-item')\n                },\n            },\n            {\n                key: 'getActiveClassName',\n                value: function getActiveClassName() {\n                    return ''.concat(this.getPrefixCls(), '-active')\n                },\n            },\n            {\n                key: 'getSelectedClassName',\n                value: function getSelectedClassName() {\n                    return ''.concat(this.getPrefixCls(), '-selected')\n                },\n            },\n            {\n                key: 'getDisabledClassName',\n                value: function getDisabledClassName() {\n                    return ''.concat(this.getPrefixCls(), '-disabled')\n                },\n            },\n            {\n                key: 'callRef',\n                value: function callRef() {\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames\n\n                    var props = _objectSpread({}, this.props)\n                    var className = classNames(\n                        this.getPrefixCls(),\n                        props.className,\n                        ((_classNames = {}),\n                        _defineProperty(\n                            _classNames,\n                            this.getActiveClassName(),\n                            !props.disabled && props.active\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getSelectedClassName(),\n                            props.isSelected\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _classNames)\n                    )\n\n                    var attrs = _objectSpread({}, props.attribute, {\n                        title: props.title,\n                        className: [\n                            className,\n                            ...(props.isSub\n                                ? props.store.getState().popupMenuItemClasses\n                                : props.store.getState().topMenuItemClasses),\n                            ...(props.store\n                                .getState()\n                                .activeKeys.includes(this.props.eventKey)\n                                ? props.isSub\n                                    ? props.store.getState()\n                                          .popupMenuItemActiveClasses\n                                    : props.store.getState()\n                                          .topMenuItemActiveClasses\n                                : []),\n                        ].join(' '),\n                        // set to menuitem by default\n                        role: props.role || 'menuitem',\n                        'aria-disabled': props.disabled,\n                    })\n\n                    if (props.role === 'option') {\n                        // overwrite to option\n                        attrs = _objectSpread({}, attrs, {\n                            role: 'option',\n                            'aria-selected': props.isSelected,\n                        })\n                    } else if (props.role === null || props.role === 'none') {\n                        // sometimes we want to specify role inside <li/> element\n                        // <li><a role='menuitem'>Link</a></li> would be a good example\n                        // in this case the role on <li/> should be \"none\" to\n                        // remove the implied listitem role.\n                        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n                        attrs.role = 'none'\n                    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n                    var mouseEvent = {\n                        onClick: props.disabled ? null : this.onClick,\n                        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n                        onMouseEnter: props.disabled ? null : this.onMouseEnter,\n                    }\n\n                    var style = _objectSpread({}, props.style)\n\n                    if (props.mode === 'inline') {\n                        style.paddingLeft = props.inlineIndent * props.level\n                    }\n\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    })\n                    var icon = this.props.itemIcon\n\n                    if (typeof this.props.itemIcon === 'function') {\n                        // TODO: This is a bug which should fixed after TS refactor\n                        icon = React.createElement(\n                            this.props.itemIcon,\n                            this.props\n                        )\n                    }\n                    delete props.isSub\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, attrs, mouseEvent, {\n                            style: style,\n                            ref: this.saveNode,\n                        }),\n                        props.children,\n                        icon\n                    )\n                },\n            },\n        ])\n\n        return MenuItem\n    })(React.Component)\nMenuItem.isMenuItem = true\nMenuItem.defaultProps = {\n    onSelect: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    manualRef: noop,\n}\nvar connected = connect(function(_ref, _ref2) {\n    var activeKey = _ref.activeKey,\n        selectedKeys = _ref.selectedKeys\n    var eventKey = _ref2.eventKey,\n        subMenuKey = _ref2.subMenuKey\n    return {\n        active: activeKey[subMenuKey] === eventKey,\n        isSelected: selectedKeys.indexOf(eventKey) !== -1,\n    }\n})(MenuItem)\nexport default connected\n","import * as React from 'react'\nimport { menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MenuItemGroup =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItemGroup, _React$Component)\n\n        function MenuItemGroup() {\n            var _this\n\n            _classCallCheck(this, MenuItemGroup)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItemGroup).apply(this, arguments)\n            )\n\n            _this.renderInnerMenuItem = function(item) {\n                var _this$props = _this.props,\n                    renderMenuItem = _this$props.renderMenuItem,\n                    index = _this$props.index\n                return renderMenuItem(item, index, _this.props.subMenuKey)\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItemGroup, [\n            {\n                key: 'render',\n                value: function render() {\n                    var props = _extends({}, this.props)\n\n                    var _props$className = props.className,\n                        className =\n                            _props$className === void 0 ? '' : _props$className,\n                        rootPrefixCls = props.rootPrefixCls\n                    var titleClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-title'\n                    )\n                    var listClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-list'\n                    )\n                    var title = props.title,\n                        children = props.children\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, {\n                            className: ''\n                                .concat(className, ' ')\n                                .concat(rootPrefixCls, '-item-group'),\n                        }),\n                        React.createElement(\n                            'div',\n                            {\n                                className: titleClassName,\n                                title:\n                                    typeof title === 'string'\n                                        ? title\n                                        : undefined,\n                            },\n                            title\n                        ),\n                        React.createElement(\n                            'ul',\n                            {\n                                className: listClassName,\n                            },\n                            React.Children.map(\n                                children,\n                                this.renderInnerMenuItem\n                            )\n                        )\n                    )\n                },\n            },\n        ])\n\n        return MenuItemGroup\n    })(React.Component)\n\nMenuItemGroup.isMenuItemGroup = true\nMenuItemGroup.defaultProps = {\n    disabled: true,\n}\nexport default MenuItemGroup\n","import * as React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","import React from 'react'\nimport Menu, { SubMenu, MenuItem } from './MenuModule/index'\nimport buildItemsForMenu from './methods/buildItemsForMenu'\nimport { connect } from 'react-redux'\n\nimport type {\n    initialStateType,\n    elementType,\n    pageType,\n} from '../../../store/reducer/reducer'\n\nexport type Props = {\n    pageInStructure: pageType,\n    element: elementType,\n    document: {},\n    pagesStructure: $PropertyType<initialStateType, 'pagesStructure'>,\n}\n\nconst activeKeys = []\n\nconst MenuElement = (props: Props) => {\n    const builtItems = buildItemsForMenu(props)\n\n    activeKeys.length = 0\n    const menuElements = builtItems.map((item, index) => {\n        if (item.children.length === 0) {\n            const key = item.id + '_' + index\n            if (\n                item.url === props.pageInStructure.url ||\n                (item.url === '' && props.pageInStructure.homepage)\n            )\n                activeKeys.push(key)\n            return (\n                <MenuItem\n                    key={key}\n                    className={item.properties ? item.properties.class : ''}\n                >\n                    <div\n                        style={{ height: '100%', width: '100%' }}\n                        onClick={() => (window.location = item.url)}\n                    >\n                        {item.name}\n                    </div>\n                </MenuItem>\n            )\n        } else {\n            return (\n                <SubMenu1\n                    item={item}\n                    key={item.id + '_' + index}\n                    pageInStructure={props.pageInStructure}\n                />\n            )\n        }\n    })\n    return (\n        <Menu\n            prefixCls={'systemclass_menu'}\n            // $FlowFixMe\n            getPopupContainer={() => props.document.body}\n            topMenuBlockClasses={props.element.properties.topMenuBlockClasses}\n            topMenuItemClasses={props.element.properties.topMenuItemClasses}\n            topMenuItemActiveClasses={\n                props.element.properties.topMenuItemActiveClasses\n            }\n            popupMenuBlockClasses={\n                props.element.properties.popupMenuBlockClasses\n            }\n            popupMenuItemClasses={props.element.properties.popupMenuItemClasses}\n            popupMenuItemActiveClasses={\n                props.element.properties.popupMenuItemActiveClasses\n            }\n            mode={props.element.properties.mode}\n            selectable={false}\n            triggerSubMenuAction={props.element.properties.trigger}\n            activeKeys={activeKeys}\n        >\n            {menuElements}\n        </Menu>\n    )\n}\n\nconst SubMenu1 = props => {\n    const { ...other } = props\n    return (\n        <SubMenu {...other} title={props.item.name}>\n            {props.item.children.map((item, index) => {\n                if (item.children.length === 0) {\n                    const key = item.id + '_' + index\n                    if (\n                        item.url === props.pageInStructure.url ||\n                        (item.url === '' && props.pageInStructure.homepage)\n                    )\n                        activeKeys.push(key)\n                    return (\n                        <MenuItem key={key}>\n                            <div\n                                style={{ height: '100%', width: '100%' }}\n                                onClick={() => (window.location = item.url)}\n                            >\n                                {item.name}\n                            </div>\n                        </MenuItem>\n                    )\n                } else {\n                    return (\n                        <SubMenu2\n                            item={item}\n                            {...other}\n                            key={item.id + '_' + index}\n                            pageInStructure={props.pageInStructure}\n                        />\n                    )\n                }\n            })}\n        </SubMenu>\n    )\n}\n\nconst SubMenu2 = SubMenu1\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.pagesStructure,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuElement)\n","import { buildTree } from '../../../../utils/basic'\n\nimport type { Props } from '../Menu'\n\nexport default (props: Props) => {\n    const buildMenuItems = menuItems => {\n        const structure = []\n        if (menuItems)\n            menuItems.forEach(item => {\n                if (item.generatedFrom === 'all') {\n                    props.pagesStructure.forEach(page => {\n                        if (!hiddenPages.includes(page.id)) {\n                            structure.push({\n                                name: page.name,\n                                properties: item.properties,\n                                id: item.id + page.id,\n                                path: [\n                                    ...item.path,\n                                    ...page.path.map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.all) {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.path.includes(item.generatedFrom) &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id + page.id,\n                                name: page.name,\n                                properties: item.properties,\n                                path: [\n                                    ...item.path,\n                                    ...page.path\n                                        .slice(\n                                            page.path.indexOf(\n                                                item.generatedFrom\n                                            ) - 1\n                                        )\n                                        .map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom !== 'link') {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.id === item.generatedFrom &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id,\n                                name: item.name,\n                                properties: item.properties,\n                                path: item.path,\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom === 'link') {\n                    structure.push({\n                        id: item.id,\n                        name: item.name,\n                        path: item.path,\n                        url: item.properties ? item.properties.url || '' : '',\n                        properties: item.properties,\n                    })\n                }\n            })\n        return structure\n    }\n    const hiddenPages = []\n    props.pagesStructure.forEach(page => {\n        if (page.hidden) hiddenPages.push(page.id)\n    })\n    props.pagesStructure.forEach(page => {\n        page.path.forEach(id => {\n            if (hiddenPages.includes(id)) {\n                hiddenPages.push(page.id)\n            }\n        })\n    })\n\n    return buildTree(buildMenuItems(props.element.menuItems))\n}\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\nimport type Props from '../BuilderElement'\n\nexport const setBoxProperties = (\n    box: HTMLElement,\n    refinedProperties: {},\n    props: Props\n) => {\n    while (box.attributes.length > 0)\n        box.removeAttribute(box.attributes[0].name)\n    if (props.element.style) {\n        const style = props.element.style.replace(/\\$[^:;\\$\\s]*\\$/g, match => {\n            const inheritedPropertyName = getInheritedPropertyName(match)\n            return inheritedPropertyName\n                ? props.parentPluginProps[inheritedPropertyName] || ''\n                : ''\n        })\n        box.setAttribute('style', style)\n    }\n\n    for (let attribute in refinedProperties) {\n        const attr = attribute.toLowerCase()\n        switch (attr) {\n            case 'style':\n                break\n            case '':\n                break\n            default:\n                box.setAttribute(attr, refinedProperties[attr])\n                break\n        }\n    }\n}\n\nexport const saveHoveredElementRect = (box: HTMLElement, props: Props) => {\n    const rect = box.getBoundingClientRect()\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    const scrollY = iframe ? iframe.contentWindow.pageYOffset : 0\n    const scrollX = iframe ? iframe.contentWindow.pageXOffset : 0\n\n    props.saveHoveredElementRect(\n        [\n            ...props.pluginsPathArray,\n            {\n                id: props.element.id,\n                plugin: null,\n            },\n        ],\n        {\n            left: rect.left + scrollX,\n            top: rect.top + scrollY,\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top,\n        }\n    )\n}\n","import {\n    getCurrentResourceValue,\n    checkIfCapital,\n} from '../../../../utils/basic'\n\nimport type Props from '../BuilderElement'\n\nexport const hoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    e.stopPropagation()\n    let Tag = props.element.tag || 'div'\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n    // const isPlugin = checkIfCapital(Tag.charAt(0))\n    const isPlugin = true\n    if (props.findMode === 'page') {\n        props.hoverBox(\n            isPlugin ? props.routePlugin || props.element.id : props.element.id,\n            'page',\n            true\n        )\n    } else if (props.findMode === 'plugin') {\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n            props.hoverBox(props.element.id, 'plugin', true)\n        }\n    }\n}\n\nexport const unhoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode) {\n        e.stopPropagation()\n        props.unhoverBox()\n    }\n}\n\nexport const chooseBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode === 'page') {\n        e.stopPropagation()\n        props.chooseBox(\n            props.routePlugin || props.element.id,\n            props.currentResource,\n            props.resourceDraft\n        )\n    } else if (props.findMode === 'plugin') {\n        e.stopPropagation()\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n            const resourceDraft = getCurrentResourceValue(\n                props.sourcePlugin,\n                props.resourcesObjects\n            )\n            if (resourceDraft)\n                props.chooseBox(\n                    props.element.id,\n                    props.sourcePlugin,\n                    resourceDraft\n                )\n        }\n    }\n    props.toggleFindMode()\n}\n","export const emptyTags = [\n    'area',\n    'base',\n    'br',\n    'col',\n    'embed',\n    'hr',\n    'img',\n    'input',\n    'keygen',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n]\n\nexport const headTags = [\n    'meta',\n    'title',\n    'link',\n    'base',\n    'style',\n    'script',\n    'noscript',\n    'text',\n]\n","import React, { useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { isEqual, isEmpty, omit } from 'lodash'\nimport Menu from '../Menu/Menu'\n\nimport * as actions from '../../../store/actions/index'\nimport {\n    getCurrentResourceValue,\n    checkIfCapital,\n    getInheritedPropertyName,\n} from '../../../utils/basic'\n\nimport { setBoxProperties, saveHoveredElementRect } from './methods/useEffect'\nimport refineProperties from './methods/refineProperties'\nimport { hoverBox, unhoverBox, chooseBox } from './methods/boxMethods'\nimport { emptyTags, headTags } from './methods/tagsLibrary'\n\nimport type {\n    elementType,\n    resourceType,\n    initialStateType,\n    pageType,\n} from '../../../store/reducer/reducer'\n\nexport type Props = {\n    element: elementType,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n    structure: $PropertyType<resourceType, 'structure'>,\n    pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    document: {},\n    pluginsPathArray: Array<{\n        id: string,\n        plugin: string,\n    }>,\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    parentPluginProps: $PropertyType<elementType, 'properties'>,\n    sourcePlugin: string,\n    routePlugin: string,\n    hoverBox: typeof actions.hoverBox,\n    chooseResource: typeof actions.chooseResource,\n    unhoverBox: typeof actions.unhoverBox,\n    chooseBox: typeof actions.chooseBox,\n    currentResource: string,\n    resourceDraft: resourceType,\n    toggleFindMode: typeof actions.toggleFindMode,\n    childrenForPlugin: Array<elementType>,\n    pageInStructure: pageType,\n}\n\nconst _BuilderElement = (props: Props) => {\n    const elementRef = useRef(null)\n\n    useEffect(() => {\n        const box = elementRef.current\n        if (box) {\n            // setBoxProperties(box, refinedProperties, props)\n            saveHoveredElementRect(box, props)\n            if (Tag === 'link') {\n                console.log(refinedProperties)\n                console.log(props.document)\n                const newScript = props.document.createElement('link')\n                console.log(newScript)\n                setBoxProperties(newScript, refinedProperties, props)\n                console.log(newScript)\n                props.document.body.replaceChild(newScript, box)\n            } else {\n                setBoxProperties(box, refinedProperties, props)\n            }\n        }\n    })\n\n    const refinedProperties = refineProperties(props)\n\n    const currentPath = [...props.element.path, props.element.id]\n\n    let Tag = props.element.tag || 'div'\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n\n    if (props.element.childrenTo) {\n        return null\n    } else if (props.element.isChildren) {\n        const childrenMainElement = props.childrenForPlugin.find(\n            itemInn =>\n                itemInn.childrenTo === props.element.id &&\n                itemInn.forPlugin === props.sourcePlugin\n        )\n\n        if (childrenMainElement) {\n            const newStructure = props.childrenForPlugin.filter(itemInn =>\n                itemInn.path.includes(childrenMainElement.id)\n            )\n\n            return newStructure\n                .filter(itemInn => {\n                    if (itemInn.path.length > 0) {\n                        if (\n                            itemInn.path[itemInn.path.length - 1] ===\n                            childrenMainElement.id\n                        )\n                            return true\n                    }\n                    return false\n                })\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={newStructure}\n                        element={item}\n                        pluginsStructure={props.pluginsStructure}\n                        resourcesObjects={props.resourcesObjects}\n                        document={props.document}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={childrenMainElement.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        resourceDraft={props.resourceDraft}\n                        currentResource={props.currentResource}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        pageInStructure={props.pageInStructure}\n                    />\n                ))\n        }\n        return null\n    } else if (checkIfCapital(Tag.charAt(0))) {\n        const plugin = props.pluginsStructure.find(item => item.name === Tag)\n        if (plugin) {\n            if (!plugin.hidden) {\n                const pluginResource = isEmpty(\n                    props.resourcesObjects[plugin.id].present\n                )\n                    ? props.resourcesObjects[plugin.id].draft\n                    : props.resourcesObjects[plugin.id].present\n\n                //Pass children to plugin\n                const childrenForPlugin = [\n                    ...props.structure.filter(itemInn =>\n                        itemInn.path.includes(props.element.id)\n                    ),\n                    ...(props.childrenForPlugin ? props.childrenForPlugin : []),\n                ]\n\n                if (!pluginResource.structure) return\n\n                return pluginResource.structure\n                    .filter(itemInn =>\n                        isEqual(itemInn.path, [\n                            pluginResource.structure.filter(\n                                item => item.path.length === 0\n                            )[0].id,\n                        ])\n                    )\n                    .map(itemInn => {\n                        if (\n                            props.pluginsPathArray.find(\n                                item => item.plugin === plugin.id\n                            )\n                        ) {\n                            return null\n                        }\n                        return (\n                            <BuilderElement\n                                key={itemInn.id}\n                                structure={pluginResource.structure}\n                                element={itemInn}\n                                pluginsStructure={props.pluginsStructure}\n                                resourcesObjects={props.resourcesObjects}\n                                document={props.document}\n                                sourcePlugin={plugin.id}\n                                routePlugin={\n                                    props.routePlugin || props.element.id\n                                }\n                                pluginsPathArray={[\n                                    ...props.pluginsPathArray,\n                                    {\n                                        id: props.element.id,\n                                        plugin: plugin.id,\n                                    },\n                                ]}\n                                resourceDraft={props.resourceDraft}\n                                currentResource={props.currentResource}\n                                parentPluginProps={refinedProperties}\n                                childrenForPlugin={childrenForPlugin}\n                                pageInStructure={props.pageInStructure}\n                            />\n                        )\n                    })\n            }\n        }\n        return null\n    } else if (!props.isHead || headTags.includes(Tag)) {\n        if (Tag === 'websiterMenu') {\n            return (\n                <div\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Menu\n                        element={props.element}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        pageInStructure={props.pageInStructure}\n                    />\n                </div>\n            )\n        } else if (Tag === 'text') {\n            if (props.element.textContent) {\n                return props.element.textContent.replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            } else {\n                return props.isHead ? '' : null\n            }\n        } else {\n            return emptyTags.includes(Tag) ? (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                />\n            ) : (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    {Tag !== 'menu'\n                        ? props.structure\n                              .filter(item => isEqual(item.path, currentPath))\n                              .map(item => (\n                                  <BuilderElement\n                                      key={item.id}\n                                      structure={props.structure.filter(\n                                          itemInn =>\n                                              itemInn.path.includes(item.id)\n                                      )}\n                                      element={item}\n                                      pluginsStructure={props.pluginsStructure}\n                                      resourcesObjects={props.resourcesObjects}\n                                      document={props.document}\n                                      pluginsPathArray={props.pluginsPathArray}\n                                      sourcePlugin={props.sourcePlugin}\n                                      routePlugin={props.routePlugin}\n                                      resourceDraft={props.resourceDraft}\n                                      currentResource={props.currentResource}\n                                      parentPluginProps={\n                                          props.parentPluginProps\n                                      }\n                                      childrenForPlugin={\n                                          props.childrenForPlugin\n                                      }\n                                      pageInStructure={props.pageInStructure}\n                                  />\n                              ))\n                        : null}\n                </Tag>\n            )\n        }\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return { findMode: state.findMode }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveHoveredElementRect: (path, size) =>\n            dispatch(actions.saveHoveredElementRect(path, size)),\n        hoverBox: (id, mode, fromFrame) =>\n            dispatch(actions.hoverBox(id, mode, fromFrame)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        chooseBox: (id, currentResource, resourceDraft) =>\n            dispatch(actions.chooseBox(id, currentResource, resourceDraft)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        chooseResource: (id, type) =>\n            dispatch(actions.chooseResource(id, type)),\n    }\n}\n\nconst BuilderElement = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(_BuilderElement)\n\nexport default BuilderElement\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\nimport { CloudFrontUrl, bucket } from '../../../../awsConfig'\n\nimport type Props from '../BuilderElement'\n\nexport default (props: Props) => {\n    const result = {}\n    for (let attribute in props.element.properties) {\n        const inheritedPropertyName = getInheritedPropertyName(\n            props.element.properties[attribute]\n        )\n        result[attribute] = inheritedPropertyName\n            ? props.parentPluginProps[inheritedPropertyName]\n            : props.element.properties[attribute]\n        if (attribute === 'src') {\n            let url = result[attribute]\n            const path = url.split('/')\n            if (path.length > 1) {\n                if (path[0] === 'websiter') {\n                    path.shift()\n                    let width, height\n                    if (path.length > 1) {\n                        const sizes = path[path.length - 1]\n                        const indexW = sizes.indexOf('w')\n                        const indexH = sizes.indexOf('h')\n                        if (indexW > -1 && indexH > -1) {\n                            if (indexW < indexH) {\n                                width = sizes.substr(indexW + 1, indexH - 1)\n                                height = sizes.substr(indexH + 1)\n                            } else {\n                                height = sizes.substr(indexH + 1, indexW - 1)\n                                width = sizes.substr(indexW + 1)\n                            }\n                        } else {\n                            if (indexW > -1) width = sizes.substr(indexW + 1)\n                            if (indexH > -1) height = sizes.substr(indexH + 1)\n                        }\n                    }\n\n                    if (isNaN(width)) width = null\n                    else width = parseInt(width)\n                    if (isNaN(height)) height = null\n                    else height = parseInt(height)\n\n                    if (width || height) {\n                        path.pop()\n                    }\n\n                    const imageRequest = JSON.stringify({\n                        bucket: bucket,\n                        key: path.join('/'),\n                        edits: {\n                            resize: {\n                                width: width || '',\n                                height: height || null,\n                                fit: 'cover',\n                                background: { r: 0, g: 0, b: 0, alpha: 0 },\n                            },\n                            toFormat: 'png',\n                        },\n                    })\n\n                    url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n                    result[attribute] = url\n                }\n            }\n        }\n    }\n    return result\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { isEmpty } from 'lodash'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\nexport type Props = {\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    hoverMode: $PropertyType<initialStateType, 'hoverMode'>,\n    hoveredElementSize: $PropertyType<initialStateType, 'hoveredElementSize'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n}\n\nconst HoveredBoxHighlight = (props: Props) => {\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    //const innerDoc = iframe.contentDocument || iframe.contentWindow.document\n    if (!iframe) return null\n    const scrollY = iframe.contentWindow.pageYOffset\n    const scrollX = iframe.contentWindow.pageXOffset\n\n    const result = []\n    const parents = []\n    const addHoverBoxes = parent => {\n        if (!isEmpty(parent.children)) {\n            for (const item in parent.children) {\n                addHoverBoxes(parent.children[item])\n            }\n        } else {\n            result.push(\n                <div\n                    key={result.length}\n                    style={{\n                        background: 'blue',\n                        opacity: '.3',\n                        position: 'fixed',\n                        left: parent.left - scrollX + 'px',\n                        top: parent.top - scrollY + 'px',\n                        width: parent.width + 'px',\n                        height: parent.height + 'px',\n                        pointerEvents: 'none',\n                        zIndex: '2147483647',\n                        border: 'none',\n                        margin: '0px',\n                        padding: '0px',\n                        borderRadius: '0px',\n                        boxShadow: 'none',\n                        backgroundImage: 'none',\n                    }}\n                />\n            )\n        }\n    }\n    const findParents = children => {\n        for (const item in children) {\n            if (children[item].plugin === props.currentPlugin) {\n                for (const innerItem in children[item].children) {\n                    if (innerItem === props.hoveredElementId) {\n                        parents.push(children[item].children[innerItem])\n                    }\n                }\n            } else {\n                findParents(children[item].children)\n            }\n        }\n    }\n    if (props.hoveredElementId) {\n        if (props.hoverMode === 'page') {\n            if (props.hoveredElementSize[props.hoveredElementId]) {\n                addHoverBoxes(props.hoveredElementSize[props.hoveredElementId])\n            }\n        } else if (props.hoverMode === 'plugin') {\n            findParents(props.hoveredElementSize)\n            parents.forEach(element => {\n                addHoverBoxes(element)\n            })\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = state => {\n    return {\n        hoveredElementId: state.hoveredElementId,\n        hoveredElementSize: state.hoveredElementSize,\n        hoverMode: state.hoverMode,\n        currentPlugin: state.currentPlugin,\n    }\n}\n\nexport default connect(mapStateToProps)(HoveredBoxHighlight)\n","import React, { Component, useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { isEqual, cloneDeep } from 'lodash'\nimport ReactDOMServer from 'react-dom/server'\n\nimport { getCurrentResourceValue } from '../../utils/basic'\nimport * as classes from './SiteBuilder.module.css'\nimport * as actions from '../../store/actions/index'\nimport Frame, { FrameContextConsumer } from './Frame/index'\nimport SiteBuilderLayout from '../../components/SiteBuilderLayout/SiteBuilderLayout'\nimport BuilderElement from './BuilderElement/BuilderElement'\nimport HoveredBoxHighlight from './HoveredBoxHighlight/HoveredBoxHighlight'\nimport { systemClassMenu } from './systemClasses'\nimport { Beforeunload } from 'react-beforeunload'\nimport ReactResizeDetector from 'react-resize-detector'\nimport saveRect from './methods/saveRect'\nimport { Provider } from 'react-redux'\nimport { renderToString } from 'react-dom/server'\nimport { store } from '../../index'\n\nimport type {\n    resourceType,\n    initialStateType,\n} from '../../store/reducer/reducer'\n\nexport type Props = {\n    zoom: $PropertyType<initialStateType, 'pageZoom'>,\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    pagesStructure: $PropertyType<initialStateType, 'pagesStructure'>,\n    pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    isRefreshing: $PropertyType<initialStateType, 'isRefreshing'>,\n    sizeIsChanging: $PropertyType<initialStateType, 'sizeIsChanging'>,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    tooltipsOn: $PropertyType<initialStateType, 'tooltipsOn'>,\n    markRefreshing: typeof actions.markRefreshing,\n    savePropertiesOnLeave: typeof actions.savePropertiesOnLeave,\n    changeBarSize: typeof actions.changeBarSize,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n}\n\ntype State = {\n    headValue: string,\n}\n\nclass SiteBuilder extends Component<Props, State> {\n    state = {\n        headValue: '',\n    }\n\n    componentDidMount() {\n        saveRect(this.props)\n    }\n    head = ''\n\n    async componentWillReceiveProps(newProps: Props) {\n        const currentPageItemInStructure = newProps.pagesStructure.find(\n            item => item.id === newProps.currentPage\n        )\n        const resourceDraft = getCurrentResourceValue(\n            newProps.currentPage,\n            newProps.resourcesObjects\n        )\n        const newHead = resourceDraft\n            ? resourceDraft.structure\n                ? resourceDraft.structure\n                      .filter(itemInn =>\n                          isEqual(itemInn.path, ['element_-1', 'element_0'])\n                      )\n                      .map(itemInn => (\n                          <BuilderElement\n                              key={itemInn.id}\n                              structure={resourceDraft.structure}\n                              element={itemInn}\n                              hoveredElementId={newProps.hoveredElementId}\n                              pluginsStructure={newProps.pluginsStructure}\n                              resourcesObjects={newProps.resourcesObjects}\n                              document={document}\n                              pluginsPathArray={[]}\n                              resourceDraft={resourceDraft}\n                              currentResource={newProps.currentPage}\n                              pageInStructure={currentPageItemInStructure}\n                          />\n                      ))\n                : ''\n            : ''\n        const newHeadString = renderToString(\n            <Provider store={store}>{newHead}</Provider>\n        )\n\n        if (newHeadString) {\n            if (newHeadString !== this.state.headValue) {\n                this.props.markRefreshing(true)\n                this.setState({ headValue: newHeadString })\n            }\n        }\n    }\n\n    checkOnLeave = e => {\n        if (sessionStorage.getItem('systemRefresh') !== '1') {\n            sessionStorage.setItem('systemRefresh', '0')\n            //check if there are unsaved resources before leave\n            this.props.savePropertiesOnLeave(\n                this.props.barSizes,\n                this.props.tooltipsOn,\n                this.props.currentPage,\n                this.props.currentPlugin\n            )\n            if (this.props.notSavedResources.length > 0)\n                return 'Some data is not saved.'\n            else return undefined\n        }\n    }\n\n    render() {\n        const currentPageItemInStructure = this.props.pagesStructure.find(\n            item => item.id === this.props.currentPage\n        )\n        const resourceDraft = getCurrentResourceValue(\n            this.props.currentPage,\n            this.props.resourcesObjects\n        )\n\n        let frame = null\n        if (resourceDraft) {\n            const { props } = this\n            const zoom = props.zoom / 100\n            const size = 100 / zoom + '%'\n            const structure = resourceDraft.structure\n\n            const bodyElement = structure.filter(\n                item => item.path.length === 1\n            )[1]\n            const bodyProps = cloneDeep(bodyElement.properties)\n            const bodyStyle = bodyElement.style\n            if (bodyStyle) bodyProps.style = bodyStyle\n\n            const htmlElement = structure.filter(\n                item => item.path.length === 0\n            )[0]\n            const htmlProps = cloneDeep(htmlElement.properties)\n            const htmlStyle = htmlElement.style\n            if (htmlStyle) htmlProps.style = htmlStyle\n\n            frame = this.props.isRefreshing ? (\n                <StopRefresh />\n            ) : (\n                <>\n                    <Frame\n                        id=\"builderFrame\"\n                        key={1}\n                        style={{\n                            width: size,\n                            height: size,\n                            msZoom: zoom,\n                            MozTransform: `scale(${zoom})`,\n                            MozTransformOrigin: '0 0',\n                            OTransform: `scale(${zoom})`,\n                            OTransformOrigin: '0 0',\n                            WebkitTransform: `scale(${zoom})`,\n                            WebkitTransformOrigin: '0 0',\n                            border: 'none',\n                            margin: '0',\n                            padding: '0',\n                        }}\n                        bodyProps={bodyProps}\n                        htmlProps={htmlProps}\n                        initialContent={`<!DOCTYPE html><html><head>${systemClassMenu} ${\n                            this.state.headValue\n                        }</head><body></body></html>`}\n                    >\n                        <FrameContextConsumer>\n                            {({ document, window }) => {\n                                return structure\n                                    ? structure\n                                          .filter(itemInn =>\n                                              isEqual(itemInn.path, [\n                                                  'element_-1',\n                                                  'element_1',\n                                              ])\n                                          )\n                                          .map(itemInn => (\n                                              <BuilderElement\n                                                  key={itemInn.id}\n                                                  structure={structure}\n                                                  element={itemInn}\n                                                  hoveredElementId={\n                                                      props.hoveredElementId\n                                                  }\n                                                  pluginsStructure={\n                                                      props.pluginsStructure\n                                                  }\n                                                  resourcesObjects={\n                                                      props.resourcesObjects\n                                                  }\n                                                  document={document}\n                                                  pluginsPathArray={[]}\n                                                  resourceDraft={resourceDraft}\n                                                  currentResource={\n                                                      this.props.currentPage\n                                                  }\n                                                  pageInStructure={\n                                                      currentPageItemInStructure\n                                                  }\n                                              />\n                                          ))\n                                    : null\n                            }}\n                        </FrameContextConsumer>\n                        <HoveredBoxHighlight />\n                    </Frame>\n                </>\n            )\n        }\n        return (\n            <Beforeunload onBeforeunload={e => this.checkOnLeave(e)}>\n                <ReactResizeDetector\n                    handleWidth\n                    handleHeight\n                    onResize={() =>\n                        this.props.changeBarSize(this.props.barSizes)\n                    }\n                />\n                <SiteBuilderLayout>\n                    {frame}\n                    {this.props.sizeIsChanging ? (\n                        <div className={classes.Overlay} />\n                    ) : null}\n                </SiteBuilderLayout>\n            </Beforeunload>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        zoom: state.pageZoom,\n        currentPage: state.currentPage,\n        currentPlugin: state.currentPlugin,\n        resourcesObjects: state.resourcesObjects,\n        pluginsStructure: state.pluginsStructure,\n        pagesStructure: state.pagesStructure,\n        isRefreshing: state.isRefreshing,\n        sizeIsChanging: state.sizeIsChanging,\n        notSavedResources: state.notSavedResources,\n        barSizes: state.barSizes,\n        findMode: state.findMode,\n        tooltipsOn: state.tooltipsOn,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        markRefreshing: refreshing =>\n            dispatch(actions.markRefreshing(refreshing)),\n        savePropertiesOnLeave: (\n            barSizes,\n            tooltipsOn,\n            currentPage,\n            currentPlugin\n        ) =>\n            dispatch(\n                actions.savePropertiesOnLeave(\n                    barSizes,\n                    tooltipsOn,\n                    currentPage,\n                    currentPlugin\n                )\n            ),\n        changeBarSize: (barSizes, initiator) =>\n            dispatch(actions.changeBarSize(barSizes, initiator)),\n        saveHoveredElementRect: (id, size) =>\n            dispatch(actions.saveHoveredElementRect(id, size)),\n    }\n}\n\nconst StopRefresh = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(props => {\n    const span = useRef(null)\n    useEffect(() => {\n        if (span.current) {\n            props.markRefreshing(false)\n        }\n    })\n    return <span ref={span} style={{ display: 'none' }} />\n})\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SiteBuilder)\n","import type Props from '../SiteBuilder'\n\nexport default (props: Props) => {\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    if (iframe) {\n        const innerDoc = iframe.contentDocument || iframe.contentWindow.document\n        if (innerDoc.body) {\n            const rect = innerDoc.body.getBoundingClientRect()\n            props.saveHoveredElementRect([{ id: 'element_1' }], {\n                left: rect.left,\n                top: rect.top,\n                width: rect.right - rect.left,\n                height: rect.bottom - rect.top,\n            })\n        }\n    }\n}\n","export const systemClassMenu = `\n<style>\n                        @font-face {\n                        font-family: 'FontAwesome';\n                        src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.eot');\n                        src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.eot?#iefix')\n                                format('embedded-opentype'),\n                            url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.woff')\n                                format('woff'),\n                            url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.ttf')\n                                format('truetype'),\n                            url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/fonts/fontawesome-webfont.svg?#fontawesomeregular')\n                                format('svg');\n                        font-weight: normal;\n                        font-style: normal;\n                    }\n                    .systemclass_menu {\n                        list-style: none;\n                            margin: 0px;\n    padding: 0px;\n                    }\n                    .systemclass_menu-hidden {\n                        display: none;\n                    }\n                    .systemclass_menu-collapse {\n                        overflow: hidden;\n                        transition: height 0.3s ease-out;\n                    }\n                    .systemclass_menu-item-group-list {\n                        margin: 0;\n                        padding: 0;\n                    }\n                    .systemclass_menu-item-group-title {\n                        color: #999;\n                        line-height: 1.5;\n                        \n                        border-bottom: 1px solid #dedede;\n                    }\n                    \n                    .systemclass_menu-item-selected {\n                        background-color: #eaf8fe;\n                        transform: translateZ(0);\n                    }\n                    .systemclass_menu-submenu-selected {\n                        background-color: #eaf8fe;\n                    }\n                    .systemclass_menu > li.systemclass_menu-submenu {\n                        padding: 0;\n                    }\n                    .systemclass_menu-horizontal.systemclass_menu-sub,\n                    .systemclass_menu-vertical.systemclass_menu-sub,\n                    .systemclass_menu-vertical-left.systemclass_menu-sub,\n                    .systemclass_menu-vertical-right.systemclass_menu-sub {\n                        \n                        margin-top: 0;\n                    }\n                    .systemclass_menu-item,\n                    .systemclass_menu-submenu-title {\n                        margin: 0;\n                        position: relative;\n                        display: block;\n                        padding: 0px;\n                        white-space: nowrap;\n                    }\n                    .systemclass_menu-item.systemclass_menu-item-disabled,\n                    .systemclass_menu-submenu-title.systemclass_menu-item-disabled,\n                    .systemclass_menu-item.systemclass_menu-submenu-disabled,\n                    .systemclass_menu-submenu-title.systemclass_menu-submenu-disabled {\n                        color: #777 !important;\n                    }\n                    .systemclass_menu > .systemclass_menu-item-divider {\n                        height: 1px;\n                        margin: 1px 0;\n                        overflow: hidden;\n                        padding: 0;\n                        line-height: 0;\n                        background-color: #e5e5e5;\n                    }\n                    .systemclass_menu-submenu-popup {\n                        position: absolute;\n                    }\n                    .systemclass_menu-submenu-popup .submenu-title-wrapper {\n                        padding-right: 20px;\n                    }\n                    \n                    .systemclass_menu .systemclass_menu-submenu-title .anticon,\n                    .systemclass_menu .systemclass_menu-item .anticon {\n                        width: 14px;\n                        height: 14px;\n                        \n                        top: -1px;\n                    }\n                    .systemclass_menu-horizontal {\n                        border: none;\n                        box-shadow: none;\n                        white-space: nowrap;\n                        overflow: hidden;\n                    }\n                    .systemclass_menu-horizontal > .systemclass_menu-item,\n                    .systemclass_menu-horizontal\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title {\n                        \n                    }\n                    .systemclass_menu-horizontal > .systemclass_menu-submenu,\n                    .systemclass_menu-horizontal > .systemclass_menu-item {\n                        \n                        display: inline-block;\n                        vertical-align: bottom;\n                    }\n                    \n                    .systemclass_menu-horizontal:after {\n                        content: ' ';\n                        display: block;\n                        height: 0;\n                        clear: both;\n                    }\n                    .systemclass_menu-vertical,\n                    .systemclass_menu-vertical-left,\n                    .systemclass_menu-vertical-right,\n                    .systemclass_menu-inline {\n                        \n                    }\n                    .systemclass_menu-vertical > .systemclass_menu-item,\n                    .systemclass_menu-vertical-left > .systemclass_menu-item,\n                    .systemclass_menu-vertical-right > .systemclass_menu-item,\n                    .systemclass_menu-inline > .systemclass_menu-item,\n                    .systemclass_menu-vertical\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title,\n                    .systemclass_menu-vertical-left\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title,\n                    .systemclass_menu-vertical-right\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title,\n                    .systemclass_menu-inline\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title {\n                        \n                    }\n                    .systemclass_menu-vertical .systemclass_menu-submenu-arrow,\n                    .systemclass_menu-vertical-left\n                        .systemclass_menu-submenu-arrow,\n                    .systemclass_menu-vertical-right\n                        .systemclass_menu-submenu-arrow,\n                    .systemclass_menu-inline .systemclass_menu-submenu-arrow {\n                        display: inline-block;\n                        font: normal normal normal 14px/1 FontAwesome;\n                        font-size: inherit;\n                        vertical-align: baseline;\n                        text-align: center;\n                        text-transform: none;\n                        text-rendering: auto;\n                        position: absolute;\n                        right: 16px;\n                        line-height: 1.5em;\n                    }\n                    .systemclass_menu-vertical\n                        .systemclass_menu-submenu-arrow:before,\n                    .systemclass_menu-vertical-left\n                        .systemclass_menu-submenu-arrow:before,\n                    .systemclass_menu-vertical-right\n                        .systemclass_menu-submenu-arrow:before,\n                    .systemclass_menu-inline\n                        .systemclass_menu-submenu-arrow:before {\n                        content: '\\f0da';\n                    }\n                    .systemclass_menu-inline .systemclass_menu-submenu-arrow {\n                        transform: rotate(90deg);\n                        transition: transform 0.3s;\n                    }\n                    .systemclass_menu-inline\n                        .systemclass_menu-submenu-open\n                        > .systemclass_menu-submenu-title\n                        .systemclass_menu-submenu-arrow {\n                        transform: rotate(-90deg);\n                    }\n                    .systemclass_menu-vertical.systemclass_menu-sub,\n                    .systemclass_menu-vertical-left.systemclass_menu-sub,\n                    .systemclass_menu-vertical-right.systemclass_menu-sub {\n                        padding: 0;\n                    }\n\n                    .systemclass_menu-sub.systemclass_menu-inline {\n                        padding: 0;\n                        border: none;\n                        border-radius: 0;\n                        box-shadow: none;\n                    }\n                    .systemclass_menu-sub.systemclass_menu-inline\n                        > .systemclass_menu-item,\n                    .systemclass_menu-sub.systemclass_menu-inline\n                        > .systemclass_menu-submenu\n                        > .systemclass_menu-submenu-title {\n                        \n                        padding: 0;\n                    }\n                    .systemclass_menu-open-slide-up-enter,\n                    .systemclass_menu-open-slide-up-appear {\n                        animation-duration: 0.3s;\n                        animation-fill-mode: both;\n                        transform-origin: 0 0;\n                        opacity: 0;\n                        animation-timing-function: cubic-bezier(\n                            0.08,\n                            0.82,\n                            0.17,\n                            1\n                        );\n                        animation-play-state: paused;\n                    }\n                    .systemclass_menu-open-slide-up-leave {\n                        animation-duration: 0.3s;\n                        animation-fill-mode: both;\n                        transform-origin: 0 0;\n                        opacity: 1;\n                        animation-timing-function: cubic-bezier(\n                            0.6,\n                            0.04,\n                            0.98,\n                            0.34\n                        );\n                        animation-play-state: paused;\n                    }\n                    .systemclass_menu-open-slide-up-enter.systemclass_menu-open-slide-up-enter-active,\n                    .systemclass_menu-open-slide-up-appear.systemclass_menu-open-slide-up-appear-active {\n                        animation-name: systemclassMenuOpenSlideUpIn;\n                        animation-play-state: running;\n                    }\n                    .systemclass_menu-open-slide-up-leave.systemclass_menu-open-slide-up-leave-active {\n                        animation-name: systemclassMenuOpenSlideUpOut;\n                        animation-play-state: running;\n                    }\n                    @keyframes systemclassMenuOpenSlideUpIn {\n                        0% {\n                            opacity: 0;\n                            transform-origin: 0% 0%;\n                            transform: scaleY(0);\n                        }\n                        100% {\n                            opacity: 1;\n                            transform-origin: 0% 0%;\n                            transform: scaleY(1);\n                        }\n                    }\n                    @keyframes systemclassMenuOpenSlideUpOut {\n                        0% {\n                            opacity: 1;\n                            transform-origin: 0% 0%;\n                            transform: scaleY(1);\n                        }\n                        100% {\n                            opacity: 0;\n                            transform-origin: 0% 0%;\n                            transform: scaleY(0);\n                        }\n                    }\n                    .systemclass_menu-open-zoom-enter,\n                    .systemclass_menu-open-zoom-appear {\n                        opacity: 0;\n                        animation-duration: 0.3s;\n                        animation-fill-mode: both;\n                        transform-origin: 0 0;\n                        animation-timing-function: cubic-bezier(\n                            0.08,\n                            0.82,\n                            0.17,\n                            1\n                        );\n                        animation-play-state: paused;\n                    }\n                    .systemclass_menu-open-zoom-leave {\n                        animation-duration: 0.3s;\n                        animation-fill-mode: both;\n                        transform-origin: 0 0;\n                        animation-timing-function: cubic-bezier(\n                            0.6,\n                            0.04,\n                            0.98,\n                            0.34\n                        );\n                        animation-play-state: paused;\n                    }\n                    .systemclass_menu-open-zoom-enter.systemclass_menu-open-zoom-enter-active,\n                    .systemclass_menu-open-zoom-appear.systemclass_menu-open-zoom-appear-active {\n                        animation-name: systemclassMenuOpenZoomIn;\n                        animation-play-state: running;\n                    }\n                    .systemclass_menu-open-zoom-leave.systemclass_menu-open-zoom-leave-active {\n                        animation-name: systemclassMenuOpenZoomOut;\n                        animation-play-state: running;\n                    }\n                    @keyframes systemclassMenuOpenZoomIn {\n                        0% {\n                            opacity: 0;\n                            transform: scale(0, 0);\n                        }\n                        100% {\n                            opacity: 1;\n                            transform: scale(1, 1);\n                        }\n                    }\n                    @keyframes systemclassMenuOpenZoomOut {\n                        0% {\n                            transform: scale(1, 1);\n                        }\n                        100% {\n                            opacity: 0;\n                            transform: scale(0, 0);\n                        }\n                    }\n                    </style>\n`\n"],"sourceRoot":""}