{"version":3,"sources":["utils/checkUserRights.js","components/UI/Buttons/SmallButton/SmallButton.js","containers/AdvancedBar/AdvancedBar.module.css","components/ResourcesTree/ResourcesTree.module.css","containers/AdvancedBar/SizeDragController/SizeDragController.js","components/Editor/Editor.js","components/UI/InspectorValue/InspectorValue.js","utils/sortTreeMethods.js","components/UI/Select/Select.js","utils/pagesStructure.js","components/ElementsTreeAndProperties/ElementsTree/ElementsTree.js","components/ElementsTreeAndProperties/Properties/Properties.module.css","components/UI/TreeSearch/TreeSearch.js","components/ElementsTreeAndProperties/Properties/MenuItems/MenuItems.js","containers/SiteBuilder/Frame/Context.js","containers/AdvancedBar/SizeDragController/SizeDragController.module.css","containers/AdvancedBar/Images/Images.module.css","components/UI/Buttons/SmallButton/SmallButton.module.css","components/UI/InspectorValue/InspectorValue.module.css","components/UI/TreeSearch/TreeSearch.module.css","components/UI/Select/Select.module.css","components/ElementsTreeAndProperties/ElementsTree/methods/populateStructureWithPluginChildren.js","components/ElementsTreeAndProperties/ElementsTree/methods/search.js","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.module.css","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.module.css","components/ElementsTreeAndProperties/Properties/MenuItems/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.js","containers/AdvancedBar/Websites/WebsitesTree/ItemRenderer.js","containers/AdvancedBar/Websites/WebsitesTree/WebsitesTree.module.css","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.module.css","components/UI/TextInput/TextInput.module.css","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.module.css","containers/SiteBuilder/SiteBuilder.module.css","containers/SiteBuilder/Frame/index.js","containers/SiteBuilder/Frame/Frame.js","containers/SiteBuilder/Frame/Content.js","components/UI/Overlay/Overlay.module.css","components/ElementsTreeAndProperties/ElementsTree/Buttons.js","components/ElementsTreeAndProperties/ElementsTree/methods/getBoxType.js","components/ElementsTreeAndProperties/ElementsTree/methods/generateButtonRules.js","utils/tagItems.js","components/ElementsTreeAndProperties/ElementsTree/ItemRenderer.js","containers/AdvancedBar/Images/Images.js","awsConfig.js","components/ResourcesTree/ItemRenderer.js","components/ResourcesTree/ResourcesTree.js","components/ElementsTreeAndProperties/Properties/TextProperty/TextProperty.js","components/ElementsTreeAndProperties/Properties/ParseProperty/ParseProperty.js","components/ElementsTreeAndProperties/Properties/propertiesSuggestedList.js","components/HTMLEditor/HTMLEditor.js","components/ElementsTreeAndProperties/Properties/Properties.js","containers/AdvancedBar/Plugins/Plugins.js","components/ElementsTreeAndProperties/PageProperties/PageProperties.js","containers/AdvancedBar/Pages/Pages.js","containers/AdvancedBar/Templates/Templates.js","containers/AdvancedBar/Account/Account.js","components/UI/TextInput/TextInput.js","containers/AdvancedBar/Websites/WebsitesProperties/DomainsProperties/DomainsProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/SharingProperties/SharingProperties.js","containers/AdvancedBar/Websites/WebsitesProperties/WebsitesProperties.js","containers/AdvancedBar/Websites/Websites.js","containers/AdvancedBar/AdvancedBar.js","containers/SiteBuilder/Menu/MenuModule/utils/isMobile.js","containers/SiteBuilder/Menu/MenuModule/util.js","containers/SiteBuilder/Menu/MenuModule/placements.js","containers/SiteBuilder/Menu/MenuModule/SubMenu.js","containers/SiteBuilder/Menu/MenuModule/DOMWrap.js","containers/SiteBuilder/Menu/MenuModule/SubPopupMenu.js","containers/SiteBuilder/Menu/MenuModule/utils/legacyUtil.js","containers/SiteBuilder/Menu/MenuModule/Menu.js","containers/SiteBuilder/Menu/MenuModule/MenuItem.js","containers/SiteBuilder/Menu/MenuModule/MenuItemGroup.js","containers/SiteBuilder/Menu/MenuModule/Divider.js","containers/SiteBuilder/Menu/MenuModule/index.js","containers/SiteBuilder/Menu/Menu.js","containers/SiteBuilder/Menu/methods/buildItemsForMenu.js","containers/SiteBuilder/BuilderElement/methods/useEffect.js","containers/SiteBuilder/BuilderElement/methods/refineProperties.js","containers/SiteBuilder/BuilderElement/methods/boxMethods.js","containers/SiteBuilder/BuilderElement/methods/tagsLibrary.js","containers/SiteBuilder/BuilderElement/BuilderElement.js","containers/SiteBuilder/HoveredBoxHighlight/HoveredBoxHighlight.js","components/UI/Overlay/Overlay.js","containers/SiteBuilder/SiteBuilder.js","containers/SiteBuilder/methods/refreshPageStructure.js","components/SiteBuilderLayout/SiteBuilderLayout.js"],"names":["__webpack_exports__","requiredRights","noShowAlert","dispatch","getState","sessionStorage","getItem","mD","tryWebsiter","length","website","currentWebsiteObject","alert","account","sharing","find","item","userId","allow","forEach","rights","includes","__webpack_require__","d","SmallButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_tooltip__WEBPACK_IMPORTED_MODULE_1__","react_tooltip__WEBPACK_IMPORTED_MODULE_1___default","react_redux__WEBPACK_IMPORTED_MODULE_2__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3__","_SmallButton_module_css__WEBPACK_IMPORTED_MODULE_3___default","_Svg_Svg__WEBPACK_IMPORTED_MODULE_4__","_utils_checkUserRights__WEBPACK_IMPORTED_MODULE_5__","props","width","window","innerWidth","a","createElement","Fragment","data-tip","tooltip","data-testid","className","concat","disabled","classes","ButtonDisabled","Button","inline","Inline","onClick","buttonClicked","checkUserRights","onMouseDown","mouseDown","style","Table","Cell","icon","Svg","title","tooltipsOff","effect","multiline","place","Tooltip","delayShow","overridePosition","position","currentEvent","currentTarget","node","desiredPlace","offset","buttonRect","tooltipRect","top","target","getBoundingClientRect","bottom","left","right","connect","state","module","exports","Content","Container","LastContainer","reactTabs","reactTabsTabPanelSelected","reactTabsTab","TabSelected","mainContainer","heightControll","widthControll","TabList","rst__virtualScrollOverride","ReactVirtualized__Grid__innerScrollContainer","rst__rtl","ReactVirtualized__Grid","rst__node","rst__nodeContent","rst__lineBlock","rst__absoluteLineBlock","rst__lineHalfHorizontalRight","rst__lineFullVertical","rst__lineHalfVerticalTop","rst__lineHalfVerticalBottom","rst__highlightLineVertical","arrow-pulse","rst__highlightTopLeftCorner","rst__highlightBottomLeftCorner","rst__rowWrapper","rst__row","rst__rowLandingPad","rst__rowCancelPad","rst__rowSearchMatch","rst__rowSearchFocus","rst__rowContents","rst__rowLabel","rst__rowToolbar","rst__moveHandle","rst__toolbarButton","rst__rowContentsDragDisabled","rst__loadingHandle","rst__loadingCircle","rst__loadingCirclePoint","pointFade","rst__rowTitle","rst__rowTitleWithSubtitle","rst__rowSubtitle","rst__collapseButton","rst__expandButton","rst__lineChildren","rst__placeholder","rst__placeholderLandingPad","rst__placeholderCancelPad","ReactVirtualized__Table__headerRow","ReactVirtualized__Table__row","ReactVirtualized__Table__headerTruncatedText","ReactVirtualized__Table__headerColumn","ReactVirtualized__Table__rowColumn","ReactVirtualized__Table__sortableHeaderColumn","ReactVirtualized__Table__sortableHeaderIconContainer","ReactVirtualized__Table__sortableHeaderIcon","Hovered","Chosen","IconsContainer","IconsContainerPage","IconsContainerNotPage","TreeContainer","selectContainer","setSizeIsChanging","value","actions","memo","_useDrag","useDrag","id","type","startValue","begin","end","_useDrag2","Object","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","drag","preview","useEffect","getEmptyImage","captureDraggingState","react__WEBPACK_IMPORTED_MODULE_1___default","ref","addClass","join","vertical","prevProps","nextProps","ace","config","set","Editor","_this","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","onChange","setState","updateValue","isBeatifying","setTimeout","handleChange","editor","getSelection","getCursor","handleSelectProperty","selectedOption","obj","JSON","parse","e","label","resultString","stringify","makeCodePrettier","moveCursorToPosition","elementCurrentCursor","column","row","editorMode","newValue","beautify_css","beautify_js","bind","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","prevState","currentElement","currentResource","elementValue","_this2","refs","aceEditor","setInterval","resize","react__WEBPACK_IMPORTED_MODULE_6___default","suggestOptions","_UI_Select_Select__WEBPACK_IMPORTED_MODULE_20__","placeholder","options","isSearchable","react_ace__WEBPACK_IMPORTED_MODULE_9___default","mode","readOnly","theme","name","fontSize","showPrintMargin","showGutter","highlightActiveLine","flex","height","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","useWorker","Component","undoResourceVersion","redoResourceVersion","forwardRef","InspectorValue","parentRef","input","useRef","_useState","useState","active","_useState2","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","parentPropsBlur","blur","parentPropsFocus","focus","react__WEBPACK_IMPORTED_MODULE_2___default","InspectorDiv","readonly","react_autocomplete__WEBPACK_IMPORTED_MODULE_3___default","items","withState","changed","onSelect","current","shouldItemRender","toLowerCase","indexOf","abbr","getItemValue","renderItem","isHighlighted","ItemHighlighted","key","renderMenu","styles","zIndex","background","border","color","maxHeight","overflow","children","renderInput","inputEl","Span","onFocus","assign","onBlur","Input","InputHidden","_extends","i","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","isDescendant","older","younger","some","child","_defineProperty","defineProperty","enumerable","configurable","writable","_objectSpread","ownKeys","filter","sym","getOwnPropertyDescriptor","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","from","_iterableToArray","TypeError","_nonIterableSpread","Select","customStyles","menu","provided","margin","clearIndicator","padding","dropdownIndicator","control","minHeight","Div","react_select__WEBPACK_IMPORTED_MODULE_2__","default","isClearable","option","defaultProps","buildItems","path","result","doBuildItems","element","push","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","omit","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","pluginElementsStructures","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","pluginsStructure","next","done","draft","getCurrentResourceValue","resourcesObjects","structure","err","return","resourceDraftStructure","resourceDraftIndex","currentIndex","structureWithPluginChildren","populateStructureWithPluginChildren","hoveredElementId","findMode","fromFrame","saveElementsStructure","treeData","buildTree","map","itemPath","searchString","searchFocusIndex","searchFoundCount","searchStringHasBeenCleared","searchOpen","searchOnHover","_useState3","_useState4","structureIds","saveStructureIds","newStructureIds","isEqual","_Buttons__WEBPACK_IMPORTED_MODULE_17__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_5__","nodeContentRenderer","ItemRenderer","canDrag","_ref2","childrenTo","canDrop","_ref","nextParent","nextPath","prevPath","text","isElementFromCMSVariable","checkIfCapital","tag","charAt","forChildren","isChildren","scaffoldBlockPxWidth","rowHeight","generateNodeProps","_ref3","isVirtualized","onMoveNode","_ref4","treeIndex","global","console","debug","searchQuery","searchFocusOffset","searchFinishCallback","matches","searchMethod","searchMethod2","_UI_TreeSearch_TreeSearch__WEBPACK_IMPORTED_MODULE_10__","OlContainer","TreeSearch","handleSearchOnChange","_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_3__","selectPrevMatch","selectNextMatch","barSizes","pagesStructure","templatesStructure","treeDataSource","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","pagesStructureWithAll","all","generatedFrom","sourceItem","properties","propertiesString","isCMSVariable","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","generalSettings","menuItems","elementValues","attrName","menuItem","currentMenuItem","react__WEBPACK_IMPORTED_MODULE_4___default","classesAdvancedBar","width3","_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_16__","newMenuItems","changeProperty","react_sortable_tree__WEBPACK_IMPORTED_MODULE_6__","_result","newItems","cloneDeep","newItem","findNewItem","newCurrentMenuId","currentMenuId","saveItems","_home_ndjs_websiter_websiter_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","dndType","_containers_AdvancedBar_SizeDragController_SizeDragController__WEBPACK_IMPORTED_MODULE_14__","react_tabs__WEBPACK_IMPORTED_MODULE_7__","selectedClassName","shouldCopyOnOutsideDrop","_Editor_Editor__WEBPACK_IMPORTED_MODULE_15__","cursorPosition","FrameContextConsumer","FrameContextProvider","FrameContext","_react","require","_react2","__esModule","doc","win","document","createContext","Provider","Consumer","SectionHeight","InnerDiv","ImageContainer","ImageContainerChosen","ImageContainerCurrent","ImageName","ImageInput","Buttons","Images","DropDown","Label","StyleControls","excludeItems","pluginItem","pluginElementStructure","neededChildren","currentChildren","existingChild","newElement","forPlugin","sourcePlugin","class","Textarea","Editors","SelectContainer","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_actions_index__WEBPACK_IMPORTED_MODULE_2__","_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_sortTreeMethods__WEBPACK_IMPORTED_MODULE_5__","changeBoxPropertyInValues","changeMenuItemProperty","itemId","handle","_this$props","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","draggedNode","isSearchMatch","isSearchFocus","didDrop","otherProps","expanded","_","index","isLandingPadActive","isDraggedDescendant","buttonStyle","_props$node","rowClasses","stopPropagation","aria-label","opacity","react_sortable_tree__WEBPACK_IMPORTED_MODULE_1__","_components_ResourcesTree_ResourcesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_Buttons_SmallButton_SmallButton__WEBPACK_IMPORTED_MODULE_4__","_ItemRenderer__WEBPACK_IMPORTED_MODULE_5__","_websocketActions__WEBPACK_IMPORTED_MODULE_6__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7__","lodash_isEqual__WEBPACK_IMPORTED_MODULE_7___default","websites","currentWebsiteId","addWebsite","wsActions","deleteWebsite","notVirtual","_WebsitesTree_module_css__WEBPACK_IMPORTED_MODULE_3__","_components_UI_InspectorValue_InspectorValue__WEBPACK_IMPORTED_MODULE_4__","_utils_checkUserRights__WEBPACK_IMPORTED_MODULE_6__","_websocketActions__WEBPACK_IMPORTED_MODULE_7__","chooseWebsite","Loaded","LocalDomain","Title","Wrong","Right","SharingTable","Active","Ava","Overlay","_Context","get","_Frame","_Frame2","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_interopRequireDefault","_reactDom2","_propTypes2","_Content2","Frame","_Component","context","instance","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","handleLoad","forceUpdate","_isMounted","subClass","superClass","create","constructor","setPrototypeOf","_inherits","getDoc","readyState","addEventListener","removeEventListener","contentDocument","mountTarget","querySelector","body","documentElement","contentDidMount","contentDidUpdate","defaultView","parentView","updateHead","_setInitialContent","initialRender","contents","open","write","close","head","innerHTML","encodedString","textArea","decodeEntities","initialContent","getMountTarget","attr","bodyProps","setAttribute","mountTargetHtml","getMountTargetHtml","htmlProps","createPortal","renderFrameContents","propTypes","object","string","func","oneOfType","arrayOf","Children","only","isRequired","currentBox","addBox","duplicateBox","withChildren","mergeBoxToPlugin","onlyChildren","dissolvePluginToBox","deleteBox","toggleFindMode","markShouldRefreshing","currentBoxType","currentItemInStructure","getBoxType","buttonRules","addText","addNext","addChildren","addInside","duplicate","mergeToPlugin","mergeToPluginChildren","dissolve","delete","generateButtonRules","react_default","objectSpread","tagItems","currentNode","isCurrentBox","currentNodeValues","values","chooseBox","changeBoxPropertyInStructure","notForHistory","boxId","hoverBox","unhoverBox","_props$currentNode","log","textContent","substr","currentPlugin","currentImage","imageUpload","files","renameImage","image","deleteImage","chooseImage","filteredImage","images","str","el","appendChild","selected","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","copyToClipboard","url","accept","edits","fit","r","g","b","alpha","toFormat","imageRequest","bucket","btoa","imageClass","lib_default","src","alt","newVersionResources","notSavedResources","currentPageId","currentTemplateId","currentPluginId","globalSettingsPageId","globalSettingsTemplateId","chooseResource","sendUpdate","newResource","homepage","hidden","published","isGeneralSettings","handlePropertyChange","trim","replace","newStructure","handleChoose","minWidth","paddingRight","allowEmpty","structureIndex","isGlobalSettingsPage","currentResourcesStructureElement","resourceItemIndex","revertResource","to","publishResource","addResource","deleteResource","resourceStructureAttributeChange","slicedToArray","templateOptions","findIndex","template","index_esm","splitText","start","textToSpan","selectionStart","selectionEnd","handleSelectionChange","textMode","onKeyUp","onMouseUp","parseHTML","setValue","editorValue","propertiesSuggestedList","websiterMenu","baseHtmlProps","Refresh","sizeIsChanging","_useState5","_useState6","box","setBox","display","flexDirection","HTMLEditor_Refresh","ts","apiKey","init","plugins","toolbar","file","edit","view","insert","format","tools","table","help","menubar","image_advtab","resourceDraft","tabClass","pannelClass","isPlugin","variableOptions","Properties_TextProperty_TextProperty","esm","selectedTabPanelClassName","CMSVariableType","CMSVariableSystemName","CMSVariableDescription","components_HTMLEditor_HTMLEditor","CMSVariableDefaultValue","getContent","MenuItems","Properties_ParseProperty_ParseProperty","slice","changes","toConsumableArray","currentPluginDraftExists","currentPluginDraft","components_ResourcesTree_ResourcesTree","SizeDragController","width2","ElementsTree","ElementsTreeAndProperties_Properties_Properties","templateCMSElementValues","pageTemplateDraft","currentPageDraftExists","currentPageDraft","PageProperties","currentTemplateDraftExists","currentTemplateDraft","loading","maxStorage","deleteUser","logout","switchTooltips","userSelect","TextInput","datatestid","wrong","saveDomainName","changeWebsiteProperty","verifyCustomDomain","websiteElement","domain","setDomainValue","customDomain","setCustomDomainValue","domainValue","customDomainValue","domainHidden","domainNoIndex","UI_TextInput_TextInput","customDomainHidden","customDomainVerified","cname","_id","currentUserInWebsiteSharing","chooseUserInWebsiteSharing","addUserInWebsiteSharing","deleteUserInWebsiteSharing","user","sharingRightsChange","transferWebsite","isOwner","sharingItem","newSharing","ownerAccount","unshift","accountInfo","displayName","photos","Checkbox","checked","WebsitesProperties","WebsitesProperties_DomainsProperties_DomainsProperties","WebsitesProperties_SharingProperties_SharingProperties","WebsitesTree","Websites_WebsitesProperties_WebsitesProperties","changeBarSize","initiator","setCurrentTopTab","currentTopTab","savePropertiesOnLeave","tabClassSelected","undoRedoTabNames","useBeforeunload","tabIndex","onKeyDown","shiftKey","ctrlKey","handleKeyDown","handleTabSelected","selectedTabClassName","AdvancedBar_Pages_Pages","AdvancedBar_Templates_Templates","AdvancedBar_Plugins_Plugins","AdvancedBar_Images_Images","AdvancedBar_Websites_Websites","AdvancedBar_Account_Account","lib_esm","handleWidth","handleHeight","onResize","enumerableOnly","symbols","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","match","regex","userAgent","test","isMobile","ua","navigator","tmp","split","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","defaultResult","getOwnPropertyDescriptors","_typeof","noop","getKeyFromChildrenIndex","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","cb","React","c","isMenuItemGroup","c2","menuAllProps","getWidth","elem","toFixed","getPosition","rect","setStyle","styleProperty","isMobileDevice","autoAdjustOverflow","adjustX","adjustY","placements","topLeft","points","bottomLeft","leftTop","rightTop","placementsRtl","_defineProperties","_getPrototypeOf","o","_assertThisInitialized","_setPrototypeOf","p","guid","popupPlacementMap","horizontal","vertical-left","vertical-right","updateDefaultActiveFirst","store","defaultActiveFirst","menuId","SubMenu","_React$Component","onDestroy","keyCode","menuInstance","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","visible","onMouseEnter","_this$props2","domEvent","onMouseLeave","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","addKeyPath","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","openChange","trigger","mouseenterTimeout","isChildrenSelected","ret","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","ReactDOM","findDOMNode","offsetWidth","saveSubMenuTitle","getBaseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","internalMenuId","manualRef","itemIcon","expandIcon","direction","getMotion","haveRendered","_this$props6","leavedClassName","removeOnLeave","motionAppear","isRootMenu","componentDidUpdate","_this$props7","minWidthTimeout","_this$props8","clearTimeout","_this3","baseProps","mergedMotion","haveOpened","CSSMotion","mergedClassName","classNames","popupMenuBlockClasses","SubPopupMenu","_classNames2","isInlineMode","isSub","popupMenuItemClasses","topMenuItemClasses","mouseEvents","titleClickEvents","titleMouseEvents","paddingLeft","ariaOwns","aria-owns","role","aria-expanded","aria-haspopup","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","popupClassName","placement","Trigger","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","forceRender","connected","activeKey","subMenuKey","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","ulSizes","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","getMenuItemNodesOver","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","_copy$props","propStyle","rest","visibility","k","setChildrenWidthAndResize","ulChildrenNodes","menuItemNodesOver","currentDisplayState","lastOverflowedIndicatorPlaceholder","menuItemNodes","overflowedIndicatorWidth","handleResize","liWidth","menuUl","ResizeObserver","entries","observe","MutationObserver","disconnect","attributes","childList","subTree","reduce","acc","childNode","overflowed","cloneElement","Tag","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","callback","getFlatInstanceArray","activeItem","step","preventDefault","selectInfo","len","reverse","activeIndex","every","ci","renderCommonMenuItem","extraProps","childProps","isActive","newChildProps","renderMenuItem","createChainedFunction","shallowEqual","topMenuBlockClasses","topMenuItemActiveClasses","popupMenuItemActiveClasses","domProps","activeKeys","openAnimation","openTransitionName","warning","motionName","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","event","processSingle","oneChanged","splice","_selectedKeys2","getOpenTransitionName","transitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","0-menu-","updateMiniStore","updateClassesInMiniStore","MenuItem","isSelected","saveNode","callRef","scrollIntoView","scrollMode","boundary","block","_classNames","attrs","attribute","aria-disabled","aria-selected","mouseEvent","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","SubMenu1","esm_extends","MenuModule_SubMenu","pageInStructure","MenuModule_MenuItem","location","SubMenu2","currentPageItem","getElementById","container","builtItems","hiddenPages","page","structureAfterVariables","parentPluginProps","l","buildMenuItems","buildItemsForMenu","menuElements","Menu_SubMenu1","MenuModule","setBoxProperties","refinedProperties","removeAttribute","inheritedPropertyName","getInheritedPropertyName","refineProperties","shift","sizes","indexW","indexH","isNaN","parseInt","pop","ownRefinedProperties","routePlugin","emptyTags","headTags","BuilderElement","sourceResource","saveHoveredElementRect","size","elementRef","newScript","_refineProperties","currentPath","childrenMainElement","childrenForPlugin","itemInn","pluginsPathArray","fromResource","isHead","parseText","sanitize","allowedTags","allowedAttributes","plugin","PluginElement","onMouseMove","SiteBuilder_Menu_Menu","pluginStructure","hoveredElementSize","hoverMode","iframe","scrollY","contentWindow","pageYOffset","scrollX","pageXOffset","parents","addHoverBoxes","parent","isEmpty","pointerEvents","borderRadius","boxShadow","backgroundImage","findParents","innerItem","SiteBuilder","headValue","newProps","refreshStructure","pageDraftStructure","templateDraftStructure","globalSettings","refreshPageStructure","saveElementsStructureFromBuilder","currentPageDraftStructureGlobalSettings","pageTemplateDraftStructureGlobalSettings","currentPageDraftStructure","pageTemplateDraftStructure","newHead","SiteBuilder_BuilderElement_BuilderElement","pageTemplateId","newHeadString","renderToString","es","shouldRefresh","markRefreshing","frame","zoom","bodyValues","bodyStyle","htmlValues","htmlStyle","isRefreshing","StopRefresh","Frame_default","msZoom","MozTransform","MozTransformOrigin","OTransform","OTransformOrigin","WebkitTransform","WebkitTransformOrigin","systemClassMenu","SiteBuilder_HoveredBoxHighlight_HoveredBoxHighlight","UI_Overlay_Overlay","mapStateToProps","refine","resourceVariable","itemValues","defaultMenuItems","refinedPropertiesPage","currentPageFSBDraft","pageTemplateFSBDraft","refinedPropertiesGlobal","globalSettingsPageDraft","globalSettingsTemplateDraft","refinePropertiesFromCMS","bodyRawValues","htmlRawValues","element_1","element_01","pageZoom","pageTemplateFSBId","mapDispatchToProps","refreshing","span","ResizeLayer","userObject","DndProvider","backend","MultiBackend","HTML5toTouch","flexWrap","containers_SiteBuilder_SiteBuilder","containers_AdvancedBar_AdvancedBar","ReserveWebsite","_useDragLayer","useDragLayer","monitor","currentOffset","getDifferenceFromInitialOffset","delayedChange","useCallback","throttle","y","x"],"mappings":"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E1BhL,KAAK,wJACLlB,QAAQ,2EACR1C,eAAgB,CAAC,eAErB0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAMuoB,UAAUvoB,EAAM0M,MAAM,IAEhChL,KAAK,gQACLlB,QAAQ,0CACR1C,eAAgB,CAAC,gBAGzB,MAER,KACJ0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAM8J,SAANzB,OAAAohB,EAAA,EAAAphB,CAAA,GACOrI,EAAMmD,MADb,CAEImU,YAAatX,EAAMmD,MAAMmU,eAGjC5V,KAAK,qTACLlB,QAAQ,wBAEZgpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBAAMnB,EAAMyoB,sBAAqB,IAChD/mB,KAAK,qRACLlB,QAAQ,qHG/NTkpB,EAAA,CACX,IACA,OACA,UACA,UACA,SACA,OACA,UACA,QACA,QACA,IACA,OACA,WACA,MACA,MACA,UACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,MACA,MACA,KACA,KACA,UACA,KACA,QACA,WACA,aACA,SACA,OACA,SACA,OACA,QACA,WACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,UACA,MACA,SACA,QACA,SACA,KACA,OACA,UACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,OACA,WACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,YACA,YACA,MACA,WACA,IACA,aACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,MACA,eACA,uBCmQWxmB,gBA7CS,SAACC,EAAOnD,GAC5B,IAAM2pB,EAAcxmB,EAAM/E,GAAGkY,IAAmBtW,EAAM0M,OAAOwJ,UAAUtX,KACnE,SAAAC,GAAI,OAAIA,EAAKkJ,KAAO/H,EAAMuC,KAAKwF,KAEnC,OAAK4hB,EAGE,CACHC,aACIzmB,EAAM/E,GAAGkY,IAAmBtW,EAAM0M,OAAOsb,aACzC2B,EAAY5hB,GAChB4hB,cACAE,kBACI1mB,EAAM/E,GAAGkY,IAAmBtW,EAAM0M,OAAOod,OAAOH,EAAY5hB,IAChE6D,gBAAiBzI,EAAM/E,GAAGmY,IAAavW,EAAM0M,OAC7CkJ,iBAAkBzS,EAAM/E,GAAGwX,iBAC3Bc,kBAAmB,KAXZ,IAeY,SAAC1Y,EAAUgC,GAClC,MAAO,CACH+pB,UAAW,SAAC/hB,EAAMD,GAAP,OAAc/J,EAAS2J,IAAkBK,EAAMD,KAC1DiiB,6BAA8B,SAC1BhiB,EACA8H,EACApI,EACAuiB,EACAC,GAL0B,OAO1BlsB,EACI2J,IACIK,EACA8H,EACApI,GACA,EACAwiB,KAGZC,SAAU,SAACpiB,EAAI2E,GAAL,OAAc1O,EAAS2J,IAAiBI,EAAI2E,KACtD0d,WAAY,kBAAMpsB,EAAS2J,QAC3BvG,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CA5UM,SAAClD,GAClB,IAAKA,EAAM2pB,YAAa,OAAO,KAC/B,IA4DIzJ,EA5DAC,EAAcngB,EACdiZ,EAAuBkH,EAAYlH,qBACnCmH,EAA2BD,EAAYC,yBACvCC,EAAqBF,EAAYE,mBACjCC,EAAoBH,EAAYG,kBAChCC,EAAaJ,EAAYI,WACzBlI,EAAU8H,EAAY9H,QACtBH,EAAUiI,EAAYjI,QACtB3V,EAAO4d,EAAY5d,KACnBie,EAAcL,EAAYK,YAC1B3L,EAAOsL,EAAYtL,KACnB2E,EAAY2G,EAAY3G,UACxBiH,EAAgBN,EAAYM,cAC5BC,EAAgBP,EAAYO,cAC5BC,EAAUR,EAAYQ,QAgDtBzI,IACAgI,EAASI,EAAkBkJ,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,sBAG/C,IAAImgB,GAAsBL,GAAWJ,EACjCU,EAAsBT,GAAezO,YAAayO,EAAaje,GAC/D2e,EAAc,CACdle,MAAO,GAAMiW,GAvEkBkI,EA0EJnhB,EAAMuC,KAA7BwF,EA1E2BoZ,EA0E3BpZ,GAAI2E,EA1EuByU,EA0EvBzU,KAAMuK,EA1EiBkK,EA0EjBlK,SAGdrL,EAIA5L,EAJA4L,gBACAgK,EAGA5V,EAHA4V,iBACAiU,EAEA7pB,EAFA6pB,kBACAD,EACA5pB,EADA4pB,aAhF+BS,EAyF/BrqB,EAAM2pB,YALN9Q,EApF+BwR,EAoF/BxR,IACAH,EArF+B2R,EAqF/B3R,KACAM,EAtF+BqR,EAsF/BrR,WACAL,EAvF+B0R,EAuF/B1R,yBACAP,EAxF+BiS,EAwF/BjS,WAIA,uEADArQ,GAGA2R,QAAQ4Q,IAAIzR,GAEhB,IAAMuI,EAAa,CAACvgB,YAChBmgB,GAAoBI,EAAWnM,KAAKpU,sBACpCmgB,IAAuB3I,GACvB+I,EAAWnM,KAAKpU,qBAChB4f,GAAeW,EAAWnM,KAAKpU,uBAC/B6f,GAAeU,EAAWnM,KAAKpU,uBAC9BmgB,GACDI,EAAWnM,KACP2U,EACM,CAAC/oB,UACDkH,IAAO/H,EAAM0W,iBACb,CAAC7V,WACD,MAyBd,OACI2oB,EAAAppB,EAAAC,cAAA,MAAAgI,OAAAuI,OAAA,GAEQI,YAAS,CAAEzP,MAAO,CAAE4L,OAAQ,SAAY,IAFhD,CAGI9L,YAAa,kBAAMrB,EAAM+pB,UAAUrd,EAAM3E,MAKxCqY,GACG7d,EAAKgO,WACJhO,EAAKgO,SAASjS,OAAS,GACK,oBAAlBiE,EAAKgO,WACZiZ,EAAAppB,EAAAC,cAAA,OAAKgB,YAAa,SAAAsJ,GAAC,OAAIA,EAAE0W,oBACrBmI,EAAAppB,EAAAC,cAAA,UACI2H,KAAK,SACLsZ,aAAY/e,EAAKse,SAAW,WAAa,SACzCngB,UACI6B,EAAKse,SACChgB,sBACAA,oBAEVU,MAAO2f,EACPhgB,QAAS,WACL,OAAOkf,EAAyB,CAC5B7d,KAAMA,EACNsS,KAAMA,EACN2E,UAAWA,OAItBjX,EAAKse,WAAaN,GACfiJ,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CAAEtB,MAAOgZ,GAChBvY,UAAWG,uBAK/B2oB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,mBACXwf,EACGmJ,EAAAppB,EAAAC,cAAA,OACIK,UAAW0gB,EAAWrY,KAAK,KAC3BxH,MAAOkR,YAAc,CACjB8O,QAASN,EAAsB,GAAM,KAGxCf,EACDsJ,EAAAppB,EAAAC,cAAA,OACIK,UACIwX,EACMrX,mBACA,CACIA,mBACAA,gCACFkI,KAAK,MAGjBygB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACX6X,GAAQmR,EACL,QACCA,EAAkBU,YACb,OACAV,EAAkBU,YAAYC,OAC1B,EACA,KAEHX,EAAkBU,YACdjsB,OAAS,GACR,MACA,IACN,IACA,IAENkrB,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACM0Y,GACDL,EAEKA,EACA,uBACA,GAHA,KAIK,WAATjM,GACEuK,EAAS3Y,OAAS,GACX,aAAToO,GACEuK,EAAS3Y,OAAS,GACF,eAAhB2Y,EAAS,KACTjX,EAAMoB,gBACO,SAATsL,EACM,CAAC,WACD,CAAC,cACP,GAEA8c,EAAAppB,EAAAC,cAAC0N,EAAA,EAAD,CACIgB,SAAUqJ,EACV1Q,MAAOmR,EACP5J,MAAOya,EAAS1S,IACZ,SAAAnY,GACI,MAAO,CACH4Q,KAAM5Q,EACNgO,KAAMhO,KAIlB6P,KA7H3B,SAAAhH,GACjB,GACK1H,EAAMoB,gBACY,SAAfpB,EAAM0M,KAAkB,CAAC,WAAa,CAAC,eAK3ChF,IAAUmR,EAAK,CACf,GAAa,WAATnM,EAAmB,CACnB,IAAM+d,EAAgB7U,EAAiBhX,KACnC,SAAAC,GAAI,OAAIA,EAAKkJ,KAAO6D,IAExB,IAAK6e,EAAe,OACpB,GAAI/iB,IAAU+iB,EAAc5d,KAExB,YADApO,MAAM,oCAIduB,EAAMgqB,6BAA6Btd,EAAM,MAAOhF,GAAO,EAAOK,KA2GtBmH,WAAS,IAMjB2J,EAEHgR,GACGA,EAAkB3O,WACdsO,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACKupB,EACI3O,WAAWnT,GADf,QAAApH,OAGSkpB,EACK3O,WAAWnT,GAJzB,KAMK,GACL8hB,EACI3O,WAAWoE,MADf,WAAA3e,OAGSkpB,EACK3O,WACAoE,MALd,KAOK,IAMd,GAEFtG,GACDL,EAEKA,EACA,GACA,wBAHA,oLC/K/BzV,cAjBS,SAAAC,GACpB,MAAO,CACHunB,aAAcvnB,EAAMunB,aACpBlsB,qBAAsB2E,EAAM/E,GAAGI,uBAIZ,SAAAR,GACvB,MAAO,CACH2sB,YAAa,SAAAC,GAAK,OAAI5sB,EAAS2J,IAAoBijB,KACnDC,YAAa,SAAAC,GAAK,OAAI9sB,EAASkkB,IAAsB4I,KACrDC,YAAa,SAAAD,GAAK,OAAI9sB,EAASkkB,IAAsB4I,KACrDE,YAAa,SAAAF,GAAK,OAAI9sB,EAAS2J,IAAoBmjB,KACnD1pB,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CAnHA,SAAClD,GAAD,OACXA,EAAMxB,qBACFgrB,EAAAppB,EAAAC,cAAA,OAAKkB,MAAO,CAAE4L,OAAQ,SAClBqc,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNU,KAAK,mGACLP,cAAe,kBAAMnB,EAAM6qB,YAAY7qB,EAAM0qB,eAC7ClqB,QAAQ,oBACR1C,eAAgB,CAAC,YAAa,aAElC0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNU,KAAK,yJACLP,cAAe,kBAAMnB,EAAM+qB,YAAY/qB,EAAM0qB,eAC7ClqB,QAAQ,oBACR1C,eAAgB,CAAC,YAAa,aAElC0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNU,KAAK,qPACLP,cAAe,WACX,IAAM8pB,EAAgBjrB,EAAMxB,qBAAqB0sB,OAAOtsB,KACpD,SAAAksB,GAAK,OAAIA,EAAMje,OAAS7M,EAAM0qB,eAE9BO,GApDJ,SAAAE,GACpB,IAAMC,EAAKvN,SAASxd,cAAc,YAClC+qB,EAAG1jB,MAAQyjB,EACXC,EAAGnE,aAAa,WAAY,IAC5BmE,EAAG7pB,MAAMa,SAAW,WACpBgpB,EAAG7pB,MAAMyB,KAAO,UAEhB6a,SAAS8H,KAAK0F,YAAYD,GAC1B,IAAME,EAEFzN,SAASzT,eAAemhB,WAAa,GAE/B1N,SAASzT,eAAeohB,WAAW,GAE7CJ,EAAGK,SACH5N,SAAS6N,YAAY,QAErB7N,SAAS8H,KAAKgG,YAAYP,GACtBE,IAGAzN,SAASzT,eAAewhB,kBAExB/N,SAASzT,eAAeyhB,SAASP,IA8BbQ,CAAgBb,EAAcc,MAItCvrB,QAAQ,8EACR1C,eAAgB,CAAC,YAAa,cAGtC0rB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,UACZ2oB,EAAAppB,EAAAC,cAAA,SAAOK,UAAWG,kBACd2oB,EAAAppB,EAAAC,cAAA,SACIK,UAAWG,aACXmH,KAAK,OACLgkB,OAAO,UACPniB,SAAU,SAAAc,GACF3K,EAAMoB,gBAAgB,CAAC,YAAa,aACpCpB,EAAM2qB,YAAYhgB,EAAE9H,OAAO+nB,UAGvCpB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,kHACV8nB,EAAAppB,EAAAC,cAAA,KAAGK,UAAWG,aAAd,iBAEHb,EAAMxB,qBAAqB0sB,OAAOlU,IAAI,SAAA8T,GACnC,IAAMmB,EAAQ,CACV/f,OAAQ,CACJjM,MAAO,IACPkN,OAAQ,IACR+e,IAAK,UACLhc,WAAY,CAAEic,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,MAAO,KAG5B,cAAfxB,EAAM9iB,OAAsBikB,EAAMM,SAAW,OACjD,IAAMC,EAAe/hB,KAAKK,UAAU,CAChC2hB,OC3GF,WD4GE3c,IAAKgb,EAAMje,KACXof,UAEEF,EAAG,GAAAprB,OC9GA,yCD8GA,KAAAA,OAAuB+rB,KAAKF,IAEjCG,EAAa9rB,iBASjB,OAPIiqB,EAAMje,OAAS7M,EAAM0qB,eACrBiC,EAAa,CACT9rB,iBACAA,wBACFkI,KAAK,MAIPygB,EAAAppB,EAAAC,cAAA,OACIK,UAAWisB,EACX7c,IAAKgb,EAAMje,KACX3L,QAAS,kBAAMlB,EAAMgrB,YAAYF,EAAMje,QAEvC2c,EAAAppB,EAAAC,cAACusB,EAAAxsB,EAAD,CAAU+M,OAAQ,KACdqc,EAAAppB,EAAAC,cAAA,OACIwsB,IAAKd,EACL5e,OAAO,MACPlN,MAAM,MACN6sB,IAAI,aAERtD,EAAAppB,EAAAC,cAAA,KAAGK,UAAWG,aACTiqB,EAAMlgB,aAQnC,qIEoMO1H,cA1BS,SAACC,EAAOnD,GAC5B,MAAO,CACH+sB,oBAAqB5pB,EAAM4pB,oBAC3BC,kBAAmB7pB,EAAM6pB,kBACzB/W,iBAAkB9S,EAAM8S,iBACxBnX,OAAQqE,EAAMrE,OACdoX,UAAW/S,EAAM/E,GAAG8X,IAAUlW,EAAMgI,OACpCga,iBAAkB7e,EAAM/E,GAAG4jB,iBAC3BiL,cAAe9pB,EAAM/E,GAAG6uB,cACxBC,kBAAmB/pB,EAAM/E,GAAG8uB,kBAC5BC,gBAAiBhqB,EAAM/E,GAAG+uB,gBAC1BC,qBAAsBjqB,EAAM/E,GAAGgvB,qBAC/BC,yBAA0BlqB,EAAM/E,GAAGivB,2BAIhB,SAAArvB,GACvB,MAAO,CACHsvB,eAAgB,SAACvlB,EAAIC,GAAL,OACZhK,EAAS2J,IAAuBI,EAAIC,KACxC5G,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,KACpDsuB,WAAY,SAACvlB,EAAMwlB,EAAazlB,GAApB,OACR/J,EAASkkB,IAAqBla,EAAMwlB,EAAazlB,OAI9C7E,CAtSM,SAAClD,GAElB,IAkBIkgB,EAlBAC,EAAcngB,EACdiZ,EAAuBkH,EAAYlH,qBACnCmH,EAA2BD,EAAYC,yBACvCC,EAAqBF,EAAYE,mBACjCC,EAAoBH,EAAYG,kBAChCC,EAAaJ,EAAYI,WACzBlI,EAAU8H,EAAY9H,QACtBH,EAAUiI,EAAYjI,QACtB3V,EAAO4d,EAAY5d,KACnBie,EAAcL,EAAYK,YAC1B3L,EAAOsL,EAAYtL,KACnB2E,EAAY2G,EAAY3G,UACxBiH,EAAgBN,EAAYM,cAC5BC,EAAgBP,EAAYO,cAC5BhgB,EAAYyf,EAAYzf,UACxBa,EAAQ4e,EAAY5e,MACpBof,EAAUR,EAAYQ,QAItBzI,IACAgI,EAASI,EAAkBkJ,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,sBAG/C,IAAImgB,GAAsBL,GAAWJ,EACjCU,EAAsBT,GAAezO,YAAayO,EAAaje,GAC/D2e,EAAc,CACdle,MAAO,GAAMiW,GA7BkBkI,EAwC/BnhB,EAAMuC,KAPNsK,EAjC+BsU,EAiC/BtU,KACA9E,EAlC+BoZ,EAkC/BpZ,GACAgkB,EAnC+B5K,EAmC/B4K,IACA0B,EApC+BtM,EAoC/BsM,SACAC,EArC+BvM,EAqC/BuM,OACAC,EAtC+BxM,EAsC/BwM,UAIEC,GA1C6BzM,EAuC/B5F,gBAIAxT,IAAO/H,EAAMotB,sBACbrlB,IAAO/H,EAAMqtB,0BAEXjM,EAAa,CAACvgB,YAChBmgB,GAAoBI,EAAWnM,KAAKpU,sBACpCmgB,IAAuB3I,GACvB+I,EAAWnM,KAAKpU,qBAChB4f,GAAeW,EAAWnM,KAAKpU,uBAC/B6f,GAAeU,EAAWnM,KAAKpU,uBAC9BmgB,GAAoBI,EAAWnM,KAAKvU,GAEzC,IAAMmtB,EAAuB,SAAC/d,EAAKpI,EAAOK,GACtC,GACK/H,EAAMoB,gBACY,SAAfpB,EAAMgI,KAAkB,CAAC,WAAa,CAAC,cAF/C,CAOAN,EAAQA,EAAMomB,OACF,QAARhe,IACApI,EAAQA,EAAMqmB,QAAQ,OAAQ,KAAKxe,eAEvC,IAAMye,EAAe1R,IAAUtc,EAAMkW,WAC/BlB,EAAUgZ,EAAapvB,KAAK,SAAAC,GAAI,OAAIA,EAAKkJ,KAAOA,IAElDiN,EAAQlF,KAASpI,IAEjBsN,EAAQlF,GAAOpI,EACf1H,EAAMutB,WACF,UADJllB,OAAAgK,EAAA,EAAAhK,CAAA,GAGS6N,IAAUlW,EAAMgI,MAAQgmB,GAE7BhuB,EAAMgiB,qBAclB,OACIwH,EAAAppB,EAAAC,cAAA,MAAAgI,OAAAuI,OAAA,GACQI,YAAS,CAAEzP,MAAO,CAAE4L,OAAQ,UADpC,CAEI9L,YAAa,kBAZA,SAAA0G,GAEb/H,EAAMitB,gBAAkBllB,GACxB/H,EAAMktB,oBAAsBnlB,GAC5B/H,EAAMmtB,kBAAoBplB,GAE1B/H,EAAMstB,eAAevlB,EAAI/H,EAAMgI,MAMZimB,CAAalmB,MAE/BqY,GACG7d,EAAKgO,WACJhO,EAAKgO,SAASjS,OAAS,GACK,oBAAlBiE,EAAKgO,WACZiZ,EAAAppB,EAAAC,cAAA,OAAKgB,YAAa,SAAAsJ,GAAC,OAAIA,EAAE0W,oBACrBmI,EAAAppB,EAAAC,cAAA,UACI2H,KAAK,SACLsZ,aAAY/e,EAAKse,SAAW,WAAa,SACzCngB,UACI6B,EAAKse,SACChgB,sBACAA,oBAEVU,MAAO2f,EACPhgB,QAAS,WACL,OAAOkf,EAAyB,CAC5B7d,KAAMA,EACNsS,KAAMA,EACN2E,UAAWA,OAItBjX,EAAKse,WAAaN,GACfiJ,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CAAEtB,MAAOgZ,GAChBvY,UAAWG,uBAK/B2oB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,mBACXwf,EACGmJ,EAAAppB,EAAAC,cAAA,OACIK,UAAW0gB,EAAWrY,KAAK,KAC3BxH,MAAOkR,YACH,CACI8O,QAASN,EAAsB,GAAM,GAEzC1f,IAGH2e,EACDsJ,EAAAppB,EAAAC,cAAA,OACIK,UACIwX,EACMrX,mBACA,CACIA,mBACAA,gCACFkI,KAAK,KAEjBxH,MACmB,SAAfvB,EAAMgI,KACA,CACIkmB,SAAU,QACVC,aAAc,QAElB,IAGV3E,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACXb,EAAMoB,gBACY,SAAfpB,EAAMgI,KACA,CAAC,WACD,CAAC,cACP,KACE4lB,EACFpE,EAAAppB,EAAAC,cAAC0N,EAAA,EAAD,CACIrG,MAAOmF,EACPoC,MAAO,GACPP,KAAM,SAAAhH,GAAK,OACPmmB,EACI,OACAnmB,EACAK,IAGRmH,WAAS,EACTpR,eACmB,SAAfkC,EAAMgI,KACA,CAAC,WACD,CAAC,eAIf6E,GAGQ,SAAf7M,EAAMgI,MAAoB4lB,EA2BvB,KA1BApE,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBAAhB,OAEKb,EAAMoB,gBACY,SAAfpB,EAAMgI,KACA,CAAC,WACD,CAAC,cAEP,GAEAwhB,EAAAppB,EAAAC,cAAC0N,EAAA,EAAD,CACIrG,MAAOqkB,EACP9c,MAAO,GACPP,KAAM,SAAAhH,GAAK,OACPmmB,EACI,MACAnmB,EACAK,IAGRmH,WAAS,EACTkf,YAAU,IAGdrC,GAIZvC,EAAAppB,EAAAC,cAAA,OACIK,UAAW,CACPG,iBACe,SAAfb,EAAMgI,KACAnH,qBACAA,yBACRkI,KAAK,MAES,SAAf/I,EAAMgI,MAAoB4lB,EAQvB,KAPApE,EAAAppB,EAAAC,cAAA,WACKotB,EACGjE,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,gHAEV8nB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,wCAIN,SAAf1B,EAAMgI,MAAoB4lB,EAQvB,KAPApE,EAAAppB,EAAAC,cAAA,WACKqtB,EACGlE,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,8RAEV8nB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,wCAItB8nB,EAAAppB,EAAAC,cAAA,WACMstB,EAGEnE,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,uCAFV8nB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,u3BAKlB8nB,EAAAppB,EAAAC,cAAA,WACKL,EAAMgtB,kBAAkB9tB,SAAS6I,GAC9ByhB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,2NAEV8nB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,wCAGlB8nB,EAAAppB,EAAAC,cAAA,WACKL,EAAM+sB,oBAAoB7tB,SAAS6I,GAChCyhB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,mYAEV8nB,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,2EC8EnCwB,cA/BS,SAACC,EAAOnD,GAC5B,MAAO,CACH+sB,oBAAqB5pB,EAAM4pB,oBAC3B7W,UAAW/S,EAAM/E,GAAGiwB,IAAeruB,EAAMgI,OACzC4D,gBAAiBzI,EAAM/E,GAAGmY,IAAavW,EAAMgI,OAC7CsmB,qBACInrB,EAAM/E,GAAGmY,IAAavW,EAAMgI,SACxB7E,EAAM/E,GAAGgvB,sBACbjqB,EAAM/E,GAAGmY,IAAavW,EAAMgI,SACxB7E,EAAM/E,GAAGivB,yBACjBrL,iBAAkB7e,EAAM/E,GAAG4jB,iBAC3BuM,iCACIprB,EAAM/E,GAAGowB,IAAkBxuB,EAAMgI,OACrC2S,mBAAoBxX,EAAM/E,GAAGuc,qBAIV,SAAA3c,GACvB,MAAO,CACHywB,eAAgB,SAACrwB,EAAI4J,EAAM0mB,GAAX,OACZ1wB,EAASkkB,IAAyB9jB,EAAI4J,EAAM0mB,KAChDttB,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,KACpDsuB,WAAY,SAACvlB,EAAMwlB,EAAazlB,GAApB,OACR/J,EAASkkB,IAAqBla,EAAMwlB,EAAazlB,KACrD4mB,gBAAiB,SAAA3mB,GAAI,OAAIhK,EAASkkB,IAA0Bla,KAC5D4mB,YAAa,SAAC5mB,EAAMmgB,GAAP,OACTnqB,EAASkkB,IAAsBla,EAAMmgB,KACzC0G,eAAgB,SAAA7mB,GAAI,OAAIhK,EAASkkB,IAAyBla,OAInD9E,CA9UO,SAAClD,GAAiB,IAEhCkW,EAGAlW,EAHAkW,UACAtK,EAEA5L,EAFA4L,gBACA2iB,EACAvuB,EADAuuB,iCAGEzX,EAAWC,YAAUb,GAkCrB4Y,EAAmC,SAAChf,EAAKpI,GAC3C,GAAK6mB,EAAL,CACA,IAAMP,EAAe9X,EAAUc,IAAI,SAAAnY,GAC/B,OAAIA,EAAKkJ,KAAO6D,EACLvD,OAAAohB,EAAA,EAAAphB,CAAA,GACAxJ,EADPwJ,OAAAgK,EAAA,EAAAhK,CAAA,GAEKyH,EAAMpI,IAGC,aAARoI,EAA2BzH,OAAAohB,EAAA,EAAAphB,CAAA,GAAKxJ,EAAZ,CAAkB4uB,UAAU,IACxC5uB,IAGpBmB,EAAMutB,WACF,UADJllB,OAAAgK,EAAA,EAAAhK,CAAA,GAGSgmB,IAAeruB,EAAMgI,MAAQgmB,GAElChuB,EAAMgiB,oBA3DsB7T,EAyEHC,mBAAS,CACtC8I,aAAc,GACdC,iBAAkB,EAClBC,iBAAkB,KAClBC,4BAA4B,EAC5BC,YAAY,IA9EoBhJ,EAAAjG,OAAA0mB,EAAA,EAAA1mB,CAAA8F,EAAA,GAyE7BhL,EAzE6BmL,EAAA,GAyEfxE,EAzEewE,EAAA,GAsF9B0gB,EAAkBhvB,EAAM2a,mBACzBhI,OAAO,SAAA9T,GAAI,OAAKA,EAAK0c,kBAAoB1c,EAAK6uB,SAC9C1W,IAAI,SAAAnY,GAAI,MAAK,CACV+L,MAAO/L,EAAKgO,KACZnF,MAAO7I,EAAKgO,QAiBpB,OACI2c,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,WACImpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBAAMnB,EAAM4uB,YAAY5uB,EAAMgI,OAC7CtG,KAAK,8GACLlB,QAAQ,8CACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG7ChI,EAAMsuB,qBA6BJ,KA5BA9E,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAM4uB,YAAY5uB,EAAMgI,MAAM,IAElCtG,KAAK,qPACLlB,QAAQ,qBACR1C,eACmB,SAAfkC,EAAMgI,KACA,CAAC,WACD,CAAC,eAGfwhB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAM6uB,eAAe7uB,EAAMgI,OAE/BtG,KAAK,wJACLlB,QAAQ,kBACR1C,eACmB,SAAfkC,EAAMgI,KACA,CAAC,WACD,CAAC,gBAKP,SAAfhI,EAAMgI,MAAoBhI,EAAMsuB,qBA4B7B,KA3BA9E,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACX2tB,EACI,YACA,IAGRptB,KAAK,8GACLlB,QAAQ,sBACR1C,eAAgB,CAAC,aAErB0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,WACPotB,GACAO,EACI,UACCP,EAAiCb,SAG9ChsB,KAAK,4RACLlB,QAAQ,iFACR1C,eAAgB,CAAC,cAI7B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,WApHtBotB,GACLvuB,EAAMutB,WAAWvtB,EAAMgI,KAAM,GAAI4D,IAoHrBlK,KAAK,yNACLlB,QAAQ,oHACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG/CwhB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,WAxHtBotB,GACLvuB,EAAM2uB,gBAAgB3uB,EAAMgI,OAwHhBtG,KAAK,o3BACLlB,QAAQ,8CACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG9ChI,EAAM+sB,oBAAoB7tB,SAAS0M,GAChC4d,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAMyuB,eAAezuB,EAAMgI,KAAM,UAErCtG,KAAK,iYACLlB,QAAQ,yFACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG/C,KACJwhB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAMyuB,eAAezuB,EAAMgI,KAAM,cAErCtG,KAAK,46BACLlB,QAAQ,gDACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG/CwhB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACXnB,EAAMyuB,eAAezuB,EAAMgI,KAAM,UAErCtG,KAAK,+XACLlB,QAAQ,4CACR1C,eACmB,SAAfkC,EAAMgI,KAAkB,CAAC,WAAa,CAAC,eAG/CwhB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI2B,QAAM,EACNG,cAAe,kBACX2I,EAASzB,OAAAohB,EAAA,EAAAphB,CAAA,GACFlF,EADC,CAEJmU,YAAanU,EAAMmU,eAG3B5V,KAAK,qTACLlB,QAAQ,wBAGI,SAAfR,EAAMgI,MAAmBumB,EACrBA,EAAiChT,gBAsB9B,KArBAiO,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,mBACZ2oB,EAAAppB,EAAAC,cAACuT,EAAA,EAAD,CACI/J,SAAU,SAAA6K,GACNoa,EACI,WACApa,EAAOhN,QAGf6E,QAASyiB,EACTxa,QACI+Z,EACMS,EAAgBC,UACZ,SAAAva,GAAM,OACFA,EAAOhN,QACP6mB,EAAiCW,WAEzC,EAEVpxB,eAAgB,CAAC,cAI7B,MAER0rB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACZ2oB,EAAAppB,EAAAC,cAAC8uB,EAAA,EAAD,CACIrY,SAAUA,EACVjN,SAvQK,SAAAoF,GACjB,IAAM6F,EAAS,GAEf,GADAF,YAAW3F,EAAO,GAAI6F,IACjB+C,IAAQ/C,EAAQoB,GAAY,CAC7B,IACK2B,IACG/C,EAAOkC,IAAI,SAAAnY,GAAI,OACXsW,IAAKtW,EAAM,CAAC,WAAY,WAAY,eAExCqX,EAAUc,IAAI,SAAAnY,GAAI,OACdsW,IAAKtW,EAAM,CAAC,WAAY,WAAY,kBAKvCmB,EAAMoB,gBACY,SAAfpB,EAAMgI,KAAkB,CAAC,WAAa,CAAC,cAG3C,OAGRhI,EAAMutB,WACF,UADJllB,OAAAgK,EAAA,EAAAhK,CAAA,GAGSgmB,IAAeruB,EAAMgI,MAAQ8M,GAElC9U,EAAMgiB,oBA6OFhK,oBAAqBC,EACrBgB,qBAAsB,GACtBI,eAAe,EACfH,UAAW,GACXU,YAAazW,EAAM+T,aACnB2C,kBAAmB1W,EAAMgU,iBACzB2C,qBAAsB,SAAAC,GAAO,OACzBjQ,EAASzB,OAAAohB,EAAA,EAAAphB,CAAA,GACFlF,EADC,CAEJiU,iBAAkB2C,EAAQzb,OAC1B6Y,iBACI4C,EAAQzb,OAAS,EACX6E,EAAMgU,iBAAmB4C,EAAQzb,OACjC,MAGlB0b,aAhNK,SAAA1B,GAA4C,IAAzC/V,EAAyC+V,EAAzC/V,KAAuBqX,GAAkBtB,EAAnCzD,KAAmCyD,EAA7BkB,UAA6BlB,EAAlBsB,aAC3C,QAAKA,IACDrX,EAAKsK,KAAK2C,QAAQoK,IAAgB,QAAtC,IA+MYrY,MAAO,CAAE2L,KAAM,MAAOC,OAAQ,mBAC9B+K,QAjMM,SAAAkB,GAClB,OADgCA,EAAX7W,KACZgZ,iBAiMGlD,QAvMM,SAAAF,GAAwC,IAArCI,EAAqCJ,EAArCI,WACrB,OAD0DJ,EAAzBK,SAAyBL,EAAfM,YACtCF,GAAcA,EAAWgD,kBAuMlBpC,kBA/LgB,SAAAI,GAAA,MAAe,CAC3C7Y,UAD4B6Y,EAAGhX,KACfwF,KAAO6D,EAAkB,CAAC/K,UAAkB,KAC5DmH,KAAMhI,EAAMgI,UAgMP7E,EAAMmU,WACHkS,EAAAppB,EAAAC,cAAC+Z,EAAA,EAAD,CAAYjX,MAAOA,EAAO2G,SAAUA,IACpC,4DC3KD5G,cACX,KAXuB,SAAClF,EAAUgC,GAClC,MAAO,CACHovB,UAAW,SAACpnB,EAAMqnB,EAAOlnB,GAAd,OACPnK,EAAS2J,IAAkBK,EAAMqnB,EAAOlnB,KAC5CmnB,WAAY,SAACtnB,EAAMqnB,EAAOlnB,GAAd,OACRnK,EAAS2J,IAAmBK,EAAMqnB,EAAOlnB,KAC7C/G,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CA3JM,SAAClD,GAAiB,IAAAmO,EACTC,mBAAS,CAC/BmhB,eAAgB,EAChBC,aAAc,EACd9nB,MAAO,KAJwB4G,EAAAjG,OAAA0mB,EAAA,EAAA1mB,CAAA8F,EAAA,GAC5BhL,EAD4BmL,EAAA,GACrBxE,EADqBwE,EAAA,GAO7BnE,EAAS+D,iBAAO,MAEtBzF,oBAAU,WACFzI,EAAMyb,cAAc8O,cAAgBpnB,EAAMuE,OAC1CoC,EAAS,CACLylB,eAAgB,EAChBC,aAAc,EACd9nB,MAAO1H,EAAMyb,cAAc8O,eAGpC,CAACvqB,EAAMyb,cAAc8O,cAExB,IA0BMkF,EAAwB,SAAA9kB,GAC1Bb,EAASzB,OAAAohB,EAAA,EAAAphB,CAAA,GACFlF,EADC,CAEJosB,eAAgB5kB,EAAE9H,OAAO0sB,eACzBC,aAAc7kB,EAAE9H,OAAO2sB,iBAI/B,OAAOxvB,EAAMyb,cACT+N,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,WACImpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,mBACZ2oB,EAAAppB,EAAAC,cAACuT,EAAA,EAAD,CACIrH,QAAS,CACL,CAAE7E,MAAO,OAAQkD,MAAO,QACxB,CAAElD,MAAO,MAAOkD,MAAO,OACvB,CAAElD,MAAO,aAAckD,MAAO,eAElC4J,QACqC,SAAjCxU,EAAMyb,cAAciU,SACd,EACiC,QAAjC1vB,EAAMyb,cAAciU,SACpB,EACA,EAEV7lB,SAnDD,SAAAhL,GACfmB,EAAMkc,eAAe,WAAYrd,EAAK6I,QAmDtB+M,aAAa,EACb3W,eAAgBkC,EAAMlC,kBAII,SAAjCkC,EAAMyb,cAAciU,SACjBlG,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIuC,MAAM,QACNT,cAAe,WACXnB,EAAMovB,UACFpvB,EAAMgI,KACN7E,EAAMosB,eACNpsB,EAAMqsB,eAGd9tB,KAAK,mLACLV,QAAM,EACNlD,eAAgBkC,EAAMlC,iBAG1B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIuC,MAAM,UACNT,cAAe,WACXnB,EAAMsvB,WACFtvB,EAAMgI,KACN7E,EAAMosB,eACNpsB,EAAMqsB,eAGd9tB,KAAK,mLACLV,QAAM,EACNlD,eAAgBkC,EAAMlC,kBAI9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI8B,cAAe,WAEXgJ,EAAOkF,QAAQtE,oBAEnBrJ,KAAK,mLACLV,QAAM,EACNR,QAAQ,oBACR1C,eAAgBkC,EAAMlC,kBAIlC0rB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACsB,SAAjCb,EAAMyb,cAAciU,SACjBlG,EAAAppB,EAAAC,cAAA,YACIK,UAAWG,WACXgJ,SA5FS,SAAAc,GACzB,GAAK3K,EAAMoB,gBAAgBpB,EAAMlC,gBAAjC,CAGA,IAAM4J,EAAQiD,EAAE9H,OAAO6E,MAAMqmB,QAAQ,cAAe,KACf,SAAjC/tB,EAAMyb,cAAciU,UACpB5lB,EAAS,CACLylB,eAAgB5kB,EAAE9H,OAAO0sB,eACzBC,aAAc7kB,EAAE9H,OAAO2sB,aACvB9nB,UAER1H,EAAMkc,eAAe,cAAexU,KAkFpBA,MAAOvE,EAAMuE,MACbioB,QAASF,EACTG,UAAWH,IAGfjG,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIT,IAAKsB,EACLwB,eAAgB3L,EAAMgV,QAAQjN,GAC9B8D,aAAc7L,EAAMyb,cAAc8O,aAAe,GAEjDnf,WAAYpL,EAAMyb,cAAciU,SAChCxlB,aAhHQ,SAAAxC,GACnB1H,EAAMoB,gBAAgBpB,EAAMlC,kBAGjC4J,EAAQA,EAAMqmB,QAAQ,cAAe,KACrC/tB,EAAMkc,eAAe,cAAexU,KA4GpBmF,KAAK,aACL/O,eAAgBkC,EAAMlC,mBAKtC,gBCrFOoF,cACX,KARuB,SAAClF,EAAUgC,GAClC,MAAO,CACH6vB,UAAW,SAAC7nB,EAAMN,GAAP,OAAiB1J,EAAS2J,IAAkBK,EAAMN,KAC7DtG,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CA5CO,SAAClD,GAAiB,IAAAmO,EACVC,mBAAS,IADCE,EAAAjG,OAAA0mB,EAAA,EAAA1mB,CAAA8F,EAAA,GAC7BzG,EAD6B4G,EAAA,GACtBwhB,EADsBxhB,EAAA,GAUpC,OAAOtO,EAAMgV,QACTwU,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,WACImpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIuC,MAAM,iBACNT,cAAe,WACXnB,EAAM6vB,UAAU7vB,EAAMgI,KAAMN,IAEhChG,KAAK,mLACLV,QAAM,EACNlD,eAAgBkC,EAAMlC,kBAG9B0rB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgB3L,EAAMgoB,WACtB+H,YAAY,GACZ3kB,WAAW,OACXlB,aAzBS,SAAA6lB,GAChB/vB,EAAMoB,gBAAgBpB,EAAMlC,iBAGjCgyB,EAASC,IAsBGljB,KAAK,cACL/O,eAAgB,CAAC,iBAI7B,gBCjEOkyB,EAAA,CACXC,aAAc,CACV,CACIvoB,MAAO,wBACPkD,MAAO,QAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,uBAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,sBAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,4BAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,yBAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,wBAEX,CACIlD,MAAO,CAAC,SACRkD,MAAO,+BAGfslB,cAAe,CACX,CACIxoB,MAAO,KACPkD,MAAO,MAEX,CACIlD,MAAO,QACPkD,MAAO,oBC6FbulB,EAAU,SAAAnwB,GAIZ,OAHAyI,oBAAU,WACNzI,EAAM8J,UAAS,KAEZ,MAeI5G,cAZS,SAAAC,GACpB,MAAO,CACHitB,eAAgBjtB,EAAMitB,iBAIH,SAACpyB,EAAUgC,GAClC,MAAO,CACHoB,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CApII,SAAClD,GAAiB,IAAAmO,EACPC,oBAAS,GADFE,EAAAjG,OAAA0mB,EAAA,EAAA1mB,CAAA8F,EAAA,GAC1BhL,EAD0BmL,EAAA,GACnBxE,EADmBwE,EAAA,GAAAkJ,EAEPpJ,mBAASpO,EAAM0H,OAFR+P,EAAApP,OAAA0mB,EAAA,EAAA1mB,CAAAmP,EAAA,GAE1B9P,EAF0B+P,EAAA,GAEnBqY,EAFmBrY,EAAA,GAAA4Y,EAGXjiB,mBAASpO,EAAMgoB,YAHJsI,EAAAjoB,OAAA0mB,EAAA,EAAA1mB,CAAAgoB,EAAA,GAG1BE,EAH0BD,EAAA,GAGrBE,EAHqBF,EAAA,GAKjC7nB,oBAAU,WACNqnB,EAAS9vB,EAAM0H,OACf8oB,EAAOxwB,EAAMgoB,YACble,GAAS,IACV,CAAC9J,EAAMgoB,aAEV,IAAM9d,EAAe,SAACS,EAAGR,GAChBnK,EAAMoB,gBAAgBpB,EAAMlC,iBAGjCkC,EAAMkK,aAAaS,EAAGR,EAAQomB,IAGlC,OACI/G,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CACHkvB,QAAS,OACTvjB,KAAM,IACNwjB,cAAe,SACfvjB,OAAQ,OACR/K,SAAU,aAGZe,EAqEEqmB,EAAAppB,EAAAC,cAACswB,EAAD,CAAS7mB,SAAUA,IApEnB0f,EAAAppB,EAAAC,cAACuwB,EAAA,EAAD,CACIC,OAAO,mDACPnpB,MAAOA,EACPopB,KAAM,CAEF/hB,SAAU/O,EAAM2M,SAAW,EAAI,EAE/BokB,QAAS,CACL,iEACA,6CACA,gDAEJC,QACI,iJACJld,KAAM,CACFmd,KAAM,CACFrvB,MAAO,OACPqN,MAAO,WAEXiiB,KAAM,CACFtvB,MAAO,OACPqN,MACI,0DAERkiB,KAAM,CACFvvB,MAAO,OACPqN,MACI,iFAERmiB,OAAQ,CACJxvB,MAAO,SACPqN,MACI,+HAERoiB,OAAQ,CACJzvB,MAAO,SACPqN,MACI,gKAERqiB,MAAO,CACH1vB,MAAO,QACPqN,MACI,sDAERsiB,MAAO,CACH3vB,MAAO,QACPqN,MACI,0DAERuiB,KAAM,CAAE5vB,MAAO,OAAQqN,MAAO,SAElCwiB,SAAS,EACTC,cAAc,GAWlB7nB,SAAUK,EACVylB,QAASzlB,EACT0lB,UAAW1lB,IAKlBlK,EAAMowB,eACH5G,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CACHtB,MAAO,OACPkN,OAAQ,OACRoU,QAAS,IACTnf,SAAU,cAGlB,QC6NDc,cArBS,SAACC,EAAOnD,GAC5B,IAAM2xB,EAAgBxuB,EAAM/E,GAAGkY,IAAmBtW,EAAM0M,OACpDsI,EAAU,KACVyG,EAAgB,KAUpB,OATIkW,EAAczb,YACdlB,EAAU2c,EAAczb,UAAUtX,KAC9B,SAAAC,GAAI,OAAI8yB,EAAc3J,aAAenpB,EAAKkJ,QAG1C0T,EAAgBkW,EAAc7H,OAAO9U,EAAQjN,KAI9C,CACHiN,UACAyG,gBACAuM,WAAY2J,EAAc3J,WAC1Bpc,gBAAiBzI,EAAM/E,GAAGmY,IAAavW,EAAM0M,SAItCxJ,CAhUI,SAAClD,GAAiB,IACzBgV,EAAwDhV,EAAxDgV,QAASyG,EAA+Czb,EAA/Cyb,cAAeuM,EAAgChoB,EAAhCgoB,WAAYpc,EAAoB5L,EAApB4L,gBAEtCgmB,EAAW,CAAC,kBAAmB/wB,gBAAsBkI,KAAK,KAC1D8oB,EAAc,CAChB,kCACAhxB,6BACFkI,KAAK,KA0CD+oB,IAAW9c,GAAU4D,YAAe5D,EAAQ6D,IAAIC,OAAO,IAEvDiZ,EAAkB,CACpB,CACInnB,MAAO,aACPlD,MAAO,QAEX,CACIkD,MAAO,OACPlD,MAAO,QAEX,CACIkD,MAAO,YACPlD,MAAO,cAIXoN,EAAS,KAsOb,OApOIE,GAAWyG,IAAkBzG,EAAQ2D,2BAEjC7D,EADe,SAAf9U,EAAM0M,KAEF8c,EAAAppB,EAAAC,cAAC2xB,EAAD,CACIhqB,KAAMhI,EAAM0M,KACZsI,QAASA,EACTyG,cAAeA,EACfS,eAAgBlc,EAAMkc,eACtBtQ,gBAAiBA,IAGlBoJ,EAAQoG,cAEXoO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CACIvxB,UAAW,CAAC,aAAcG,aAAmBkI,KAAK,KAClDmpB,0BAA2BL,GAE3BrI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,QACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,eACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,cACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,kBAEJpI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACuT,EAAA,EAAD,CACI/J,SAAU,SAAA6K,GAAM,OACZ1U,EAAMkc,eACF,kBACAxH,EAAOhN,QAGf6E,QAASwlB,EACTvd,QAASud,EAAgB9C,UACrB,SAAApwB,GAAI,OACAA,EAAK6I,QAAU+T,EAAc0W,kBAErCr0B,eAAgB,CAAC,gBAGzB0rB,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgBqc,EAChBnc,aAAc4P,EAAc2W,sBAC5BnnB,qBAAsBwQ,EAAc0B,eACpC/R,WAAW,OACXlB,aAAc,SAAAxC,GAAK,OACf1H,EAAMkc,eACF,wBACAxU,IAGRmF,KAAK,gBACL/O,eAAgB,CAAC,aACjB8N,gBAAiBA,KAGzB4d,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgBqc,EAChBnc,aAAc4P,EAAc4W,uBAC5BpnB,qBAAsBwQ,EAAc0B,eACpC/R,WAAW,OACXlB,aAAc,SAAAxC,GAAK,OACf1H,EAAMkc,eACF,yBACAxU,IAGRmF,KAAK,uBACL/O,eAAgB,CAAC,aACjB8N,gBAAiBA,KAGzB4d,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACuC,SAAlCxW,EAAc0W,gBACX3I,EAAAppB,EAAAC,cAACiyB,EAAD,CACI5qB,MAAO+T,EAAc8W,wBACrBroB,aAAc,SAACS,EAAGR,GACdnK,EAAMkc,eACF,0BACA/R,EAAOqoB,eAGf10B,eAAgB,CAAC,eAEa,cAAlC2d,EAAc0W,gBACd3I,EAAAppB,EAAAC,cAACoyB,EAAA,EAAD,CACIhX,cAAeA,EACfzG,QAASA,EACTkH,eAAgBlc,EAAMkc,eACtBxP,KAAM1M,EAAM0M,KACZgP,SACI1G,EAAQoG,cACF,mBACA,cAIdoO,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgBqc,EAChBnc,aACI4P,EAAc8W,wBAElBtnB,qBACIwQ,EAAc0B,eAElB/R,WAAW,OACXlB,aAAc,SAAAxC,GAAK,OACf1H,EAAMkc,eACF,0BACAxU,IAGRmF,KAAK,wBACL/O,eAAgB,CAAC,aACjB8N,gBAAiBA,MAM9BoJ,EAAQ0D,OAASoZ,EAEpBtI,EAAAppB,EAAAC,cAAC2xB,EAAD,CACIhqB,KAAMhI,EAAM0M,KACZsI,QAASA,EACTyG,cAAeA,EACfS,eAAgBlc,EAAMkc,eACtBtQ,gBAAiBA,EACjB9N,eAAgB,CAAC,eAGF,eAAhBkX,EAAQ6D,IAEX2Q,EAAAppB,EAAAC,cAACiyB,EAAD,CACI5qB,MAAO+T,EAAc8O,YACrBrgB,aAAc,SAACS,EAAGR,EAAQpC,GACtB/H,EAAMkc,eACF,cACA/R,EAAOqoB,aACPzqB,IAGRjK,eAAgB,CAAC,aACjBkqB,WAAYA,IAGG,cAAhBhT,EAAQ6D,IAEX2Q,EAAAppB,EAAAC,cAACqyB,EAAD,CACI1qB,KAAMhI,EAAM0M,KACZ5O,eAAgB,CAAC,aACjB8N,gBAAiBA,EACjBoc,WAAYA,EACZhT,QAASA,IAKbwU,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CACIvxB,UAAW,CAAC,aAAcG,aAAmBkI,KAAK,KAClDmpB,0BAA2BL,GAE3BrI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACMH,EAEE,KADAtI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,SAEJpI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,cACiB,iBAAhB5c,EAAQ6D,IACL2Q,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,SACA,MAENE,EAiBE,KAhBAtI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgBqc,EAChBnc,aACI,MAAQ4P,EAAcla,OAAS,IAAM,KAEzC0J,qBACIwQ,EAAc0B,eAElB/R,WAAW,MACXlB,aA/NF,SAACxC,EAAOyV,GAC9B,GAAIzV,EAAO,EACPA,EAAQA,EAAMomB,QACJxvB,OAAS,EACfoJ,EAAQ,IAEgB,MAApBA,EAAMoR,OAAO,KACbpR,EAAQA,EAAMirB,MAAM,IAEe,MAAnCjrB,EAAMoR,OAAOpR,EAAMpJ,OAAS,KAC5BoJ,EAAQA,EAAMirB,MAAM,EAAGjrB,EAAMpJ,OAAS,IAE1CoJ,EAAQA,EAAMomB,QAElB,IAAM8E,EAAU,CACZrxB,MAAOmG,EACPyV,kBAEJnd,EAAMkc,eAAe0W,EAASlrB,KA8MVmF,KAAK,cACL/O,eAAgB,CAAC,aACjB8N,gBAAiBA,KAK7B4d,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACI8C,eAAc,GAAAzL,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CACU,SAAhB2M,EAAQ6D,IACNmX,EAAwBE,cACxB,IAHI7nB,OAAAwqB,EAAA,EAAAxqB,CAIN2nB,EAAwBhb,EAAQ6D,KAC9BmX,EAAwBhb,EAAQ6D,KAChC,KAEVlN,eAAgBqc,EAChBnc,aACI4P,EAAcN,kBAAoB,KAEtClQ,qBAAsBwQ,EAAc0B,eACpC/R,WAAW,OACXlB,aA1QO,SAACxC,EAAOyV,GACnC,GAAIzV,EAAO,CACP,IAGI8C,EAHEooB,EAAuB,GAC7BA,EAAQzV,eAAiBA,EACzByV,EAAO,iBAAuBlrB,EAE9B,IACI8C,EAAMC,KAAKC,MAAMhD,GACnB,MAAOiD,GACLH,EAAM,KAENA,IACAooB,EAAO,WAAiBpoB,EACxBooB,EAAO,iBAAuBnoB,KAAKK,UAAUN,IAEjDxK,EAAMkc,eAAe0W,EAASlrB,KA4PdmF,KAAK,mBACL/O,eAAgB,CAAC,aACjB8N,gBAAiBA,KAGR,iBAAhBoJ,EAAQ6D,IACL2Q,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACoyB,EAAA,EAAD,CACIhX,cAAeA,EACfzG,QAASA,EACTkH,eAAgBlc,EAAMkc,eACtBxP,KAAM1M,EAAM0M,KACZgP,SAAS,eAGjB,OAKb5G,IChPI5R,cAhBS,SAAAC,GACpB,MAAO,CACHsX,SAAUtX,EAAMsX,SAChBqY,yBAC0C,oBAA/B3vB,EAAM/E,GAAG20B,qBAID,SAAA/0B,GACvB,MAAO,CACH+hB,0BAA2B,SAAC/X,EAAM8H,EAAKpI,GAAZ,OACvB1J,EAAS2J,IAAkCK,EAAM8H,EAAKpI,KAC1DtG,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CAjEC,SAAClD,GAMb,OACIwpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASxa,MAAQ,OAG1CupB,EAAAppB,EAAAC,cAAC2yB,EAAD,CAAehrB,KAAK,WACpBwhB,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASxa,MAC3B+H,KAAK,WAGZhI,EAAM8yB,yBACHtJ,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASyY,OAAS,OAG3C1J,EAAAppB,EAAAC,cAAC8yB,EAAA,EAAD,CAAczmB,KAAK,WAEnB8c,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASyY,OAC3BlrB,KAAK,YAGbwhB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACZ2oB,EAAAppB,EAAAC,cAAC+yB,EAAD,CACI1mB,KAAK,SACLwP,eAvCQ,SAACpM,EAAKpI,GAC9B1H,EAAMoB,gBAAgB,CAAC,aACvBpB,EAAM+f,0BAA0B,SAAUjQ,EAAKpI,QAyC3C,QCmGDxE,cA3BS,SAACC,EAAOnD,GAC5B,IAAM2xB,EAAgBxuB,EAAM/E,GAAGkY,IAAmBtW,EAAM0M,OACpDsI,EAAU,KACVyG,EAAgB,KAChB4X,EAA2B,KAc/B,OAbI1B,GACIA,EAAczb,YACdlB,EAAU2c,EAAczb,UAAUtX,KAC9B,SAAAC,GAAI,OAAI8yB,EAAc3J,aAAenpB,EAAKkJ,OAE/B5E,EAAM/E,GAAGk1B,oBACpB7X,EAAgBkW,EAAc7H,OAAO9U,EAAQjN,IAC7CsrB,EACIlwB,EAAM/E,GAAGk1B,kBAAkBxJ,OAAO9U,EAAQjN,KAKnD,CACHiN,UACAyG,gBACA4X,2BACArL,WAAY2J,EAAc3J,WAC1Bpc,gBAAiBzI,EAAM/E,GAAG6uB,gBAInB/pB,CA1II,SAAClD,GAChB,IAAM4xB,EAAW,CAAC,kBAAmB/wB,gBAAsBkI,KAAK,KAC1D8oB,EAAc,CAChB,kCACAhxB,6BACFkI,KAAK,KAEP,OAAO/I,EAAMgV,SAAWhV,EAAMqzB,yBAC1B7J,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CACIvxB,UAAW,CAAC,aAAcG,aAAmBkI,KAAK,KAClDmpB,0BAA2BL,GAE3BrI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,SACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,eACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,kBAEJpI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACwD,SAAnDjyB,EAAMqzB,yBAAyBlB,gBAC5B3I,EAAAppB,EAAAC,cAACiyB,EAAD,CACI5qB,MAAO1H,EAAMyb,cAAc/T,MAC3BwC,aAAc,SAACS,EAAGR,GACdnK,EAAMkc,eAAe,QAAS/R,EAAOqoB,eAEzC10B,eAAgB,CAAC,aAGvB,cADEkC,EAAMqzB,yBAAyBlB,gBAE/B3I,EAAAppB,EAAAC,cAACoyB,EAAA,EAAD,CACIhX,cAAezb,EAAMyb,cACrBzG,QAAShV,EAAMgV,QACfkH,eAAgBlc,EAAMkc,eACtBxP,KAAM1M,EAAM0M,KACZgP,SAAU,cAGd8N,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgB3L,EAAMgoB,WACtBnc,aAAc7L,EAAMyb,cAAc/T,MAClCuD,qBACIjL,EAAMyb,cAAc0B,eAExB/R,WAAW,OACXlB,aAAc,SAAAxC,GAAK,OACf1H,EAAMkc,eAAe,QAASxU,IAElCmF,KAAK,kBACL/O,eAAgB,CAAC,WACjB8N,gBAAiB5L,EAAM4L,mBAInC4d,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgB3L,EAAMgoB,WACtBnc,aACI7L,EAAMqzB,yBAAyBhB,uBAEnCpnB,qBACIjL,EAAMqzB,yBAAyBlW,eAEnC/R,WAAW,OACXlB,aAAc,aACdyC,UAAQ,EACRE,KAAK,2BACL/O,eAAgB,CAAC,WACjB8N,gBAAiB5L,EAAM4L,mBAG/B4d,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACwD,SAAnDjyB,EAAMqzB,yBAAyBlB,gBAC5B3I,EAAAppB,EAAAC,cAACiyB,EAAD,CACI5qB,MACI1H,EAAMqzB,yBACDd,wBAETroB,aAAc,aACdyC,UAAU,IAGhB,cADE3M,EAAMqzB,yBAAyBlB,gBAE/B3I,EAAAppB,EAAAC,cAACoyB,EAAA,EAAD,CACIhX,cAAezb,EAAMqzB,yBACrBre,QAAShV,EAAMgV,QACfkH,eAAgB,aAChBxP,KAAM1M,EAAM0M,KACZgP,SAAU,qBAGd8N,EAAAppB,EAAAC,cAACiJ,EAAA,EAAD,CACIqC,eAAgB3L,EAAMgoB,WACtBnc,aACI7L,EAAMqzB,yBACDd,wBAETtnB,qBACIjL,EAAMqzB,yBAAyBlW,eAEnC/R,WAAW,OACXlB,aAAc,aACdyC,UAAQ,EACRE,KAAK,4BACL/O,eAAgB,CAAC,WACjB8N,gBAAiB5L,EAAM4L,oBAKvC,OCjDO1I,eAfS,SAAAC,GACpB,MAAO,CACHsX,SAAUtX,EAAMsX,SAChB8Y,uBAA4D,oBAA7BpwB,EAAM/E,GAAGo1B,mBAIrB,SAAAx1B,GACvB,MAAO,CACH+hB,0BAA2B,SAAC/X,EAAM8H,EAAKpI,GAAZ,OACvB1J,EAAS2J,IAAkCK,EAAM8H,EAAKpI,KAC1DtG,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CAGb0E,eAnEY,SAAC5H,GAMX,OACIwpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASxa,MAAQ,OAG1CupB,EAAAppB,EAAAC,cAAC2yB,EAAD,CAAehrB,KAAK,SACpBwhB,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASxa,MAC3B+H,KAAM,WAGbhI,EAAMuzB,uBACH/J,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASyY,OAAS,OAG3C1J,EAAAppB,EAAAC,cAAC8yB,EAAA,EAAD,CAAczmB,KAAK,SAEnB8c,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASyY,OAC3BlrB,KAAM,YAGdwhB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACZ2oB,EAAAppB,EAAAC,cAACozB,EAAD,CACI/mB,KAAK,OACLwP,eAvCQ,SAACpM,EAAKpI,GAC9B1H,EAAMoB,gBAAgB,CAAC,aACvBpB,EAAM+f,0BAA0B,OAAQjQ,EAAKpI,QAyCzC,SCuBDxE,eAlBS,SAAAC,GACpB,MAAO,CACHsX,SAAUtX,EAAMsX,SAChBiZ,2BAC4C,oBAAjCvwB,EAAM/E,GAAGu1B,uBAID,SAAA31B,GACvB,MAAO,CACH+hB,0BAA2B,SAAC/X,EAAM8H,EAAKpI,EAAOK,GAAnB,OACvB/J,EACI2J,IAAkCK,EAAM8H,EAAKpI,GAAO,EAAOK,KAEnE3G,gBAAiB,SAAAnC,GAAM,OAAIjB,EAASoD,YAAgBnC,OAI7CiE,CAnEG,SAAClD,GAMf,OACIwpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASxa,MAAQ,OAG1CupB,EAAAppB,EAAAC,cAAC2yB,EAAD,CAAehrB,KAAK,aACpBwhB,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASxa,MAC3B+H,KAAK,WAGZhI,EAAM0zB,2BACHlK,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CACH2L,KAAM,OAASlN,EAAMya,SAASyY,OAAS,OAG3C1J,EAAAppB,EAAAC,cAAC8yB,EAAA,EAAD,CAAczmB,KAAK,aAEnB8c,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASyY,OAC3BlrB,KAAK,YAGbwhB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACZ2oB,EAAAppB,EAAAC,cAAC+yB,EAAD,CACI1mB,KAAK,WACLwP,eAvCQ,SAACpM,EAAKpI,EAAOK,GACrC/H,EAAMoB,gBAAgB,CAAC,aACvBpB,EAAM+f,0BAA0B,WAAYjQ,EAAKpI,EAAOK,QAyCpD,QCkED7E,eAlBS,SAAAC,GACpB,MAAO,CACHywB,QAASzwB,EAAMywB,QAEfC,WAAY1wB,EAAM0wB,WAClB/0B,OAAQqE,EAAMrE,OACd+C,YAAasB,EAAM/E,GAAGyD,cAIH,SAAA7D,GACvB,MAAO,CACH81B,WAAY,kBAAM91B,EAAS2J,QAC3BosB,OAAQ,SAAAhZ,GAAG,OAAI/c,EAAS2J,IAAeoT,KACvCiZ,eAAgB,kBAAMh2B,EAAS2J,UAIxBzE,CA/GC,SAAClD,GAwCb,OACIwpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAA,WAaImpB,EAAAppB,EAAAC,cAAA,OAAKkB,MAAO,CAAEyS,OAAQ,SAAtB,WACa,IACTwV,EAAAppB,EAAAC,cAAA,QAAMkB,MAAO,CAAE0yB,WAAY,QAAUj0B,EAAMlB,SAG/C0qB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI8B,cAAenB,EAAM+zB,OACrBnyB,MAAM,SACNF,KAAK,2RACLH,MAAO,CAAEyS,OAAQ,UAErBwV,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI8B,cAAe,kBAAMnB,EAAM+zB,QAAO,IAClCnyB,MAAM,wBACNF,KAAK,2RACLH,MAAO,CAAEyS,OAAQ,UAErBwV,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI8B,cAAenB,EAAMg0B,eACrBpyB,MAAM,kBACNF,KAAK,kLACLH,MAAO,CAAEyS,OAAQ,QACjBxT,QACIR,EAAM6B,YACA,qCACA,oBAGd2nB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACI8B,cAAenB,EAAM8zB,WACrBlyB,MAAM,iBACNF,KAAK,4FACLH,MAAO,CAAEyS,OAAQ,uDC1DtBkgB,GA7BU,SAACl0B,GACtB,OACIwpB,EAAAppB,EAAAC,cAAA,OACIK,UAAW,CAACG,KAAQyT,IAAKtU,EAAMgB,OAASH,KAAQI,OAAS,IAAI8H,KACzD,MAGH/I,EAAM4B,MACP4nB,EAAAppB,EAAAC,cAAA,SACII,cAAaT,EAAMm0B,YAAc,UACjCnsB,KAAK,OACLtH,UAAW,CACPG,KAAQiQ,MACR9Q,EAAMo0B,MAAQvzB,KAAQgiB,MAAQ,GAC9B7iB,EAAMiD,MAAQpC,KAAQiiB,MAAQ,IAChC/Z,KAAK,KACPxH,MAAO,CACH2sB,SAAUluB,EAAMkuB,SAAWluB,EAAMkuB,SAAW,KAAO,QAEvDxmB,MAAO1H,EAAM0H,OAAS,GACtBmC,SAAU,SAAAc,GAAC,OACP3K,EAAMmP,QAAUnP,EAAMmP,QAAQxE,EAAE9H,OAAO6E,OAAS,IAEpDmJ,OAAQ,SAAAlG,GAAC,OAAK3K,EAAM0O,KAAO1O,EAAM0O,KAAK/D,EAAE9H,OAAO6E,OAAS,QC8MzDxE,eAjBS,SAAAC,GACpB,MAAO,CACH3E,qBAAsB2E,EAAM/E,GAAGI,qBAC/BwjB,iBAAkB7e,EAAM/E,GAAG4jB,mBAIR,SAAAhkB,GACvB,MAAO,CACHq2B,eAAgB,SAAC3sB,EAAOoI,GAAR,OACZ9R,EAASkkB,IAAyBxa,EAAOoI,KAC7CwkB,sBAAuB,SAACxkB,EAAKpI,GAAN,OACnB1J,EAASkkB,IAAgCpS,EAAKpI,KAClD6sB,mBAAoB,kBAAMv2B,EAASkkB,UAI5Bhf,CA7OW,SAAClD,GACvByI,oBAAU,WACN,IAAM+rB,EAAiBx0B,EAAMxB,qBACzBkJ,EAAQ,GACR8sB,IACA9sB,EAAQ8sB,EAAeC,QAE3BC,EAAehtB,GACfA,EAAQ,GACJ8sB,IACA9sB,EAAQ8sB,EAAeG,cAAgB,IAE7B,eAAVjtB,IACAA,EAAQ,IAEZktB,EAAqBltB,IACtB,CACC1H,EAAMgiB,iBACNhiB,EAAMxB,qBAAqBi2B,OAC3Bz0B,EAAMxB,qBAAqBm2B,eAnBS,IAAAxmB,EAqBMC,mBAAS,IArBfE,EAAAjG,OAAA0mB,EAAA,EAAA1mB,CAAA8F,EAAA,GAqBjC0mB,EArBiCvmB,EAAA,GAqBZomB,EArBYpmB,EAAA,GAAAkJ,EAsBUpJ,mBAAS,IAtBnBqJ,EAAApP,OAAA0mB,EAAA,EAAA1mB,CAAAmP,EAAA,GAsBjCsd,EAtBiCrd,EAAA,GAsBdmd,EAtBcnd,EAAA,GAuBlClZ,EAAUyB,EAAMxB,qBACtB,OAAOD,EACHirB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,mBACZ2oB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,gBACZ2oB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,UACXtC,EACGirB,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACK/B,EAAQw2B,aACLvL,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,skBACV,KACHnD,EAAQy2B,cACLxL,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,sTACV,MAER,KACJ8nB,EAAAppB,EAAAC,cAAA,8BAEJmpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,UACZ2oB,EAAAppB,EAAAC,cAAA,QAAMK,UAAWG,SAAjB,8BAGA2oB,EAAAppB,EAAAC,cAAC40B,GAAD,CACI9lB,QAAS,SAAAzH,GAAK,OAAIgtB,EAAehtB,IACjCA,MAAOmtB,EACP7zB,QAAM,EACNiC,OAAK,EACLirB,SAAU,OAIlB1E,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,yNACLP,cAAe,WACXnB,EAAMq0B,eAAeQ,EAAa,UAClCH,EAAen2B,EAAQk2B,SAE3Bj0B,QAAQ,yBACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,4RACLP,cAAe,WACP5C,GACAyB,EAAMs0B,sBACF,gBACC/1B,EAAQw2B,eAGrBv0B,QAAQ,yBACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,6MACLP,cAAe,WACP0zB,GACA30B,OAAOmmB,KACH,6BAA+B9nB,EAAQk2B,OACvC,WAIZj0B,QAAQ,oBACRQ,QAAM,IAEVwoB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,oTACLP,cAAe,WACP5C,GACAyB,EAAMs0B,sBACF,iBACC/1B,EAAQy2B,gBAGrBx0B,QAAQ,+KACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,gBAGlC0rB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACZ2oB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,UACXtC,GACGA,EAAQ22B,mBACJ1L,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,skBAEd,KACHnD,GACGA,EAAQ42B,qBACJ3L,EAAAppB,EAAAC,cAACsB,EAAA,EAAD,CAAKD,KAAK,gMAEd,KACJ8nB,EAAAppB,EAAAC,cAAA,+BAEJmpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,UACZ2oB,EAAAppB,EAAAC,cAAA,QAAMK,UAAWG,SAAjB,YACA2oB,EAAAppB,EAAAC,cAAC40B,GAAD,CACI9lB,QAAS,SAAAzH,GAAK,OAAIktB,EAAqBltB,IACvCA,MAAOotB,EACP9zB,QAAM,EACNiC,OAAK,EACLirB,SAAU,OAGlB1E,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,yNACLP,cAAe,WACP5C,GACAyB,EAAMq0B,eACFS,EACA,gBAERF,EAAqBr2B,EAAQo2B,eAEjCn0B,QAAQ,0BACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,4RACLP,cAAe,WACP5C,GACAyB,EAAMs0B,sBACF,sBACC/1B,EAAQ22B,qBAGrB10B,QAAQ,0BACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,6MACLP,cAAe,WACP0zB,GACA30B,OAAOmmB,KACH,WAAa9nB,EAAQo2B,aACrB,WAIZn0B,QAAQ,oBACRQ,QAAM,IAEVwoB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,8LACLP,cAAe,kBAAMnB,EAAMu0B,sBAC3B/zB,QAAQ,2BACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,wJACLP,cAAe,kBACXnB,EAAMq0B,eAAe,aAAc,iBAEvC7zB,QAAQ,uBACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,eAE7BS,GACGA,EAAQo2B,cAAgBp2B,EAAQ62B,MAC5B5L,EAAAppB,EAAAC,cAAA,WACImpB,EAAAppB,EAAAC,cAAA,kGAIAmpB,EAAAppB,EAAAC,cAAA,SACImpB,EAAAppB,EAAAC,cAAA,QAAMkB,MAAO,CAAE0yB,WAAY,QACtB11B,EAAQ62B,QAIjB5L,EAAAppB,EAAAC,cAAA,8GAKAmpB,EAAAppB,EAAAC,cAAA,4LAMAmpB,EAAAppB,EAAAC,cAAA,SACImpB,EAAAppB,EAAAC,cAAA,QAAMkB,MAAO,CAAE0yB,WAAY,QACtB11B,EAAQ82B,OAKzB,OAGZ,2BC1BOnyB,eAzBS,SAAAC,GACpB,MAAO,CACHmyB,4BAA6BnyB,EAAMmyB,4BACnCx2B,OAAQqE,EAAM/E,GAAGU,OACjBN,qBAAsB2E,EAAM/E,GAAGI,qBAC/BwjB,iBAAkB7e,EAAM/E,GAAG4jB,mBAIR,SAAAhkB,GACvB,MAAO,CACHu3B,2BAA4B,SAAAxtB,GAAE,OAC1B/J,EAAS2J,IAAmCI,KAChDusB,sBAAuB,SAACxkB,EAAKpI,GAAN,OACnB1J,EAASkkB,IAAgCpS,EAAKpI,KAClD8tB,wBAAyB,kBACrBx3B,EAASkkB,QACbuT,2BAA4B,SAAAC,GAAI,OAC5B13B,EAASkkB,IAAqCwT,KAClDC,oBAAqB,SAACD,EAAMzyB,EAAOyE,GAAd,OACjB1J,EAASkkB,IAA8BwT,EAAMzyB,EAAOyE,KACxDkuB,gBAAiB,kBAAM53B,EAASkkB,UAIzBhf,CA1LW,SAAClD,GACvB,IAEI61B,EAFAt3B,EAAUyB,EAAMxB,qBACpB,IAAKD,EAAS,OAAO,KAErB,IAAIu3B,EAAc,CACd72B,OAAQ,IAEN82B,EAAU1tB,OAAAwqB,EAAA,EAAAxqB,CAAO9J,EAAQI,SAC3Bq3B,EAAeD,EAAWn3B,KAAK,SAAAC,GAAI,OAAIA,EAAKC,SAAWP,EAAQm3B,OAcnE,OAbKM,IACDA,EAAe,CACXl3B,OAAQP,EAAQm3B,KAChBz2B,OAAQ,CAAC,QAAS,QAAS,YAAa,YAE5C82B,EAAWE,QAAQD,GACnBh2B,EAAMs0B,sBAAsB,UAAWyB,IAGvCx3B,EAAQm3B,OAAS11B,EAAMlB,SAAQ+2B,GAAU,GAC7CC,EACIC,EAAWn3B,KAAK,SAAAC,GAAI,OAAIA,EAAKC,SAAWkB,EAAMlB,UAAWg3B,EAEtD91B,EAAMgiB,kBAAoBzjB,EAC7Bs3B,GAAWC,EAAY72B,OAAOC,SAAS,SACnCsqB,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,8GACLP,cAAe,kBAAMnB,EAAMw1B,2BAC3Bh1B,QAAQ,gMACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,UAE9B0rB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,wJACLP,cAAe,WACPnB,EAAMs1B,8BAAgC/2B,EAAQm3B,MAElD11B,EAAMy1B,2BACFz1B,EAAMs1B,8BAGd90B,QAAQ,2CACRQ,QAAM,EACNlD,eAAgB,CAAC,QAAS,UAE7BS,EAAQm3B,OAAS11B,EAAMlB,OACpB0qB,EAAAppB,EAAAC,cAAChB,EAAA,EAAD,CACIqC,KAAK,gHACLP,cAAe,kBAAMnB,EAAM41B,mBAC3Bp1B,QAAQ,wCACRQ,QAAM,EACNlD,eAAgB,CAAC,WAErB,KACJ0rB,EAAAppB,EAAAC,cAAA,SAAOK,UAAWG,iBACd2oB,EAAAppB,EAAAC,cAAA,aACImpB,EAAAppB,EAAAC,cAAA,UACImpB,EAAAppB,EAAAC,cAAA,qBACAmpB,EAAAppB,EAAAC,cAAA,kBACAmpB,EAAAppB,EAAAC,cAAA,WACAmpB,EAAAppB,EAAAC,cAAA,mBACAmpB,EAAAppB,EAAAC,cAAA,mBACAmpB,EAAAppB,EAAAC,cAAA,uBACAmpB,EAAAppB,EAAAC,cAAA,8BAEH01B,EAAW/e,IAAI,SAACtY,EAASqiB,GAAV,OACZyI,EAAAppB,EAAAC,cAAA,MACIyP,IAAKiR,EACLrgB,UACIV,EAAMs1B,8BACN52B,EAAQI,OACF+B,UACA,GAEVQ,YAAa,kBACTrB,EAAMu1B,2BACF72B,EAAQI,UAIhB0qB,EAAAppB,EAAAC,cAAA,UAAK3B,EAAQI,QACb0qB,EAAAppB,EAAAC,cAAA,UACK3B,EAAQw3B,aACHx3B,EAAQw3B,YAAYC,aACpB,IAEV3M,EAAAppB,EAAAC,cAAA,UACK3B,EAAQw3B,aACLx3B,EAAQw3B,YAAYE,QAChB13B,EAAQw3B,YAAYE,OAAO,GACvB5M,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,OACXgsB,IACInuB,EAAQw3B,YACHE,OAAO,GAAG1uB,MAEnBolB,IAAI,SAShB,IAGRtD,EAAAppB,EAAAC,cAAA,UACImpB,EAAAppB,EAAAC,cAACg2B,GAAA,EAAD,CACIC,QACI/3B,EAAQm3B,OAASh3B,EAAQI,OAI7B+K,SAAU,gBAGjBtL,EAAQm3B,OAASh3B,EAAQI,OACtB0qB,EAAAppB,EAAAC,cAAA,UACImpB,EAAAppB,EAAAC,cAACg2B,GAAA,EAAD,CACIC,SAAS,EACTzsB,SAAU,gBAGlB,KACH,GAAAlJ,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CACO9J,EAAQm3B,OAASh3B,EAAQI,OACvB,GACA,CAAC,UACJ,CAAC,YAAa,YACnBkY,IAAI,SAAC/T,EAAO8d,GAAR,OACFyI,EAAAppB,EAAAC,cAAA,MAAIyP,IAAKiR,GACLyI,EAAAppB,EAAAC,cAACg2B,GAAA,EAAD,CACIC,QAAS53B,EAAQO,OAAOC,SACpB+D,GAEJ4G,SAAU,SAAAnC,GAAK,OACX1H,EAAM21B,oBACFj3B,EAAQI,OACRmE,EACAyE,eAYxC8hB,EAAAppB,EAAAC,cAAA,uFAKJ,OC7IOk2B,GAzBY,SAAAv2B,GACvB,IAAM4xB,EAAW,CAAC,kBAAmB/wB,gBAAsBkI,KAAK,KAC1D8oB,EAAc,CAChB,kCACAhxB,6BACFkI,KAAK,KACP,OACIygB,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CACIvxB,UAAW,CAAC,aAAcG,aAAmBkI,KAAK,KAClDmpB,0BAA2BL,GAE3BrI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,WACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,YAEJpI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACm2B,GAAD,OAEJhN,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACo2B,GAAD,SCmBDvzB,eARS,SAAAC,GACpB,MAAO,CACHsX,SAAUtX,EAAMsX,SAChBsH,SAAU5e,EAAM/E,GAAG2jB,SACnBvjB,qBAAsB2E,EAAM/E,GAAGI,uBAIxB0E,CA7BE,SAAClD,GAAD,OACbwpB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,WACZ2oB,EAAAppB,EAAAC,cAAA,OACIK,UAAWG,YACXU,MAAO,CAAE2L,KAAM,OAASlN,EAAMya,SAASxa,MAAQ,OAE9CD,EAAM+hB,SACHyH,EAAAppB,EAAAC,cAACq2B,GAAA,EAAD,CAActU,WAAYpiB,EAAMoiB,aAChC,KACJoH,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,gBACVoH,WAAYjI,EAAMya,SAASxa,MAC3B+H,KAAK,WAGbwhB,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,iBACXb,EAAMxB,qBAAuBgrB,EAAAppB,EAAAC,cAACs2B,GAAD,MAAyB,6BCkHpDzzB,eApBS,SAAAC,GACpB,MAAO,CACHsX,SAAUtX,EAAMsX,SAChBmZ,QAASzwB,EAAMywB,QACf5G,kBAAmB7pB,EAAM6pB,oBAIN,SAAAhvB,GACvB,MAAO,CACH44B,cAAe,SAAAC,GAAS,OAAI74B,EAAS2J,IAAsBkvB,KAC3DC,iBAAkB,SAAAC,GAAa,OAC3B/4B,EAAS2J,IAAyBovB,KACtCnpB,oBAAqB,kBAAM5P,EAAS2J,QACpCkG,oBAAqB,kBAAM7P,EAAS2J,QACpC6gB,eAAgB,SAAA9gB,GAAK,OAAI1J,EAAS2J,IAAuBD,KACzDsvB,sBAAuB,kBAAMh5B,EAAS2J,UAI/BzE,CAGb0E,eAzHkB,SAAC5H,GACjB,IAAM4xB,EAAW,CAAC,kBAAmB/wB,gBAAsBkI,KAAK,KAE1D8oB,EAAc,CAChB,kCACAhxB,6BACFkI,KAAK,KAEDkuB,EAAmB,CACrB,4BACAp2B,eACFkI,KAAK,KAEDmuB,EAAmB,CAAC,OAAQ,WAAY,SAAU,GAAI,GAAI,GAAI,IAepEC,2BAAgB,WACZ,OAAIn3B,EAAMgtB,kBAAkB1uB,OAAS,GACjC2L,WAAW,kBAAMjK,EAAMg3B,yBAAyB,GACzC,gCAEPh3B,EAAMg3B,0BAOd,OACIxN,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CAAE2L,KAAM,OAASlN,EAAMya,SAAStN,OAAS,MAChDzM,UAAWG,gBACXu2B,SAAS,IACTC,UAAW,SAAA1sB,GAAC,OA9BE,SAAAA,GACbA,EAAE2sB,WAAY3sB,EAAE4sB,SAAsB,MAAV5sB,EAAEmF,KAAyB,MAAVnF,EAAEmF,KAChD9P,EAAM4N,sBACNjD,EAAE2sB,UAAY3sB,EAAE4sB,UAAsB,MAAV5sB,EAAEmF,KAAyB,MAAVnF,EAAEmF,MAC/C9P,EAAM6N,sBA0BU2pB,CAAc7sB,KAE9B6e,EAAAppB,EAAAC,cAAA,WACImpB,EAAAppB,EAAAC,cAAC4yB,EAAA,EAAD,CACInqB,SAAUjI,iBACVmI,UAAQ,EACRf,WAAYjI,EAAMya,SAAStN,OAC3BnF,KAAK,WAETwhB,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CACIvxB,UAAW,CAAC,aAAcG,aAAmBkI,KAAK,KAClDqG,SAAU,SAAA2R,GAAK,OAlCL,SAAAA,GACtB/gB,EAAM82B,iBAAiBI,EAAiBnW,IACxC/gB,EAAM42B,gBACN52B,EAAMwoB,iBA+ByBiP,CAAkB1W,IACrC2W,qBAAsBT,EACtB/E,0BAA2BL,GAE3BrI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAASvxB,UAAWG,WAChB2oB,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,SACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,aACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,WACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,eACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,YACApI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,CAAKvxB,UAAWkxB,GAAhB,YAGJpI,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACs3B,GAAD,OAEJnO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACu3B,GAAD,OAEJpO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACw3B,EAAD,OAEJrO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAACy3B,EAAD,OAEJtO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAAC03B,GAAD,OAEJvO,EAAAppB,EAAAC,cAAC4xB,EAAA,EAAD,KACIzI,EAAAppB,EAAAC,cAAC23B,GAAD,QAGRxO,EAAAppB,EAAAC,cAAC43B,GAAA,EAAD,CACIC,aAAW,EACXC,cAAY,EACZC,SArDM,kBAAMp4B,EAAM42B,sLCjEtC,SAASlkB,GAAQ8U,EAAQ6Q,GAAkB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GAAS,GAAInf,OAAOuJ,sBAAuB,CAAE,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GAAa6Q,IAAgBC,EAAUA,EAAQ3lB,OAAO,SAAUC,GAAO,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAAgBZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAAY,OAAO5mB,EAI9U,SAASU,GAAgB5H,EAAKsF,EAAKpI,GAAiK,OAApJoI,KAAOtF,EAAOnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAAEpI,MAAOA,EAAO4K,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBhI,EAAIsF,GAAOpI,EAAgB8C,EAE3M,SAAS+tB,GAAexlB,EAAK9B,GAAK,OAMlC,SAAyB8B,GAAO,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EANtBylB,CAAgBzlB,IAIzD,SAA+BA,EAAK9B,GAAK,KAAMoC,OAAOC,YAAYjL,OAAO0K,IAAgD,uBAAxC1K,OAAO+I,UAAUmC,SAAS3J,KAAKmJ,IAAkC,OAAU,IAAI0lB,EAAO,GAAQC,GAAK,EAAUC,GAAK,EAAWC,OAAKnjB,EAAW,IAAM,IAAK,IAAiCojB,EAA7BC,EAAK/lB,EAAIM,OAAOC,cAAmBolB,GAAMG,EAAKC,EAAGjjB,QAAQC,QAAoB2iB,EAAKxjB,KAAK4jB,EAAGnxB,QAAYuJ,GAAKwnB,EAAKn6B,SAAW2S,GAA3DynB,GAAK,IAAoE,MAAOviB,GAAOwiB,GAAK,EAAMC,EAAKziB,EAAtL,QAAuM,IAAWuiB,GAAsB,MAAhBI,EAAE,QAAoBA,EAAE,SAAzC,QAAmE,GAAIH,EAAI,MAAMC,GAAQ,OAAOH,EAJpcM,CAAsBhmB,EAAK9B,IAE5F,WAA8B,MAAM,IAAIyC,UAAU,wDAFgDslB,GASlG,IAAIC,GAAa,UACbC,GAAY,QACZC,GAAc,QACdC,GAAe,2BAEfC,GAAgB,WAChBC,GAAc,6BACdC,GAAe,qCACfC,GAAe,iBACfC,GAAgB,wBAEhBC,GAAkB,cAClBC,GAAoB,QACpBC,GAAa,cACbC,GAAc,gCACdC,GAAe,yBAEnB,SAASC,GAAMC,EAAOC,GACpB,OAAOD,EAAME,KAAKD,GAGpB,SAASE,GAASF,GAChB,IAAIG,EAAKH,IAAmC,qBAAdI,UAA4BA,UAAUJ,UAAY,IAG5EK,EAAMF,EAAGG,MAAM,SAEG,qBAAXD,EAAI,KAKbF,EAFY7B,GAFD+B,EAEsB,GAEtB,IAQS,qBAFtBA,EAAMF,EAAGG,MAAM,YAEA,KAKbH,EAFY7B,GAFA+B,EAEsB,GAEvB,IAGb,IAAIxlB,EAAS,CACX0lB,MAAO,CACLC,MAAOV,GAAMd,GAAYmB,KAAQL,GAAMP,GAAcY,GACrDM,KAAMX,GAAMb,GAAWkB,GACvBO,QAASZ,GAAMd,GAAYmB,IAAOL,GAAMZ,GAAaiB,KAAQL,GAAMP,GAAcY,GACjFQ,QAASb,GAAMd,GAAYmB,IAAOL,GAAMb,GAAWkB,IAAOL,GAAMZ,GAAaiB,MAASL,GAAMP,GAAcY,IAE5GS,OAAQ,CACNJ,MAAOV,GAAMT,GAAac,GAC1BO,QAASZ,GAAMT,GAAac,IAAOL,GAAMR,GAAca,GACvDQ,OAAQb,GAAMT,GAAac,IAAOL,GAAMR,GAAca,IAExDU,QAAS,CACPL,OAAQV,GAAMP,GAAcY,IAAOL,GAAMT,GAAac,KAAQL,GAAMP,GAAcY,IAAOL,GAAMX,GAAcgB,GAC7GO,QAASZ,GAAMP,GAAcY,KAAQL,GAAMT,GAAac,KAAQL,GAAMX,GAAcgB,KAAQL,GAAMR,GAAca,IAAOL,GAAMV,GAAee,IAC5IQ,QAASb,GAAMP,GAAcY,KAAQL,GAAMT,GAAac,IAAOL,GAAMR,GAAca,IAAOL,GAAMX,GAAcgB,IAAOL,GAAMV,GAAee,KAAQL,GAAM,cAAeK,IAEzKW,QAAS,CACPN,MAAOV,GAAMP,GAAcY,GAC3BO,OAAQZ,GAAMN,GAAeW,GAC7BQ,OAAQb,GAAMP,GAAcY,IAAOL,GAAMN,GAAeW,IAE1DY,MAAO,CACLC,WAAYlB,GAAML,GAAiBU,GACnCc,aAAcnB,GAAMJ,GAAmBS,GACvCe,MAAOpB,GAAMH,GAAYQ,GACzBgB,QAASrB,GAAMD,GAAcM,GAC7BiB,OAAQtB,GAAMF,GAAaO,GAC3BQ,OAAQb,GAAML,GAAiBU,IAAOL,GAAMJ,GAAmBS,IAAOL,GAAMH,GAAYQ,IAAOL,GAAMD,GAAcM,IAAOL,GAAMF,GAAaO,IAG/IkB,IAAK,KACLb,MAAO,KACPE,OAAQ,MAMV,OAJA7lB,EAAOwmB,IAAMxmB,EAAO0lB,MAAMI,QAAU9lB,EAAOgmB,QAAQF,QAAU9lB,EAAOimB,QAAQH,QAAU9lB,EAAOkmB,MAAMJ,OAEnG9lB,EAAO2lB,MAAQ3lB,EAAO0lB,MAAMC,OAAS3lB,EAAOgmB,QAAQL,OAAS3lB,EAAOimB,QAAQN,MAC5E3lB,EAAO6lB,OAAS7lB,EAAO0lB,MAAMG,QAAU7lB,EAAOgmB,QAAQH,QAAU7lB,EAAOimB,QAAQJ,OACxE7lB,EAGT,IAIeymB,GA3Gf,SAAuB14B,GAAU,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CAAE,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAU8Q,GAAOsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAAsBzH,OAAOmzB,0BAA6BnzB,OAAOmb,iBAAiB3gB,EAAQwF,OAAOmzB,0BAA0BrqB,IAAmBuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAU8Q,GAAOzH,OAAOgK,eAAexP,EAAQiN,EAAKzH,OAAOwK,yBAAyB1B,EAAQrB,MAAe,OAAOjN,EAuGzf4P,CAAc,GAAI0nB,KAAY,CAChDA,SAAUA,KCxGZ,SAASsB,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAEZ,SAASkxB,MACT,SAASC,GAAwBxpB,EAAOypB,EAAc7a,GACzD,IAAI8a,EAASD,GAAgB,GAC7B,OAAOzpB,EAAMrC,KAAO,GAAGnP,OAAOk7B,EAAQ,SAASl7B,OAAOogB,GAEnD,SAAS+a,GAA6BC,GACzC,MAAO,GAAGp7B,OAAOo7B,EAAU,UAExB,SAASC,GAAazrB,EAAU0rB,GACnC,IAAIlb,GAAS,EACbmb,IAAMrU,SAAS7oB,QAAQuR,EAAU,SAAS4rB,GACtCpb,GAAS,EAELob,GAAKA,EAAEn0B,MAAQm0B,EAAEn0B,KAAKo0B,gBACtBF,IAAMrU,SAAS7oB,QAAQm9B,EAAEn8B,MAAMuQ,SAAU,SAAS8rB,GAE9CJ,EAAGI,EADHtb,GAAS,KAIbkb,EAAGE,EAAGpb,KAiCX,IAAIub,GAAe,CACtB,sBACA,eACA,kBACA,WACA,OACA,oBACA,WACA,aACA,YACA,qBACA,gBACA,mBACA,oBACA,qBACA,uBACA,QACA,aACA,WACA,eACA,UACA,YACA,qBACA,YACA,eACA,aACA,QACA,gBACA,WACA,SACA,cACA,oBACA,oBACA,eACA,aACA,cACA,SACA,iBACA,YACA,aACA,WACA,QACA,aACA,QACA,YACA,oBACA,sBACA,SACA,YACA,QACA,iBACA,kBACA,OACA,QACA,WACA,cAOOC,GAAW,SAAkBC,GACpC,IAAIv8B,EACAu8B,GACsC,oBAA/BA,EAAK15B,uBACZ05B,EAAK15B,wBAAwB7C,MAMjC,OAJIA,IACAA,GAASA,EAAMw8B,QAAQ,IAGpBx8B,GAAS,GAETy8B,GAAc,SAAqBF,GAC1C,IAAIG,EACAH,GACsC,oBAA/BA,EAAK15B,uBACZ05B,EAAK15B,wBACT,MAAO,CAAEE,KAAM25B,EAAK35B,KAAMC,MAAO05B,EAAK15B,QAE/B25B,GAAW,SAAkBJ,EAAMK,EAAen1B,GACrD80B,GAAgC,WAAxBf,GAAQe,EAAKj7B,SACrBi7B,EAAKj7B,MAAMs7B,GAAiBn1B,IAGzBo1B,GAAiB,WACxB,OAAO3C,GAASmB,wDC/JhByB,GAAqB,CACvBC,QAAS,EACTC,QAAS,GAEAC,GAAa,CACtBC,QAAS,CACPC,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,GAAI,IAEf46B,WAAY,CACVD,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,EAAG,IAEd66B,QAAS,CACPF,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,EAAE,EAAG,IAEf86B,SAAU,CACRH,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,EAAG,KAGL+6B,GAAgB,CACzBL,QAAS,CACPC,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,GAAI,IAEf46B,WAAY,CACVD,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,EAAG,IAEd86B,SAAU,CACRH,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,EAAE,EAAG,IAEf66B,QAAS,CACPF,OAAQ,CAAC,KAAM,MACf9sB,SAAUysB,GACVt6B,OAAQ,CAAC,EAAG,KC9BhB,SAASg5B,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GASnB,SAASizB,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAiBtD,SAASia,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAG3B,SAASC,GAAuBtZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAASuZ,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAG9B,SAASprB,GAAQ8U,EAAQ6Q,GACrB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GACvB,GAAInf,OAAOuJ,sBAAuB,CAC9B,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GACvC6Q,IACAC,EAAUA,EAAQ3lB,OAAO,SAASC,GAC9B,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAE5DZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAE1B,OAAO5mB,EAGX,SAASe,GAAc5P,GACnB,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAS8Q,GAC3CsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAEjCzH,OAAOmzB,0BACdnzB,OAAOmb,iBACH3gB,EACAwF,OAAOmzB,0BAA0BrqB,IAGrCuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAS8Q,GACrCzH,OAAOgK,eACHxP,EACAiN,EACAzH,OAAOwK,yBAAyB1B,EAAQrB,MAKxD,OAAOjN,EAGX,SAASuP,GAAgB5H,EAAKsF,EAAKpI,GAW/B,OAVIoI,KAAOtF,EACPnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAC5BpI,MAAOA,EACP4K,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdhI,EAAIsF,GAAOpI,EAER8C,EAEX,IAAIuzB,GAAO,EACPC,GAAoB,CACpBC,WAAY,aACZj1B,SAAU,WACVk1B,gBAAiB,WACjBC,iBAAkB,WAGlBC,GAA2B,SAC3BC,EACAtC,EACAuC,GAEA,IAAIC,EAASzC,GAA6BC,GACtC54B,EAAQk7B,EAAMpgC,WAClBogC,EAAMv0B,SAAS,CACXw0B,mBAAoB7rB,GAChB,GACAtP,EAAMm7B,mBACNlsB,GAAgB,GAAImsB,EAAQD,OAK7BE,GAEN,SAASC,GAGN,SAASD,EAAQx+B,GACb,IAAIuJ,EAhIoB+a,EAAM1a,GAtB1C,SAAyBwa,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCAsJhB2Q,CAAgB5a,KAAM+0B,GAlIEla,EAqIpB7a,KArI0BG,EAsI1B8zB,GAAgBc,GAAS50B,KAAKH,KAAMzJ,IAFxCuJ,GAnIJK,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAG3Cg0B,GAAuBtZ,GAFnB1a,GAuIG80B,UAAY,SAAS5uB,GACvBvG,EAAMvJ,MAAM0+B,UAAU5uB,IAQ1BvG,EAAM8tB,UAAY,SAAS1sB,GACvB,IAAIg0B,EAAUh0B,EAAEg0B,QACZ7qB,EAAOvK,EAAMq1B,aACbze,EAAc5W,EAAMvJ,MACpB6+B,EAAS1e,EAAY0e,OACrBR,EAAQle,EAAYke,MAExB,GAAIM,IAAYG,KAAQC,MAIpB,OAHAx1B,EAAMy1B,aAAar0B,GAEnByzB,GAAyBC,EAAO90B,EAAMvJ,MAAM+7B,UAAU,IAC/C,EAGX,GAAI4C,IAAYG,KAAQG,MAapB,OAZIJ,EACA/qB,EAAKujB,UAAU1sB,IAEfpB,EAAM21B,mBAAkB,GAExBd,GACIC,EACA90B,EAAMvJ,MAAM+7B,UACZ,KAID,EAGX,GAAI4C,IAAYG,KAAQK,KAAM,CAC1B,IAAIC,EAEJ,IAAIP,EAGA,OASJ,OAXIO,EAAUtrB,EAAKujB,UAAU1sB,MAMzBpB,EAAM21B,mBAAkB,GAExBE,GAAU,GAGPA,EAGX,OACIP,GACCF,IAAYG,KAAQO,IAAMV,IAAYG,KAAQQ,UAFnD,EAIWxrB,EAAKujB,UAAU1sB,IAM9BpB,EAAMg2B,aAAe,SAAS50B,GAC1BpB,EAAMvJ,MAAMu/B,aAAa50B,IAG7BpB,EAAMi2B,qBAAuB,SAASC,GAClCl2B,EAAM21B,kBACFO,EACAA,EAAU,aAAe,eAIjCl2B,EAAMm2B,aAAe,SAAS/0B,GAC1B,IAAIg1B,EAAep2B,EAAMvJ,MACrB8P,EAAM6vB,EAAa5D,SACnB2D,EAAeC,EAAaD,aAC5BrB,EAAQsB,EAAatB,MACzBD,GAAyBC,EAAO90B,EAAMvJ,MAAM+7B,UAAU,GACtD2D,EAAa,CACT5vB,IAAKA,EACL8vB,SAAUj1B,KAIlBpB,EAAMs2B,aAAe,SAASl1B,GAC1B,IAAIm1B,EAAev2B,EAAMvJ,MACrB+/B,EAAaD,EAAaC,WAC1BhE,EAAW+D,EAAa/D,SACxB8D,EAAeC,EAAaD,aAChCE,EAAWC,gBAAkBpC,GAAuBr0B,GACpDs2B,EAAa,CACT/vB,IAAKisB,EACL6D,SAAUj1B,KAIlBpB,EAAM02B,kBAAoB,SAASL,GAC/B,IAAIM,EAAe32B,EAAMvJ,MACrB8P,EAAMowB,EAAanE,SACnBoE,EAAcD,EAAaC,YAC3BF,EAAoBC,EAAaD,kBACrCE,EAAY,CACRrwB,IAAKA,EACLswB,OAAO,IAEXH,EAAkB,CACdnwB,IAAKA,EACL8vB,SAAUA,KAIlBr2B,EAAM82B,kBAAoB,SAAS11B,GAC/B,IAAI21B,EAAe/2B,EAAMvJ,MACrB+/B,EAAaO,EAAaP,WAC1BhE,EAAWuE,EAAavE,SACxBoE,EAAcG,EAAaH,YAC3BE,EAAoBC,EAAaD,kBACrCN,EAAWC,gBAAkBpC,GAAuBr0B,GACpD42B,EAAY,CACRrwB,IAAKisB,EACLqE,OAAO,IAEXC,EAAkB,CACdvwB,IAAKisB,EACL6D,SAAUj1B,KAIlBpB,EAAMy1B,aAAe,SAASr0B,GAC1B,IACI3K,EADwB49B,GAAuBr0B,GACjBvJ,MAElCA,EAAMg/B,aAAa,CACflvB,IAAK9P,EAAM+7B,SACX6D,SAAUj1B,IAGqB,UAA/B3K,EAAMugC,uBAIVh3B,EAAM21B,mBAAmBl/B,EAAM6+B,OAAQ,SAEvCT,GACIp+B,EAAMq+B,MACN90B,EAAMvJ,MAAM+7B,UACZ,KAIRxyB,EAAMi3B,eAAiB,SAASC,GAGO,oBAAxBl3B,EAAMvJ,MAAMkB,SACnBqI,EAAMvJ,MAAMkB,QAAQqI,EAAMm3B,WAAWD,KAI7Cl3B,EAAM6F,SAAW,SAASqxB,GACtBl3B,EAAMvJ,MAAMoP,SAASqxB,IAGzBl3B,EAAMo3B,WAAa,SAASF,GACxBl3B,EAAMvJ,MAAM2gC,WAAWF,IAG3Bl3B,EAAMq3B,aAAe,WACjB,MAAO,GAAGjgC,OAAO4I,EAAMvJ,MAAM6gC,cAAe,aAGhDt3B,EAAMu3B,mBAAqB,WACvB,MAAO,GAAGngC,OAAO4I,EAAMq3B,eAAgB,YAG3Cr3B,EAAMw3B,qBAAuB,WACzB,MAAO,GAAGpgC,OAAO4I,EAAMq3B,eAAgB,cAG3Cr3B,EAAMy3B,qBAAuB,WACzB,MAAO,GAAGrgC,OAAO4I,EAAMq3B,eAAgB,cAG3Cr3B,EAAM03B,iBAAmB,WACrB,MAAO,GAAGtgC,OAAO4I,EAAMvJ,MAAM6gC,cAAe,kBAGhDt3B,EAAM23B,iBAAmB,SAAS/E,GAE9B5yB,EAAMq1B,aAAezC,GAGzB5yB,EAAMm3B,WAAa,SAASD,GACxB,OAAOhuB,GAAc,GAAIguB,EAAM,CAC3BU,SAAUV,EAAKU,SAAW,IAAIxgC,OAAO4I,EAAMvJ,MAAM+7B,aAIzDxyB,EAAM21B,kBAAoB,SAAS7Y,EAAMre,GACrC,IAAI8H,EAAMvG,EAAMvJ,MAAM+7B,SAElBqF,EAAa,WACb73B,EAAMg2B,aAAa,CACfzvB,IAAKA,EACLjR,KAAM++B,GAAuBr0B,GAC7B83B,QAASr5B,EACTqe,KAAMA,KAID,eAATre,EAEAuB,EAAM+3B,kBAAoBr3B,WAAW,WACjCm3B,KACD,GAEHA,KAIR73B,EAAMg4B,mBAAqB,WACvB,IAAIC,EAAM,CACN5iC,MAAM,GAOV,OFhYT,SAAS6iC,EAAwBlxB,EAAUmB,EAAM8vB,GAE/CjxB,IAAYixB,EAAI5iC,MAIrBs9B,IAAMrU,SAAS7oB,QAAQuR,EAAU,SAAS4rB,GACtC,GAAIA,EAAG,CACH,IAAIuF,EAAYvF,EAAEn0B,KAElB,IACK05B,KAEGA,EAAUC,WACVD,EAAUE,YACVF,EAAUtF,iBAGd,QAGyB,IAAzB1qB,EAAKlC,QAAQ2sB,EAAErsB,KACf0xB,EAAI5iC,MAAO,EACJu9B,EAAEn8B,MAAMuQ,UACfkxB,EAAwBtF,EAAEn8B,MAAMuQ,SAAUmB,EAAM8vB,MEmWhDC,CACIl4B,EAAMvJ,MAAMuQ,SACZhH,EAAMvJ,MAAM6hC,aACZL,GAEGA,EAAI5iC,MAGf2K,EAAMs1B,OAAS,WACX,OAA+D,IAAxDt1B,EAAMvJ,MAAM8hC,SAAStyB,QAAQjG,EAAMvJ,MAAM+7B,WAGpDxyB,EAAMw4B,YAAc,WAEhB,GAAKx4B,EAAMy4B,cAAiBz4B,EAAMq1B,aAAlC,CAIA,IAAIqD,EAAYC,KAASC,YAAY54B,EAAMq1B,cAEvCqD,EAAUG,aAAe74B,EAAMy4B,aAAaI,cAKhDH,EAAU1gC,MAAM2sB,SAAW,GAAGvtB,OAC1B4I,EAAMy4B,aAAaI,YACnB,SAIR74B,EAAM84B,iBAAmB,SAASL,GAC9Bz4B,EAAMy4B,aAAeA,GAGzBz4B,EAAM+4B,aAAe,WACjB,IACItiC,EADyB49B,GAAuBr0B,GACjBvJ,MAEnC,MAAO,CACH0M,KAAqB,eAAf1M,EAAM0M,KAAwB,WAAa1M,EAAM0M,KACvD+yB,QAASl2B,EAAMvJ,MAAM6+B,OACrB0D,MAAOviC,EAAMuiC,MAAQ,EACrBC,aAAcxiC,EAAMwiC,aACpBC,WAAW,EACXvhC,QAASqI,EAAMi3B,eACfpxB,SAAU7F,EAAM6F,SAChBuxB,WAAYp3B,EAAMo3B,WAClBjC,UAAWn1B,EAAMm1B,UACjBmD,aAAc7hC,EAAM6hC,aACpB9F,SAAU,GAAGp7B,OAAOX,EAAM+7B,SAAU,UACpC+F,SAAU9hC,EAAM8hC,SAChBY,OAAQ1iC,EAAM0iC,OACdnD,aAAch2B,EAAMg2B,aACpBoD,iBAAkB3iC,EAAM2iC,iBACxB5C,WAAYnC,GAAuBr0B,GACnCq5B,kBAAmB5iC,EAAM4iC,kBACzBC,mBAAoB7iC,EAAM6iC,mBAC1BtC,qBAAsBvgC,EAAMugC,qBAC5BuC,kBAAmB9iC,EAAM8iC,kBACzBxE,mBAAoBt+B,EAAMq+B,MAAMpgC,WAC3BqgC,mBACDxC,GAA6B97B,EAAM+7B,WAEvCgH,SAAU/iC,EAAM+iC,SAChBC,UAAWhjC,EAAM6gC,cACjB94B,GAAIwB,EAAM05B,eACVC,UAAW35B,EAAM23B,iBACjBiC,SAAUnjC,EAAMmjC,SAChBC,WAAYpjC,EAAMojC,WAClBC,UAAWrjC,EAAMqjC,YAIzB95B,EAAM+5B,UAAY,SAAS52B,EAAM+yB,GAC7B,IACI8D,EADyB3F,GAAuBr0B,GACVg6B,aAEtCC,EAAej6B,EAAMvJ,MACrB0iC,EAASc,EAAad,OACtB7B,EAAgB2C,EAAa3C,cAUjC,OANmBpuB,GAAc,GAAIiwB,EAAQ,CACzCe,gBAAiB,GAAG9iC,OAAOkgC,EAAe,WAC1C6C,eAAe,EACfC,aAAcJ,IAAiB9D,GAAoB,WAAT/yB,KAMlD,IAAI2xB,EAAQr+B,EAAMq+B,MACdtC,EAAW/7B,EAAM+7B,SAGjBuC,EADkBD,EAAMpgC,WACaqgC,mBAEzC/0B,EAAMq6B,YAAa,EACnB,IAAIl8B,GAAQ,EAOZ,OALI42B,IACA52B,EAAQ42B,EAAmBvC,IAG/BqC,GAAyBC,EAAOtC,EAAUr0B,GACnC6B,EA/dnB,IAAsBma,EAAaC,EAAYC,EA6yBvC,OA9wBR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GA2FtCI,CAAUqZ,EA2qBXtC,IAAMvuB,WA9yBS+V,EAkeD8a,GAlec7a,EAkeL,CAClB,CACI7T,IAAK,oBACLpI,MAAO,WACH+B,KAAKo6B,uBAGb,CACI/zB,IAAK,qBACLpI,MAAO,WACH,IAAIoE,EAASrC,KAETq6B,EAAer6B,KAAKzJ,MACpB0M,EAAOo3B,EAAap3B,KACpBqzB,EAAa+D,EAAa/D,WAC1BmD,EAAYY,EAAaZ,UAEzBA,GACAA,EAAUz5B,MAID,eAATiD,GACCqzB,EAAW6D,YACXn6B,KAAKzJ,MAAM6+B,SAKhBp1B,KAAKs6B,gBAAkB95B,WAAW,WAC9B,OAAO6B,EAAOi2B,eACf,MAGX,CACIjyB,IAAK,uBACLpI,MAAO,WACH,IAAIs8B,EAAev6B,KAAKzJ,MACpB0+B,EAAYsF,EAAatF,UACzB3C,EAAWiI,EAAajI,SAExB2C,GACAA,EAAU3C,GAIVtyB,KAAKs6B,iBACLE,aAAax6B,KAAKs6B,iBAIlBt6B,KAAK63B,mBACL2C,aAAax6B,KAAK63B,qBAI9B,CACIxxB,IAAK,iBACLpI,MAAO,SAAwB6I,GAC3B,IAAI2zB,EAASz6B,KAET06B,EAAY16B,KAAK64B,eAEjB8B,EAAe36B,KAAK65B,UACpBa,EAAUz3B,KACVy3B,EAAU1E,SAQd,GANAh2B,KAAK85B,cAAe,EACpB95B,KAAK46B,WACD56B,KAAK46B,YACLF,EAAU1E,SACV0E,EAAUtB,oBAETp5B,KAAK46B,WACN,OAAOnI,IAAM77B,cAAc,MAAO,MAGtC,IAAIgjC,EAAYc,EAAUd,UAC1B,OAAOnH,IAAM77B,cACTikC,KACAj8B,OAAOuI,OACH,CACI6uB,QAAS0E,EAAU1E,SAEvB2E,GAEJ,SAAS9rB,GACL,IAAI5X,EAAY4X,EAAK5X,UACjBa,EAAQ+W,EAAK/W,MACbgjC,EAAkBC,KAClB,GAAG7jC,OAAOwjC,EAAUnB,UAAW,QAC/BtiC,EACA4X,EAAKmsB,sBACLryB,GACI,GACA,GAAGzR,OAAOwjC,EAAUnB,UAAW,QACjB,QAAdK,IAGR,OAAOnH,IAAM77B,cACTqkC,GACAr8B,OAAOuI,OAAO,GAAIuzB,EAAW,CACzBp8B,GAAIm8B,EAAOjB,eACXviC,UAAW6jC,EACXhjC,MAAOA,IAEXgP,OAMpB,CACIT,IAAK,SACLpI,MAAO,WACH,IAAIi9B,EAEA3kC,EAAQyS,GAAc,GAAIhJ,KAAKzJ,OAE/B6+B,EAAS7+B,EAAM6+B,OACfmE,EAAYv5B,KAAKm3B,eACjBgE,EAA8B,WAAf5kC,EAAM0M,KACrBhM,EAAY8jC,KACZxB,EACA,GAAGriC,OAAOqiC,EAAW,KAAKriC,OAAOX,EAAM0M,OAEvC0F,GADEuyB,EAAe,GAGb3kC,EAAMU,YACJV,EAAMU,WAEZ0R,GACIuyB,EACAl7B,KAAKw3B,mBACLpC,GAEJzsB,GACIuyB,EACAl7B,KAAKq3B,qBACL9gC,EAAMqO,QAAWwwB,IAAW+F,GAEhCxyB,GACIuyB,EACAl7B,KAAKs3B,uBACL/gC,EAAMY,UAEVwR,GACIuyB,EACAl7B,KAAKu3B,uBACLv3B,KAAK83B,sBAEToD,IAEJjkC,EAAY,CACRA,EACAV,EAAM6kC,MACA7kC,EAAMq+B,MAAMpgC,WAAW6mC,qBACvB9kC,EAAMq+B,MAAMpgC,WAAW8mC,oBAC/Bh8B,KAAK,KAEFU,KAAKw5B,iBACFjjC,EAAM+7B,SACNtyB,KAAKw5B,eAAiB,GAAGtiC,OACrBX,EAAM+7B,SACN,UAGJgC,IAAQ,EACRt0B,KAAKw5B,eAAiB,OAAOtiC,OAAOo9B,GAAM,WAIlD,IAAIiH,EAAc,GACdC,EAAmB,GACnBC,EAAmB,GAElBllC,EAAMY,WACPokC,EAAc,CACVnF,aAAcp2B,KAAKo2B,aACnBH,aAAcj2B,KAAKi2B,cAGvBuF,EAAmB,CACf/jC,QAASuI,KAAKu1B,cAElBkG,EAAmB,CACfxF,aAAcj2B,KAAKw2B,kBACnBJ,aAAcp2B,KAAK42B,oBAI3B,IAAI9+B,EAAQ,GACR8hC,EAAYrjC,EAAMqjC,UAElBuB,IACkB,QAAdvB,EACA9hC,EAAM4sB,aACFnuB,EAAMwiC,aAAexiC,EAAMuiC,MAE/BhhC,EAAM4jC,YAAcnlC,EAAMwiC,aAAexiC,EAAMuiC,OAIvD,IAAI6C,EAAW,GAIX37B,KAAKzJ,MAAM6+B,SACXuG,EAAW,CACPC,YAAa57B,KAAKw5B,iBAI1B,IAAIvhC,EAAO,KAEQ,eAAf1B,EAAM0M,OACNhL,EAAO+H,KAAKzJ,MAAMojC,WAEmB,oBAA1B35B,KAAKzJ,MAAMojC,aAClB1hC,EAAOw6B,IAAM77B,cACToJ,KAAKzJ,MAAMojC,WACX3wB,GAAc,GAAIhJ,KAAKzJ,UAKnC,IAAI4B,EAAQs6B,IAAM77B,cACd,MACAgI,OAAOuI,OACH,CACI/H,IAAKY,KAAK44B,iBACV9gC,MAAOA,EACPb,UAAW,GAAGC,OAAOqiC,EAAW,UAChCsC,KAAM,UAEVJ,EACAD,EACA,CACIM,gBAAiB1G,GAErBuG,EACA,CACII,gBAAiB,OACjB5jC,MAC2B,kBAAhB5B,EAAM4B,MACP5B,EAAM4B,WACN6T,IAGlBzV,EAAM4B,MACNF,GACIw6B,IAAM77B,cAAc,IAAK,CACrBK,UAAW,GAAGC,OAAOqiC,EAAW,aAGxCzyB,EAAW9G,KAAKg8B,eAAezlC,EAAMuQ,UACrCm1B,EAAoB1lC,EAAM+/B,WAAW6D,WACnC5jC,EAAM+/B,WAAW//B,MAAM0lC,kBACvB,SAASC,GACL,OAAOA,EAAYC,YAEzBC,EAAiB7H,GAAkBh+B,EAAM0M,MACzCo5B,EAAa9lC,EAAM+lC,YACjB,CACItjC,OAAQzC,EAAM+lC,aAElB,GACFC,EACe,WAAfhmC,EAAM0M,KAAoB,GAAK1M,EAAMgmC,eACzCA,GACkB,QAAd3C,EAAsB,IAAI1iC,OAAOqiC,EAAW,QAAU,GAC1D,IAAIpiC,EAAWZ,EAAMY,SACjB2/B,EAAuBvgC,EAAMugC,qBAC7BoC,EAAmB3iC,EAAM2iC,iBACzBE,EAAqB7iC,EAAM6iC,mBAC3BD,EAAoB5iC,EAAM4iC,kBAC1BE,EAAoB9iC,EAAM8iC,kBAC9BxG,GAAat9B,QAAQ,SAAS8Q,GAC1B,cAAc9P,EAAM8P,YAGjB9P,EAAMkB,eACNlB,EAAM6kC,MACb,IAAIoB,EACc,QAAd5C,EACMh7B,OAAOuI,OACH,GACA4sB,GACAsF,GAEJz6B,OAAOuI,OAAO,GAAIssB,GAAY4F,GAExC,cADO9iC,EAAMqjC,UACNnH,IAAM77B,cACT,KACAgI,OAAOuI,OAAO,GAAI5Q,EAAOglC,EAAa,CAClCtkC,UAAWA,EACX4kC,KAAM,aAEVV,GAAgBhjC,EAChBgjC,GAAgBr0B,GACfq0B,GACG1I,IAAM77B,cACF6lC,KACA,CACIlD,UAAWA,EACXgD,eAAgBxB,KACZ,GAAG7jC,OAAOqiC,EAAW,UACrBgD,GAEJN,kBAAmBA,EACnB5C,kBAAmBmD,EACnBJ,eAAgBA,EAChBM,aAActH,EACdiH,WAAYA,EACZM,MAAO71B,EACP81B,OAAQzlC,EACF,GACA,CAAC2/B,GACP+F,gBAAiB3D,EACjB4D,gBAAiB3D,EACjBpD,qBAAsB/1B,KACjB+1B,qBACLgH,YAAa3D,GAEjBjhC,SAryBZ67B,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GA2yBrC4a,EA3qBV,GA6qBLA,GAAQ7pB,aAAe,CACnB+qB,aAAchE,GACdmE,aAAcnE,GACduE,kBAAmBvE,GACnB2E,kBAAmB3E,GACnBsD,aAActD,GACdwH,UAAWxH,GACXhvB,KAAM,WACN9K,MAAO,IAEX,IAAI6kC,GAAYvjC,mBAAQ,SAASiV,EAAOiB,GACpC,IAAI0oB,EAAW3pB,EAAM2pB,SACjB4E,EAAYvuB,EAAMuuB,UAClB7E,EAAe1pB,EAAM0pB,aACrB9F,EAAW3iB,EAAM2iB,SACjB4K,EAAavtB,EAAMutB,WACvB,MAAO,CACH9H,OAAQiD,EAAStyB,QAAQusB,IAAa,EACtC1tB,OAAQq4B,EAAUC,KAAgB5K,EAClC8F,aAAcA,IATN3+B,CAWbs7B,IACHiI,GAAU9E,WAAY,EACP8E,UCn3Bf,SAAShL,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGnB,SAASsI,GAAmBC,GACxB,OAiBJ,SAA4BA,GACxB,GAAIC,MAAMC,QAAQF,GAAM,CACpB,IAAK,IAAI9B,EAAI,EAAGiC,EAAO,IAAIF,MAAMD,EAAIzU,QAAS2S,EAAI8B,EAAIzU,OAAQ2S,IAC1DiC,EAAKjC,GAAK8B,EAAI9B,GAElB,OAAOiC,GArBPC,CAAmBJ,IAQ3B,SAA0BK,GACtB,GACIC,OAAOC,YAAYjL,OAAO+K,IACe,uBAAzC/K,OAAO+I,UAAUmC,SAAS3J,KAAKwJ,GAE/B,OAAOJ,MAAMQ,KAAKJ,GAbSK,CAAiBV,IAIpD,WACI,MAAM,IAAIW,UAAU,mDALoCC,GAyB5D,SAASjB,GAAQ8U,EAAQ6Q,GACrB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GACvB,GAAInf,OAAOuJ,sBAAuB,CAC9B,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GACvC6Q,IACAC,EAAUA,EAAQ3lB,OAAO,SAASC,GAC9B,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAE5DZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAE1B,OAAO5mB,EAGX,SAASe,GAAc5P,GACnB,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAS8Q,GAC3CsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAEjCzH,OAAOmzB,0BACdnzB,OAAOmb,iBACH3gB,EACAwF,OAAOmzB,0BAA0BrqB,IAGrCuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAS8Q,GACrCzH,OAAOgK,eACHxP,EACAiN,EACAzH,OAAOwK,yBAAyB1B,EAAQrB,MAKxD,OAAOjN,EAGX,SAASuP,GAAgB5H,EAAKsF,EAAKpI,GAW/B,OAVIoI,KAAOtF,EACPnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAC5BpI,MAAOA,EACP4K,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdhI,EAAIsF,GAAOpI,EAER8C,EAGX,SAAS+G,GAAyBJ,EAAQK,GACtC,GAAc,MAAVL,EAAgB,MAAO,GAC3B,IACIrB,EAAKmB,EADLpO,EAeR,SAAuCsO,EAAQK,GAC3C,GAAc,MAAVL,EAAgB,MAAO,GAC3B,IAEIrB,EAAKmB,EAFLpO,EAAS,GACT4O,EAAapJ,OAAOqJ,KAAKP,GAE7B,IAAKF,EAAI,EAAGA,EAAIQ,EAAWnT,OAAQ2S,IAC/BnB,EAAM2B,EAAWR,GACbO,EAAShC,QAAQM,IAAQ,IAC7BjN,EAAOiN,GAAOqB,EAAOrB,IAEzB,OAAOjN,EAzBM8O,CAA8BR,EAAQK,GAEnD,GAAInJ,OAAOuJ,sBAAuB,CAC9B,IAAIC,EAAmBxJ,OAAOuJ,sBAAsBT,GACpD,IAAKF,EAAI,EAAGA,EAAIY,EAAiBvT,OAAQ2S,IACrCnB,EAAM+B,EAAiBZ,GACnBO,EAAShC,QAAQM,IAAQ,GACxBzH,OAAO+I,UAAUU,qBAAqBlI,KAAKuH,EAAQrB,KAExDjN,EAAOiN,GAAOqB,EAAOrB,IAG7B,OAAOjN,EAsBX,SAAS46B,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAiBtD,SAASia,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAG3B,SAASC,GAAuBtZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAASuZ,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAG9B,IAAI8I,GAAgC,sBAChCC,GAAyB,GAEzBC,GAEC,SAASrI,GAGN,SAASqI,IACL,IAAIv9B,EAxDoB+a,EAAM1a,EAkT9B,OAxUZ,SAAyBwa,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCA8EhB2Q,CAAgB5a,KAAMq9B,GA1DExiB,EA6DpB7a,KA7D0BG,EA8D1B8zB,GAAgBoJ,GAASx1B,MAAM7H,KAAMyH,YAFzC3H,GA3DJK,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAG3Cg0B,GAAuBtZ,GAFnB1a,GA8DGm9B,eAAiB,KACvBx9B,EAAMy9B,iBAAmB,KAEzBz9B,EAAM09B,mBAAqB,EAE3B19B,EAAM29B,gBAAkB,GACxB39B,EAAM49B,QAAU,GAChB59B,EAAM69B,cAAgB,GACtB79B,EAAMpG,MAAQ,CACVkkC,sBAAkB5xB,GAGtBlM,EAAM+9B,iBAAmB,WACrB,IAAItE,EAAYz5B,EAAMvJ,MAAMgjC,UACxBuE,EAAKrF,KAASC,YAAYvE,GAAuBr0B,IAErD,OAAKg+B,EAIE,GAAG5U,MAAM/oB,KAAK29B,EAAGh3B,UAAUoC,OAAO,SAASpQ,GAC9C,OACIA,EAAK7B,UACA65B,MAAM,KACN/qB,QACG,GAAG7O,OAAOqiC,EAAW,wBACrB,IATL,IAcfz5B,EAAMi+B,qBAAuB,WACzB,IAAIxE,EAAYz5B,EAAMvJ,MAAMgjC,UACxBuE,EAAKrF,KAASC,YAAYvE,GAAuBr0B,IAErD,OAAKg+B,EAIE,GAAG5U,MAAM/oB,KAAK29B,EAAGh3B,UAAUoC,OAAO,SAASpQ,GAC9C,OACIA,EAAK7B,UACA65B,MAAM,KACN/qB,QACG,GAAG7O,OAAOqiC,EAAW,yBACpB,IATN,IAcfz5B,EAAMk+B,yBAA2B,SAC7BC,EACAR,EACAS,GAEA,IAAIxnB,EAAc5W,EAAMvJ,MACpB4nC,EAAsBznB,EAAYynB,oBAClCrF,EAAQpiB,EAAYoiB,MACpB71B,EAAOyT,EAAYzT,KACnBs2B,EAAY7iB,EAAY6iB,UACxBp2B,EAAQuT,EAAYvT,MAExB,GAAc,IAAV21B,GAAwB,eAAT71B,EACf,OAAO,KAIX,IAEIm7B,EAFOt+B,EAAMvJ,MAAMuQ,SAAS,GAETvQ,MAGnB8nC,GAFYD,EAAYt3B,SAChBs3B,EAAYjmC,MACRimC,EAAYtmC,OACxBwmC,EAAOx2B,GAAyBs2B,EAAa,CACzC,WACA,QACA,UAGJtmC,EAAQkR,GAAc,GAAIq1B,GAE1Bh4B,EAAM,GAAGnP,OAAO+mC,EAAW,yBAC3B3L,EAAW,GAAGp7B,OAAO+mC,EAAW,yBAGL,IAA3BR,EAAgB5oC,SACM,IAAtBqpC,EAEApmC,EAAQkR,GAAc,GAAIlR,EAAO,CAC7BkvB,QAAS,SAENkX,IACPpmC,EAAQkR,GAAc,GAAIlR,EAAO,CAC7BymC,WAAY,SAEZ5lC,SAAU,aAEd0N,EAAM,GAAGnP,OAAOmP,EAAK,gBACrBisB,EAAW,GAAGp7B,OAAOo7B,EAAU,iBAGnC,IAAIiK,EAAiBp5B,EACf,GAAGjM,OAAOqiC,EAAW,KAAKriC,OAAOiM,GACjC,GACF5M,EAAQ,GAMZ,OALAs8B,GAAat9B,QAAQ,SAASipC,QACVxyB,IAAZsyB,EAAKE,KACLjoC,EAAMioC,GAAKF,EAAKE,MAGjB/L,IAAM77B,cACTm+B,GACAn2B,OAAOuI,OACH,CACIhP,MAAOgmC,EACPlnC,UAAW,GAAGC,OACVqiC,EACA,uBAEJgD,eAAgBA,GAEpBhmC,EACA,CACI8P,IAAKA,EACLisB,SAAUA,EACVn7B,UAAU,EACVW,MAAOA,IAGf2lC,IAIR39B,EAAM2+B,0BAA4B,WAC9B,GAAyB,eAArB3+B,EAAMvJ,MAAM0M,KAAhB,CAIA,IAAI66B,EAAKrF,KAASC,YAAYvE,GAAuBr0B,IAErD,GAAKg+B,EAAL,CAIA,IAAIY,EAAkBZ,EAAGh3B,SAEzB,GAAK43B,GAA8C,IAA3BA,EAAgB7pC,OAAxC,CAGA,IAAI8pC,EAAoB7+B,EAAMi+B,uBAC1Ba,EAAsBD,EAAkBpxB,IACxC,SAAAnY,GAAI,OAAIA,EAAK0C,MAAMkvB,UAEvB2X,EAAkBppC,QAAQ,SAAAH,GACtB+9B,GAAS/9B,EAAM,UAAW,UAE9B,IAAIypC,EACAf,EAAGh3B,SAAS43B,EAAgB7pC,OAAS,GAEzCs+B,GACI0L,EACA,UACA,gBAGJ,IAAIC,EAAgBh/B,EAAM+9B,mBAEtBJ,EAAkBqB,EAAc51B,OAAO,SAASwpB,GAChD,OACIA,EAAEz7B,UACG65B,MAAM,KACN/qB,QAAQo3B,KAAkC,IAGvDM,EAAgBloC,QAAQ,SAASm9B,GAC7BS,GAAST,EAAG,UAAW,kBAE3B5yB,EAAM69B,cAAgBmB,EAAcvxB,IAAI,SAASmlB,GAC7C,OAAOO,GAAYP,KAEvB5yB,EAAM49B,QAAUzK,GAAY6K,GAE5BL,EAAgBloC,QAAQ,SAASm9B,GAC7BS,GAAST,EAAG,UAAW,UAE3BiM,EAAkBppC,QACd,SAACH,EAAMkiB,GAAP,OACKliB,EAAK0C,MAAMkvB,QAAU4X,EAAoBtnB,KAElDwmB,EAAGh3B,SAASg3B,EAAGh3B,SAASjS,OAAS,GAAGiD,MAAMkvB,QACtC,eACJlnB,EAAMi/B,yBAA2BjM,GAC7BgL,EAAGh3B,SAASg3B,EAAGh3B,SAASjS,OAAS,IAGjCiL,EAAM69B,cAAc9oC,OAAS,IAC7BiL,EAAM09B,mBACF19B,EAAM69B,cAAc79B,EAAM69B,cAAc9oC,OAAS,GAC5C2E,MAAQsG,EAAM49B,QAAQnkC,MAGnCuG,EAAMk/B,eAEN7L,GAAS0L,EAAoC,UAAW,YAG5D/+B,EAAMk/B,aAAe,WACjB,GAAyB,eAArBl/B,EAAMvJ,MAAM0M,MAIPw1B,KAASC,YAAYvE,GAAuBr0B,IAErD,CAIA,IAGI89B,EAHApnC,EAAQsJ,EAAM49B,QAAQlkC,MAAQsG,EAAM49B,QAAQnkC,KAChDuG,EAAM29B,gBAAkB,GAKpB39B,EAAM09B,mBAAqBhnC,EAAQ4mC,KACnCQ,GAAoB,EACpB99B,EAAM69B,cAAcpoC,QAAQ,SAAS0pC,EAAS3nB,GACtCA,EAAQ,GAEJ2nB,EAAQ1lC,KAAOuG,EAAMi/B,0BACrBj/B,EAAM49B,QAAQlkC,QAEdokC,GAAoB,MAMpC99B,EAAMO,SAAS,CACXu9B,iBAAkBA,MAInB99B,EAxTnB,IAAsBma,EAAaC,EAAYC,EA0fvC,OA3dR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GAmBtCI,CAAU2hB,EAgcX5K,IAAMvuB,WA3fS+V,EA2TDojB,GA3TcnjB,EA2TL,CAClB,CACI7T,IAAK,oBACLpI,MAAO,WACH,IAAIoE,EAASrC,KAIb,GAFAA,KAAKy+B,4BAGoB,IAArBz+B,KAAKzJ,MAAMuiC,OACS,eAApB94B,KAAKzJ,MAAM0M,KACb,CACE,IAAIi8B,EAASzG,KAASC,YAAY14B,MAElC,IAAKk/B,EACD,OAGJl/B,KAAKs9B,eAAiB,IAAI6B,KAAe,SACrCC,GAEAA,EAAQ7pC,QAAQ8M,EAAOo8B,6BAE1B,GAAGvV,MACC/oB,KAAK++B,EAAOp4B,UACZ5P,OAAOgoC,GACP3pC,QAAQ,SAASosB,GACdtf,EAAOi7B,eAAe+B,QAAQ1d,KAGN,qBAArB2d,mBACPt/B,KAAKu9B,iBAAmB,IAAI+B,iBACxB,WACIj9B,EAAOi7B,eAAeiC,aACrB,GAAGrW,MACC/oB,KAAK++B,EAAOp4B,UACZ5P,OAAOgoC,GACP3pC,QAAQ,SAASosB,GACdtf,EAAOi7B,eAAe+B,QAAQ1d,KAGtCtf,EAAOo8B,8BAGfz+B,KAAKu9B,iBAAiB8B,QAAQH,EAAQ,CAClCM,YAAY,EACZC,WAAW,EACXC,SAAS,QAM7B,CACIr5B,IAAK,uBACLpI,MAAO,WACC+B,KAAKs9B,gBACLt9B,KAAKs9B,eAAeiC,aAGpBv/B,KAAKu9B,kBACLv9B,KAAKu9B,iBAAiBgC,eAIlC,CACIl5B,IAAK,iBACLpI,MAAO,SAAwB6I,GAC3B,IAAI2zB,EAASz6B,KAGT49B,EAAmB59B,KAAKtG,MAAMkkC,iBAClC,OAAQ92B,GAAY,IAAI64B,OAAO,SAC3BC,EACAC,EACAvoB,GAEA,IAAIliB,EAAOyqC,EAEX,GAA0B,eAAtBpF,EAAOlkC,MAAM0M,KAAuB,CACpC,IAAI68B,EAAarF,EAAOuD,yBACpB6B,EAAUtpC,MAAM+7B,SAChB,SAIqBtmB,IAArB4xB,IAGO,IAFPnD,EAAOlkC,MAAMU,UAAU8O,QACnB,GAAG7O,OAAOujC,EAAOlkC,MAAMgjC,UAAW,YAGlCjiB,EAAQsmB,IACRxoC,EAAOq9B,IAAMsN,aACTF,EACA,CACI/nC,MAAO,CACHkvB,QAAS,QAEbsL,SAAU,GAAGp7B,OACT2oC,EAAUtpC,MAAM+7B,SAChB,WAOJr7B,UAAW,GAAGC,OACVimC,OAMZ7lB,IAAUsmB,EAAmB,IAC7BnD,EAAOgD,gBAAkB32B,EACpBoiB,MAAM0U,EAAmB,GACzBrwB,IAAI,SAASmlB,GACV,OAAOD,IAAMsN,aACTrN,EAEA,CACIrsB,IAAKqsB,EAAEn8B,MAAM+7B,SACbrvB,KAAM,oBAItB68B,EAAarF,EAAOuD,yBAChB6B,EAAUtpC,MAAM+7B,SAChBmI,EAAOgD,mBAKnB,IAAI1F,EAAM,GAAG7gC,OAAOmS,GAAmBu2B,GAAM,CACzCE,EACA1qC,IAcJ,OAXIkiB,IAAUxQ,EAASjS,OAAS,GAE5BkjC,EAAIvsB,KACAivB,EAAOuD,yBACH6B,EAAUtpC,MAAM+7B,SAChB,IACA,IAKLyF,EAGX,MAAO,GAAG7gC,OAAOmS,GAAmBu2B,GAAM,CAACxqC,KAE/C,MAGR,CACIiR,IAAK,SACLpI,MAAO,WACH,IAAIi4B,EAAel2B,KAAKzJ,MAMpB6Y,GALU8mB,EAAaF,QACXE,EAAaqD,UACHrD,EAAaiI,oBAC5BjI,EAAajzB,KACZizB,EAAa4C,MACf5C,EAAa9mB,KACnBtI,EAAWovB,EAAapvB,SAExBw3B,GADQpI,EAAa/yB,MACd2E,GAAyBouB,EAAc,CAC1C,UACA,YACA,sBACA,OACA,QACA,MACA,WACA,WAGJ8J,EAAM5wB,EACV,OAAOqjB,IAAM77B,cACTopC,EACAphC,OAAOuI,OAAO,GAAIm3B,GAClBt+B,KAAKg8B,eAAel1B,SAnfxBktB,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GAwfrCkjB,EAhcV,GAmcLA,GAAQnyB,aAAe,CACnBkE,IAAK,MACLnY,UAAW,IAEAomC,UCxoBf,SAASrL,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGnB,SAASwG,KAcL,OAbAA,GACI3I,OAAOuI,QACP,SAAS/N,GACL,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAASD,UAAUD,GACvB,IAAK,IAAInB,KAAOqB,EACR9I,OAAO+I,UAAUC,eAAezH,KAAKuH,EAAQrB,KAC7CjN,EAAOiN,GAAOqB,EAAOrB,IAIjC,OAAOjN,IAECyO,MAAM7H,KAAMyH,WAShC,SAASusB,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAiBtD,SAASia,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAG3B,SAASC,GAAuBtZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAASuZ,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAG9B,SAASprB,GAAQ8U,EAAQ6Q,GACrB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GACvB,GAAInf,OAAOuJ,sBAAuB,CAC9B,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GACvC6Q,IACAC,EAAUA,EAAQ3lB,OAAO,SAASC,GAC9B,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAE5DZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAE1B,OAAO5mB,EAGX,SAASe,GAAc5P,GACnB,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAS8Q,GAC3CsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAEjCzH,OAAOmzB,0BACdnzB,OAAOmb,iBACH3gB,EACAwF,OAAOmzB,0BAA0BrqB,IAGrCuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAS8Q,GACrCzH,OAAOgK,eACHxP,EACAiN,EACAzH,OAAOwK,yBAAyB1B,EAAQrB,MAKxD,OAAOjN,EAGX,SAASuP,GAAgB5H,EAAKsF,EAAKpI,GAW/B,OAVIoI,KAAOtF,EACPnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAC5BpI,MAAOA,EACP4K,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdhI,EAAIsF,GAAOpI,EAER8C,EAaX,SAASk/B,GAAgBrL,EAAOE,EAAQmI,GACpC,IAAIvjC,EAAQk7B,EAAMpgC,WAClBogC,EAAMv0B,SAAS,CACX48B,UAAWj0B,GACP,GACAtP,EAAMujC,UACNt0B,GAAgB,GAAImsB,EAAQmI,MAKxC,SAASiD,GAAY3pC,GAEjB,OAAOA,EAAM+7B,UAAY,UAGtB,SAAS6N,GAAa5pC,EAAO6pC,GAChC,IAKQC,EALJpD,EAAYmD,EACZt5B,EAAWvQ,EAAMuQ,SACjBwrB,EAAW/7B,EAAM+7B,SAErB,GAAI2K,IAEA1K,GAAazrB,EAAU,SAAS4rB,EAAGlrB,GAE3BkrB,GACAA,EAAEn8B,QACDm8B,EAAEn8B,MAAMY,UACT8lC,IAAc/K,GAAwBQ,EAAGJ,EAAU9qB,KAEnD64B,GAAQ,KAIZA,GACA,OAAOpD,EAMf,OAFAA,EAAY,KAER1mC,EAAMs+B,oBACNtC,GAAazrB,EAAU,SAAS4rB,EAAGlrB,GAC1By1B,IAAavK,GAAMA,EAAEn8B,MAAMY,WAC5B8lC,EAAY/K,GAAwBQ,EAAGJ,EAAU9qB,MAGlDy1B,GAGJA,EAEJ,SAASqD,GAAQ5N,GACpB,GAAIA,EAAG,CACH,IAAIpb,EAAQtX,KAAKugC,cAAcx6B,QAAQ2sB,IAExB,IAAXpb,EAEAtX,KAAKugC,cAAcjpB,GAASob,EAG5B1yB,KAAKugC,cAAc/0B,KAAKknB,IAI7B,IAAIuI,GAEN,SAASjG,GAGN,SAASiG,EAAa1kC,GAClB,IAAIuJ,EApLoB+a,EAAM1a,EA8Z9B,OApbZ,SAAyBwa,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCA0MhB2Q,CAAgB5a,KAAMi7B,GAtLEpgB,EAyLpB7a,KAzL0BG,EA0L1B8zB,GAAgBgH,GAAc96B,KAAKH,KAAMzJ,IAF7CuJ,GAvLJK,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAG3Cg0B,GAAuBtZ,GAFnB1a,GAkMGytB,UAAY,SAAS1sB,EAAGs/B,GAC1B,IACI7K,EADAT,EAAUh0B,EAAEg0B,QAShB,GANAp1B,EAAM2gC,uBAAuBlrC,QAAQ,SAASwL,GACtCA,GAAOA,EAAIxK,MAAMqO,QAAU7D,EAAI6sB,YAC/B+H,EAAU50B,EAAI6sB,UAAU1sB,MAI5By0B,EACA,OAAO,EAGX,IAAI+K,EAAa,KAMjB,OAJIxL,IAAYG,KAAQO,IAAMV,IAAYG,KAAQQ,OAC9C6K,EAAa5gC,EAAM6gC,KAAKzL,IAAYG,KAAQO,IAAM,EAAI,IAGtD8K,GACAx/B,EAAE0/B,iBACFX,GACIngC,EAAMvJ,MAAMq+B,MACZsL,GAAYpgC,EAAMvJ,OAClBmqC,EAAWnqC,MAAM+7B,UAGG,oBAAbkO,GACPA,EAASE,GAGN,QAZX,GAkBJ5gC,EAAM42B,YAAc,SAASx1B,GACzB,IAAImF,EAAMnF,EAAEmF,IACRswB,EAAQz1B,EAAEy1B,MACdsJ,GACIngC,EAAMvJ,MAAMq+B,MACZsL,GAAYpgC,EAAMvJ,OAClBogC,EAAQtwB,EAAM,OAItBvG,EAAMo3B,WAAa,SAAS2J,GACxB/gC,EAAMvJ,MAAM2gC,WAAW2J,IAG3B/gC,EAAM6F,SAAW,SAASk7B,GACtB/gC,EAAMvJ,MAAMoP,SAASk7B,IAGzB/gC,EAAMrI,QAAU,SAASyJ,GACrBpB,EAAMvJ,MAAMkB,QAAQyJ,IAGxBpB,EAAMg2B,aAAe,SAAS50B,GAC1BpB,EAAMvJ,MAAMu/B,aAAa50B,IAG7BpB,EAAMm1B,UAAY,SAAS5uB,GAEvBvG,EAAMvJ,MAAM0+B,UAAU5uB,IAG1BvG,EAAM2gC,qBAAuB,WACzB,OAAO3gC,EAAMygC,eAGjBzgC,EAAM6gC,KAAO,SAAS/G,GAClB,IAAI9yB,EAAWhH,EAAM2gC,uBAEjBxD,EAAYn9B,EAAMvJ,MAAMq+B,MAAMpgC,WAAWyoC,UACzCiD,GAAYpgC,EAAMvJ,QAGlBuqC,EAAMh6B,EAASjS,OAEnB,IAAKisC,EACD,OAAO,KAGPlH,EAAY,IACZ9yB,EAAWA,EAAS5P,SAAS6pC,WAGjC,IAAIC,GAAe,EAUnB,GATAl6B,EAASm6B,MAAM,SAASvO,EAAGwO,GACvB,OAAIxO,GAAKA,EAAEn8B,MAAM+7B,WAAa2K,IAC1B+D,EAAcE,GACP,KAOVphC,EAAMvJ,MAAMs+B,qBACI,IAAjBmM,IAvMC13B,EAwMWxC,EAASoiB,MAAM8X,EAAaF,EAAM,IAvMrDjsC,SAIFyU,EAAI23B,MAAM,SAASvO,GACtB,QAASA,EAAEn8B,MAAMY,WA+LT,CArMhB,IAAqBmS,EA6MDsc,GAASob,EAAc,GAAKF,EAC5Bt5B,EAAIoe,EAER,EAAG,CACC,IAAIld,EAAQ5B,EAASU,GAErB,GAAKkB,IAASA,EAAMnS,MAAMY,SAGtB,OAAOuR,EAFPlB,GAAKA,EAAI,GAAKs5B,QAIbt5B,IAAMoe,GAEf,OAAO,OAGX9lB,EAAMqhC,qBAAuB,SAASz4B,EAAOlB,EAAG45B,GAC5C,IAAI1nC,EAAQoG,EAAMvJ,MAAMq+B,MAAMpgC,WAG1B+B,EADwB49B,GAAuBr0B,GACjBvJ,MAE9B8P,EAAM6rB,GAAwBxpB,EAAOnS,EAAM+7B,SAAU9qB,GACrD65B,EAAa34B,EAAMnS,MAEvB,IAAK8qC,GAAoC,kBAAf34B,EAAMnK,KAC5B,OAAOmK,EAGX,IAAI44B,EAAWj7B,IAAQ3M,EAAMujC,UAEzBsE,EAAgBv4B,GAChB,CACI/F,KAAMo+B,EAAWp+B,MAAQ1M,EAAM0M,KAC/B61B,MAAOviC,EAAMuiC,MACbC,aAAcxiC,EAAMwiC,aACpByI,eAAgB1hC,EAAM0hC,eACtBpK,cAAe7gC,EAAMgjC,UACrBjiB,MAAO9P,EACP8uB,WAAY//B,EAAM+/B,WAElBmD,UAAW4H,EAAWlqC,cAChB6U,EACAy1B,aACI/4B,EAAMtJ,IACNkhC,GAAQv+B,KAAKoyB,GAAuBr0B,KAE9CwyB,SAAUjsB,EACVzB,QAASy8B,EAAWlqC,UAAYmqC,EAChChI,SAAU/iC,EAAM+iC,SAChB7hC,QAAS,SAAiByJ,IACpBmgC,EAAW5pC,SAAWw6B,IAAM/wB,GAE9BpB,EAAMrI,QAAQyJ,IAElBw1B,YAAa52B,EAAM42B,YACnBuC,OAAQ1iC,EAAM0iC,OACdC,iBAAkB3iC,EAAM2iC,iBACxBC,kBAAmB5iC,EAAM4iC,kBACzBC,mBAAoB7iC,EAAM6iC,mBAC1BtD,aAAch2B,EAAMg2B,aACpBoB,WAAYp3B,EAAMo3B,WAClBvxB,SAAU7F,EAAM6F,SAChB0zB,kBAAmB9iC,EAAM8iC,kBACzBK,SAAU2H,EAAW3H,UAAY55B,EAAMvJ,MAAMmjC,SAC7CC,WACI0H,EAAW1H,YAAc75B,EAAMvJ,MAAMojC,YAE7CyH,EACA,CACIxH,UAAWrjC,EAAMqjC,YAQzB,OAJmB,WAAfrjC,EAAM0M,MAAqBowB,QAC3BkO,EAAczK,qBAAuB,SAGlCrE,IAAMsN,aAAar3B,EAAO64B,IAGrCzhC,EAAM0hC,eAAiB,SAAS9O,EAAGlrB,EAAG01B,GAElC,IAAKxK,EACD,OAAO,KAGX,IAAIh5B,EAAQoG,EAAMvJ,MAAMq+B,MAAMpgC,WAE1B4sC,EAAa,CACb/I,SAAU3+B,EAAM2+B,SAChBD,aAAc1+B,EAAM0+B,aACpBtB,qBAAsBh3B,EAAMvJ,MAAMugC,qBAClCoG,WAAYA,GAEhB,OAAOp9B,EAAMqhC,qBAAqBzO,EAAGlrB,EAAG45B,IAG5C7qC,EAAMq+B,MAAMv0B,SAAS,CACjB48B,UAAWj0B,GACP,GACAzS,EAAMq+B,MAAMpgC,WAAWyoC,UACvBt0B,GACI,GACApS,EAAM+7B,SACN6N,GAAa5pC,EAAOA,EAAM0mC,eAItCn9B,EAAMygC,cAAgB,GACfzgC,EApanB,IAAsBma,EAAaC,EAAYC,EAskBvC,OAviBR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GA+ItCI,CAAUuf,EAgZXxI,IAAMvuB,WAvkBS+V,EAuaDghB,GAvac/gB,EAuaA,CACvB,CACI7T,IAAK,oBACLpI,MAAO,WAEC+B,KAAKzJ,MAAMkjC,WACXz5B,KAAKzJ,MAAMkjC,UAAUz5B,QAIjC,CACIqG,IAAK,wBACLpI,MAAO,SAA+BwB,GAClC,IAAIlJ,EAAQyJ,KAAKzJ,MACjB,OACIyJ,KAAKzJ,MAAMy/B,SACXv2B,EAAUu2B,UACT0L,KACG,CACI1hC,KAAKzJ,MAAMU,UACXV,EAAMq+B,MAAMpgC,WAAWmtC,oBACvBprC,EAAMq+B,MAAMpgC,WAAW8mC,mBACvB/kC,EAAMq+B,MAAMpgC,WAAWotC,yBACvBrrC,EAAMq+B,MAAMpgC,WAAWwmC,sBACvBzkC,EAAMq+B,MAAMpgC,WAAW6mC,qBACvB9kC,EAAMq+B,MAAMpgC,WACPqtC,4BAET,CACIpiC,EAAUxI,UACVwI,EAAUkiC,oBACVliC,EAAU67B,mBACV77B,EAAUmiC,yBACVniC,EAAUu7B,sBACVv7B,EAAU47B,qBACV57B,EAAUoiC,+BAGjBH,KAAa1hC,KAAKzJ,MAAMuB,MAAO2H,EAAU3H,SAItD,CACIuO,IAAK,qBACLpI,MAAO,SAA4BuB,GAC/B,IAAIjJ,EAAQyJ,KAAKzJ,MACb6pC,EACA,cAAe7pC,EACTA,EAAM0mC,UACN1mC,EAAMq+B,MAAMpgC,WAAWyoC,UACnBiD,GAAY3pC,IAEtB0mC,EAAYkD,GAAa5pC,EAAO6pC,GAEpC,GAAInD,IAAcmD,EACdH,GACI1pC,EAAMq+B,MACNsL,GAAY3pC,GACZ0mC,QAED,GAAI,cAAez9B,EAAW,CAQ7By9B,IALgBkD,GAChB3gC,EACAA,EAAUy9B,YAIVgD,GACI1pC,EAAMq+B,MACNsL,GAAY3pC,GACZ0mC,MAMpB,CACI52B,IAAK,SACLpI,MAAO,WACH,IAAIoE,EAASrC,KAETzJ,EAAQgR,GAAS,GAAIvH,KAAKzJ,OAE9ByJ,KAAKugC,cAAgB,GACrB,IAKIuB,EAAW,CACX7qC,UAAW,CANC8jC,KACZxkC,EAAMgjC,UACNhjC,EAAMU,UACN,GAAGC,OAAOX,EAAMgjC,UAAW,KAAKriC,OAAOX,EAAM0M,OAKzC1M,EAAMuiC,MAAQ,EACRviC,EAAMq+B,MAAMpgC,WAAWmtC,oBACvBprC,EAAMq+B,MAAMpgC,WAAWwmC,uBAC/B17B,KAAK,KAEPu8B,KAAMtlC,EAAMslC,MAAQ,QAGpBtlC,EAAM+H,KACNwjC,EAASxjC,GAAK/H,EAAM+H,IAGpB/H,EAAMyiC,YACN8I,EAASnU,SAAW,EACpBmU,EAASlU,UAAY5tB,KAAK4tB,WAG9B,IAAI2L,EAAYhjC,EAAMgjC,UAClBjH,EAAW/7B,EAAM+7B,SACjB0D,EAAUz/B,EAAMy/B,QAChB8C,EAAQviC,EAAMuiC,MACd71B,EAAO1M,EAAM0M,KACbk7B,EAAsB5nC,EAAM4nC,oBAC5Bh7B,EAAQ5M,EAAM4M,MAalB,OAZA0vB,GAAat9B,QAAQ,SAAS8Q,GAC1B,cAAc9P,EAAM8P,YAGjB9P,EAAMkB,eACNlB,EAAMorC,2BACNprC,EAAM+kC,0BACN/kC,EAAMqrC,gCACNrrC,EAAMykC,6BACNzkC,EAAM8kC,4BACN9kC,EAAMsrC,kCACNtrC,EAAMwrC,WACNtP,IAAM77B,cACTymC,GACAz+B,OAAOuI,OACH,GACA5Q,EACA,CACIgjC,UAAWA,EACXt2B,KAAMA,EACNmM,IAAK,KACL0pB,MAAOA,EACP31B,MAAOA,EACP6yB,QAASA,EACTmI,oBAAqBA,GAEzB2D,GAEJrP,IAAMrU,SAAS7Q,IAAIhX,EAAMuQ,SAAU,SAAS4rB,EAAGlrB,GAC3C,OAAOnF,EAAOm/B,eACV9O,EACAlrB,EACA8qB,GAAY,UACZ,CAAE8I,MAAOtC,EAAQ,YA7jB7B9E,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GAokBrC8gB,EAhZV,GAkZLA,GAAa/vB,aAAe,CACxBquB,UAAW,UACXtiC,UAAW,GACXgM,KAAM,WACN61B,MAAO,EACPC,aAAc,GACd/C,SAAS,EACTgD,WAAW,EACXlhC,MAAO,GACP2hC,UAAWxH,IAEf,IACe+K,GADCvjC,qBAAUwhC,cCppB1B,SAASjJ,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGZ,SAAS84B,GAAUhrB,GACtB,IAAI0qB,EAAY1qB,EAAK0qB,UACjBN,EAASpqB,EAAKoqB,OACd+I,EAAgBnzB,EAAKmzB,cACrBC,EAAqBpzB,EAAKozB,mBAE9B,GAAIhJ,EACA,OAAOA,EAGX,GAA+B,WAA3BjH,GAAQgQ,IAA+BA,EACvCE,cACI,EACA,gFAED,GAA6B,kBAAlBF,EACd,MAAO,CACHG,WAAY,GAAGjrC,OAAOqiC,EAAW,UAAUriC,OAAO8qC,IAI1D,OAAIC,EACO,CACHE,WAAYF,GAIb,KC1CX,SAASjQ,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGnB,SAASkI,GAAQ8U,EAAQ6Q,GACrB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GACvB,GAAInf,OAAOuJ,sBAAuB,CAC9B,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GACvC6Q,IACAC,EAAUA,EAAQ3lB,OAAO,SAASC,GAC9B,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAE5DZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAE1B,OAAO5mB,EAGX,SAASe,GAAc5P,GACnB,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAS8Q,GAC3CsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAEjCzH,OAAOmzB,0BACdnzB,OAAOmb,iBACH3gB,EACAwF,OAAOmzB,0BAA0BrqB,IAGrCuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAS8Q,GACrCzH,OAAOgK,eACHxP,EACAiN,EACAzH,OAAOwK,yBAAyB1B,EAAQrB,MAKxD,OAAOjN,EAGX,SAASuP,GAAgB5H,EAAKsF,EAAKpI,GAW/B,OAVIoI,KAAOtF,EACPnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAC5BpI,MAAOA,EACP4K,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdhI,EAAIsF,GAAOpI,EAER8C,EASX,SAASizB,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAiBtD,SAASia,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAG3B,SAASC,GAAuBtZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAASuZ,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAG9B,IAAI+N,GAEC,SAASpN,GAGN,SAASoN,EAAK7rC,GACV,IAAIuJ,EArDoB+a,EAAM1a,GAtB1C,SAAyBwa,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCA2EhB2Q,CAAgB5a,KAAMoiC,GAvDEvnB,EA0DpB7a,KA1D0BG,EA2D1B8zB,GAAgBmO,GAAMjiC,KAAKH,KAAMzJ,IAFrCuJ,GAxDJK,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAG3Cg0B,GAAuBtZ,GAFnB1a,GA4DGwF,SAAW,SAASk7B,GACtB,IACItqC,EADwB49B,GAAuBr0B,GACjBvJ,MAElC,GAAIA,EAAM8rC,WAAY,CAElB,IACIC,EADuBxiC,EAAM80B,MAAMpgC,WACE4jC,aAErCmK,EAAc1B,EAAWx6B,IAGzBi8B,EADA/rC,EAAM+iC,SACUgJ,EAAcprC,OAAO,CAACqrC,IAEtB,CAACA,GAGf,iBAAkBhsC,GACpBuJ,EAAM80B,MAAMv0B,SAAS,CACjB+3B,aAAckK,IAItB/rC,EAAMoP,SACFqD,GAAc,GAAI63B,EAAY,CAC1BzI,aAAckK,OAM9BxiC,EAAMrI,QAAU,SAASyJ,GACrBpB,EAAMvJ,MAAMkB,QAAQyJ,IAKxBpB,EAAM8tB,UAAY,SAAS1sB,EAAGs/B,GAC1B1gC,EAAM0iC,UAAUC,qBAAqB7U,UAAU1sB,EAAGs/B,IAGtD1gC,EAAMg2B,aAAe,SAAS4M,GAC1B,IACInsC,EADyB49B,GAAuBr0B,GACjBvJ,MAE/B8hC,EAAWv4B,EAAM80B,MAAMpgC,WAAW6jC,SAASnhC,SAE3CwO,GAAU,EAEVi9B,EAAgB,SAAuBzhC,GACvC,IAAI0hC,GAAa,EAEjB,GAAI1hC,EAAE0b,MACFgmB,GAA0C,IAA7BvK,EAAStyB,QAAQ7E,EAAEmF,OAG5BgyB,EAAS7sB,KAAKtK,EAAEmF,SAEjB,CACH,IAAIiR,EAAQ+gB,EAAStyB,QAAQ7E,EAAEmF,MAC/Bu8B,GAAwB,IAAXtrB,IAGT+gB,EAASwK,OAAOvrB,EAAO,GAI/B5R,EAAUA,GAAWk9B,GAGrBr5B,MAAMC,QAAQk5B,GAEdA,EAAMntC,QAAQotC,GAEdA,EAAcD,GAGdh9B,IACM,aAAc5F,EAAMvJ,OACtBuJ,EAAM80B,MAAMv0B,SAAS,CACjBg4B,SAAUA,IAIlB9hC,EAAMu/B,aAAauC,KAI3Bv4B,EAAMo3B,WAAa,SAAS2J,GACxB,IACItqC,EADyB49B,GAAuBr0B,GACjBvJ,MAEnC,GAAIA,EAAM8rC,WAAY,CAClB,IAAIS,EAAiBhjC,EAAM80B,MACtBpgC,WACA4jC,aAAalhC,SAEdqrC,EAAc1B,EAAWx6B,IAEzBiR,EAAQwrB,EAAe/8B,QAAQw8B,IAEpB,IAAXjrB,GACAwrB,EAAeD,OAAOvrB,EAAO,GAG3B,iBAAkB/gB,GACpBuJ,EAAM80B,MAAMv0B,SAAS,CACjB+3B,aAAc0K,IAItBvsC,EAAM2gC,WACFluB,GAAc,GAAI63B,EAAY,CAC1BzI,aAAc0K,OAM9BhjC,EAAMijC,sBAAwB,WAC1B,IACIxsC,EADyB49B,GAAuBr0B,GACjBvJ,MAE/BysC,EAAiBzsC,EAAM0rC,mBACvBgB,EAAgB1sC,EAAMyrC,cAQ1B,OANKgB,GAA2C,kBAAlBC,IAC1BD,EAAiB,GACZ9rC,OAAOX,EAAMgjC,UAAW,UACxBriC,OAAO+rC,IAGTD,GAGXljC,EAAMojC,aAAe,SAASpqC,GAC1BgH,EAAM0iC,UAAY1pC,GAGtBgH,EAAMq6B,YAAa,EACnB,IAAI/B,EAAe7hC,EAAM4sC,oBACrB9K,EAAW9hC,EAAM6sC,gBAiBrB,MAfI,iBAAkB7sC,IAClB6hC,EAAe7hC,EAAM6hC,cAAgB,IAGrC,aAAc7hC,IACd8hC,EAAW9hC,EAAM8hC,UAAY,IAGjCv4B,EAAM80B,MAAQrZ,kBAAO,CACjB6c,aAAcA,EACdC,SAAUA,EACV4E,UAAW,CACPoG,UAAWlD,GAAa5pC,EAAOA,EAAM0mC,cAGtCn9B,EAlOnB,IAAsBma,EAAaC,EAAYC,EA8VvC,OA/TR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GAgBtCI,CAAU0mB,EAuSX3P,IAAMvuB,WA/VS+V,EAqODmoB,GArOcloB,EAqOR,CACf,CACI7T,IAAK,oBACLpI,MAAO,WACH+B,KAAKsjC,oBAGb,CACIj9B,IAAK,qBACLpI,MAAO,WACH+B,KAAKsjC,oBAGb,CACIj9B,IAAK,kBACLpI,MAAO,WACC,iBAAkB+B,KAAKzJ,OACvByJ,KAAK40B,MAAMv0B,SAAS,CAChB+3B,aAAcp4B,KAAKzJ,MAAM6hC,cAAgB,KAI7C,aAAcp4B,KAAKzJ,OACnByJ,KAAK40B,MAAMv0B,SAAS,CAChBg4B,SAAUr4B,KAAKzJ,MAAM8hC,UAAY,KAGzCr4B,KAAKujC,6BAGb,CACIl9B,IAAK,2BACLpI,MAAO,WACC,wBAAyB+B,KAAKzJ,OAC9ByJ,KAAK40B,MAAMv0B,SAAS,CAChBshC,oBACI3hC,KAAKzJ,MAAMorC,qBAAuB,KAI1C,uBAAwB3hC,KAAKzJ,OAC7ByJ,KAAK40B,MAAMv0B,SAAS,CAChBi7B,mBACIt7B,KAAKzJ,MAAM+kC,oBAAsB,KAIzC,6BAA8Bt7B,KAAKzJ,OACnCyJ,KAAK40B,MAAMv0B,SAAS,CAChBuhC,yBACI5hC,KAAKzJ,MAAMqrC,0BAA4B,KAI/C,0BAA2B5hC,KAAKzJ,OAChCyJ,KAAK40B,MAAMv0B,SAAS,CAChB26B,sBACIh7B,KAAKzJ,MAAMykC,uBAAyB,KAI5C,yBAA0Bh7B,KAAKzJ,OAC/ByJ,KAAK40B,MAAMv0B,SAAS,CAChBg7B,qBACIr7B,KAAKzJ,MAAM8kC,sBAAwB,KAI3C,+BAAgCr7B,KAAKzJ,OACrCyJ,KAAK40B,MAAMv0B,SAAS,CAChBwhC,2BACI7hC,KAAKzJ,MAAMsrC,4BAA8B,KAIjD,eAAgB7hC,KAAKzJ,OACrByJ,KAAK40B,MAAMv0B,SAAS,CAChB0hC,WAAY/hC,KAAKzJ,MAAMwrC,YAAc,OAKrD,CACI17B,IAAK,SACLpI,MAAO,WACH+B,KAAKujC,2BACL,IAAIhtC,EAAQyS,GAAc,GAAIhJ,KAAKzJ,OAkBnC,OAhBAA,EAAMU,WAAa,IAAIC,OAAOX,EAAMgjC,UAAW,SAEvB,QAApBhjC,EAAMqjC,YACNrjC,EAAMU,WAAa,IAAIC,OAAOX,EAAMgjC,UAAW,gBAGnDhjC,EAAQyS,GAAc,GAAIzS,EAAO,CAC7BkB,QAASuI,KAAKvI,QACdq+B,aAAc91B,KAAK81B,aACnBoB,WAAYl3B,KAAKk3B,WACjBvxB,SAAU3F,KAAK2F,SACf2wB,WAAYt2B,KACZi5B,OAAQY,GAAU75B,KAAKzJ,UAEdyrC,qBACNzrC,EAAM0rC,mBACNxP,IAAM77B,cACT0d,YACA,CACIsgB,MAAO50B,KAAK40B,OAEhBnC,IAAM77B,cACFqkC,GACAr8B,OAAOuI,OAAO,GAAI5Q,EAAO,CACrB6I,IAAKY,KAAKkjC,eAEdljC,KAAKzJ,MAAMuQ,gBAtVnBktB,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GA4VrCioB,EAvSV,GA0SLA,GAAKl3B,aAAe,CAChBm3B,YAAY,EACZ5qC,QAASw6B,GACTtsB,SAAUssB,GACV6D,aAAc7D,GACdiF,WAAYjF,GACZkR,oBAAqB,GACrBC,gBAAiB,GACjBlK,iBAAkB,GAClBC,kBAAmB,GACnBrC,qBAAsB,QACtByC,UAAW,UACXtiC,UAAW,GACXgM,KAAM,WACNnL,MAAO,GACPuhC,kBAAmB,GACnB8E,oBAAqB1L,IAAM77B,cAAc,OAAQ,KAAM,gBACvD+qC,oBAAqB,GACrBrG,mBAAoB,GACpBsG,yBAA0B,GAC1B5G,sBAAuB,GACvBK,qBAAsB,GACtBwG,2BAA4B,GAC5BE,WAAY,IAEDK,oBC/cf,SAASpQ,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGnB,SAASkI,GAAQ8U,EAAQ6Q,GACrB,IAAI3mB,EAAOrJ,OAAOqJ,KAAK8V,GACvB,GAAInf,OAAOuJ,sBAAuB,CAC9B,IAAI0mB,EAAUjwB,OAAOuJ,sBAAsB4V,GACvC6Q,IACAC,EAAUA,EAAQ3lB,OAAO,SAASC,GAC9B,OAAOvK,OAAOwK,yBAAyB2U,EAAQ5U,GAAKN,cAE5DZ,EAAKuD,KAAK3D,MAAMI,EAAM4mB,GAE1B,OAAO5mB,EAGX,SAASe,GAAc5P,GACnB,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAC/CA,EAAI,EACJyB,GAAQrK,OAAO8I,IAAS,GAAMnS,QAAQ,SAAS8Q,GAC3CsC,GAAgBvP,EAAQiN,EAAKqB,EAAOrB,MAEjCzH,OAAOmzB,0BACdnzB,OAAOmb,iBACH3gB,EACAwF,OAAOmzB,0BAA0BrqB,IAGrCuB,GAAQrK,OAAO8I,IAASnS,QAAQ,SAAS8Q,GACrCzH,OAAOgK,eACHxP,EACAiN,EACAzH,OAAOwK,yBAAyB1B,EAAQrB,MAKxD,OAAOjN,EAGX,SAASuP,GAAgB5H,EAAKsF,EAAKpI,GAW/B,OAVIoI,KAAOtF,EACPnC,OAAOgK,eAAe7H,EAAKsF,EAAK,CAC5BpI,MAAOA,EACP4K,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdhI,EAAIsF,GAAOpI,EAER8C,EASX,SAASizB,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAiBtD,SAASia,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAG3B,SAASC,GAAuBtZ,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EAeX,SAASuZ,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAGvB,IAAImP,GAEN,SAASxO,GAGN,SAASwO,IACL,IAAI1jC,EArDoB+a,EAAM1a,EAuI9B,OA7JZ,SAAyBwa,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCA2EhB2Q,CAAgB5a,KAAMwjC,GAvDE3oB,EA0DpB7a,KA1D0BG,EA2D1B8zB,GAAgBuP,GAAU37B,MAAM7H,KAAMyH,YAF1C3H,GAxDJK,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAG3Cg0B,GAAuBtZ,GAFnB1a,GA4DGytB,UAAY,SAAS1sB,GAGvB,GAFcA,EAAEg0B,UAEAG,KAAQC,MAGpB,OAFAx1B,EAAMrI,QAAQyJ,IAEP,GAMfpB,EAAMs2B,aAAe,SAASl1B,GAC1B,IAAIwV,EAAc5W,EAAMvJ,MACpB+7B,EAAW5b,EAAY4b,SACvBoE,EAAchgB,EAAYggB,YAC1BN,EAAe1f,EAAY0f,aAC/BM,EAAY,CACRrwB,IAAKisB,EACLqE,OAAO,IAEXP,EAAa,CACT/vB,IAAKisB,EACL6D,SAAUj1B,KAIlBpB,EAAMm2B,aAAe,SAAS/0B,GAC1B,IAAIg1B,EAAep2B,EAAMvJ,MACrB+7B,EAAW4D,EAAa5D,SACxBoE,EAAcR,EAAaQ,YAC3BT,EAAeC,EAAaD,aAChCS,EAAY,CACRrwB,IAAKisB,EACLqE,OAAO,IAEXV,EAAa,CACT5vB,IAAKisB,EACL6D,SAAUj1B,KAIlBpB,EAAMrI,QAAU,SAASyJ,GACrB,IAAIm1B,EAAev2B,EAAMvJ,MACrB+7B,EAAW+D,EAAa/D,SACxBgH,EAAWjD,EAAaiD,SACxB7hC,EAAU4+B,EAAa5+B,QACvBkO,EAAW0wB,EAAa1wB,SACxBuxB,EAAab,EAAaa,WAC1BuM,EAAapN,EAAaoN,WAC1BzM,EAAO,CACP3wB,IAAKisB,EACLoF,QAAS,CAACpF,GACVl9B,KAAM++B,GAAuBr0B,GAC7Bq2B,SAAUj1B,GAEdzJ,EAAQu/B,GAEJsC,EACImK,EACAvM,EAAWF,GAEXrxB,EAASqxB,GAELyM,GACR99B,EAASqxB,IAIjBl3B,EAAM4jC,SAAW,SAAS5qC,GACtBgH,EAAMhH,KAAOA,GAGVgH,EA7InB,IAAsBma,EAAaC,EAAYC,EAoVvC,OArTR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GAgBtCI,CAAU8nB,EA6RX/Q,IAAMvuB,WArVS+V,EAgJDupB,GAhJctpB,EAgJJ,CACnB,CACI7T,IAAK,oBACLpI,MAAO,WAEH+B,KAAK2jC,YAGb,CACIt9B,IAAK,qBACLpI,MAAO,SAA4BuB,GAC/B,IAAIi3B,EAAez2B,KAAKzJ,MACpBqO,EAAS6xB,EAAa7xB,OACtB0xB,EAAaG,EAAaH,WAC1BhE,EAAWmE,EAAanE,SAIvB9yB,EAAUoF,SACXA,GACE0xB,GACGA,EAAW,YAAYp/B,OAAOo7B,IAYnCgE,GACAA,EAAW,YAAYp/B,OAAOo7B,YAEvBgE,EAAW,YAAYp/B,OAAOo7B,IAbjCtyB,KAAKlH,OACL8qC,aAAe5jC,KAAKlH,KAAM,CACtB+qC,WAAY,YAEZC,SAAUrL,KAASC,YAAYpC,GAC/ByN,MAAO,YAEXzN,EAAW,YAAYp/B,OAAOo7B,KAAa,GASnDtyB,KAAK2jC,YAGb,CACIt9B,IAAK,uBACLpI,MAAO,WACH,IAAI1H,EAAQyJ,KAAKzJ,MAEbA,EAAM0+B,WACN1+B,EAAM0+B,UAAU1+B,EAAM+7B,YAIlC,CACIjsB,IAAK,eACLpI,MAAO,WACH,MAAO,GAAG/G,OAAO8I,KAAKzJ,MAAM6gC,cAAe,WAGnD,CACI/wB,IAAK,qBACLpI,MAAO,WACH,MAAO,GAAG/G,OAAO8I,KAAKm3B,eAAgB,aAG9C,CACI9wB,IAAK,uBACLpI,MAAO,WACH,MAAO,GAAG/G,OAAO8I,KAAKm3B,eAAgB,eAG9C,CACI9wB,IAAK,uBACLpI,MAAO,WACH,MAAO,GAAG/G,OAAO8I,KAAKm3B,eAAgB,eAG9C,CACI9wB,IAAK,UACLpI,MAAO,WACC+B,KAAKzJ,MAAMkjC,WACXz5B,KAAKzJ,MAAMkjC,UAAUz5B,QAIjC,CACIqG,IAAK,SACLpI,MAAO,WACH,IAAI+lC,EAEAztC,EAAQyS,GAAc,GAAIhJ,KAAKzJ,OAE/BU,EAAY8jC,KACZ/6B,KAAKm3B,eACL5gC,EAAMU,WAEN0R,GADEq7B,EAAc,GAGZhkC,KAAKq3B,sBACJ9gC,EAAMY,UAAYZ,EAAMqO,QAE7B+D,GACIq7B,EACAhkC,KAAKu3B,uBACLhhC,EAAMktC,YAEV96B,GACIq7B,EACAhkC,KAAKs3B,uBACL/gC,EAAMY,UAEV6sC,IAGAC,EAAQj7B,GAAc,GAAIzS,EAAM2tC,UAAW,CAC3C/rC,MAAO5B,EAAM4B,MAEblB,UAAW,CACPA,GADOC,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CAEHrI,EAAM6kC,MACJ7kC,EAAMq+B,MAAMpgC,WAAW6mC,qBACvB9kC,EAAMq+B,MAAMpgC,WAAW8mC,oBAJtB18B,OAAAwqB,EAAA,EAAAxqB,CAKHrI,EAAMq+B,MACLpgC,WACAutC,WAAWtsC,SAASuK,KAAKzJ,MAAM+7B,UAC9B/7B,EAAM6kC,MACF7kC,EAAMq+B,MAAMpgC,WACPqtC,2BACLtrC,EAAMq+B,MAAMpgC,WACPotC,yBACT,KACRtiC,KAAK,KAEPu8B,KAAMtlC,EAAMslC,MAAQ,WACpBsI,gBAAiB5tC,EAAMY,WAGR,WAAfZ,EAAMslC,KAENoI,EAAQj7B,GAAc,GAAIi7B,EAAO,CAC7BpI,KAAM,SACNuI,gBAAiB7tC,EAAMktC,aAEL,OAAfltC,EAAMslC,MAAgC,SAAftlC,EAAMslC,OAMpCoI,EAAMpI,KAAO,QAGjB,IAAIwI,EAAa,CACb5sC,QAASlB,EAAMY,SAAW,KAAO6I,KAAKvI,QACtC2+B,aAAc7/B,EAAMY,SAAW,KAAO6I,KAAKo2B,aAC3CH,aAAc1/B,EAAMY,SAAW,KAAO6I,KAAKi2B,cAG3Cn+B,EAAQkR,GAAc,GAAIzS,EAAMuB,OAEjB,WAAfvB,EAAM0M,OACkB,QAApB1M,EAAMqjC,UACN9hC,EAAM4sB,aACFnuB,EAAMwiC,aAAexiC,EAAMuiC,MAE/BhhC,EAAM4jC,YAAcnlC,EAAMwiC,aAAexiC,EAAMuiC,OAIvDjG,GAAat9B,QAAQ,SAAS8Q,GAC1B,cAAc9P,EAAM8P,YAEjB9P,EAAMqjC,UACb,IAAI3hC,EAAO+H,KAAKzJ,MAAMmjC,SAWtB,MATmC,oBAAxB15B,KAAKzJ,MAAMmjC,WAElBzhC,EAAOw6B,IAAM77B,cACToJ,KAAKzJ,MAAMmjC,SACX15B,KAAKzJ,eAGNA,EAAM6kC,MAEN3I,IAAM77B,cACT,KACAgI,OAAOuI,OAAO,GAAI5Q,EAAO0tC,EAAOI,EAAY,CACxCvsC,MAAOA,EACPsH,IAAKY,KAAK0jC,WAEdntC,EAAMuQ,SACN7O,QA7UJ+7B,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GAkVrCqpB,EA7RV,GA+RLA,GAASrL,YAAa,EACtBqL,GAASt4B,aAAe,CACpBvF,SAAUssB,GACVgE,aAAchE,GACdmE,aAAcnE,GACdwH,UAAWxH,IAEf,IAUe+K,GAVCvjC,mBAAQ,SAASoV,EAAMH,GACnC,IAAIuuB,EAAYpuB,EAAKouB,UACjB7E,EAAevpB,EAAKupB,aACpB9F,EAAW5jB,EAAM4jB,SAErB,MAAO,CACH1tB,OAAQq4B,EAFKvuB,EAAMwuB,cAEe5K,EAClCmR,YAAgD,IAApCrL,EAAaryB,QAAQusB,KAPzB74B,CASb+pC,IClcH,SAASxR,GAAQjxB,GAgBb,OAbIixB,GADkB,oBAAXpoB,QAAoD,kBAApBA,OAAOC,SACpC,SAAiB9I,GACvB,cAAcA,GAGR,SAAiBA,GACvB,OAAOA,GACe,oBAAX6I,QACP7I,EAAIya,cAAgB5R,QACpB7I,IAAQ6I,OAAOjC,UACb,gBACO5G,IAGNA,GAGnB,SAASwG,KAcL,OAbAA,GACI3I,OAAOuI,QACP,SAAS/N,GACL,IAAK,IAAIoO,EAAI,EAAGA,EAAIC,UAAU5S,OAAQ2S,IAAK,CACvC,IAAIE,EAASD,UAAUD,GACvB,IAAK,IAAInB,KAAOqB,EACR9I,OAAO+I,UAAUC,eAAezH,KAAKuH,EAAQrB,KAC7CjN,EAAOiN,GAAOqB,EAAOrB,IAIjC,OAAOjN,IAECyO,MAAM7H,KAAMyH,WAShC,SAASusB,GAAkB56B,EAAQ7C,GAC/B,IAAK,IAAIiR,EAAI,EAAGA,EAAIjR,EAAM1B,OAAQ2S,IAAK,CACnC,IAAIwS,EAAazjB,EAAMiR,GACvBwS,EAAWnR,WAAamR,EAAWnR,aAAc,EACjDmR,EAAWlR,cAAe,EACtB,UAAWkR,IAAYA,EAAWjR,UAAW,GACjDnK,OAAOgK,eAAexP,EAAQ4gB,EAAW3T,IAAK2T,IAUtD,SAASe,GAA2BF,EAAM1a,GACtC,OAAIA,GAA2B,WAAlB6xB,GAAQ7xB,IAAsC,oBAATA,EAMtD,SAAgC0a,GAC5B,QAAa,IAATA,EACA,MAAM,IAAIC,eACN,6DAGR,OAAOD,EATAsZ,CAAuBtZ,GAFnB1a,EAcf,SAAS8zB,GAAgBC,GAMrB,OALAD,GAAkBr1B,OAAO6c,eACnB7c,OAAOqc,eACP,SAAyBiZ,GACrB,OAAOA,EAAElZ,WAAapc,OAAOqc,eAAeiZ,KAE/BA,GAe3B,SAASE,GAAgBF,EAAGG,GAOxB,OANAD,GACIx1B,OAAO6c,gBACP,SAAyByY,EAAGG,GAExB,OADAH,EAAElZ,UAAYqZ,EACPH,IAEQA,EAAGG,GAG9B,IAAIiQ,GAEC,SAAStP,GAGN,SAASsP,IACL,IAAIxkC,EAgBJ,OA3FZ,SAAyB6a,EAAUV,GAC/B,KAAMU,aAAoBV,GACtB,MAAM,IAAIhQ,UAAU,qCA2EhB2Q,CAAgB5a,KAAMskC,IAEtBxkC,EAAQib,GACJ/a,KACAi0B,GAAgBqQ,GAAez8B,MAAM7H,KAAMyH,aAGzC88B,oBAAsB,SAASnvC,GACjC,IAAIshB,EAAc5W,EAAMvJ,MAGxB,OAAOirC,EAFc9qB,EAAY8qB,gBAEXpsC,EADVshB,EAAYY,MACWxX,EAAMvJ,MAAM2mC,aAG5Cp9B,EA3EnB,IAAsBma,EAAaC,EAAYC,EAyIvC,OA1GR,SAAmBkB,EAAUC,GACzB,GAA0B,oBAAfA,GAA4C,OAAfA,EACpC,MAAM,IAAIrR,UACN,sDAGRoR,EAAS1T,UAAY/I,OAAO2c,OAAOD,GAAcA,EAAW3T,UAAW,CACnE6T,YAAa,CAAEvd,MAAOod,EAAUtS,UAAU,EAAMD,cAAc,KAE9DwS,GAAY8Y,GAAgB/Y,EAAUC,GAgBtCI,CAAU4oB,EAkFX7R,IAAMvuB,WA1IS+V,EA8EDqqB,GA9EcpqB,EA8EC,CACxB,CACI7T,IAAK,SACLpI,MAAO,WACH,IAAI1H,EAAQgR,GAAS,GAAIvH,KAAKzJ,OAE1BiuC,EAAmBjuC,EAAMU,UACzBA,OACyB,IAArButC,EAA8B,GAAKA,EACvCpN,EAAgB7gC,EAAM6gC,cACtBqN,EAAiB,GAAGvtC,OACpBkgC,EACA,qBAEAsN,EAAgB,GAAGxtC,OACnBkgC,EACA,oBAEAj/B,EAAQ5B,EAAM4B,MACd2O,EAAWvQ,EAAMuQ,SAOrB,OANA+rB,GAAat9B,QAAQ,SAAS8Q,GAC1B,cAAc9P,EAAM8P,YAGjB9P,EAAMkB,eACNlB,EAAMqjC,UACNnH,IAAM77B,cACT,KACAgI,OAAOuI,OAAO,GAAI5Q,EAAO,CACrBU,UAAW,GACNC,OAAOD,EAAW,KAClBC,OAAOkgC,EAAe,iBAE/B3E,IAAM77B,cACF,MACA,CACIK,UAAWwtC,EACXtsC,MACqB,kBAAVA,EACDA,OACA6T,GAEd7T,GAEJs6B,IAAM77B,cACF,KACA,CACIK,UAAWytC,GAEfjS,IAAMrU,SAAS7Q,IACXzG,EACA9G,KAAKukC,4BAhIjBvQ,GAAkB/Z,EAAYtS,UAAWuS,GACrDC,GAAa6Z,GAAkB/Z,EAAaE,GAuIrCmqB,EAlFV,GAqFLA,GAAc3R,iBAAkB,EAChC2R,GAAcp5B,aAAe,CACzB/T,UAAU,GAECmtC,ICpMXK,GAAU,SAAiB91B,GAC7B,IAAI5X,EAAY4X,EAAK5X,UACjBmgC,EAAgBvoB,EAAKuoB,cACrBt/B,EAAQ+W,EAAK/W,MACjB,OAAO26B,IAAM77B,cAAc,KAAM,CAC/BK,UAAW,GAAGC,OAAOD,EAAW,KAAKC,OAAOkgC,EAAe,iBAC3Dt/B,MAAOA,KAIX6sC,GAAQz5B,aAAe,CAErB/T,UAAU,EACVF,UAAW,GACXa,MAAO,IAEM6sC,ICZAvC,MCQTL,GAAa,GAmFb6C,GAAW,SAAAruC,GAAS,IACXg7B,EADW3yB,OAAAimC,GAAA,EAAAjmC,CAAA,GACDrI,GACrB,OACIwpB,EAAAppB,EAAAC,cAACkuC,GAADlmC,OAAAuI,OAAA,GAAaoqB,EAAb,CAAoBp5B,MAAO5B,EAAMnB,KAAKgO,OACjC7M,EAAMnB,KAAK0R,SAASyG,IAAI,SAACnY,EAAMkiB,GAC5B,GAA6B,IAAzBliB,EAAK0R,SAASjS,OAAc,CAC5B,IAAMwR,EAAMjR,EAAKkJ,GAAK,IAAMgZ,EAM5B,OAJIliB,EAAKktB,MAAQ/rB,EAAMwuC,gBAAgBziB,KACrB,KAAbltB,EAAKktB,KAAc/rB,EAAMwuC,gBAAgB/gB,WAE1C+d,GAAWv2B,KAAKnF,GAEhB0Z,EAAAppB,EAAAC,cAACouC,GAAD,CAAU3+B,IAAKA,GACX0Z,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CAAE4L,OAAQ,OAAQlN,MAAO,QAChCiB,QAAS,kBAAOhB,OAAOwuC,SAAW7vC,EAAKktB,MAEtCltB,EAAKgO,OAKlB,OACI2c,EAAAppB,EAAAC,cAACsuC,GAADtmC,OAAAuI,OAAA,CACI/R,KAAMA,GACFm8B,EAFR,CAGIlrB,IAAKjR,EAAKkJ,GAAK,IAAMgZ,EACrBytB,gBAAiBxuC,EAAMwuC,uBAS7CG,GAAWN,GASFnrC,eAPS,SAAAC,GACpB,MAAO,CACHuX,eAAgBvX,EAAM/E,GAAGsc,eACzB8zB,gBAAiBrrC,EAAM/E,GAAGwwC,kBAInB1rC,CA/HK,SAAClD,GACjByI,oBAAU,WACN,IAAKzI,EAAM6d,SAASgxB,eAAe,8BAA+B,CAC9D,IAAMC,EAAY9uC,EAAM6d,SAASxd,cAAc,OAC/CyuC,EAAU7nB,aAAa,KAAM,8BAC7B6nB,EAAU7nB,aACN,QACA,sCAEJjnB,EAAM6d,SAAS8H,KAAK0F,YAAYyjB,MAGxC,IAAMC,ECxBK,SAAC/uC,GACZ,IAqFMgvC,EAAc,GAYpB,OAXAhvC,EAAM0a,eAAe1b,QAAQ,SAAAiwC,GACrBA,EAAKvhB,QAAQshB,EAAY/5B,KAAKg6B,EAAKlnC,MAE3C/H,EAAM0a,eAAe1b,QAAQ,SAAAiwC,GACzBA,EAAKp6B,KAAK7V,QAAQ,SAAA+I,GACVinC,EAAY9vC,SAAS6I,IACrBinC,EAAY/5B,KAAKg6B,EAAKlnC,QAK3BgP,YAjGgB,SAAAyE,GACnB,IAAI0zB,EAA0B,GACxBh5B,EAAY,GAiFlB,OAhFIsF,IACAA,EAAUxc,QAAQ,SAAAH,GACa,aAAvBA,EAAKmc,cACDhb,EAAMmvC,kBAAkBtwC,EAAKgO,QAC7BqiC,EAAuB,GAAAvuC,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CAChB6mC,GADgB7mC,OAAAwqB,EAAA,EAAAxqB,CAEhBrI,EAAMmvC,kBAAkBtwC,EAAKgO,SAIxCqiC,EAAwBj6B,KAAKpW,KAIrCqwC,EAAwBlwC,QAAQ,SAAAH,GACD,QAAvBA,EAAKmc,cACLhb,EAAM0a,eAAe1b,QAAQ,SAAAiwC,GACpBD,EAAY9vC,SAAS+vC,EAAKlnC,KAC3BmO,EAAUjB,KAAK,CACXpI,KAAMoiC,EAAKpiC,KACXqO,WAAYrc,EAAKqc,WACjBnT,GAAIlJ,EAAKkJ,GAAKknC,EAAKlnC,GACnB8M,KAAI,GAAAlU,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CACGxJ,EAAKgW,MADRxM,OAAAwqB,EAAA,EAAAxqB,CAEG4mC,EAAKp6B,KAAKmC,IAAI,SAAAo4B,GAAC,OAAIvwC,EAAKkJ,GAAKqnC,MAEpCrjB,IAAKkjB,EAAKljB,QAIfltB,EAAKkc,IACZ/a,EAAM0a,eAAe1b,QAAQ,SAAAiwC,GAErBA,EAAKp6B,KAAK3V,SAASL,EAAKmc,iBACvBg0B,EAAY9vC,SAAS+vC,EAAKlnC,KAE3BmO,EAAUjB,KAAK,CACXlN,GAAIlJ,EAAKkJ,GAAKknC,EAAKlnC,GACnB8E,KAAMoiC,EAAKpiC,KACXqO,WAAYrc,EAAKqc,WACjBrG,KAAI,GAAAlU,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CACGxJ,EAAKgW,MADRxM,OAAAwqB,EAAA,EAAAxqB,CAEG4mC,EAAKp6B,KACH8d,MACGsc,EAAKp6B,KAAKrF,QACN3Q,EAAKmc,eACL,GAEPhE,IAAI,SAAAo4B,GAAC,OAAIvwC,EAAKkJ,GAAKqnC,MAE5BrjB,IAAKkjB,EAAKljB,QAIQ,SAAvBltB,EAAKmc,cACZhb,EAAM0a,eAAe1b,QAAQ,SAAAiwC,GAErBA,EAAKlnC,KAAOlJ,EAAKmc,eAChBg0B,EAAY9vC,SAAS+vC,EAAKlnC,KAE3BmO,EAAUjB,KAAK,CACXlN,GAAIlJ,EAAKkJ,GACT8E,KAAMhO,EAAKgO,KACXqO,WAAYrc,EAAKqc,WACjBrG,KAAMhW,EAAKgW,KACXkX,IAAKkjB,EAAKljB,QAIQ,SAAvBltB,EAAKmc,eACZ9E,EAAUjB,KAAK,CACXlN,GAAIlJ,EAAKkJ,GACT8E,KAAMhO,EAAKgO,KACXgI,KAAMhW,EAAKgW,KACXkX,IAAKltB,EAAKqc,YAAarc,EAAKqc,WAAW6Q,KAAY,GACnD7Q,WAAYrc,EAAKqc,gBAK1BhF,EAcMm5B,CAAervC,EAAMyb,cAAcD,YD1EjC8zB,CAAkBtvC,GAErCwrC,GAAWltC,OAAS,EACpB,IAAMixC,EAAeR,EAAW/3B,IAAI,SAACnY,EAAMkiB,GACvC,GAA6B,IAAzBliB,EAAK0R,SAASjS,OAAc,CAC5B,IAAMwR,EAAMjR,EAAKkJ,GAAK,IAAMgZ,EAM5B,OAJIliB,EAAKktB,MAAQ/rB,EAAMwuC,gBAAgBziB,KACrB,KAAbltB,EAAKktB,KAAc/rB,EAAMwuC,gBAAgB/gB,WAE1C+d,GAAWv2B,KAAKnF,GAEhB0Z,EAAAppB,EAAAC,cAACouC,GAAD,CACI3+B,IAAKA,EACLpP,UAAW7B,EAAKqc,WAAarc,EAAKqc,WAAWoE,MAAQ,IAErDkK,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CAAE4L,OAAQ,OAAQlN,MAAO,QAChCiB,QAAS,kBAAOhB,OAAOwuC,SAAW7vC,EAAKktB,MAEtCltB,EAAKgO,OAKlB,OACI2c,EAAAppB,EAAAC,cAACmvC,GAAD,CACI3wC,KAAMA,EACNiR,IAAKjR,EAAKkJ,GAAK,IAAMgZ,EACrBytB,gBAAiBxuC,EAAMwuC,oBAKvC,OACIhlB,EAAAppB,EAAAC,cAACovC,GAAD,CACIzM,UAAW,mBAEX0C,kBAAmB,kBACf1lC,EAAM6d,SAASgxB,eAAe,+BAElCzD,oBACIprC,EAAMyb,cAAcP,WAAWkwB,oBAEnCrG,mBACI/kC,EAAMyb,cAAcP,WAAW6pB,mBAEnCsG,yBACIrrC,EAAMyb,cAAcP,WAAWmwB,yBAEnC5G,sBACIzkC,EAAMyb,cAAcP,WAAWupB,sBAEnCK,qBACI9kC,EAAMyb,cAAcP,WAAW4pB,qBAEnCwG,2BACItrC,EAAMyb,cAAcP,WAAWowB,2BAEnC5+B,KAAM1M,EAAMyb,cAAcP,WAAWxO,KACrCo/B,YAAY,EACZvL,qBAAsBvgC,EAAMyb,cAAcP,WAAWmmB,QACrDmK,WAAYA,IAEX+D,KExFAG,GAAmB,SAC5Bnf,EACAof,EACA3vC,GAEA,KAAOuwB,EAAI0Y,WAAW3qC,OAAS,GAC3BiyB,EAAIqf,gBAAgBrf,EAAI0Y,WAAW,GAAGp8B,MAC1C,GAAI7M,EAAMyb,cAAcla,MAAO,CAC3B,IAAMA,EAAQvB,EAAMyb,cAAcla,MAAMwsB,QAEpC,kBACA,SAAAgM,GACI,IAAM8V,EAAwBC,YAAyB/V,GACvD,OAAO8V,GACD7vC,EAAMmvC,kBAAkBU,IACxB,KAGdtf,EAAItJ,aAAa,QAAS1lB,GAG9B,IAAK,IAAIosC,KAAagC,EAAmB,CACrC,IAAM5oB,EAAO4mB,EAAUp+B,cACvB,OAAQwX,GACJ,IAAK,QAEL,IAAK,GACD,MACJ,QACIwJ,EAAItJ,aAAaF,EAAM4oB,EAAkB5oB,OC3B1CgpB,GAAA,SAAC/vC,GACZ,IAAM8U,EAAS,GACf,IAAK,IAAI64B,KAAa3tC,EAAMyb,cAAcP,WAAY,CAClD,IAAM20B,EAAwBC,YAC1B9vC,EAAMyb,cAAcP,WAAWyyB,IAqBnC,GAnBA74B,EAAO64B,GAAakC,EACd7vC,EAAMmvC,kBAAkBU,GACxB7vC,EAAMyb,cAAcP,WAAWyyB,GACjC74B,EAAO64B,KACP74B,EAAO64B,GAAaljC,KAAKC,MACrBD,KAAKK,UAAUgK,EAAO64B,IAAY5f,QAE9B,oBACA,SAAAgM,GACI,IAAM8V,EAAwBC,YAC1B/V,GAEJ,OAAO8V,GACD7vC,EAAMmvC,kBAAkBU,IAExB,OAIJ,QAAdlC,EAAqB,CACrB,IAAI5hB,EAAMjX,EAAO64B,IAAc,GACzB94B,EAAOkX,EAAIwO,MAAM,KACvB,GAAI1lB,EAAKvW,OAAS,GACE,aAAZuW,EAAK,GAAmB,CACxBA,EAAKm7B,QACL,IAAI/vC,OAAK,EAAEkN,OAAM,EACjB,GAAI0H,EAAKvW,OAAS,EAAG,CACjB,IAAM2xC,EAAQp7B,EAAKA,EAAKvW,OAAS,GAC3B4xC,EAASD,EAAMzgC,QAAQ,KACvB2gC,EAASF,EAAMzgC,QAAQ,KACzB0gC,GAAU,GAAKC,GAAU,EACrBD,EAASC,GACTlwC,EAAQgwC,EAAMzlB,OAAO0lB,EAAS,EAAGC,EAAS,GAC1ChjC,EAAS8iC,EAAMzlB,OAAO2lB,EAAS,KAE/BhjC,EAAS8iC,EAAMzlB,OAAO2lB,EAAS,EAAGD,EAAS,GAC3CjwC,EAAQgwC,EAAMzlB,OAAO0lB,EAAS,KAG9BA,GAAU,IAAGjwC,EAAQgwC,EAAMzlB,OAAO0lB,EAAS,IAC3CC,GAAU,IAAGhjC,EAAS8iC,EAAMzlB,OAAO2lB,EAAS,KAItClwC,EAAdmwC,MAAMnwC,GAAgB,KACbowC,SAASpwC,GACHkN,EAAfijC,MAAMjjC,GAAkB,KACdkjC,SAASljC,IAEnBlN,GAASkN,IACT0H,EAAKy7B,MAGT,IAAM9jB,EAAe/hB,KAAKK,UAAU,CAChC2hB,OlClEF,WkCmEE3c,IAAK+E,EAAK9L,KAAK,KACfkjB,MAAO,CACH/f,OAAQ,CACJjM,MAAOA,GAAS,GAChBkN,OAAQA,GAAU,KAClB+e,IAAK,QACLhc,WAAY,CAAEic,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,MAAO,IAE3CC,SAAU,SAIlBR,EAAG,GAAAprB,OlC9EM,yCkC8EN,KAAAA,OAAuB+rB,KAAKF,IAC/B1X,EAAO64B,GAAa5hB,IAKpC,MAAO,CACH4jB,kBAAkBtnC,OAAAohB,EAAA,EAAAphB,CAAA,GAAMrI,EAAMmvC,kBAAsBr6B,GACpDy7B,qBAAsBz7B,ICrFjBqV,GAAW,SAACxf,EAA0B3K,GAC/C2K,EAAE0W,kBAMqB,SAAnBrhB,EAAM2W,SACN3W,EAAMmqB,SAEFnqB,EAAMwwC,aAAexwC,EAAMgV,QAAQjN,GAEnC,QACA,GAEsB,WAAnB/H,EAAM2W,UACT3W,EAAMqf,eACNrf,EAAMstB,eAAettB,EAAMqf,aAAc,UACzCrf,EAAMmqB,SAASnqB,EAAMgV,QAAQjN,GAAI,UAAU,KAK1CqiB,GAAa,SAACzf,EAA0B3K,GAC7CA,EAAM2W,WACNhM,EAAE0W,kBACFrhB,EAAMoqB,eAIDL,GAAY,SAACpf,EAA0B3K,GACzB,SAAnBA,EAAM2W,UACNhM,EAAE0W,kBACFrhB,EAAM+pB,UACF/pB,EAAM2W,SACN3W,EAAMwwC,aAAexwC,EAAMgV,QAAQjN,KAEb,WAAnB/H,EAAM2W,WACbhM,EAAE0W,kBACErhB,EAAMqf,eACNrf,EAAMstB,eAAettB,EAAMqf,aAAc,UAEzCrf,EAAM+pB,UACF/pB,EAAM2W,SACN3W,EAAMgV,QAAQjN,MAI1B/H,EAAMwoB,kBClDGioB,GAAY,CACrB,OACA,OACA,KACA,MACA,QACA,KACA,MACA,QACA,SACA,OACA,OACA,QACA,SACA,QACA,OAGSC,GAAW,CACpB,OACA,QACA,OACA,OACA,QACA,SACA,WACA,kDC8REC,GAAiBztC,YAhCC,SAACC,EAAOnD,GAC5B,IAEIyb,EAFEm1B,EAAiB5wC,EAAMqf,cAAgBrf,EAAM4L,gBASnD,OANIglC,IACAn1B,EAAgBzF,YACZ46B,EACAztC,EAAM8S,kBACR6T,OAAO9pB,EAAMgV,QAAQjN,KAEpB,CACH4O,SAAUxT,EAAMwT,SAChB8E,gBACA7F,iBAAkBzS,EAAM/E,GAAGwX,mBAIR,SAAA5X,GACvB,MAAO,CACH6yC,uBAAwB,SAACh8B,EAAMi8B,GAAP,OACpB9yC,EAAS2J,IAA+BkN,EAAMi8B,KAClD3mB,SAAU,SAACpiB,EAAI2E,EAAMkK,GAAX,OACN5Y,EAAS2J,IAAiBI,EAAI2E,EAAMkK,KACxCwT,WAAY,kBAAMpsB,EAAS2J,QAC3BoiB,UAAW,SAAChiB,EAAI6D,GAAL,OACP5N,EAAS2J,IAAkBI,EAAI6D,KACnC4c,eAAgB,SAAA9gB,GAAK,OAAI1J,EAAS2J,IAAuBD,KACzD4lB,eAAgB,SAACvlB,EAAIC,EAAM5J,GAAX,OACZJ,EAAS2J,IAAuBI,EAAIC,EAAM5J,OAI/B8E,CAKnB0E,eA9QoB,SAAC5H,GACrB,IAAM+wC,EAAa7iC,iBAAO,MAoB1B,GAlBAzF,oBAAU,WACN,IAAM8nB,EAAMwgB,EAAW1hC,QACvB,GAAIkhB,GAAOggB,EACP,GAAY,WAAR9G,EAAkB,CAElB,IAAMuH,EAAYhxC,EAAM6d,SAASxd,cAAcopC,GAC/CuH,EAAUzmB,YAAcgG,EAAIhG,YAC5BmlB,GAAiBsB,EAAWT,EAAsBvwC,GAClDuwB,EAAIqV,WAAWva,YAAY2lB,QAK3BtB,GAAiBnf,EAAKggB,EAAsBvwC,MAKnDA,EAAMyb,cACP,OAAO,KAtB2B,IAAAw1B,EAyBclB,GAAiB/vC,GAA7D2vC,EAzB8BsB,EAyB9BtB,kBAAmBY,EAzBWU,EAyBXV,qBAErBW,EAAW,GAAAvwC,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CAAOrI,EAAMgV,QAAQH,MAArB,CAA2B7U,EAAMgV,QAAQjN,KAEtD0hC,EAAMzpC,EAAMgV,QAAQ6D,KAAO,MAI/B,GAFA4wB,EAAMA,EAAInrC,OAAS,EAAImrC,EAAM,MAEzBzpC,EAAMgV,QAAQoD,WACd,OAAO,KACJ,GAAIpY,EAAMgV,QAAQgE,WAAY,CACjC,IAAMm4B,EAAsBnxC,EAAMoxC,kBAAkBxyC,KAChD,SAAAyyC,GAAO,OACHA,EAAQj5B,aAAepY,EAAMgV,QAAQjN,IACrCspC,EAAQjyB,YAAcpf,EAAMqf,eAGpC,GAAI8xB,EAAqB,CACrB,IAAMnjB,EAAehuB,EAAMoxC,kBAAkBz+B,OAAO,SAAA0+B,GAAO,OACvDA,EAAQx8B,KAAK3V,SAASiyC,EAAoBppC,MAG9C,OAAOimB,EACFrb,OAAO,SAAA0+B,GACJ,OAAIA,EAAQx8B,KAAKvW,OAAS,GAElB+yC,EAAQx8B,KAAKw8B,EAAQx8B,KAAKvW,OAAS,KACnC6yC,EAAoBppC,KAM/BiP,IAAI,SAAAnY,GAAI,OACL2qB,EAAAppB,EAAAC,cAACswC,GAAD,CACI7gC,IAAKjR,EAAKkJ,GACVmO,UAAW8X,EACXhZ,QAASnW,EACTgf,SAAU7d,EAAM6d,SAChByzB,iBAAkBtxC,EAAMsxC,iBACxBjyB,aAAc8xB,EAAoB9xB,aAClCmxB,YAAaxwC,EAAMwwC,YACnBrB,kBAAmBnvC,EAAMmvC,kBACzBiC,kBAAmBpxC,EAAMoxC,kBACzBxlC,gBAAiB/M,EAAK0yC,aACtBC,OAAQxxC,EAAMwxC,WAI9B,OAAO,KACJ,GAAIxxC,EAAMgV,QAAQ2D,yBAA0B,CAC/C,IAAMk3B,EAAwB7vC,EAAMgV,QAAQ6D,IAExC44B,EAAY,GAOhB,OANI5B,GACI7vC,EAAMmvC,kBAAkBU,KACxB4B,EAAYzxC,EAAMmvC,kBAAkBU,IAIrCnlC,KACHgnC,KAASD,EAAW,CAChBE,aAAa,EACbC,mBAAmB,KAGxB,GAAIh5B,YAAe6wB,EAAI3wB,OAAO,IAAK,CACtC,IAAM+4B,EAAS7xC,EAAM4V,iBAAiBhX,KAAK,SAAAC,GAAI,OAAIA,EAAKgO,OAAS48B,IACjE,GAAIoI,EAAQ,CACR,IAAMT,EAAiB,GAAAzwC,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CAChBrI,EAAMkW,UACJvD,OAAO,SAAA0+B,GAAO,OAAIA,EAAQx8B,KAAK3V,SAASc,EAAMgV,QAAQjN,MACtDiP,IAAI,SAAAq6B,GAAO,OAAAhpC,OAAAohB,EAAA,EAAAphB,CAAA,GACLgpC,EADK,CAERE,aAAcvxC,EAAM4L,qBALTvD,OAAAwqB,EAAA,EAAAxqB,CAOfrI,EAAMoxC,kBAAoBpxC,EAAMoxC,kBAAoB,KAE5D,OACIpxC,EAAMsxC,iBAAiB1yC,KAAK,SAAAC,GAAI,OAAIA,EAAKgzC,SAAWA,EAAO9pC,KAEpD,KAGPyhB,EAAAppB,EAAAC,cAACyxC,GAAD,CACIl8B,iBAAkB5V,EAAM4V,iBACxBi8B,OAAQA,EACRh5B,IAAK4wB,EACL5rB,SAAU7d,EAAM6d,SAChB2yB,YAAaxwC,EAAMwwC,aAAexwC,EAAMgV,QAAQjN,GAChDupC,iBAAgB,GAAA3wC,OAAA0H,OAAAwqB,EAAA,EAAAxqB,CACTrI,EAAMsxC,kBADG,CAEZ,CACIvpC,GAAI/H,EAAMgV,QAAQjN,GAClB8pC,OAAQA,EAAO9pC,MAGvBonC,kBAAmBQ,EACnByB,kBAAmBA,EACnBxlC,gBAAiBimC,EAAO9pC,GACxBypC,OAAQxxC,EAAMwxC,SAI1B,OAAO,KACJ,OAAKxxC,EAAMwxC,QAAUd,GAASxxC,SAASuqC,GAC9B,iBAARA,EAEIjgB,EAAAppB,EAAAC,cAAA,OAEIwI,IAAKkoC,EACLrR,aAAc,SAAA/0B,GAAC,OAAIwf,GAASxf,EAAG3K,IAC/B+xC,YAAa,SAAApnC,GAAC,OAAIwf,GAASxf,EAAG3K,IAC9B6/B,aAAc,SAAAl1B,GAAC,OAAIyf,GAAWzf,EAAG3K,IACjCqB,YAAa,SAAAsJ,GAAC,OAAIof,GAAUpf,EAAG3K,KAE/BwpB,EAAAppB,EAAAC,cAAC2xC,GAAD,CACIh9B,QAAShV,EAAMgV,QACfyG,cAAezb,EAAMyb,cACrBoC,SAAU7d,EAAM6d,SAChBsxB,kBAAmBnvC,EAAMmvC,kBACzBiC,kBAAmBpxC,EAAMoxC,qBAItB,eAAR3H,EACA/+B,KACHgnC,KAAS1xC,EAAMyb,cAAc8O,YAAa,CACtConB,aAAa,EACbC,mBAAmB,KAGpB5xC,EAAMgV,QAAQ0D,KACjB1Y,EAAMyb,cAAc8O,YACbvqB,EAAMyb,cAAc8O,YAAYwD,QAEnC,oBACA,SAAAgM,GACI,IAAM8V,EAAwBC,YAC1B/V,GAEJ,OAAO8V,GACD7vC,EAAMmvC,kBAAkBU,IAExB,KAIP7vC,EAAMwxC,OAAS,GAAK,KAGxBf,GAAUvxC,SAASuqC,GACtBjgB,EAAAppB,EAAAC,cAACopC,EAADphC,OAAAuI,OAAA,CACI/H,IAAKkoC,EACLrR,aAAc,SAAA/0B,GAAC,OAAIwf,GAASxf,EAAG3K,IAC/B+xC,YAAa,SAAApnC,GAAC,OAAIwf,GAASxf,EAAG3K,IAC9B6/B,aAAc,SAAAl1B,GAAC,OAAIyf,GAAWzf,EAAG3K,IACjCqB,YAAa,SAAAsJ,GAAC,OAAIof,GAAUpf,EAAG3K,KAC3BmV,IAAKnV,EAAMwxC,OAASjB,EAAuB,GAAI,CAC/C,QACA,UAIR/mB,EAAAppB,EAAAC,cAACopC,EAADphC,OAAAuI,OAAA,CACI/H,IAAKkoC,EACLrR,aAAc,SAAA/0B,GAAC,OAAIwf,GAASxf,EAAG3K,IAC/B+xC,YAAa,SAAApnC,GAAC,OAAIwf,GAASxf,EAAG3K,IAC9B6/B,aAAc,SAAAl1B,GAAC,OAAIyf,GAAWzf,EAAG3K,IACjCqB,YAAa,SAAAsJ,GAAC,OAAIof,GAAUpf,EAAG3K,KAC3BmV,IAAKnV,EAAMwxC,OAASjB,EAAuB,GAAI,CAC/C,QACA,SAGK,SAAR9G,EACKzpC,EAAMkW,UACDvD,OAAO,SAAA9T,GAAI,OAAIgZ,IAAQhZ,EAAKgW,KAAMq8B,KAClCl6B,IAAI,SAAAnY,GAAI,OACL2qB,EAAAppB,EAAAC,cAACswC,GAAD,CACI7gC,IAAKjR,EAAKkJ,GACVmO,UAAWlW,EAAMkW,UAAUvD,OACvB,SAAA0+B,GAAO,OACHA,EAAQx8B,KAAK3V,SAASL,EAAKkJ,MAEnCiN,QAASnW,EACTgf,SAAU7d,EAAM6d,SAChByzB,iBAAkBtxC,EAAMsxC,iBACxBjyB,aAAcrf,EAAMqf,aACpBmxB,YAAaxwC,EAAMwwC,YACnBrB,kBACInvC,EAAMmvC,kBAEViC,kBACIpxC,EAAMoxC,kBAEVxlC,gBAAiB5L,EAAM4L,oBAGnC,MAKX,MA2CP,SAAC3C,EAAWC,GAAZ,OAA0B2O,IAAQ5O,EAAWC,MAUtCynC,MA4CTmB,GAAgB5uC,YAVQ,SAACC,EAAOnD,GAClC,IAAM6xC,EAAS77B,YACXhW,EAAM6xC,OAAO9pC,GACb5E,EAAM8S,kBAEV,MAAO,CACHg8B,gBAAiBJ,EAASA,EAAO37B,UAAY,KAI/BhT,CA1CG,SAAAlD,GACrB,OAAKA,EAAM6xC,OAAOnkB,QAAU1tB,EAAMiyC,gBAGvBjyC,EAAMiyC,gBACRt/B,OAAO,SAAA0+B,GAAO,OACXx5B,IAAQw5B,EAAQx8B,KAAM,CAClB7U,EAAMiyC,gBAAgBt/B,OAClB,SAAA9T,GAAI,OAAyB,IAArBA,EAAKgW,KAAKvW,SACpB,GAAGyJ,OAGZiP,IAAI,SAAAq6B,GAAO,OACR7nB,EAAAppB,EAAAC,cAACswC,GAAD,CACI7gC,IAAKuhC,EAAQtpC,GACbmO,UAAWlW,EAAMiyC,gBACjBj9B,QAASq8B,EACTxzB,SAAU7d,EAAM6d,SAChBwB,aAAcrf,EAAM6xC,OAAO9pC,GAC3ByoC,YAAaxwC,EAAMwwC,YACnBc,iBAAkBtxC,EAAMsxC,iBACxBnC,kBAAmBnvC,EAAMmvC,kBACzBiC,kBAAmBpxC,EAAMoxC,kBACzBxlC,gBAAiB5L,EAAM4L,gBACvB4lC,OAAQxxC,EAAMwxC,WAKvB,2BC7QItuC,eATS,SAAAC,GACpB,MAAO,CACHuT,kBAAmB,IACnBw7B,mBAAoB/uC,EAAM+uC,mBAC1BC,UAAWhvC,EAAMgvC,UACjB1nB,cAAetnB,EAAMsnB,gBAIdvnB,CA9Ea,SAAClD,GACzB,IAAMoyC,EAAWv0B,SAASgxB,eACtB,gBAGJ,IAAKuD,EAAQ,OAAO,KACpB,IAAMC,EAAUD,EAAOE,cAAcC,YAC/BC,EAAUJ,EAAOE,cAAcG,YAE/B39B,EAAS,GACT49B,EAAU,GACVC,EAAgB,SAAhBA,EAAgBC,GAClB,GAAKC,KAAQD,EAAOriC,UAKhBuE,EAAOG,KACHuU,EAAAppB,EAAAC,cAAA,OACIyP,IAAKgF,EAAOxW,OACZiD,MAAO,CACH2O,WAAY,OACZqR,QAAS,KACTnf,SAAU,QACVY,KAAM4vC,EAAO5vC,KAAOwvC,EAAU,KAC9B5vC,IAAKgwC,EAAOhwC,IAAMyvC,EAAU,KAC5BpyC,MAAO2yC,EAAO3yC,MAAQ,KACtBkN,OAAQylC,EAAOzlC,OAAS,KACxB2lC,cAAe,OACf7iC,OAAQ,aACRE,OAAQ,OACR6D,OAAQ,MACRE,QAAS,MACT6+B,aAAc,MACdC,UAAW,OACXC,gBAAiB,gBAtB7B,IAAK,IAAMp0C,KAAQ+zC,EAAOriC,SACtBoiC,EAAcC,EAAOriC,SAAS1R,KAoD1C,OAZImB,EAAM0W,mBACkB,SAApB1W,EAAMmyC,UACFnyC,EAAMkyC,mBAAmBlyC,EAAM0W,mBAC/Bi8B,EAAc3yC,EAAMkyC,mBAAmBlyC,EAAM0W,mBAEtB,WAApB1W,EAAMmyC,YAlBD,SAAde,EAAc3iC,GAChB,IAAK,IAAM1R,KAAQ0R,EACf,GAAIA,EAAS1R,GAAMgzC,SAAW7xC,EAAMyqB,cAChC,IAAK,IAAM0oB,KAAa5iC,EAAS1R,GAAM0R,SAC/B4iC,IAAcnzC,EAAM0W,kBACpBg8B,EAAQz9B,KAAK1E,EAAS1R,GAAM0R,SAAS4iC,SAI7CD,EAAY3iC,EAAS1R,GAAM0R,UAU/B2iC,CAAYlzC,EAAMkyC,oBAClBQ,EAAQ1zC,QAAQ,SAAAgW,GACZ29B,EAAc39B,OAInBF,kCCjEI5R,eANS,SAAAC,GACpB,MAAO,CACHitB,eAAgBjtB,EAAMitB,iBAIfltB,CAVC,SAAAlD,GACZ,OAAOA,EAAMowB,eAAiB5G,EAAAppB,EAAAC,cAAA,OAAKK,UAAWG,aAAsB,OCyClEuyC,iNACFjwC,MAAQ,CACJkwC,UAAW,MAMf7sB,KAAO,0FAEetd,GAClB,OAAQO,KAAKzJ,MAAMowB,iBAAmBlnB,EAAUknB,iEAG1BkjB,GAAiB,IAAAxnC,EAAArC,KACjC8pC,EAAmB,SACrBC,EACAC,EACAC,GAEA,GAAIF,GAAsBC,EAAwB,CAC9C,IAAMzlB,ECjEP,SACX3X,EACAo9B,GAEA,GAAKp9B,GAA2Bo9B,GAEVp9B,GAGIo9B,EAI1B,OAJ0BA,EAKrB9gC,OAAO,SAAA9T,GACJ,OAAIA,EAAKgW,KAAKvW,OAAS,GACE,eAAjBO,EAAKgW,KAAK,KAGrBmC,IAAI,SAACnY,EAAMkiB,GAAP,OAAA1Y,OAAAohB,EAAA,EAAAphB,CAAA,GACExJ,EADF,CAEDgW,KAAMhW,EAAKgW,KAAK8d,MAAM,OD4CGghB,CACjBH,EACAC,GAEJ,IACK57B,IACGmW,EAAahX,IAAI,SAAAnY,GAAI,OACjBsW,IAAKtW,EAAM,CACP,WACA,WACA,WACA,gBAGR20C,EAAmBx8B,IAAI,SAAAnY,GAAI,OACvBsW,IAAKtW,EAAM,CACP,WACA,WACA,WACA,iBAUZ,YALAiN,EAAK9L,MAAM4zC,iCACP,OACA5lB,EACA0lB,GAKZ,OAAO,GAEX,GAAIJ,EAAS54B,eAAgB,CACzB,IACK64B,EACGD,EAASO,wCACTP,EAASQ,0CACT,GAGJ,OAEJ,GACIR,EAASS,2BACTT,EAASU,2BACX,CACE,IACKT,EACGD,EAASS,0BACTT,EAASU,4BAGb,OAEJ,IAAMC,EAAUX,EAASU,2BACpBrhC,OAAO,SAAA0+B,GAAO,OACXx5B,IAAQw5B,EAAQx8B,KAAM,CAAC,aAAc,gBAExCmC,IAAI,SAAAq6B,GACD,OACI7nB,EAAAppB,EAAAC,cAAC6zC,GAAD,CACIpkC,IAAKuhC,EAAQtpC,GACbmO,UAAWo9B,EAASU,2BACpBh/B,QAASq8B,EACT36B,iBAAkB48B,EAAS58B,iBAC3BmH,SAAUA,SACVyzB,iBAAkB,GAClBnC,kBAAmBmE,EAAS3D,kBAC5B6B,QAAM,EACN5lC,gBAAiB0nC,EAASa,mBAKpCC,EACFC,0BACI7qB,EAAAppB,EAAAC,cAACi0C,EAAA,EAAD,CAAUjW,MAAOA,UAAQ4V,KACxB,IAELG,IAAkB3qC,KAAKtG,MAAMkwC,WAC7BC,EAASiB,iBAET9qC,KAAKzJ,MAAMw0C,gBAAe,GAC1B/qC,KAAKzJ,MAAMyoB,uBACXhf,KAAKK,SAAS,CAAEupC,UAAWe,wCAOvC,IAAIK,EAAQ,KAEZ,GACIhrC,KAAKzJ,MAAMg0C,4BACXvqC,KAAKzJ,MAAM+zC,0BACb,KACU/zC,EAAUyJ,KAAVzJ,MACF00C,EAAO10C,EAAM00C,KAAO,IACpB5D,EAAO,IAAM4D,EAAO,IACpBx+B,EAAYlW,EAAMg0C,2BAElBhtB,EAAY1K,IAAUtc,EAAM20C,WAAWz5B,YACvC05B,EAAY50C,EAAM20C,WAAWpzC,MAC/BqzC,IAAW5tB,EAAUzlB,MAAQqzC,GAEjC,IAAMxtB,EAAY9K,IAAUtc,EAAM60C,WAAW35B,YACvC45B,EAAY90C,EAAM60C,WAAWtzC,MAC/BuzC,IAAW1tB,EAAU7lB,MAAQuzC,GAEjCL,EAAQhrC,KAAKzJ,MAAM+0C,aACfvrB,EAAAppB,EAAAC,cAAC20C,GAAD,MAEAxrB,EAAAppB,EAAAC,cAAAmpB,EAAAppB,EAAAE,SAAA,KACIkpB,EAAAppB,EAAAC,cAAC40C,GAAA70C,EAAD,CACI2H,GAAG,eACH+H,IAAK,EACLvO,MAAO,CACHtB,MAAO6wC,EACP3jC,OAAQ2jC,EACRoE,OAAQR,EACRS,aAAY,SAAAx0C,OAAW+zC,EAAX,KACZU,mBAAoB,MACpBC,WAAU,SAAA10C,OAAW+zC,EAAX,KACVY,iBAAkB,MAClBC,gBAAe,SAAA50C,OAAW+zC,EAAX,KACfc,sBAAuB,MACvBrlC,OAAQ,OACR6D,OAAQ,IACRE,QAAS,IACT9R,SAAU,YAEd4kB,UAAWA,EACXI,UAAWA,EACXP,eACI4uB,gndAAwBhsC,KAAKtG,MAAMkwC,WAKvC7pB,EAAAppB,EAAAC,cAAC4jB,GAAA,qBAAD,KACK,SAAA3L,GAA0B,IAAvBuF,EAAuBvF,EAAvBuF,SAAuBvF,EAAbpY,OACV,OAAOgW,EACDA,EACKvD,OAAO,SAAA0+B,GAAO,OACXx5B,IAAQw5B,EAAQx8B,KAAM,CAClB,aACA,gBAGPmC,IAAI,SAAAq6B,GAAO,OACR7nB,EAAAppB,EAAAC,cAAC6zC,GAAD,CACIpkC,IAAKuhC,EAAQtpC,GACbmO,UAAWA,EACXlB,QAASq8B,EACT36B,iBACI1W,EAAM0W,iBAEVmH,SAAUA,EACVyzB,iBAAkB,GAClBnC,kBACInvC,EAAM2vC,kBAEV/jC,gBACI5L,EAAMm0C,mBAItB,OAGd3qB,EAAAppB,EAAAC,cAACq1C,GAAD,QAMhB,OACIlsB,EAAAppB,EAAAC,cAAA,QACII,cAAY,wBACZC,UAAWG,YAEV4zC,EACDjrB,EAAAppB,EAAAC,cAACs1C,GAAD,cA9MUhoC,aAoNpBioC,GAAkB,SAAAzyC,GACpB,IAAMwsC,ENxK6B,SAAAvxC,GACnC,IAAMy3C,EAAS,SAACriB,EAAkBF,GAC9B,IAAMxe,EAAS,GA+Bf,OA9BIwe,GAAqBE,GACrBF,EAAkBpd,UAAUlX,QAAQ,SAAAH,GAChC,GAAIA,EAAKgW,KAAKvW,OAAS,GACE,eAAjBO,EAAKgW,KAAK,GAAqB,CAC/B,IAAMihC,EACFtiB,EAAiB1J,OAAOjrB,EAAKkJ,IAE3BguC,EAAaziB,EAAkBxJ,OAAOjrB,EAAKkJ,IAC7CguC,EAAW3jB,wBACwB,cAA/B2jB,EAAW5jB,gBACXrd,EACIihC,EAAW3jB,uBACX0jB,GACEA,EAAiBt6B,WACbs6B,EAAiBt6B,UAAUld,OAAS,EAChCw3C,EAAiBt6B,UAGzBu6B,EAAWC,iBAEjBlhC,EACIihC,EAAW3jB,uBACX0jB,GACEA,EAAiBpuC,OAEjBquC,EAAWxjB,4BAKlCzd,GAELmhC,EAAwBJ,EAC1Bz3C,EAAG83C,oBACH93C,EAAG+3C,sBAEDC,EAA0BP,EAC5Bz3C,EAAGi4C,wBACHj4C,EAAGk4C,6BAEP,OAAOjuC,OAAAohB,EAAA,EAAAphB,CAAA,GAAK+tC,EAA4BH,GM6HdM,CAAwBpzC,EAAM/E,IAEpDo4C,EAAgB,CAChBt7B,WAAY,GACZ3Z,MAAO,IAGPk1C,EAAgB,CAChBv7B,WAAY,GACZ3Z,MAAO,IAGP4B,EAAM/E,GAAG+3C,uBACTK,EAAgBrzC,EAAM/E,GAAG+3C,qBAAqBrsB,OAAO4sB,UACrDD,EAAgBtzC,EAAM/E,GAAG+3C,qBAAqBrsB,OAAO6sB,YAGzD,IAAMhC,EAAa,CACfz5B,WAAY60B,GAAiB,CACzBZ,kBAAmBQ,EACnBl0B,cAAe+6B,IAEnBj1C,MAAOi1C,EAAcj1C,OAGnBszC,EAAa,CACf35B,WAAY60B,GAAiB,CACzBZ,kBAAmBQ,EACnBl0B,cAAeg7B,IAEnBl1C,MAAOk1C,EAAcl1C,OAGzB,MAAO,CACHmzC,KAAMvxC,EAAMyzC,SACZ7B,aAAc5xC,EAAM4xC,aACpBR,cAAepxC,EAAMoxC,cACrB75B,eAAgBvX,EAAM/E,GAAGsc,eACzBq5B,0BAA2B5wC,EAAM/E,GAAG83C,oBAC9B/yC,EAAM/E,GAAG83C,oBAAoBhgC,UAC7B,KACN89B,2BAA4B7wC,EAAM/E,GAAG+3C,qBAC/BhzC,EAAM/E,GAAG+3C,qBAAqBjgC,UAC9B,KACN29B,wCAAyC1wC,EAAM/E,GAC1Ci4C,wBACClzC,EAAM/E,GAAGi4C,wBAAwBngC,UACjC,KACN49B,yCAA0C3wC,EAAM/E,GAC3Ck4C,4BACCnzC,EAAM/E,GAAGk4C,4BAA4BpgC,UACrC,KACNy5B,oBACAgF,aACAE,aACAV,eAAgBhxC,EAAM/E,GAAGy4C,kBACzBzmB,eAAgBjtB,EAAMitB,iBAIxB0mB,GAAqB,SAAA94C,GACvB,MAAO,CACHw2C,eAAgB,SAAAuC,GAAU,OACtB/4C,EAAS2J,IAAuBovC,KACpClG,uBAAwB,SAAC9oC,EAAI+oC,GAAL,OACpB9yC,EAAS2J,IAA+BI,EAAI+oC,KAChDroB,qBAAsB,SAAA/gB,GAAK,OACvB1J,EAAS2J,IAA6BD,KAC1CmP,sBAAuB,SAAC7O,EAAMkO,GAAP,OACnBlY,EAAS2J,IAA8BK,EAAMkO,KACjD09B,iCAAkC,SAAC5rC,EAAMkO,EAAWw9B,GAAlB,OAC9B11C,EACI2J,IACIK,EACAkO,EACAw9B,OAMdsB,GAAc9xC,YAChB0yC,GACAkB,GAFgB5zC,CAGlB,SAAAlD,GACE,IAAMg3C,EAAO9oC,iBAAO,MAMpB,OALAzF,oBAAU,WACFuuC,EAAK3nC,SACLrP,EAAMw0C,gBAAe,KAGtBhrB,EAAAppB,EAAAC,cAAA,QAAMwI,IAAKmuC,EAAMz1C,MAAO,CAAEkvB,QAAS,YAE/BvtB,eACX0yC,GACAkB,GAFW5zC,CAGbkwC,yEEvRI6D,IA9BS/zC,sBANS,SAAAC,GACpB,MAAO,CACH+zC,WAAY/zC,EAAM/E,GAAG84C,aAIdh0C,CA9BW,SAAClD,GACvB,OACIwpB,EAAAppB,EAAAC,cAAC82C,GAAA,EAAD,CAAaC,QAASC,KAAc9qC,QAAS+qC,MACxCt3C,EAAMk3C,WACH1tB,EAAAppB,EAAAC,cAAA,OACIkB,MAAO,CACHmvB,cAAe,SACfD,QAAS,OACT8mB,SAAU,SACVpqC,OAAQ,SAGZqc,EAAAppB,EAAAC,cAACm3C,GAAD,MACAhuB,EAAAppB,EAAAC,cAACo3C,GAAD,OAGJ,aAEJjuB,EAAAppB,EAAAC,cAACq3C,GAAA,EAAD,MACAluB,EAAAppB,EAAAC,cAAC42C,GAAD,SAyCQ/zC,YAChB,KAP6B,SAAAlF,GAC7B,MAAO,CACH44B,cAAe,SAAAC,GAAS,OAAI74B,EAAS2J,IAAsBkvB,OAI/C3zB,CAGlB0E,eA/BqB,SAAA5H,GAAS,IAAA23C,EACIC,aAAa,SAAAC,GAAO,MAAK,CACrDh5C,KAAMg5C,EAAQ15C,UACd25C,cAAeD,EAAQE,oCAFnBl5C,EADoB84C,EACpB94C,KAAMi5C,EADcH,EACdG,cAIRE,EAAgBC,sBAClBC,KAAS,SAAArhB,GAAS,OAAI72B,EAAM42B,cAAcC,IAAY,IACtD,IAEJ,GAAIh4B,GACkB,aAAdA,EAAKmJ,KAAqB,CAC1B,IAAMN,EACU,WAAZ7I,EAAKkJ,GACClJ,EAAKoJ,WAAa6vC,EAAcK,EAChCt5C,EAAKoJ,WAAa6vC,EAAcM,EAE1CJ,EAAc,CAAEloC,IAAKjR,EAAKkJ,GAAIL,UAGtC,OAAO8hB,EAAAppB,EAAAC,cAAA,aAYY,kBAAM","file":"static/js/4.61ad7e8f.chunk.js","sourcesContent":["import type { requiredRightsType } from '../store/reducer/reducer'\n\nexport default (requiredRights?: requiredRightsType, noShowAlert?: boolean) => (\n    dispatch,\n    getState\n) => {\n    if (sessionStorage.getItem('tryWebsiter')) return true\n    const { mD } = getState()\n\n    if (requiredRights && !mD.tryWebsiter) {\n        if (requiredRights.length === 0) return true\n        let website = mD.currentWebsiteObject\n        if (!website) {\n            if (!noShowAlert) alert('No website.')\n            return false\n        }\n        const account = website.sharing.find(item => item.userId === mD.userId)\n        if (!account) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n        let allow = false\n        requiredRights.forEach(item => {\n            if (account.rights.includes(item)) allow = true\n        })\n        if (!allow) {\n            if (!noShowAlert) alert('You do not have rights for this action')\n            return false\n        }\n    }\n    return true\n}\n","import React  from 'react'\nimport ReactTooltip from 'react-tooltip'\nimport { connect } from 'react-redux'\n\nimport classes from './SmallButton.module.css'\nimport Svg from '../../../Svg/Svg'\nimport checkUserRights from '../../../../utils/checkUserRights'\n\ntype Props = {\n    title?: string,\n    buttonClicked?: Function,\n    mouseDown?: Function,\n    icon?: string,\n    inline?: boolean,\n    tooltip?: string,\n    disabled?: boolean,\n    requiredRights?: Array<string>,\n}\n\nexport const SmallButton = (props: Props) => {\n    const width = window.innerWidth\n    const handleButtonClick = () => {\n        if (props.buttonClicked) {\n            if (props.requiredRights)\n                if (!props.checkUserRights(props.requiredRights || [])) {\n                    return\n                }\n            if (props.buttonClicked) props.buttonClicked()\n        }\n    }\n    return (\n        <>\n            <button\n                data-tip={props.tooltip}\n                data-testid=\"MyButton\"\n                className={`${\n                    props.disabled ? classes.ButtonDisabled : classes.Button\n                } ${props.inline ? classes.Inline : ''}`}\n                onClick={handleButtonClick}\n                onMouseDown={props.mouseDown}\n                disabled={props.disabled}\n                style={props.style}\n            >\n                <table className={classes.Table}>\n                    <tbody>\n                        <tr>\n                            <td className={classes.Cell}>\n                                {props.icon ? (\n                                    <Svg\n                                        icon={props.icon}\n                                        className={classes.Svg}\n                                    />\n                                ) : null}\n                            </td>\n                            <td className={classes.Cell}>{props.title}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </button>\n            {!props.tooltipsOff && props.tooltip ? (\n                <ReactTooltip\n                    effect=\"solid\"\n                    multiline={true}\n                    place=\"top\"\n                    className={classes.Tooltip}\n                    delayShow={250}\n                    overridePosition={(\n                        position,\n                        currentEvent,\n                        currentTarget,\n                        node,\n                        place,\n                        desiredPlace,\n                        effect,\n                        offset\n                    ) => {\n                        let buttonRect, tooltipRect\n                        if (currentEvent.target) {\n                            buttonRect = currentTarget.getBoundingClientRect()\n                            tooltipRect = node.getBoundingClientRect()\n                        } else {\n                            buttonRect = currentEvent.getBoundingClientRect()\n                            tooltipRect = currentTarget.getBoundingClientRect()\n                        }\n\n                        let top, left\n                        if (\n                            buttonRect.top -\n                                (tooltipRect.bottom - tooltipRect.top) >=\n                            0\n                        ) {\n                            top =\n                                buttonRect.top -\n                                (tooltipRect.bottom - tooltipRect.top)\n                        } else {\n                            top = buttonRect.bottom\n                        }\n\n                        if (\n                            buttonRect.left +\n                                (tooltipRect.right - tooltipRect.left) <=\n                            width\n                        ) {\n                            left = buttonRect.left\n                        } else {\n                            left =\n                                width - (tooltipRect.right - tooltipRect.left)\n                        }\n                        return { left, top }\n                    }}\n                />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        tooltipsOff: state.mD.tooltipsOff,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SmallButton)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"AdvancedBar_Content__2eu8X\",\"Container\":\"AdvancedBar_Container__ouxly\",\"LastContainer\":\"AdvancedBar_LastContainer__2gmGl\",\"reactTabs\":\"AdvancedBar_reactTabs__PeMUE\",\"reactTabsTabPanelSelected\":\"AdvancedBar_reactTabsTabPanelSelected__3Z5LQ\",\"reactTabsTab\":\"AdvancedBar_reactTabsTab__1i-7U\",\"TabSelected\":\"AdvancedBar_TabSelected__2gsJ3\",\"mainContainer\":\"AdvancedBar_mainContainer__3Igr9\",\"heightControll\":\"AdvancedBar_heightControll__kZHcw\",\"widthControll\":\"AdvancedBar_widthControll__1TDc2\",\"TabList\":\"AdvancedBar_TabList__DeMU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"ResourcesTree_rst__virtualScrollOverride__14H_n\",\"ReactVirtualized__Grid__innerScrollContainer\":\"ResourcesTree_ReactVirtualized__Grid__innerScrollContainer__3oB7v\",\"rst__rtl\":\"ResourcesTree_rst__rtl__2v8si\",\"ReactVirtualized__Grid\":\"ResourcesTree_ReactVirtualized__Grid__2itHy\",\"rst__node\":\"ResourcesTree_rst__node__1UngL\",\"rst__nodeContent\":\"ResourcesTree_rst__nodeContent__T6EAQ\",\"rst__lineBlock\":\"ResourcesTree_rst__lineBlock__WqdmT\",\"rst__absoluteLineBlock\":\"ResourcesTree_rst__absoluteLineBlock__kLCAo\",\"rst__lineHalfHorizontalRight\":\"ResourcesTree_rst__lineHalfHorizontalRight__3y3sx\",\"rst__lineFullVertical\":\"ResourcesTree_rst__lineFullVertical__3Ymv5\",\"rst__lineHalfVerticalTop\":\"ResourcesTree_rst__lineHalfVerticalTop__3t0z_\",\"rst__lineHalfVerticalBottom\":\"ResourcesTree_rst__lineHalfVerticalBottom__2EWSD\",\"rst__highlightLineVertical\":\"ResourcesTree_rst__highlightLineVertical__2bs3i\",\"arrow-pulse\":\"ResourcesTree_arrow-pulse__33hBy\",\"rst__highlightTopLeftCorner\":\"ResourcesTree_rst__highlightTopLeftCorner__lPAZc\",\"rst__highlightBottomLeftCorner\":\"ResourcesTree_rst__highlightBottomLeftCorner__25QNo\",\"rst__rowWrapper\":\"ResourcesTree_rst__rowWrapper__3XsZ3\",\"rst__row\":\"ResourcesTree_rst__row__bcARd\",\"rst__rowLandingPad\":\"ResourcesTree_rst__rowLandingPad__1f07p\",\"rst__rowCancelPad\":\"ResourcesTree_rst__rowCancelPad__FcoMC\",\"rst__rowSearchMatch\":\"ResourcesTree_rst__rowSearchMatch__1dEhr\",\"rst__rowSearchFocus\":\"ResourcesTree_rst__rowSearchFocus__hn8oU\",\"rst__rowContents\":\"ResourcesTree_rst__rowContents__TJoCP\",\"rst__rowLabel\":\"ResourcesTree_rst__rowLabel__3YFrc\",\"rst__rowToolbar\":\"ResourcesTree_rst__rowToolbar__19RS7\",\"rst__moveHandle\":\"ResourcesTree_rst__moveHandle__3rWVj\",\"rst__toolbarButton\":\"ResourcesTree_rst__toolbarButton__evOf_\",\"rst__rowContentsDragDisabled\":\"ResourcesTree_rst__rowContentsDragDisabled__1EWBY\",\"rst__loadingHandle\":\"ResourcesTree_rst__loadingHandle__2Zu5M\",\"rst__loadingCircle\":\"ResourcesTree_rst__loadingCircle__1_Ncp\",\"rst__loadingCirclePoint\":\"ResourcesTree_rst__loadingCirclePoint__3Iqw0\",\"pointFade\":\"ResourcesTree_pointFade__DIUx5\",\"rst__rowTitle\":\"ResourcesTree_rst__rowTitle__XvyLR\",\"rst__rowTitleWithSubtitle\":\"ResourcesTree_rst__rowTitleWithSubtitle__FsOAp\",\"rst__rowSubtitle\":\"ResourcesTree_rst__rowSubtitle__33HgD\",\"rst__collapseButton\":\"ResourcesTree_rst__collapseButton__3ZMhA\",\"rst__expandButton\":\"ResourcesTree_rst__expandButton__2IdqU\",\"rst__lineChildren\":\"ResourcesTree_rst__lineChildren__3e7wI\",\"rst__placeholder\":\"ResourcesTree_rst__placeholder__3z4Y9\",\"rst__placeholderLandingPad\":\"ResourcesTree_rst__placeholderLandingPad__33C1B\",\"rst__placeholderCancelPad\":\"ResourcesTree_rst__placeholderCancelPad__1dnkd\",\"ReactVirtualized__Table__headerRow\":\"ResourcesTree_ReactVirtualized__Table__headerRow__2ItiE\",\"ReactVirtualized__Table__row\":\"ResourcesTree_ReactVirtualized__Table__row__3Dbho\",\"ReactVirtualized__Table__headerTruncatedText\":\"ResourcesTree_ReactVirtualized__Table__headerTruncatedText__Cw5HL\",\"ReactVirtualized__Table__headerColumn\":\"ResourcesTree_ReactVirtualized__Table__headerColumn__14jIY\",\"ReactVirtualized__Table__rowColumn\":\"ResourcesTree_ReactVirtualized__Table__rowColumn__3wE69\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderColumn__3a1cB\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIconContainer__1pMeg\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"ResourcesTree_ReactVirtualized__Table__sortableHeaderIcon__3O5xb\",\"Hovered\":\"ResourcesTree_Hovered__2-yOq\",\"Chosen\":\"ResourcesTree_Chosen__3cVK7\",\"IconsContainer\":\"ResourcesTree_IconsContainer__y_KXp\",\"IconsContainerPage\":\"ResourcesTree_IconsContainerPage__1OwQJ\",\"IconsContainerNotPage\":\"ResourcesTree_IconsContainerNotPage__1isHi\",\"TreeContainer\":\"ResourcesTree_TreeContainer__1uytI\",\"selectContainer\":\"ResourcesTree_selectContainer__JxR_e\"};","import React, { memo, useEffect } from 'react'\n\nimport * as classes from './SizeDragController.module.css'\nimport { useDrag } from 'react-dnd'\nimport * as actions from '../../../store/actions'\nimport { connect } from 'react-redux'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    addClass: string,\n    changed: (value: number) => {},\n    vertical?: boolean,\n    startValue: number,\n    barSizes?: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nexport const SizeDragController = (props: Props) => {\n    const [, drag, preview] = useDrag({\n        item: {\n            id: props.type,\n            type: 'barSizes',\n            startValue: props.startValue,\n        },\n        begin: item => {\n            props.setSizeIsChanging(true)\n        },\n        end: item => {\n            props.setSizeIsChanging(false)\n        },\n    })\n\n    useEffect(() => {\n        preview(getEmptyImage(), { captureDraggingState: true })\n    }, [])\n\n    return (\n        <div\n            ref={drag}\n            className={[classes.SectionHeight, props.addClass].join(' ')}\n            data-testid=\"sizeDragController\"\n        >\n            {!props.vertical ? <div className={classes.InnerDiv} /> : null}\n        </div>\n    )\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSizeIsChanging: value => dispatch(actions.setSizeIsChanging(value)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(\n    memo(\n        SizeDragController,\n        (prevProps, nextProps) =>\n            prevProps.type === nextProps.type &&\n            prevProps.startValue === nextProps.startValue\n    )\n)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../store/actions/index'\nimport AceEditor from 'react-ace'\n\nimport ace from 'ace-builds'\nimport 'ace-builds/src-noconflict/mode-css'\nimport 'ace-builds/src-noconflict/mode-json'\nimport 'ace-builds/src-noconflict/mode-javascript'\nimport 'ace-builds/src-noconflict/mode-text'\nimport 'ace-builds/src-noconflict/theme-github'\nimport 'ace-builds/src-min-noconflict/ext-searchbox'\nimport 'ace-builds/src-min-noconflict/ext-language_tools'\nimport checkUserRights from '../../utils/checkUserRights'\n\n// import beautify from 'ace-builds/src-min-noconflict/ext-beautify'\nimport beautify_js, { css as beautify_css } from 'js-beautify'\nimport Select from '../UI/Select/Select'\n\nimport type { elementType } from '../../../../store/reducer/reducer'\n\nace.config.set('basePath', '/ace-builds/src-noconflict')\nace.config.set('modePath', '/ace-builds/src-noconflict')\nace.config.set('themePath', '/ace-builds/src-noconflict')\nace.config.set('workerPath', '/ace-builds/src-noconflict')\n\n// var editor = ace.edit('editor') // get reference to editor\n\ntype Props = {\n    currentElement: $PropertyType<elementType, 'id'>,\n    elementValue: $PropertyType<elementType, 'propertiesString'>,\n    elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n    editorMode: 'json' | 'css',\n    handleChange: (value: string, cursorPosition: {}) => {},\n    readOnly?: boolean,\n}\n\ntype State = {\n    value: string,\n    updateValue: boolean,\n    isBeatifying: boolean,\n}\n\nclass Editor extends Component<Props, State> {\n    onChange = value => {\n        if (!this.props.checkUserRights(this.props.requiredRights)) {\n            return\n        }\n        this.setState({\n            value,\n            updateValue: false,\n        })\n        if (this.state.isBeatifying) return\n        setTimeout(\n            () =>\n                this.props.handleChange(\n                    value,\n                    this.editor.getSelection().getCursor()\n                ),\n            10\n        )\n    }\n\n    handleSelectProperty = selectedOption => {\n        if (!selectedOption) return\n        let obj\n        try {\n            obj = JSON.parse(this.state.value)\n        } catch (e) {\n            obj = null\n        }\n        if (obj) {\n            obj[selectedOption.label] = selectedOption.value\n            const resultString = JSON.stringify(obj)\n            this.onChange(resultString)\n        }\n        this.makeCodePrettier()\n    }\n\n    makeCodePrettier = () => {\n        setTimeout(() => {\n            this.editor.moveCursorToPosition(\n                this.props.elementCurrentCursor || {\n                    column: 0,\n                    row: 0,\n                }\n            )\n            if (!this.state.updateValue) {\n                this.setState({ isBeatifying: true })\n                if (this.props.editorMode === 'json') {\n                    let obj\n                    try {\n                        obj = JSON.parse(this.state.value)\n                    } catch (e) {\n                        obj = null\n                    }\n                    if (obj) {\n                        this.setState({\n                            value: JSON.stringify(obj, null, '\\t'),\n                            updateValue: false,\n                        })\n                    }\n                } else {\n                    // beautify.beautify(this.editor.session)\n                    if (this.props.editorMode === 'css') {\n                        const newValue = beautify_css(this.state.value)\n                        this.setState({ value: newValue })\n                    } else if (this.props.editorMode === 'javascript') {\n                        const newValue = beautify_js(this.state.value)\n                        this.setState({ value: newValue })\n                    }\n                }\n                this.setState({ isBeatifying: false })\n            }\n        }, 10)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { props } = this\n        if (\n            prevState.updateValue === false &&\n            this.state.updateValue === true\n        ) {\n        } else {\n            if (\n                props.currentElement !== prevProps.currentElement ||\n                props.currentResource !== prevProps.currentResource ||\n                this.state.updateValue ||\n                props.editorMode !== prevProps.editorMode\n            ) {\n                if (!props.currentElement) {\n                    this.setState({\n                        value: '',\n                        updateValue: false,\n                    })\n                } else {\n                    this.setState({\n                        value: props.elementValue,\n                        updateValue: false,\n                    })\n                    this.makeCodePrettier()\n                }\n            }\n        }\n    }\n    editor\n    componentDidMount() {\n        this.editor = this.refs.aceEditor.editor\n        setInterval(() => {\n            this.editor.resize()\n        }, 1000)\n        this.setState({\n            value: this.props.elementValue,\n            updateValue: false,\n        })\n        this.makeCodePrettier()\n    }\n    constructor(props) {\n        super(props)\n        this.state = { value: '', updateValue: false, isBeatifying: false }\n        this.onChange = this.onChange.bind(this)\n    }\n\n    render() {\n        return (\n            <>\n                {this.props.suggestOptions ? (\n                    <div>\n                        <Select\n                            placeholder=\"Possible properties\"\n                            onChange={this.handleSelectProperty}\n                            options={this.props.suggestOptions}\n                            isSearchable\n                            requiredRights={this.props.requiredRights}\n                        />\n                    </div>\n                ) : null}\n                <AceEditor\n                    ref=\"aceEditor\"\n                    value={this.state.value}\n                    mode={this.props.editorMode}\n                    readOnly={this.props.readOnly}\n                    theme=\"github\"\n                    onChange={this.onChange}\n                    name={this.props.name}\n                    fontSize={14}\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    style={{ flex: '1', width: 'auto', height: 'auto' }}\n                    placeholder=\"Put your code here\"\n                    setOptions={{\n                        enableBasicAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableLiveAutocompletion:\n                            this.props.editorMode !== 'text',\n                        enableSnippets: this.props.editorMode !== 'text',\n                        showLineNumbers: this.props.editorMode !== 'text',\n                        tabSize: 2,\n                        useWorker: false,\n                        // setAutoScrollEditorIntoView: true,\n                    }}\n                    // commands={[\n                    //     {\n                    //         name: 'undo',\n                    //         bindKey: { win: 'Ctrl-z', mac: 'Command-z' },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.undoResourceVersion()\n                    //         },\n                    //     },\n                    //     {\n                    //         name: 'redo',\n                    //         bindKey: {\n                    //             win: 'Ctrl-Shift-z',\n                    //             mac: 'Command-Shift-z',\n                    //         },\n                    //         exec: () => {\n                    //             this.setState({\n                    //                 updateValue: true,\n                    //             })\n                    //             this.props.redoResourceVersion()\n                    //         },\n                    //     },\n                    // ]}\n                />\n            </>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps,\n    null,\n    { forwardRef: true }\n)(Editor)\n","import React, { useState, forwardRef, useEffect, useRef } from 'react'\nimport Autocomplete from 'react-autocomplete'\n\nimport classes from './InspectorValue.module.css'\n\ntype Props = {\n    value?: string,\n    changed: Function,\n    datatestid?: string,\n    blur?: Function,\n    focus?: Function,\n    allowEmpty?: boolean,\n    withState?: boolean,\n}\n\n// $FlowFixMe\nexport const InspectorValue = forwardRef((props: Props, parentRef) => {\n    const input = useRef(null)\n    const [state, setState] = useState({\n        active: false,\n        value: props.value,\n        startValue: props.value,\n    })\n    useEffect(() => {\n        setState({ ...state, value: props.value, startValue: props.value })\n    }, [props.value])\n\n    const matchStateToTerm = (items, value) => {\n        return (\n            items.name.toLowerCase().indexOf(value.toLowerCase()) !== -1 ||\n            items.abbr.toLowerCase().indexOf(value.toLowerCase()) !== -1\n        )\n    }\n\n    const parentPropsBlur = props.blur\n    const parentPropsFocus = props.focus\n\n    return (\n        <div className={classes.InspectorDiv}>\n            {props.readonly ? (\n                <span>{props.value}</span>\n            ) : (\n                <Autocomplete\n                    ref={input}\n                    items={props.items || []}\n                    value={props.withState ? state.value : props.value}\n                    onChange={(e, value) => {\n                        setState({ ...state, value: value })\n                        if (props.changed) {\n                            props.changed(value)\n                        }\n                    }}\n                    onSelect={value => {\n                        setState({ ...state, value: value, active: false })\n                        setTimeout(() => {\n                            if (input.current) input.current.blur()\n                        }, 50)\n                    }}\n                    shouldItemRender={matchStateToTerm}\n                    getItemValue={item => item.name}\n                    renderItem={(item, isHighlighted) => (\n                        <div\n                            className={\n                                isHighlighted ? classes.ItemHighlighted : null\n                            }\n                            key={item.abbr}\n                        >\n                            {item.name}\n                        </div>\n                    )}\n                    renderMenu={(items, value, styles) => {\n                        return (\n                            <div\n                                style={{\n                                    zIndex: 1000,\n                                    position: 'absolute',\n                                    background: 'white',\n                                    border: '1px solid #ccc',\n                                    color: '#333',\n                                    maxHeight: '100px',\n                                    overflow: 'auto',\n                                }}\n                                children={items}\n                            />\n                        )\n                    }}\n                    renderInput={(props, inputEl) => {\n                        return (\n                            <>\n                                <span\n                                    ref={parentRef}\n                                    className={classes.Span}\n                                    onClick={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                    onFocus={() =>\n                                        setState({ ...state, active: true })\n                                    }\n                                >\n                                    {props.withState\n                                        ? state.value\n                                        : props.value}\n                                </span>\n                                <input\n                                    {...props}\n                                    onBlur={e => {\n                                        props.onBlur(e)\n\n                                        if (parentPropsBlur) {\n                                            parentPropsBlur(e.target.value)\n                                        }\n                                        setState({\n                                            ...state,\n                                            active: false,\n                                        })\n                                    }}\n                                    onFocus={e => {\n                                        props.onBlur(e)\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    onMouseDown={e => {\n                                        setState({ ...state, active: true })\n                                        if (parentPropsFocus) parentPropsFocus()\n                                    }}\n                                    className={\n                                        state.active\n                                            ? classes.Input\n                                            : [\n                                                  classes.Input,\n                                                  classes.InputHidden,\n                                              ].join(' ')\n                                    }\n                                    value={\n                                        props.withState\n                                            ? state.value\n                                            : props.value\n                                    }\n                                />\n                            </>\n                        )\n                    }}\n                />\n            )}\n        </div>\n    )\n})\n\nexport default InspectorValue\n","/* eslint-disable */\nexport function _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n\n            return target\n        }\n\n    return _extends.apply(this, arguments)\n}\n\nexport function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n\n    return target\n}\n\nexport function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n\n    var key, i\n\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n\n    return target\n}\nexport function classnames() {\n    for (\n        var _len = arguments.length, classes = new Array(_len), _key = 0;\n        _key < _len;\n        _key++\n    ) {\n        classes[_key] = arguments[_key]\n    }\n\n    // Use Boolean constructor as a filter callback\n    // Allows for loose type truthy/falsey checks\n    // Boolean(\"\") === false;\n    // Boolean(false) === false;\n    // Boolean(undefined) === false;\n    // Boolean(null) === false;\n    // Boolean(0) === false;\n    // Boolean(\"classname\") === true;\n    return classes.filter(Boolean).join(' ')\n}\nexport function isDescendant(older, younger) {\n    return (\n        !!older.children &&\n        typeof older.children !== 'function' &&\n        older.children.some(function(child) {\n            return child === younger || isDescendant(child, younger)\n        })\n    )\n}\nexport function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n\n    return obj\n}\nexport function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        var ownKeys = Object.keys(source)\n\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(\n                        source,\n                        sym\n                    ).enumerable\n                })\n            )\n        }\n\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key])\n        })\n    }\n\n    return target\n}\nexport function _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nexport function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n            arr2[i] = arr[i]\n\n        return arr2\n    }\n}\n\nexport function _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nexport function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n","import React from 'react'\nimport SelectComponent from 'react-select'\nimport { connect } from 'react-redux'\n\nimport classes from './Select.module.css'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    startValue?: any,\n    title?: string,\n    onChange: Function,\n    datatestid?: string,\n    styles?: {},\n    options: Array<{\n        value: string,\n        label: string,\n    }>,\n    default: number,\n    isSearchable?: boolean,\n    isClearable?: boolean,\n    placeholder?: String,\n    requiredRights?: Array<string>,\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst Select = (props: Props) => {\n    const handleChange = option => {\n        if (!props.checkUserRights(props.requiredRights || [])) {\n            return\n        }\n        props.onChange(option)\n    }\n\n    const customStyles = {\n        menu: (provided: {}, state: {}) => ({\n            ...provided,\n            width: '100%',\n            top: 'auto',\n            zIndex: '100000',\n            margin: '0px',\n        }),\n        selectContainer: (provided: {}) => ({\n            ...provided,\n            width: '200px',\n            top: 'auto',\n        }),\n        clearIndicator: provided => ({\n            ...provided,\n            padding: '0px',\n        }),\n        dropdownIndicator: provided => ({\n            ...provided,\n            padding: '0px 5px',\n        }),\n        control: provided => ({\n            ...provided,\n            minHeight: 'auto',\n        }),\n    }\n\n    return (\n        <div className={classes.Div}>\n            {props.title}\n            <SelectComponent\n                styles={customStyles}\n                value={props.options[props.default] || 0}\n                isClearable={props.isClearable}\n                isSearchable={props.isSearchable}\n                onChange={handleChange}\n                options={props.options}\n                placeholder={props.placeholder}\n            />\n        </div>\n    )\n}\n\nSelect.defaultProps = {\n    default: 0,\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(Select)\n","import omit from 'lodash/omit'\n\n// $FlowFixMe\nexport const buildItems = (children, path, result) => {\n    const doBuildItems = (children, path) => {\n        children.forEach(element => {\n            result.push({\n                ...omit(element, [\n                    'children',\n                    'resourceDraft',\n                    'currentResource',\n                    'mode',\n                    'pluginsStructure',\n                ]),\n                path,\n            })\n            if (element.children)\n                doBuildItems(element.children, [...path, element.id])\n        })\n    }\n    doBuildItems(children, path)\n    return result\n}\n","import React, { useState, useEffect, memo } from 'react'\nimport { getCurrentResourceValue } from '../../../utils/basic'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { checkIfCapital, buildTree } from '../../../utils/basic'\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport { buildItems } from '../../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../../UI/TreeSearch/TreeSearch'\nimport populateStructureWithPluginChildren from './methods/populateStructureWithPluginChildren'\nimport { searchOnHover, searchMethod, searchMethod2 } from './methods/search'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport checkUserRights from '../../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport Buttons from './Buttons'\n\nimport type {\n    resourceType,\n    initialStateType,\n    elementType,\n} from '../../../store/reducer/reducer'\n\nexport type State = {\n    searchString: string,\n    searchFocusIndex: number,\n    searchFoundCount: null | number,\n    searchStringHasBeenCleared: boolean,\n    searchOpen: boolean,\n}\n\nexport type Props = {\n    resourceDraft: resourceType,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    mode: 'page' | 'plugin' | 'template',\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    chooseBox: typeof actions.chooseBox,\n    addBox: typeof actions.addBox,\n    duplicateBox: typeof actions.duplicateBox,\n    deleteBox: typeof actions.deleteBox,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n    dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    toggleFindMode: typeof actions.toggleFindMode,\n    currentBoxType:\n        | 'html'\n        | 'page'\n        | 'headBody'\n        | 'plugin'\n        | 'children'\n        | 'childrenTo'\n        | 'element'\n        | 'isCMSVariable'\n        | 'isElementFromCMSVariable'\n        | 'none',\n    searchQuery: string,\n    node: elementType,\n}\n\nconst ElementsTree = (props: Props) => {\n    const { resourceDraftStructure, structureWithPluginChildren } = props\n\n    if (!resourceDraftStructure) return null\n    let treeData = buildTree(\n        structureWithPluginChildren.map(item => ({\n            ...item,\n            itemPath: item.path,\n            mode: props.mode,\n        }))\n    )\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, resourceDraftStructure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    resourceDraftStructure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            ) {\n                if (\n                    !props.checkUserRights(\n                        props.mode === 'page' ? null : ['developer']\n                    )\n                ) {\n                    return\n                }\n            }\n            props.saveElementsStructure(\n                props.mode,\n                result,\n                resourceDraftStructure\n            )\n        }\n    }\n\n    const canDropHandle = ({ nextParent, nextPath, prevPath }) => {\n        if (!nextParent) return false\n        if (nextParent.mode === 'page') return false\n        if (nextParent.text) return false\n        if (nextParent.mode === 'template' && nextPath[0] !== prevPath[0])\n            return false\n        if (\n            nextParent.mode === 'template' &&\n            (nextPath[0] === 'element_02' || nextParent.id === 'element_02')\n        )\n            return true\n        if (nextParent.isElementFromCMSVariable) return false\n        return (\n            (!checkIfCapital(nextParent.tag.charAt(0)) ||\n                nextParent.itemPath.length === 0 ||\n                nextParent.forChildren) &&\n            nextParent.tag !== 'menu' &&\n            ((nextParent.mode === 'template' &&\n                nextParent.itemPath.length > 0) ||\n                nextParent.mode === 'plugin') &&\n            !nextParent.isChildren\n        )\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.mode === 'page') return false\n        return (\n            node.itemPath.length >\n                (node.mode === 'template' && node.itemPath[0] !== 'element_02'\n                    ? 1\n                    : 0) && !node.childrenTo\n        )\n    }\n\n    const generateNodePropsHandle = ({ node }) => ({\n        mode: props.mode,\n        // itemIndex: node.itemIndex,\n    })\n\n    const onMoveNodeHandle = ({ node, treeIndex, path }) => {\n        return global.console.debug(\n            'node:',\n            node,\n            'treeIndex:',\n            treeIndex,\n            'path:',\n            path\n        )\n    }\n\n    const searchFinishCallbackHandle = matches => {\n        setState({\n            ...state,\n            searchFoundCount: matches.length,\n            searchFocusIndex:\n                matches.length > 0\n                    ? state.searchFocusIndex % matches.length\n                    : 0,\n        })\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    useEffect(() => {\n        searchOnHover(props, state, setState)\n    }, [props.hoveredElementId, props.findMode])\n\n    const [structureIds, saveStructureIds] = useState(\n        props.structureWithPluginChildren.map(item => item.id)\n    )\n\n    useEffect(() => {\n        const newStructureIds = props.structureWithPluginChildren.map(\n            item => item.id\n        )\n        const structuresAreEqual = isEqual(newStructureIds, structureIds)\n\n        if (!structuresAreEqual) {\n            props.saveElementsStructure(\n                props.mode,\n                props.structureWithPluginChildren,\n                props.resourceDraftStructure\n            )\n            saveStructureIds(newStructureIds)\n        }\n    }, [props.structureWithPluginChildren])\n\n    return (\n        <>\n            <div>\n                <Buttons state={state} setState={setState} mode={props.mode} />\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    scaffoldBlockPxWidth={22}\n                    rowHeight={20}\n                    generateNodeProps={generateNodePropsHandle}\n                    isVirtualized={true}\n                    onMoveNode={onMoveNodeHandle}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={searchFinishCallbackHandle}\n                    searchMethod={props.findMode ? searchMethod2 : searchMethod}\n                    style={{ flex: '1 1', height: 'auto !important' }}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const pluginElementsStructures = {}\n    for (let item of state.mD.pluginsStructure) {\n        let draft = getCurrentResourceValue(item.id, state.resourcesObjects)\n        pluginElementsStructures[item.id] = draft ? draft.structure : []\n    }\n    const resourceDraftStructure = state.mD[resourceDraftIndex[props.mode]]\n        ? state.mD[resourceDraftIndex[props.mode]].structure\n        : null\n\n    const currentResource = state.mD[currentIndex[props.mode]]\n    const pluginsStructure = state.mD.pluginsStructure\n    const structureWithPluginChildren = populateStructureWithPluginChildren(\n        resourceDraftStructure,\n        currentResource,\n        pluginElementsStructures,\n        pluginsStructure,\n        props.mode\n    )\n\n    return {\n        hoveredElementId: -100,\n        findMode: state.findMode,\n        fromFrame: state.fromFrame,\n        // structure: state.mD[structureIndex[props.mode]].structure,\n        currentResource,\n        resourceDraftStructure,\n        pluginsStructure,\n        pluginElementsStructures,\n        structureWithPluginChildren,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        saveElementsStructure: (type, structure, resourceDraftStructure) =>\n            dispatch(\n                actions.saveElementsStructure(\n                    type,\n                    structure,\n                    resourceDraftStructure\n                )\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n// let prevVal\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(\n        ElementsTree,\n        (prevProps, nextProps) => {\n            return (\n                isEqual(\n                    prevProps.pluginElementsStructures,\n                    nextProps.pluginElementsStructures\n                ) &&\n                isEqual(\n                    prevProps.structureWithPluginChildren,\n                    nextProps.structureWithPluginChildren\n                ) &&\n                isEqual(prevProps.currentResource, nextProps.currentResource)\n            )\n        }\n        // , (prevProps, nextProps) => {\n        //     const getData = props => {\n        //         const { currentResource, resourceDraft } = props\n        //         if (!resourceDraft) return null\n        //         return populateStructureWithPluginChildren(\n        //             resourceDraft.structure,\n        //             currentResource,\n        //             props\n        //         )\n        //     }\n        //     // const prev = getData(prevProps)\n        //     const next = getData(nextProps)\n        //     if (!prevVal) {\n        //         prevVal = next\n        //         return false\n        //     }\n        //     const equal = isEqual(prevVal.pluginsElements, next.pluginsElements)\n        //     prevVal = next\n        //     return equal\n        // }\n    )\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OlContainer\":\"Properties_OlContainer__363Ba\",\"reactTabs\":\"Properties_reactTabs__1n7Tw\",\"reactTabsTabPanelSelected\":\"Properties_reactTabsTabPanelSelected__2YQhG\",\"reactTabsTab\":\"Properties_reactTabsTab__3p2jn\"};","import React from 'react'\n\nimport * as classes from './TreeSearch.module.css'\nimport SmallButton from '../Buttons/SmallButton/SmallButton'\n\nimport type { State } from '../../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\ntype Props = {\n    state: State,\n    setState: Function,\n}\n\nconst handleSearchOnChange = (state, setState, e) => {\n    setState({ ...state, searchString: e.target.value })\n}\n\nconst selectPrevMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFoundCount + searchFocusIndex - 1) %\n                      searchFoundCount\n                    : searchFoundCount - 1\n                : null,\n    })\n}\n\nconst selectNextMatch = (state, setState) => {\n    const { searchFocusIndex, searchFoundCount } = state\n\n    setState({\n        ...state,\n        searchFocusIndex:\n            searchFoundCount !== null\n                ? searchFocusIndex !== null\n                    ? (searchFocusIndex + 1) % searchFoundCount\n                    : 0\n                : null,\n    })\n}\n\nexport const TreeSearch = (props: Props) => (\n    <div className={classes.Container}>\n        <input\n            className={classes.Input}\n            type=\"text\"\n            onChange={e => handleSearchOnChange(props.state, props.setState, e)}\n        />\n        <div className={classes.Label}>\n            {props.state.searchFoundCount\n                ? props.state.searchFocusIndex + 1\n                : 0}\n            /{props.state.searchFoundCount}\n        </div>\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"></path></svg>'\n            buttonClicked={() => selectPrevMatch(props.state, props.setState)}\n            tooltip=\"Search previous\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"></path></svg>'\n            buttonClicked={() => selectNextMatch(props.state, props.setState)}\n            tooltip=\"Search next\"\n        />\n        <SmallButton\n            inline\n            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"></path></svg>'\n            buttonClicked={() =>\n                props.setState({\n                    ...props.state,\n                    searchOpen: false,\n                    searchString: '',\n                })\n            }\n            tooltip=\"Close\"\n        />\n    </div>\n)\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport * as classesAdvancedBar from '../../../../containers/AdvancedBar/AdvancedBar.module.css'\nimport { buildItems } from '../../../../utils/pagesStructure'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport ItemRenderer from './ItemRenderer'\nimport { buildTree } from '../../../../utils/basic'\nimport SizeDragController from '../../../../containers/AdvancedBar/SizeDragController/SizeDragController'\nimport Editor from '../../../Editor/Editor'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\n\nconst MenuItems = props => {\n    const [state, setState] = useState({\n        treeDataSource: [],\n    })\n\n    useEffect(() => {\n        const pagesStructureWithAll = [\n            {\n                path: [],\n                all: false,\n                id: 'link',\n                generatedFrom: 'link',\n                sourceItem: true,\n                name: 'Link',\n                properties: {\n                    // url: 'http://www.logision.com/',\n                },\n                propertiesString: '',\n            },\n            {\n                path: [],\n                all: true,\n                id: 'all',\n                generatedFrom: 'all',\n                sourceItem: true,\n                name: 'All pages',\n            },\n        ]\n        if (props.mode !== 'page' && !props.element.isCMSVariable) {\n            pagesStructureWithAll.push({\n                path: [],\n                all: false,\n                id: 'variable',\n                generatedFrom: 'variable',\n                sourceItem: true,\n                name: 'Variable',\n                properties: {},\n            })\n        }\n        props.pagesStructure.forEach(element => {\n            pagesStructureWithAll.push({\n                ...element,\n                sourceItem: true,\n                all: false,\n                id: element.id,\n                generatedFrom: element.id,\n                path: ['all', ...element.path],\n            })\n            pagesStructureWithAll.push({\n                path: ['all', ...element.path, element.id],\n                all: true,\n                id: element.id + '_all',\n                generatedFrom: element.id,\n                sourceItem: true,\n                name: 'All in ' + element.name,\n            })\n        })\n        // props.pagesStructure.forEach(element => {\n        //     pagesStructureWithAll.push({\n        //         ...element,\n        //         sourceItem: true,\n        //         all: false,\n        //         id: element.id,\n        //         generatedFrom: element.id,\n        //         path: ['all', ...element.path],\n        //     })\n        //     pagesStructureWithAll.push({\n        //         path: ['all', ...element.path, element.id],\n        //         all: true,\n        //         id: element.id + '_all',\n        //         generatedFrom: element.id,\n        //         sourceItem: true,\n        //         name: 'All in ' + element.name,\n        //     })\n        // })\n        const treeDataSource = buildTree(pagesStructureWithAll)\n            .filter(item => !item.generalSettings)\n            .map(item => ({\n                ...item,\n                type: props.mode,\n            }))\n        setState({ ...state, treeDataSource })\n    }, [props.pagesStructure, props.templatesStructure])\n\n    let menuItems = props.elementValues[props.attrName] || []\n\n    menuItems = menuItems.map(item => ({\n        ...item,\n        type: props.mode,\n    }))\n    const treeData = buildTree(menuItems)\n\n    const handleChange = items => {\n        const newItems = cloneDeep(items)\n        const findNewItem = children => {\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i]\n                if (child.sourceItem) return child\n                else if (child.children.length > 0)\n                    return findNewItem(child.children)\n            }\n        }\n        const newItem = findNewItem(newItems)\n\n        let newCurrentMenuId = null\n        if (newItem) {\n            newItem.children = []\n            newItem.id = 'item_' + (props.elementValues.currentMenuId || 0)\n            newItem.sourceItem = false\n            newCurrentMenuId = props.elementValues.currentMenuId\n                ? props.elementValues.currentMenuId + 1\n                : 1\n        }\n\n        const saveItems = []\n        buildItems(newItems, [], saveItems)\n        const result = { [props.attrName]: saveItems, currentMenuId: -1 }\n        if (newCurrentMenuId) result.currentMenuId = newCurrentMenuId\n        props.changeProperty(result, '')\n    }\n\n    const menuItem =\n        props.elementValues.currentMenuItem &&\n        props.elementValues[props.attrName]\n            ? props.elementValues[props.attrName].find(\n                  item => item.id === props.elementValues.currentMenuItem\n              )\n            : null\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value && props.elementValues.currentMenuItem) {\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            const newMenuItems = props.elementValues[props.attrName].map(\n                item => {\n                    if (item.id === props.elementValues.currentMenuItem) {\n                        const newItem = cloneDeep(item)\n                        newItem.propertiesString = value\n                        if (obj) {\n                            newItem.properties = obj\n                        }\n                        return newItem\n                    } else {\n                        return item\n                    }\n                }\n            )\n            props.changeProperty(props.attrName, newMenuItems, cursorPosition)\n        }\n    }\n\n    const handleDeleteItem = () => {\n        if (props.elementValues.currentMenuItem) {\n            const newMenuItems = props.elementValues[props.attrName].filter(\n                item => item.id !== props.elementValues.currentMenuItem\n            )\n            props.changeProperty(props.attrName, newMenuItems)\n        }\n    }\n\n    return props.element && props.elementValues ? (\n        <div className={classesAdvancedBar.Content}>\n            <div\n                className={classesAdvancedBar.Container}\n                style={{\n                    flex: '0 0 ' + (props.barSizes.width3 || 50) + 'px',\n                }}\n            >\n                <div>\n                    <SmallButton\n                        inline\n                        buttonClicked={handleDeleteItem}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                        tooltip=\"Delete menu item\"\n                        requiredRights={\n                            props.mode === 'page' ? ['content'] : ['developer']\n                        }\n                    />\n                </div>\n                <div className={classes.TreeContainer}>\n                    {treeData.length === 0 ? (\n                        <div\n                            style={{\n                                position: 'absolute',\n                                border: '1px dashed #777',\n                                left: '20px',\n                                padding: '4px',\n                            }}\n                        >\n                            Drop menu items here\n                        </div>\n                    ) : null}\n                    <SortableTree\n                        onChange={handleChange}\n                        treeData={treeData}\n                        nodeContentRenderer={ItemRenderer}\n                        generateNodeProps={({ node }) => ({\n                            className:\n                                node.id === props.elementValues.currentMenuItem\n                                    ? [classes.Chosen]\n                                    : null,\n                        })}\n                        isVirtualized={true}\n                        onMoveNode={({ node, treeIndex, path }) => {\n                            global.console.debug(\n                                'node:',\n                                node,\n                                'treeIndex:',\n                                treeIndex,\n                                'path:',\n                                path\n                            )\n                        }}\n                        rowHeight={20}\n                        scaffoldBlockPxWidth={22}\n                        className={classes.Tree}\n                        dndType={props.attrName}\n                        canDrop={({ nextParent }) => {\n                            if (!nextParent) return true\n\n                            return (\n                                nextParent.generatedFrom !== 'variable' &&\n                                !nextParent.all\n                            )\n                        }}\n                        style={{ flex: '1 1', height: 'auto !important' }}\n                    />\n                </div>\n                <SizeDragController\n                    addClass={classesAdvancedBar.widthControll}\n                    startValue={props.barSizes.width3 || 50}\n                    type={'width3'}\n                />\n            </div>\n            <div className={classesAdvancedBar.LastContainer}>\n                <Tabs\n                    className={[\n                        'react-tabs',\n                        classesAdvancedBar.reactTabs,\n                        classes.MenuItemsTabs,\n                    ].join(' ')}\n                >\n                    <TabList>\n                        <Tab\n                            className={[\n                                'react-tabs__tab',\n                                classesAdvancedBar.reactTabsTab,\n                            ].join(' ')}\n                        >\n                            Source elements\n                        </Tab>\n                        {menuItem ? (\n                            <Tab\n                                className={[\n                                    'react-tabs__tab',\n                                    classesAdvancedBar.reactTabsTab,\n                                ].join(' ')}\n                            >\n                                Item properties\n                            </Tab>\n                        ) : null}\n                    </TabList>\n                    <TabPanel\n                        selectedClassName={[\n                            'react-tabs__tab-panel--selected',\n                            classesAdvancedBar.reactTabsTabPanelSelected,\n                        ].join(' ')}\n                    >\n                        <SortableTree\n                            treeData={state.treeDataSource}\n                            nodeContentRenderer={ItemRenderer}\n                            isVirtualized={true}\n                            onMoveNode={({ node, treeIndex, path }) =>\n                                global.console.debug(\n                                    'node:',\n                                    node,\n                                    'treeIndex:',\n                                    treeIndex,\n                                    'path:',\n                                    path\n                                )\n                            }\n                            rowHeight={20}\n                            scaffoldBlockPxWidth={22}\n                            canDrop={() => false}\n                            shouldCopyOnOutsideDrop={true}\n                            dndType={props.attrName}\n                            onChange={treeData =>\n                                setState({ ...state, treeDataSource: treeData })\n                            }\n                            style={{ flex: '1 1', height: 'auto !important' }}\n                        />\n                    </TabPanel>\n                    {menuItem ? (\n                        <TabPanel\n                            selectedClassName={[\n                                'react-tabs__tab-panel--selected',\n                                classesAdvancedBar.reactTabsTabPanelSelected,\n                            ].join(' ')}\n                        >\n                            <Editor\n                                currentElement={\n                                    props.elementValues.currentMenuItem\n                                }\n                                elementValue={menuItem.propertiesString}\n                                elementCurrentCursor={\n                                    props.elementValues.cursorPosition\n                                }\n                                editorMode=\"json\"\n                                handleChange={hanglePropertiesChange}\n                                name=\"editorMenuItems\"\n                            />\n                        </TabPanel>\n                    ) : null}\n                </Tabs>\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        pagesStructure: state.mD.pagesStructure,\n        templatesStructure: state.mD.templatesStructure,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuItems)\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nvar doc = void 0\nvar win = void 0\nif (typeof document !== 'undefined') {\n    doc = document\n}\nif (typeof window !== 'undefined') {\n    win = window\n}\n\nvar FrameContext = (exports.FrameContext = _react2.default.createContext({\n    document: doc,\n    window: win,\n}))\n\nvar FrameContextProvider = FrameContext.Provider,\n    FrameContextConsumer = FrameContext.Consumer\nexports.FrameContextProvider = FrameContextProvider\nexports.FrameContextConsumer = FrameContextConsumer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SectionHeight\":\"SizeDragController_SectionHeight__2xHTI\",\"InnerDiv\":\"SizeDragController_InnerDiv__3XbGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageContainer\":\"Images_ImageContainer__2C72p\",\"ImageContainerChosen\":\"Images_ImageContainerChosen__2szoJ\",\"ImageContainerCurrent\":\"Images_ImageContainerCurrent__cU6k-\",\"ImageName\":\"Images_ImageName__1c3oe\",\"ImageInput\":\"Images_ImageInput__2RsQJ\",\"Buttons\":\"Images_Buttons__2xnnz\",\"Images\":\"Images_Images__1sTkw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"SmallButton_Button__2auv6\",\"ButtonDisabled\":\"SmallButton_ButtonDisabled__8lcil\",\"Inline\":\"SmallButton_Inline__2j7Md\",\"Table\":\"SmallButton_Table__1QigA\",\"Cell\":\"SmallButton_Cell__1cD_6\",\"Svg\":\"SmallButton_Svg__3X4Wp\",\"Tooltip\":\"SmallButton_Tooltip__3GG4i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InspectorDiv\":\"InspectorValue_InspectorDiv__3NoW1\",\"Input\":\"InspectorValue_Input__3jg9o\",\"InputHidden\":\"InspectorValue_InputHidden__20aPX\",\"Span\":\"InspectorValue_Span__2r1SY\",\"ItemHighlighted\":\"InspectorValue_ItemHighlighted__10tLg\",\"DropDown\":\"InspectorValue_DropDown__12yME\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"TreeSearch_Container__gqL_q\",\"Input\":\"TreeSearch_Input__1fDdy\",\"Label\":\"TreeSearch_Label__1_Jf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"Select_Div__3ogAU\",\"Input\":\"Select_Input__1mnhJ\",\"StyleControls\":\"Select_StyleControls__3ci3w\"};","import {\n    checkIfCapital,\n    // getCurrentResourceValue,\n} from '../../../../utils/basic'\n\nimport type { resourceType } from '../../../../store/reducer/reducer'\n\nexport default (\n    structure: $PropertyType<resourceType, 'structure'>,\n    currentResource,\n    pluginElementsStructures,\n    pluginsStructure,\n    mode\n) => {\n    let result = []\n    let excludeItems = []\n    structure.forEach(item => {\n        if (!item.childrenTo && !excludeItems.includes(item.id)) {\n            result.push(item)\n        }\n\n        if (checkIfCapital(item.tag.charAt(0))) {\n            const pluginItem = pluginsStructure.find(\n                element => element.name === item.tag\n            )\n            if (pluginItem) {\n                const pluginElementStructure =\n                    pluginElementsStructures[pluginItem.id]\n\n                if (pluginElementStructure) {\n                    const neededChildren = pluginElementStructure.filter(\n                        element => element.isChildren\n                    )\n                    const currentChildren = structure.filter(element =>\n                        element.path.includes(item.id)\n                    )\n                    excludeItems = [\n                        ...excludeItems,\n                        ...currentChildren.map(element => element.id),\n                    ]\n                    neededChildren.forEach(child => {\n                        const existingChild = currentChildren.find(\n                            element => element.childrenTo === child.id\n                        )\n                        if (existingChild) {\n                            result = [\n                                ...result,\n                                {\n                                    ...existingChild,\n                                    tag: `Children for ${child.tag}`,\n                                },\n                                ...currentChildren.filter(element =>\n                                    element.path.includes(existingChild.id)\n                                ),\n                            ]\n                        } else {\n                            const newElement = {\n                                id: `${item.id}_forPlugin_${\n                                    pluginItem.id\n                                }_childrenTo_${child.id}`,\n                                childrenTo: child.id,\n                                forPlugin: pluginItem.id,\n                                sourcePlugin:\n                                    mode === 'plugin' ? currentResource : '',\n                                path: [...item.path, item.id],\n                                text: false,\n                                // textContent: '',\n                                isChildren: false,\n                                forChildren: true,\n                                // properties: {},\n                                tag: `Children for ${child.tag}`,\n                            }\n                            result.push(newElement)\n                        }\n                    })\n                }\n            }\n        }\n    })\n    return result\n}\n","import type { Props, State } from '../ElementsTree'\n\nexport const searchOnHover = (\n    props: Props,\n    state: State,\n    setState: Function\n) => {\n    if (props.findMode && props.fromFrame) {\n        setState({\n            ...state,\n            searchString: props.hoveredElementId || '',\n            searchStringHasBeenCleared: false,\n        })\n    } else {\n        if (!state.searchStringHasBeenCleared) {\n            setState({\n                ...state,\n                searchString: '',\n                searchStringHasBeenCleared: true,\n            })\n        }\n    }\n}\n\nexport const searchMethod = ({ node, path, treeIndex, searchQuery }: Props) => {\n    if (!searchQuery) return false\n\n    if (node.tag.indexOf(searchQuery) > -1) return true\n    if (node.properties.id)\n        if (node.properties.id.indexOf(searchQuery) > -1) return true\n    if (node.properties.class)\n        if (node.properties.class.indexOf(searchQuery) > -1) return true\n}\n\nexport const searchMethod2 = ({\n    node,\n    path,\n    treeIndex,\n    searchQuery,\n}: Props) => {\n    if (!searchQuery) return false\n\n    if (node.id.indexOf(searchQuery) > -1) return true\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"TextProperty_Textarea__2wNAE\",\"Editors\":\"TextProperty_Editors__3uGEn\",\"SelectContainer\":\"TextProperty_SelectContainer__zyD1_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Textarea\":\"ParseProperty_Textarea__3tqLc\",\"Editors\":\"ParseProperty_Editors__3-_wF\",\"SelectContainer\":\"ParseProperty_SelectContainer__1uKK3\"};","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from '../../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectWithoutProperties,\n    isDescendant,\n    _toConsumableArray,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\n\nimport type {\n    menuItemType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    chooseMenuItem: typeof actions.chooseMenuItem,\n    changeMenuItemProperty: typeof actions.changeMenuItemProperty,\n    resourcesObjects: $PropertyType<initialStateType, 'resourcesObjects'>,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: menuItemType & { children: Array<menuItemType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    currentPage: $PropertyType<initialStateType, 'currentPage'>,\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    currentTemplate: $PropertyType<initialStateType, 'currentTemplate'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop,\n        otherProps = _objectWithoutProperties(_this$props, [\n            'scaffoldBlockPxWidth',\n            'toggleChildrenVisibility',\n            'connectDragPreview',\n            'connectDragSource',\n            'isDragging',\n            'canDrop',\n            'canDrag',\n            'node',\n            'title',\n            'subtitle',\n            'draggedNode',\n            'path',\n            'treeIndex',\n            'isSearchMatch',\n            'isSearchFocus',\n            'buttons',\n            'className',\n            'style',\n            'didDrop',\n            'treeId',\n            'isOver',\n            'parentNode',\n            'currentPage',\n            'currentPlugin',\n            'resourcesObjects',\n            'chooseMenuItem',\n            'changeMenuItemProperty',\n            'isSub',\n            'name',\n            'id',\n            'sourceItem',\n            'type',\n            'generatedFrom',\n            'rowDirection',\n            'currentTemplate',\n        ])\n\n    var handle\n\n    if (canDrag) {\n        if (typeof node.children === 'function' && node.expanded) {\n            handle = (\n                <div className={classes.rst__loadingHandle}>\n                    <div className={classes.rst__loadingCircle}>\n                        {_toConsumableArray(new Array(12)).map(function(\n                            _,\n                            index\n                        ) {\n                            return (\n                                <div\n                                    key={index}\n                                    className={classes.rst__loadingCirclePoint}\n                                />\n                            )\n                        })}\n                        )}\n                    </div>\n                </div>\n            )\n        } else {\n            handle = connectDragSource(\n                <div className={classes.rst__moveHandle} />\n            )\n        }\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { name, id, sourceItem, type, generatedFrom } = props.node\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n    return (\n        <div\n            // $FlowFixMe\n            {..._extends({ style: { height: '100%' } }, otherProps)}\n            onMouseDown={() => props.changeBoxPropertyInValues(type, id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {sourceItem ? (\n                                    name\n                                ) : (\n                                    <>\n                                        <InspectorValue\n                                            value={name}\n                                            blur={value =>\n                                                props.changeMenuItemProperty(\n                                                    type,\n                                                    'name',\n                                                    value,\n                                                    id\n                                                )\n                                            }\n                                            withState\n                                        />\n                                        {!sourceItem &&\n                                        generatedFrom === 'variable'\n                                            ? ' (variable)'\n                                            : ''}\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        userId: state.userId,\n        resourcesObjects: state.resourcesObjects,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        changeBoxPropertyInValues: (type, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(\n                    type,\n                    'currentMenuItem',\n                    id,\n                    true\n                )\n            ),\n        changeMenuItemProperty: (type, key, value, itemId) =>\n            dispatch(actions.changeMenuItemProperty(type, key, value, itemId)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { memo } from 'react'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../../../../components/ResourcesTree/ResourcesTree.module.css'\n// import withDragDropContext from '../../../../hoc/withDragDropContext'\nimport SmallButton from '../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport ItemRenderer from './ItemRenderer'\nimport * as wsActions from '../../../../websocketActions'\nimport isEqual from 'lodash/isEqual'\n\ntype Props = {\n    notVirtual?: boolean,\n}\n\nconst WebsitesTree = (props: Props) => (\n    <>\n        <div>\n            <SmallButton\n                inline\n                buttonClicked={() => props.addWebsite()}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                tooltip=\"Add a new website\"\n            />\n            {/* <SmallButton\n                    mD={props.mD}\n                    inline\n                    buttonClicked={() => wsActions.addWebsite(props.mD, true)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    tooltip=\"Duplicate website\"\n                /> */}\n            <SmallButton\n                inline\n                buttonClicked={() => props.deleteWebsite()}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                tooltip=\"Delete website.<br>This action can not be reverted.\"\n            />\n        </div>\n        <div className={classes.TreeContainer}>\n            <SortableTree\n                treeData={props.treeData}\n                onChange={() => {}}\n                nodeContentRenderer={ItemRenderer}\n                canDrop={() => false}\n                canDrag={() => false}\n                generateNodeProps={({ node }) => ({\n                    className:\n                        node.id === props.currentWebsiteId\n                            ? [classes.Chosen]\n                            : null,\n                })}\n                isVirtualized={!props.notVirtual}\n                onMoveNode={({ node, treeIndex, path }) =>\n                    global.console.debug(\n                        'node:',\n                        node,\n                        'treeIndex:',\n                        treeIndex,\n                        'path:',\n                        path\n                    )\n                }\n                scaffoldBlockPxWidth={22}\n                rowHeight={20}\n                style={{ flex: '1 1', height: 'auto !important' }}\n            />\n        </div>\n    </>\n)\n\nconst mapStateToProps = state => {\n    const treeData = state.mD.websites.map(website => {\n        return {\n            name: state.resourcesObjects[website.id]\n                ? state.resourcesObjects[website.id].name\n                : 'Loading...',\n            id: website.id,\n            children: {},\n        }\n    })\n    return {\n        treeData,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addWebsite: () => dispatch(wsActions.addWebsite()),\n        deleteWebsite: () => dispatch(wsActions.deleteWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    memo(\n        WebsitesTree,\n        (prevProps, nextProps) =>\n            isEqual(prevProps.treeData, nextProps.treeData) &&\n            prevProps.currentWebsiteId === nextProps.currentWebsiteId\n    )\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './WebsitesTree.module.css'\nimport InspectorValue from '../../../../components/UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../../utils/sortTreeMethods'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport * as wsActions from '../../../../websocketActions'\n\nimport type { initialStateType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    chooseWebsite: typeof actions.chooseWebsite,\n    connectDragPreview: Function,\n    className: string,\n    style: string,\n    node: { name: string, id: string },\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    var _this$props = props,\n        connectDragPreview = _this$props.connectDragPreview,\n        className = _this$props.className,\n        style = _this$props.style\n\n    const { name, id } = props.node\n    const rowClasses = [classes.rst__row, className]\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => {\n                props.chooseWebsite(id)\n            }}\n            data-testid={name}\n        >\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: 1,\n                            },\n                            style\n                        )}\n                    >\n                        <div\n                            className={[\n                                classes.rst__rowContents,\n                                classes.rst__rowContentsDragDisabled,\n                            ].join(' ')}\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                <InspectorValue\n                                    value={name}\n                                    items={[]}\n                                    blur={value => {\n                                        if (!props.checkUserRights(['owner']))\n                                            return\n                                        else if (value !== name)\n                                            wsActions.changeWebsiteProperty(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                    }}\n                                    withState\n                                />\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseWebsite: id => dispatch(actions.chooseWebsite(id)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rst__virtualScrollOverride\":\"WebsitesTree_rst__virtualScrollOverride__3zbIC\",\"ReactVirtualized__Grid__innerScrollContainer\":\"WebsitesTree_ReactVirtualized__Grid__innerScrollContainer__2P6dm\",\"rst__rtl\":\"WebsitesTree_rst__rtl__3iVcx\",\"ReactVirtualized__Grid\":\"WebsitesTree_ReactVirtualized__Grid__1cJYw\",\"rst__node\":\"WebsitesTree_rst__node__3jU7p\",\"rst__nodeContent\":\"WebsitesTree_rst__nodeContent__29s16\",\"rst__lineBlock\":\"WebsitesTree_rst__lineBlock__1_T2J\",\"rst__absoluteLineBlock\":\"WebsitesTree_rst__absoluteLineBlock__4gyz3\",\"rst__lineHalfHorizontalRight\":\"WebsitesTree_rst__lineHalfHorizontalRight__1IMJ8\",\"rst__lineFullVertical\":\"WebsitesTree_rst__lineFullVertical__1OWaW\",\"rst__lineHalfVerticalTop\":\"WebsitesTree_rst__lineHalfVerticalTop__39jCq\",\"rst__lineHalfVerticalBottom\":\"WebsitesTree_rst__lineHalfVerticalBottom__2qsPL\",\"rst__highlightLineVertical\":\"WebsitesTree_rst__highlightLineVertical__2DrSL\",\"arrow-pulse\":\"WebsitesTree_arrow-pulse__3fbyg\",\"rst__highlightTopLeftCorner\":\"WebsitesTree_rst__highlightTopLeftCorner__1VjlE\",\"rst__highlightBottomLeftCorner\":\"WebsitesTree_rst__highlightBottomLeftCorner__8cL4Q\",\"rst__rowWrapper\":\"WebsitesTree_rst__rowWrapper__3N8x9\",\"rst__row\":\"WebsitesTree_rst__row__sOpMM\",\"rst__rowLandingPad\":\"WebsitesTree_rst__rowLandingPad__8iBh_\",\"rst__rowCancelPad\":\"WebsitesTree_rst__rowCancelPad__168WQ\",\"rst__rowSearchMatch\":\"WebsitesTree_rst__rowSearchMatch__3tvfk\",\"rst__rowSearchFocus\":\"WebsitesTree_rst__rowSearchFocus__i0tQK\",\"rst__rowContents\":\"WebsitesTree_rst__rowContents__2gjT5\",\"rst__rowLabel\":\"WebsitesTree_rst__rowLabel__2vqlv\",\"rst__rowToolbar\":\"WebsitesTree_rst__rowToolbar__1ywUi\",\"rst__moveHandle\":\"WebsitesTree_rst__moveHandle__ZTCAp\",\"rst__toolbarButton\":\"WebsitesTree_rst__toolbarButton__1WSvf\",\"rst__rowContentsDragDisabled\":\"WebsitesTree_rst__rowContentsDragDisabled__UefNT\",\"rst__loadingHandle\":\"WebsitesTree_rst__loadingHandle__3Nd3-\",\"rst__loadingCircle\":\"WebsitesTree_rst__loadingCircle__2N8ti\",\"rst__loadingCirclePoint\":\"WebsitesTree_rst__loadingCirclePoint__2UkRf\",\"pointFade\":\"WebsitesTree_pointFade__3_7pL\",\"rst__rowTitle\":\"WebsitesTree_rst__rowTitle__3cKTG\",\"rst__rowTitleWithSubtitle\":\"WebsitesTree_rst__rowTitleWithSubtitle__1PmlO\",\"rst__rowSubtitle\":\"WebsitesTree_rst__rowSubtitle__3UVA_\",\"rst__collapseButton\":\"WebsitesTree_rst__collapseButton__33uiF\",\"rst__expandButton\":\"WebsitesTree_rst__expandButton__1Xkuw\",\"rst__lineChildren\":\"WebsitesTree_rst__lineChildren__2vODD\",\"rst__placeholder\":\"WebsitesTree_rst__placeholder__2LIHl\",\"rst__placeholderLandingPad\":\"WebsitesTree_rst__placeholderLandingPad__1pKvB\",\"rst__placeholderCancelPad\":\"WebsitesTree_rst__placeholderCancelPad__3-6r7\",\"ReactVirtualized__Table__headerRow\":\"WebsitesTree_ReactVirtualized__Table__headerRow__29v2k\",\"ReactVirtualized__Table__row\":\"WebsitesTree_ReactVirtualized__Table__row__1YT8P\",\"ReactVirtualized__Table__headerTruncatedText\":\"WebsitesTree_ReactVirtualized__Table__headerTruncatedText__3M-mT\",\"ReactVirtualized__Table__headerColumn\":\"WebsitesTree_ReactVirtualized__Table__headerColumn__VGmzH\",\"ReactVirtualized__Table__rowColumn\":\"WebsitesTree_ReactVirtualized__Table__rowColumn__3lTTO\",\"ReactVirtualized__Table__sortableHeaderColumn\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderColumn__2q3-M\",\"ReactVirtualized__Table__sortableHeaderIconContainer\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIconContainer__UrZlv\",\"ReactVirtualized__Table__sortableHeaderIcon\":\"WebsitesTree_ReactVirtualized__Table__sortableHeaderIcon__X_qVi\",\"Chosen\":\"WebsitesTree_Chosen__4l8J5\",\"Loaded\":\"WebsitesTree_Loaded__3Jl7q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"DomainsProperties_Span__2bgyT\",\"Input\":\"DomainsProperties_Input__1sfvF\",\"Button\":\"DomainsProperties_Button__1eWcl\",\"LocalDomain\":\"DomainsProperties_LocalDomain__2LikX\",\"Title\":\"DomainsProperties_Title__1O_-V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Div\":\"TextInput_Div__1cUnp\",\"Input\":\"TextInput_Input__iGsIp\",\"StyleControls\":\"TextInput_StyleControls__2aGfC\",\"Wrong\":\"TextInput_Wrong__2kJTR\",\"Inline\":\"TextInput_Inline__3BzMb\",\"Right\":\"TextInput_Right__3iZqV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Span\":\"SharingProperties_Span__2_cvY\",\"Input\":\"SharingProperties_Input__t_zUN\",\"Button\":\"SharingProperties_Button__9sYGP\",\"LocalDomain\":\"SharingProperties_LocalDomain__GHfyW\",\"Title\":\"SharingProperties_Title__2OTNF\",\"SharingTable\":\"SharingProperties_SharingTable__3D-F0\",\"Active\":\"SharingProperties_Active__1jgt1\",\"Ava\":\"SharingProperties_Ava__3tBDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"SiteBuilder_Content__1Cixl\",\"Overlay\":\"SiteBuilder_Overlay__Ed0dz\"};","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\nexports.FrameContextConsumer = exports.FrameContext = undefined\n\nvar _Context = require('./Context')\n\nObject.defineProperty(exports, 'FrameContext', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContext\n    },\n})\nObject.defineProperty(exports, 'FrameContextConsumer', {\n    enumerable: true,\n    get: function get() {\n        return _Context.FrameContextConsumer\n    },\n})\n\nvar _Frame = require('./Frame')\n\nvar _Frame2 = _interopRequireDefault(_Frame)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nexports.default = _Frame2.default\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _extends =\n    Object.assign ||\n    function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i]\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key]\n                }\n            }\n        }\n        return target\n    }\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _reactDom = require('react-dom')\n\nvar _reactDom2 = _interopRequireDefault(_reactDom)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nvar _Context = require('./Context')\n\nvar _Content = require('./Content')\n\nvar _Content2 = _interopRequireDefault(_Content)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n}\n\nvar Frame = (function(_Component) {\n    _inherits(Frame, _Component)\n\n    // React warns when you render directly into the body since browser extensions\n    // also inject into the body and can mess up React. For this reason\n    // initialContent is expected to have a div inside of the body\n    // element that we render react into.\n    function Frame(props, context) {\n        _classCallCheck(this, Frame)\n\n        var _this = _possibleConstructorReturn(\n            this,\n            (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(\n                this,\n                props,\n                context\n            )\n        )\n\n        _this.handleLoad = function() {\n            _this.forceUpdate()\n        }\n\n        _this._isMounted = false\n        return _this\n    }\n\n    _createClass(Frame, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this._isMounted = true\n\n                var doc = this.getDoc()\n                if (doc && doc.readyState === 'complete') {\n                    this.forceUpdate()\n                } else {\n                    this.node.addEventListener('load', this.handleLoad)\n                }\n            },\n        },\n        {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this._isMounted = false\n\n                this.node.removeEventListener('load', this.handleLoad)\n            },\n        },\n        {\n            key: 'getDoc',\n            value: function getDoc() {\n                return this.node.contentDocument // eslint-disable-line\n            },\n        },\n        {\n            key: 'getMountTarget',\n            value: function getMountTarget() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.body\n            },\n        },\n        {\n            key: 'getMountTargetHtml',\n            value: function getMountTargetHtml() {\n                var doc = this.getDoc()\n                if (this.props.mountTarget) {\n                    return doc.querySelector(this.props.mountTarget)\n                }\n                return doc.documentElement\n            },\n        },\n        {\n            key: 'renderFrameContents',\n            value: function renderFrameContents() {\n                if (!this._isMounted) {\n                    return null\n                }\n\n                var doc = this.getDoc()\n\n                var contentDidMount = this.props.contentDidMount\n                var contentDidUpdate = this.props.contentDidUpdate\n\n                var win = doc.defaultView || doc.parentView\n                if (this.props.updateHead) this._setInitialContent = false\n                var initialRender = !this._setInitialContent\n                var contents = _react2.default.createElement(\n                    _Content2.default,\n                    {\n                        contentDidMount: contentDidMount,\n                        contentDidUpdate: contentDidUpdate,\n                    },\n                    _react2.default.createElement(\n                        _Context.FrameContextProvider,\n                        { value: { document: doc, window: win } },\n\n                        this.props.children\n                    )\n                )\n\n                if (initialRender) {\n                    doc.open('text/html', 'replace')\n                    doc.write(\n                        '<!DOCTYPE html><html><head></head><body></body></html>'\n                    )\n                    doc.close()\n                    this._setInitialContent = true\n                }\n                function decodeEntities(encodedString) {\n                    var textArea = document.createElement('textarea')\n                    textArea.innerHTML = encodedString\n                    return textArea.value\n                }\n                doc.head.innerHTML = decodeEntities(this.props.initialContent)\n                // .replace(\n                //     /&(l|g|quo)t;/g,\n                //     function(a, b) {\n                //         return {\n                //             l: '<',\n                //             g: '>',\n                //             quo: '\"',\n                //         }[b]\n                //     }\n                // )\n\n                var mountTarget = this.getMountTarget()\n                for (let attr in this.props.bodyProps) {\n                    mountTarget.setAttribute(attr, this.props.bodyProps[attr])\n                }\n\n                var mountTargetHtml = this.getMountTargetHtml()\n                for (let attr in this.props.htmlProps) {\n                    mountTargetHtml.setAttribute(\n                        attr,\n                        this.props.htmlProps[attr]\n                    )\n                }\n                return [\n                    //_reactDom2.default.createPortal(this.props.head, this.getDoc().head),\n                    _reactDom2.default.createPortal(contents, mountTarget),\n                ]\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                var _this2 = this\n\n                var props = _extends({}, this.props, {\n                    children: undefined, // The iframe isn't ready so we drop children from props here. #12, #17\n                })\n                delete props.head\n                delete props.initialContent\n                delete props.mountTarget\n                delete props.contentDidMount\n                delete props.contentDidUpdate\n                delete props.bodyProps\n                delete props.htmlProps\n                return _react2.default.createElement(\n                    'iframe',\n                    _extends({}, props, {\n                        ref: function ref(node) {\n                            _this2.node = node\n                        },\n                    }),\n                    this.renderFrameContents()\n                )\n            },\n        },\n    ])\n\n    return Frame\n})(_react.Component)\n\nFrame.propTypes = {\n    style: _propTypes2.default.object, // eslint-disable-line\n    head: _propTypes2.default.node,\n    bodyProps: _propTypes2.default.object,\n    htmlProps: _propTypes2.default.object,\n    initialContent: _propTypes2.default.string,\n    mountTarget: _propTypes2.default.string,\n    contentDidMount: _propTypes2.default.func,\n    contentDidUpdate: _propTypes2.default.func,\n    children: _propTypes2.default.oneOfType([\n        _propTypes2.default.element,\n        _propTypes2.default.arrayOf(_propTypes2.default.element),\n    ]),\n}\nFrame.defaultProps = {\n    style: {},\n    head: null,\n    bodyProps: {},\n    htmlProps: {},\n    children: undefined,\n    mountTarget: undefined,\n    contentDidMount: function contentDidMount() {},\n    contentDidUpdate: function contentDidUpdate() {},\n    initialContent: '<!DOCTYPE html><html><head></head><body></body></html>',\n}\nexports.default = Frame\n","/* eslint-disable */\n'use strict'\n\nObject.defineProperty(exports, '__esModule', {\n    value: true,\n})\n\nvar _createClass = (function() {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i]\n            descriptor.enumerable = descriptor.enumerable || false\n            descriptor.configurable = true\n            if ('value' in descriptor) descriptor.writable = true\n            Object.defineProperty(target, descriptor.key, descriptor)\n        }\n    }\n    return function(Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps)\n        if (staticProps) defineProperties(Constructor, staticProps)\n        return Constructor\n    }\n})()\n\nvar _react = require('react')\n\nvar _react2 = _interopRequireDefault(_react)\n\nvar _propTypes = require('prop-types')\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (!self) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return call && (typeof call === 'object' || typeof call === 'function')\n        ? call\n        : self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function, not ' +\n                typeof superClass\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true,\n        },\n    })\n    if (superClass)\n        Object.setPrototypeOf\n            ? Object.setPrototypeOf(subClass, superClass)\n            : (subClass.__proto__ = superClass)\n} // eslint-disable-line no-unused-vars\n\nvar Content = (function(_Component) {\n    _inherits(Content, _Component)\n\n    function Content() {\n        _classCallCheck(this, Content)\n\n        return _possibleConstructorReturn(\n            this,\n            (Content.__proto__ || Object.getPrototypeOf(Content)).apply(\n                this,\n                arguments\n            )\n        )\n    }\n\n    _createClass(Content, [\n        {\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this.props.contentDidMount()\n            },\n        },\n        {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                this.props.contentDidUpdate()\n            },\n        },\n        {\n            key: 'render',\n            value: function render() {\n                return _react.Children.only(this.props.children)\n            },\n        },\n    ])\n\n    return Content\n})(_react.Component)\n\nContent.propTypes = {\n    children: _propTypes2.default.element.isRequired,\n    contentDidMount: _propTypes2.default.func.isRequired,\n    contentDidUpdate: _propTypes2.default.func.isRequired,\n}\nexports.default = Content\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Overlay_Overlay__3WlT_\"};","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../../store/actions/index'\nimport SmallButton from '../../UI/Buttons/SmallButton/SmallButton'\nimport getBoxType from './methods/getBoxType'\nimport generateButtonRules from './methods/generateButtonRules'\nimport { resourceDraftIndex } from '../../../utils/resourceTypeIndex'\n\nimport type {\n    resourceType,\n    initialStateType,\n    elementType,\n} from '../../../store/reducer/reducer'\n\nexport type State = {\n    searchString: string,\n    searchFocusIndex: number,\n    searchFoundCount: null | number,\n    searchStringHasBeenCleared: boolean,\n    searchOpen: boolean,\n}\n\nexport type Props = {\n    resourceDraft: resourceType,\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentPlugin'>,\n    mode: 'page' | 'plugin' | 'template',\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    fromFrame: $PropertyType<initialStateType, 'fromFrame'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    chooseBox: typeof actions.chooseBox,\n    addBox: typeof actions.addBox,\n    duplicateBox: typeof actions.duplicateBox,\n    deleteBox: typeof actions.deleteBox,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    mergeBoxToPlugin: typeof actions.mergeBoxToPlugin,\n    dissolvePluginToBox: typeof actions.dissolvePluginToBox,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    toggleFindMode: typeof actions.toggleFindMode,\n    currentBoxType:\n        | 'html'\n        | 'page'\n        | 'headBody'\n        | 'plugin'\n        | 'children'\n        | 'childrenTo'\n        | 'element'\n        | 'isCMSVariable'\n        | 'isElementFromCMSVariable'\n        | 'none',\n    searchQuery: string,\n    node: elementType,\n}\n\nconst Buttons = (props: Props) => {\n    const currentBoxType = getBoxType(props)\n\n    const buttonRules = generateButtonRules(props, currentBoxType)\n\n    return (\n        <>\n            {props.mode !== 'page' ? (\n                <>\n                    {/* <SmallButton\n                        inline\n                        buttonClicked={() => props.toggleFindMode(props.mode)}\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4zm7-13.93C7.05 1.56 4 4.92 4 9h7V1.07z\"></path></svg>'\n                        tooltip=\"Select an element on the page\"\n                    /> */}\n                    {buttonRules.addNext ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() => props.addBox(props.mode)}\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new element next to the chosen element\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.addNext ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'cmsVariable')\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new element from CMS variable\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.addInside ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'inside')\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.6,13.4H13.4v8.2H10.6V13.4H2.4V10.6h8.2V2.4h2.8v8.2h8.2Zm-2.4,2.8h-.1l-.9.9,1.5,1.4H16.2V15.1H15.1v4.4h4.6l-1.5,1.4.9.9,2.6-2.7h.1Z\"></path></svg>'\n                            tooltip=\"Add a new element inside the chosen element\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.addChildren ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'children')\n                            }\n                            title=\"Children\"\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                            tooltip=\"Add a new inherited children\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.addText ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addBox(props.mode, 'text')\n                            }\n                            title=\"Text\"\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M21.6,13.4H13.4v8.2H10.7V13.4H2.4V10.7h8.2V2.4h2.7v8.2h8.2v2.8Zm0,1.7H15.1v2h2.2v4.7h2.2V17.1h2.2v-2Z\"></path></svg>'\n                            tooltip=\"Add a new text element\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.duplicate ? (\n                        <>\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.duplicateBox(props.mode)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                                tooltip=\"Duplicate the element without children elements\"\n                                requiredRights={['developer']}\n                            />\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.duplicateBox(props.mode, true)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M4,3C3,3,2.3,3.8,2.3,4.8v14.4C2.3,20.2,3,21,4,21h10.6c1,0,1.8-0.8,1.8-1.8V8.4L11.3,3H4z M10.4,9.3v-5l4.8,5H10.4z   M17.8,15.9h4V21h-4V15.9z M17.8,9.4h4v5.2h-4V9.4z M21.8,3v5.1h-4V3H21.8z\"></path></svg>'\n                                tooltip=\"Duplicate the element with children elements\"\n                                requiredRights={['developer']}\n                            />\n                        </>\n                    ) : null}\n\n                    {buttonRules.mergeToPlugin ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.mergeBoxToPlugin(props.mode)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M14,2H10V5H7l5,5,5-5H14ZM2,14H5v3l5-5L5,7v3H2Zm12-2,5,5V14h3V10H19V7ZM10,22h4V19h3l-5-5L7,19h3Z\"></path></svg>'\n                            tooltip=\"Merge element and children elements into a new plugin\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.mergeToPluginChildren ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.mergeBoxToPlugin(props.mode, true)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.4,4.1H8.6V6.3H6.5L10,9.8l3.5-3.5H11.4ZM2.2,13.4H4.3v2.1l3.6-3.6L4.3,8.4v2.1H2.2Zm9.9-1.5,3.6,3.6V13.4h2.1V10.5H15.7V8.4ZM8.6,19.7h2.8V17.6h2.1L10,14.1,6.5,17.6H8.6Zm9.2-3.8h4V21h-4Zm0-6.5h3.9v5.1H17.8Zm0-6.4h4V8.1h-4Z\"></path></svg>'\n                            tooltip=\"Merge children elements into a new plugin\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n                    {buttonRules.dissolve ? (\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.dissolvePluginToBox(props.mode)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10,9h4V6h3L12,1,7,6h3Zm5,5h3v3l5-5L18,7v3H15ZM1,12l5,5V14H9V10H6V7Zm13,3H10v3H7l5,5,5-5H14Z\"></path></svg>'\n                            tooltip=\"Dissolve the plugin into elements\"\n                            requiredRights={['developer']}\n                        />\n                    ) : null}\n\n                    {buttonRules.delete ? (\n                        <>\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.deleteBox(props.mode)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                                tooltip=\"Delete element without children.<br>All children will remain on the page\"\n                                requiredRights={['developer']}\n                            />\n                            <SmallButton\n                                inline\n                                buttonClicked={() =>\n                                    props.deleteBox(props.mode, true)\n                                }\n                                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.8,3h-5l-1,1H2.3v2h14V4h-3.5L11.8,3z M3.3,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7h-12C3.3,7,3.3,19,3.3,19z M17.8,3  v5.1h4V3H17.8z M17.8,21h4v-5.1h-4V21z M17.8,14.6h4V9.4h-4V14.6z\"></path></svg>'\n                                tooltip=\"Delete element with all children inside\"\n                                requiredRights={['developer']}\n                            />\n                        </>\n                    ) : null}\n                </>\n            ) : null}\n            <SmallButton\n                inline\n                buttonClicked={() =>\n                    props.setState({\n                        ...props.state,\n                        searchOpen: !props.state.searchOpen,\n                    })\n                }\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                tooltip=\"Show or hide search\"\n            />\n            <SmallButton\n                inline\n                buttonClicked={() => props.markShouldRefreshing(true)}\n                icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"></path></svg>'\n                tooltip=\"Reload page\"\n            />\n        </>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        hoveredElementId: -100,\n        findMode: state.findMode,\n        resourceDraftStructure:\n            state.mD[resourceDraftIndex[props.mode]].structure,\n        currentBox: state.mD[resourceDraftIndex[props.mode]].currentBox,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        addBox: (mode, type) => dispatch(actions.addBox(mode, type)),\n        duplicateBox: (mode, withChildren) =>\n            dispatch(actions.duplicateBox(mode, withChildren)),\n        mergeBoxToPlugin: (type, onlyChildren) =>\n            dispatch(actions.mergeBoxToPlugin(type, onlyChildren)),\n        dissolvePluginToBox: type =>\n            dispatch(actions.dissolvePluginToBox(type)),\n        deleteBox: (mode, withChildren) =>\n            dispatch(actions.deleteBox(mode, withChildren)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n    }\n}\n// let prevVal\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(Buttons))\n","import { checkIfCapital } from '../../../../utils/basic'\n\nimport type { Props } from '../ElementsTree'\n\nexport default (props: Props) => {\n    const currentBox = props.currentBox\n    let currentItemInStructure = null\n    if (currentBox) {\n        currentItemInStructure = props.resourceDraftStructure.find(\n            item => item.id === currentBox\n        )\n    }\n    let currentBoxType: $PropertyType<Props, 'currentBoxType'>\n    if (currentItemInStructure) {\n        if (currentItemInStructure.path.length === 0) {\n            currentBoxType = 'html'\n        } else if (\n            currentItemInStructure.path.length === 1 &&\n            props.mode === 'page'\n        ) {\n            currentBoxType = 'headBody'\n        } else if (checkIfCapital(currentItemInStructure.tag.charAt(0))) {\n            currentBoxType = 'plugin'\n        } else {\n            currentBoxType = 'element'\n        }\n        if (currentItemInStructure.isChildren) {\n            currentBoxType = 'children'\n        }\n        if (currentItemInStructure.childrenTo) {\n            currentBoxType = 'childrenTo'\n        }\n        if (currentItemInStructure.isCMSVariable) {\n            currentBoxType = 'isCMSVariable'\n        }\n        if (currentItemInStructure.isElementFromCMSVariable) {\n            currentBoxType = 'isElementFromCMSVariable'\n        }\n    } else {\n        currentBoxType = 'none'\n    }\n    return currentBoxType\n}\n","import type { Props } from '../ElementsTree'\n\nexport default (\n    props: Props,\n    currentBoxType: $PropertyType<Props, 'currentBoxType'>\n) => {\n    const buttonRules = {}\n\n    if (\n        currentBoxType !== 'isCMSVariable' &&\n        currentBoxType !== 'isElementFromCMSVariable'\n    )\n        buttonRules.addText = true\n\n    if (currentBoxType !== 'childrenTo') buttonRules.addNext = true\n\n    if (props.mode === 'plugin') buttonRules.addChildren = true\n\n    if (\n        currentBoxType !== 'plugin' &&\n        currentBoxType !== 'children' &&\n        currentBoxType !== 'isElementFromCMSVariable'\n    )\n        buttonRules.addInside = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children'\n    )\n        buttonRules.duplicate = true\n\n    if (currentBoxType === 'element') buttonRules.mergeToPlugin = true\n\n    if (currentBoxType === 'element' || currentBoxType === 'headBody')\n        buttonRules.mergeToPluginChildren = true\n\n    if (currentBoxType === 'plugin') buttonRules.dissolve = true\n\n    if (\n        currentBoxType === 'element' ||\n        currentBoxType === 'plugin' ||\n        currentBoxType === 'children' ||\n        currentBoxType === 'isElementFromCMSVariable' ||\n        currentBoxType === 'isCMSVariable'\n    )\n        buttonRules.delete = true\n\n    return buttonRules\n}\n","export default [\n    'a',\n    'abbr',\n    'acronym',\n    'address',\n    'applet',\n    'area',\n    'article',\n    'aside',\n    'audio',\n    'b',\n    'base',\n    'basefont',\n    'bdi',\n    'bdo',\n    'bgsound',\n    'big',\n    'blink',\n    'blockquote',\n    'body',\n    'br',\n    'button',\n    'canvas',\n    'caption',\n    'center',\n    'cite',\n    'code',\n    'col',\n    'colgroup',\n    'content',\n    'data',\n    'datalist',\n    'dd',\n    'decorator',\n    'del',\n    'details',\n    'dfn',\n    'dir',\n    'div',\n    'dl',\n    'dt',\n    'element',\n    'em',\n    'embed',\n    'fieldset',\n    'figcaption',\n    'figure',\n    'font',\n    'footer',\n    'form',\n    'frame',\n    'frameset',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'head',\n    'header',\n    'hgroup',\n    'hr',\n    'html',\n    'i',\n    'iframe',\n    'img',\n    'input',\n    'ins',\n    'isindex',\n    'kbd',\n    'keygen',\n    'label',\n    'legend',\n    'li',\n    'link',\n    'listing',\n    'main',\n    'map',\n    'mark',\n    'marquee',\n    'menu',\n    'menuitem',\n    'meta',\n    'meter',\n    'nav',\n    'nobr',\n    'noframes',\n    'noscript',\n    'object',\n    'ol',\n    'optgroup',\n    'option',\n    'output',\n    'p',\n    'param',\n    'parseHTML',\n    'plaintext',\n    'pre',\n    'progress',\n    'q',\n    'richEditor',\n    'rp',\n    'rt',\n    'ruby',\n    's',\n    'samp',\n    'script',\n    'section',\n    'select',\n    'shadow',\n    'small',\n    'source',\n    'spacer',\n    'span',\n    'strike',\n    'strong',\n    'style',\n    'sub',\n    'summary',\n    'sup',\n    'table',\n    'tbody',\n    'td',\n    'template',\n    'textarea',\n    'tfoot',\n    'th',\n    'thead',\n    'time',\n    'title',\n    'tr',\n    'track',\n    'tt',\n    'u',\n    'ul',\n    'var',\n    'video',\n    'wbr',\n    'websiterMenu',\n    'xmp',\n]\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions/index'\nimport * as classes from '../../ResourcesTree/ResourcesTree.module.css'\nimport InspectorValue from '../../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../../utils/sortTreeMethods'\nimport tagItems from '../../../utils/tagItems'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type {\n    initialStateType,\n    elementType,\n    resourceType,\n} from '../../../store/reducer/reducer'\n\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\n\ntype Props = {\n    changeBoxProperty: typeof actions.changeBoxProperty,\n    chooseBox: typeof actions.chooseBox,\n    hoverBox: typeof actions.hoverBox,\n    unhoverBox: typeof actions.unhoverBox,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: elementType & {\n        children: Array<elementType>,\n        expanded: boolean,\n        resourceDraft: resourceType,\n        currentResource:\n            | $PropertyType<initialStateType, 'currentPage'>\n            | $PropertyType<initialStateType, 'currentPlugin'>,\n        pluginsStructure: $PropertyType<initialStateType, 'pluginsStructure'>,\n        mode: 'page' | 'plugin',\n        itemPath: Array<{}>,\n    },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin' | 'template',\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n    mode: string,\n}\n\nconst ItemRenderer = (props: Props) => {\n    if (!props.currentNode) return null\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        didDrop = _this$props.didDrop\n    // otherProps = _objectWithoutProperties(_this$props, [\n    //     'scaffoldBlockPxWidth',\n    //     'toggleChildrenVisibility',\n    //     'connectDragPreview',\n    //     'connectDragSource',\n    //     'isDragging',\n    //     'canDrop',\n    //     'canDrag',\n    //     'node',\n    //     'title',\n    //     'subtitle',\n    //     'draggedNode',\n    //     'path',\n    //     'treeIndex',\n    //     'isSearchMatch',\n    //     'isSearchFocus',\n    //     'buttons',\n    //     'className',\n    //     'style',\n    //     'didDrop',\n    //     'treeId',\n    //     'isOver',\n    //     'parentNode',\n    //     'chooseBox',\n    //     'hoverBox',\n    //     'unhoverBox',\n    //     'changeBoxProperty',\n    //     'resourceDraft',\n    //     'currentResource',\n    //     'pluginsStructure',\n    //     'properties',\n    //     'mode',\n    //     'itemPath',\n    //     'text',\n    //     'isChildren',\n    //     'isElementFromCMSVariable',\n    //     'forChildren',\n    //     'textContent',\n    //     'rowDirection',\n    //     'tryWebsiter',\n    //     'userId',\n    //     'loadedWebsite',\n    //     'resourcesObjects',\n    // ])\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(<div className={classes.rst__moveHandle} />)\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const { id, mode, itemPath } = props.node\n\n    const {\n        currentResource,\n        pluginsStructure,\n        currentNodeValues,\n        isCurrentBox,\n    } = props\n\n    const {\n        tag,\n        text,\n        isChildren,\n        isElementFromCMSVariable,\n        childrenTo,\n    } = props.currentNode\n    if (\n        id ===\n        'element_21_forPlugin_5e552539a8244072b62fceaf_childrenTo_element_3'\n    )\n        console.log(tag)\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive)\n        rowClasses.push(\n            isCurrentBox\n                ? [classes.Chosen]\n                : id === props.hoveredElementId\n                ? [classes.Hovered]\n                : null\n        )\n\n    const handleRename = value => {\n        if (\n            !props.checkUserRights(\n                props.mode === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        if (value !== tag) {\n            if (mode === 'plugin') {\n                const currentPlugin = pluginsStructure.find(\n                    item => item.id === currentResource\n                )\n                if (!currentPlugin) return\n                if (value === currentPlugin.name) {\n                    alert('Plugin can not be inside itself.')\n                    return\n                }\n            }\n            props.changeBoxPropertyInStructure(mode, 'tag', value, false, id)\n        }\n    }\n    return (\n        <div\n            // {..._extends({ style: { height: '100%' } }, otherProps)}\n            {..._extends({ style: { height: '100%' } }, {})}\n            onMouseDown={() => props.chooseBox(mode, id)}\n            // onMouseEnter={() => props.hoverBox(id, mode)}\n            // onMouseMove={() => props.hoverBox(id, mode)}\n            // onMouseLeave={() => props.unhoverBox()}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread({\n                            opacity: isDraggedDescendant ? 0.5 : 1,\n                        })}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {text && currentNodeValues ? (\n                                    'text' +\n                                    (currentNodeValues.textContent\n                                        ? ' - \"' +\n                                          currentNodeValues.textContent.substr(\n                                              0,\n                                              25\n                                          ) +\n                                          (currentNodeValues.textContent\n                                              .length > 25\n                                              ? '...'\n                                              : '') +\n                                          '\"'\n                                        : '')\n                                ) : (\n                                    <>\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? '<'\n                                            : isElementFromCMSVariable\n                                            ? 'From CMS variable - '\n                                            : ''}\n                                        {(mode === 'plugin' &&\n                                            itemPath.length > 0) ||\n                                        ((mode === 'template' &&\n                                            itemPath.length > 1) ||\n                                            itemPath[0] === 'element_02') ? (\n                                            props.checkUserRights(\n                                                mode === 'page'\n                                                    ? ['content']\n                                                    : ['developer'],\n                                                true\n                                            ) ? (\n                                                <InspectorValue\n                                                    readonly={childrenTo}\n                                                    value={tag}\n                                                    items={tagItems.map(\n                                                        item => {\n                                                            return {\n                                                                abbr: item,\n                                                                name: item,\n                                                            }\n                                                        }\n                                                    )}\n                                                    blur={handleRename}\n                                                    withState\n                                                />\n                                            ) : (\n                                                tag\n                                            )\n                                        ) : (\n                                            tag\n                                        )}\n                                        {currentNodeValues ? (\n                                            currentNodeValues.properties ? (\n                                                <>\n                                                    {currentNodeValues\n                                                        .properties.id\n                                                        ? ` id=\"${\n                                                              currentNodeValues\n                                                                  .properties.id\n                                                          }\"`\n                                                        : ''}\n                                                    {currentNodeValues\n                                                        .properties.class\n                                                        ? ` class=\"${\n                                                              currentNodeValues\n                                                                  .properties\n                                                                  .class\n                                                          }\"`\n                                                        : ''}\n                                                </>\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )}\n                                        {!isChildren &&\n                                        !isElementFromCMSVariable\n                                            ? ' >'\n                                            : isElementFromCMSVariable\n                                            ? ''\n                                            : ' (inherited children)'}\n                                    </>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    const currentNode = state.mD[resourceDraftIndex[props.mode]].structure.find(\n        item => item.id === props.node.id\n    )\n    if (!currentNode) {\n        return {}\n    }\n    return {\n        isCurrentBox:\n            state.mD[resourceDraftIndex[props.mode]].currentBox ===\n            currentNode.id,\n        currentNode,\n        currentNodeValues:\n            state.mD[resourceDraftIndex[props.mode]].values[currentNode.id],\n        currentResource: state.mD[currentIndex[props.mode]],\n        pluginsStructure: state.mD.pluginsStructure,\n        hoveredElementId: -100,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        chooseBox: (type, id) => dispatch(actions.chooseBox(type, id)),\n        changeBoxPropertyInStructure: (\n            type,\n            key,\n            value,\n            notForHistory,\n            boxId\n        ) =>\n            dispatch(\n                actions.changeBoxPropertyInStructure(\n                    type,\n                    key,\n                    value,\n                    false,\n                    boxId\n                )\n            ),\n        hoverBox: (id, mode) => dispatch(actions.hoverBox(id, mode)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport LazyLoad from 'react-lazyload'\n\nimport * as actions from '../../../store/actions/index'\nimport * as wsActions from '../../../websocketActions'\nimport * as classes from './Images.module.css'\n// import * as barClasses from '../AdvancedBar.module.css'\nimport Svg from '../../../components/Svg/Svg'\nimport { bucket, CloudFrontUrl } from '../../../awsConfig'\nimport SmallButton from '../../../components/UI/Buttons/SmallButton/SmallButton'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    imageUpload: typeof actions.imageUpload,\n    chooseImage: typeof actions.chooseImage,\n    currentImage: $PropertyType<initialStateType, 'currentImage'>,\n}\n\nconst copyToClipboard = str => {\n    const el = document.createElement('textarea') // Create a <textarea> element\n    el.value = str // Set its value to the string that you want copied\n    el.setAttribute('readonly', '') // Make it readonly to be tamper-proof\n    el.style.position = 'absolute'\n    el.style.left = '-9999px' // Move outside the screen to make it invisible\n    // $FlowFixMe\n    document.body.appendChild(el) // Append the <textarea> element to the HTML document\n    const selected =\n        // $FlowFixMe\n        document.getSelection().rangeCount > 0 // Check if there is any content selected previously\n            ? // $FlowFixMe\n              document.getSelection().getRangeAt(0) // Store selection if found\n            : false // Mark as false to know no selection existed before\n    el.select() // Select the <textarea> content\n    document.execCommand('copy') // Copy - only works as a result of a user action (e.g. click events)\n    // $FlowFixMe\n    document.body.removeChild(el) // Remove the <textarea> element\n    if (selected) {\n        // If a selection existed before copying\n        // $FlowFixMe\n        document.getSelection().removeAllRanges() // Unselect everything on the HTML document\n        // $FlowFixMe\n        document.getSelection().addRange(selected) // Restore the original selection\n    }\n}\n\nconst Images = (props: Props) =>\n    props.currentWebsiteObject ? (\n        <div style={{ height: '100%' }}>\n            <div className={classes.Buttons}>\n                <SmallButton\n                    inline\n                    icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M5 4v3h5.5v12h3V7H19V4z\" ></path></svg>'\n                    buttonClicked={() => props.renameImage(props.currentImage)}\n                    tooltip=\"Rename media file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg height=\"20\" viewBox=\"0 0 24 24\" width=\"20\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" ></path></svg>'\n                    buttonClicked={() => props.deleteImage(props.currentImage)}\n                    tooltip=\"Delete media file\"\n                    requiredRights={['developer', 'content']}\n                />\n                <SmallButton\n                    inline\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                    buttonClicked={() => {\n                        const filteredImage = props.currentWebsiteObject.images.find(\n                            image => image.name === props.currentImage\n                        )\n                        if (filteredImage) {\n                            copyToClipboard(filteredImage.url)\n                        }\n                        // copyToClipboard('websiter/' + props.currentImage)\n                    }}\n                    tooltip=\"Copy path to the media file to clipboard.<br>You can paste it where needed.\"\n                    requiredRights={['developer', 'content']}\n                />\n            </div>\n            <div className={classes.Images}>\n                <label className={classes.ImageContainer}>\n                    <input\n                        className={classes.ImageInput}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={e => {\n                            if (props.checkUserRights(['developer', 'content']))\n                                props.imageUpload(e.target.files)\n                        }}\n                    />\n                    <Svg icon='<svg height=\"150\" viewBox=\"0 0 24 24\" width=\"150\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>' />\n                    <p className={classes.ImageName}>Upload image</p>\n                </label>\n                {props.currentWebsiteObject.images.map(image => {\n                    const edits = {\n                        resize: {\n                            width: 150,\n                            height: 150,\n                            fit: 'contain',\n                            background: { r: 0, g: 0, b: 0, alpha: 0 },\n                        },\n                    }\n                    if (image.type !== 'image/png') edits.toFormat = 'png'\n                    const imageRequest = JSON.stringify({\n                        bucket: bucket,\n                        key: image.name,\n                        edits,\n                    })\n                    const url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n\n                    let imageClass = classes.ImageContainer\n\n                    if (image.name === props.currentImage) {\n                        imageClass = [\n                            classes.ImageContainer,\n                            classes.ImageContainerChosen,\n                        ].join(' ')\n                    }\n\n                    return (\n                        <div\n                            className={imageClass}\n                            key={image.name}\n                            onClick={() => props.chooseImage(image.name)}\n                        >\n                            <LazyLoad height={150}>\n                                <img\n                                    src={url}\n                                    height=\"150\"\n                                    width=\"150\"\n                                    alt=\"websiter\"\n                                />\n                                <p className={classes.ImageName}>\n                                    {image.label}\n                                </p>\n                            </LazyLoad>\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    ) : null\n\nconst mapStateToProps = state => {\n    return {\n        currentImage: state.currentImage,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        imageUpload: files => dispatch(actions.imageUpload(files)),\n        renameImage: image => dispatch(wsActions.renameImage(image)),\n        deleteImage: image => dispatch(wsActions.deleteImage(image)),\n        chooseImage: image => dispatch(actions.chooseImage(image)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Images)\n","export const bucket = 'websiter'\nexport const CloudFrontUrl = 'https://d397lp77nj14b9.cloudfront.net/'\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\nimport InspectorValue from '../UI/InspectorValue/InspectorValue'\nimport {\n    _extends,\n    isDescendant,\n    _objectSpread,\n    // $FlowFixMe\n} from '../../utils/sortTreeMethods'\nimport Svg from '../Svg/Svg'\nimport { structure } from '../../utils/resourceTypeIndex'\nimport checkUserRights from '../../utils/checkUserRights'\nimport * as wsActions from '../../websocketActions'\n\nimport type { pageType, initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    changeWebsiteProperty: typeof actions.changeWebsiteProperty,\n    chooseResource: typeof actions.chooseResource,\n    connectDragPreview: Function,\n    scaffoldBlockPxWidth: number,\n    toggleChildrenVisibility: Function,\n    connectDragPreview: Function,\n    connectDragSource: Function,\n    isDragging: boolean,\n    canDrop: boolean,\n    canDrag: boolean,\n    node: pageType & { children: Array<pageType>, expanded: boolean },\n    draggedNode: {},\n    path: Array<string>,\n    treeIndex: number,\n    isSearchMatch: boolean,\n    isSearchFocus: boolean,\n    className: string,\n    style: string,\n    didDrop: boolean,\n    type: 'page' | 'plugin' | 'template',\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n}\n\nconst ItemRenderer = (props: Props) => {\n    // const mD = getEssentialData(props.userId, props.resourcesObjects)\n    var _this$props = props,\n        scaffoldBlockPxWidth = _this$props.scaffoldBlockPxWidth,\n        toggleChildrenVisibility = _this$props.toggleChildrenVisibility,\n        connectDragPreview = _this$props.connectDragPreview,\n        connectDragSource = _this$props.connectDragSource,\n        isDragging = _this$props.isDragging,\n        canDrop = _this$props.canDrop,\n        canDrag = _this$props.canDrag,\n        node = _this$props.node,\n        draggedNode = _this$props.draggedNode,\n        path = _this$props.path,\n        treeIndex = _this$props.treeIndex,\n        isSearchMatch = _this$props.isSearchMatch,\n        isSearchFocus = _this$props.isSearchFocus,\n        className = _this$props.className,\n        style = _this$props.style,\n        didDrop = _this$props.didDrop\n\n    var handle\n\n    if (canDrag) {\n        handle = connectDragSource(<div className={classes.rst__moveHandle} />)\n    }\n\n    var isLandingPadActive = !didDrop && isDragging\n    var isDraggedDescendant = draggedNode && isDescendant(draggedNode, node)\n    var buttonStyle = {\n        left: -0.5 * scaffoldBlockPxWidth,\n    }\n\n    const {\n        name,\n        id,\n        url,\n        homepage,\n        hidden,\n        published,\n        generalSettings,\n    } = props.node\n\n    const isGeneralSettings =\n        id === props.globalSettingsPageId ||\n        id === props.globalSettingsTemplateId\n\n    const rowClasses = [classes.rst__row]\n    if (isLandingPadActive) rowClasses.push(classes.rst__rowLandingPad)\n    if (isLandingPadActive && !canDrop)\n        rowClasses.push(classes.rst__rowCancelPad)\n    if (isSearchMatch) rowClasses.push(classes.rst__rowSearchMatch)\n    if (isSearchFocus) rowClasses.push(classes.rst__rowSearchFocus)\n    if (!isLandingPadActive) rowClasses.push(className)\n\n    const handlePropertyChange = (key, value, id) => {\n        if (\n            !props.checkUserRights(\n                props.type === 'page' ? ['content'] : ['developer']\n            )\n        ) {\n            return\n        }\n        value = value.trim()\n        if (key === 'url') {\n            value = value.replace(/\\s+/g, '-').toLowerCase()\n        }\n        const newStructure = cloneDeep(props.structure)\n        const element = newStructure.find(item => item.id === id)\n        // $FlowFixMe\n        if (element[key] !== value) {\n            // $FlowFixMe\n            element[key] = value\n            props.sendUpdate(\n                'website',\n                {\n                    [structure[props.type]]: newStructure,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const handleChoose = id => {\n        if (\n            props.currentPageId !== id &&\n            props.currentTemplateId !== id &&\n            props.currentPluginId !== id\n        )\n            props.chooseResource(id, props.type)\n    }\n\n    return (\n        <div\n            {..._extends({ style: { height: '100%' } })}\n            onMouseDown={() => handleChoose(id)}\n        >\n            {toggleChildrenVisibility &&\n                node.children &&\n                (node.children.length > 0 ||\n                    typeof node.children === 'function') && (\n                    <div onMouseDown={e => e.stopPropagation()}>\n                        <button\n                            type=\"button\"\n                            aria-label={node.expanded ? 'Collapse' : 'Expand'}\n                            className={\n                                node.expanded\n                                    ? classes.rst__collapseButton\n                                    : classes.rst__expandButton\n                            }\n                            style={buttonStyle}\n                            onClick={function onClick() {\n                                return toggleChildrenVisibility({\n                                    node: node,\n                                    path: path,\n                                    treeIndex: treeIndex,\n                                })\n                            }}\n                        />\n                        {node.expanded && !isDragging && (\n                            <div\n                                style={{ width: scaffoldBlockPxWidth }}\n                                className={classes.rst__lineChildren}\n                            />\n                        )}\n                    </div>\n                )}\n            <div className={classes.rst__rowWrapper}>\n                {connectDragPreview(\n                    <div\n                        className={rowClasses.join(' ')}\n                        style={_objectSpread(\n                            {\n                                opacity: isDraggedDescendant ? 0.5 : 1,\n                            },\n                            style\n                        )}\n                    >\n                        {handle}\n                        <div\n                            className={\n                                canDrag\n                                    ? classes.rst__rowContents\n                                    : [\n                                          classes.rst__rowContents,\n                                          classes.rst__rowContentsDragDisabled,\n                                      ].join(' ')\n                            }\n                            style={\n                                props.type === 'page'\n                                    ? {\n                                          minWidth: '350px',\n                                          paddingRight: '90px',\n                                      }\n                                    : {}\n                            }\n                        >\n                            <div className={classes.rst__rowLabel}>\n                                {props.checkUserRights(\n                                    props.type === 'page'\n                                        ? ['content']\n                                        : ['developer'],\n                                    true\n                                ) && !isGeneralSettings ? (\n                                    <InspectorValue\n                                        value={name}\n                                        items={[]}\n                                        blur={value =>\n                                            handlePropertyChange(\n                                                'name',\n                                                value,\n                                                id\n                                            )\n                                        }\n                                        withState\n                                        requiredRights={\n                                            props.type === 'page'\n                                                ? ['content']\n                                                : ['developer']\n                                        }\n                                    />\n                                ) : (\n                                    name\n                                )}\n                            </div>\n                            {props.type === 'page' && !isGeneralSettings ? (\n                                <div className={classes.rst__rowLabel}>\n                                    url:\n                                    {props.checkUserRights(\n                                        props.type === 'page'\n                                            ? ['content']\n                                            : ['developer'],\n\n                                        true\n                                    ) ? (\n                                        <InspectorValue\n                                            value={url}\n                                            items={[]}\n                                            blur={value =>\n                                                handlePropertyChange(\n                                                    'url',\n                                                    value,\n                                                    id\n                                                )\n                                            }\n                                            withState\n                                            allowEmpty\n                                        />\n                                    ) : (\n                                        url\n                                    )}\n                                </div>\n                            ) : null}\n                            <div\n                                className={[\n                                    classes.IconsContainer,\n                                    props.type === 'page'\n                                        ? classes.IconsContainerPage\n                                        : classes.IconsContainerNotPage,\n                                ].join(' ')}\n                            >\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {homepage ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                {props.type === 'page' && !isGeneralSettings ? (\n                                    <div>\n                                        {hidden ? (\n                                            <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>' />\n                                        ) : (\n                                            <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                        )}\n                                    </div>\n                                ) : null}\n                                <div>\n                                    {!published ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {props.notSavedResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                                <div>\n                                    {props.newVersionResources.includes(id) ? (\n                                        <Svg icon='<svg width=\"17\" height=\"17\" viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.89,4,2.01,4.89,2.01,6L2,18c0,1.11,0.89,2,2,2h16c1.11,0,2-0.89,2-2V6C22,4.89,21.11,4,20,4z M8.5,15H7.3 l-2.55-3.5V15H3.5V9h1.25l2.5,3.5V9H8.5V15z M13.5,10.26H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4V10.26z M20.5,14 c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25V14z\"></path></svg>' />\n                                    ) : (\n                                        <Svg icon='<svg width=\"17\" height=\"17\"></svg>' />\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        notSavedResources: state.notSavedResources,\n        resourcesObjects: state.resourcesObjects,\n        userId: state.userId,\n        structure: state.mD[structure[props.type]],\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentPageId: state.mD.currentPageId,\n        currentTemplateId: state.mD.currentTemplateId,\n        currentPluginId: state.mD.currentPluginId,\n        globalSettingsPageId: state.mD.globalSettingsPageId,\n        globalSettingsTemplateId: state.mD.globalSettingsTemplateId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseResource: (id, type) =>\n            dispatch(actions.chooseResource(id, type)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ItemRenderer)\n","import React, { useState } from 'react'\n// import SortableTree from 'react-sortable-tree'\n// import HTML5Backend from 'react-dnd-html5-backend'\n// import TouchBackend from 'react-dnd-touch-backend'\nimport { SortableTreeWithoutDndContext as SortableTree } from 'react-sortable-tree'\n// import SortableTree from 'react-sortable-tree'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport * as actions from '../../store/actions/index'\nimport * as classes from './ResourcesTree.module.css'\n// import withDragDropContext from '../../hoc/withDragDropContext'\nimport SmallButton from '../UI/Buttons/SmallButton/SmallButton'\nimport { buildItems } from '../../utils/pagesStructure'\nimport ItemRenderer from './ItemRenderer'\nimport { TreeSearch } from '../UI/TreeSearch/TreeSearch'\nimport { buildTree } from '../../utils/basic'\nimport Select from '../UI/Select/Select'\nimport checkUserRights from '../../utils/checkUserRights'\nimport {\n    current as currentIndex,\n    structure as structureIndex,\n    resourceItemIndex,\n} from '../../utils/resourceTypeIndex'\nimport * as wsActions from '../../websocketActions'\nimport { connect } from 'react-redux'\n\n// import { DndProvider } from 'react-dnd'\n// import MultiBackend from 'react-dnd-multi-backend'\n// import HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch'\n\nimport type { State } from '../ElementsTreeAndProperties/ElementsTree/ElementsTree'\n\n// const isTouchDevice = !!('ontouchstart' in window || navigator.maxTouchPoints)\n// const dndBackend = isTouchDevice ? TouchBackend : HTML5Backend\n\nexport type Props = {\n    type: 'page' | 'plugin' | 'template',\n    addResource: typeof actions.addResource,\n    duplicateResource: typeof actions.addResource,\n    deleteResource: typeof actions.deleteResource,\n    saveResourcesStructure: typeof actions.saveResourcesStructure,\n    saveResource: typeof actions.saveResource,\n    publishRevertResource: typeof actions.publishRevertResource,\n    revertResourceToSaved: typeof actions.revertResourceToSaved,\n}\n\nconst ResourcesTree = (props: Props) => {\n    const {\n        structure,\n        currentResource,\n        currentResourcesStructureElement,\n    } = props\n\n    const treeData = buildTree(structure)\n\n    const handleChange = items => {\n        const result = []\n        buildItems(items, [], result)\n        if (!isEqual(result, structure)) {\n            if (\n                !isEqual(\n                    result.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    ),\n                    structure.map(item =>\n                        omit(item, ['expanded', 'children', 'itemPath'])\n                    )\n                )\n            )\n                if (\n                    !props.checkUserRights(\n                        props.type === 'page' ? ['content'] : ['developer']\n                    )\n                ) {\n                    return\n                }\n\n            props.sendUpdate(\n                'website',\n                {\n                    [structureIndex[props.type]]: result,\n                },\n                props.currentWebsiteId\n            )\n        }\n    }\n\n    const resourceStructureAttributeChange = (key, value) => {\n        if (!currentResourcesStructureElement) return\n        const newStructure = structure.map(item => {\n            if (item.id === currentResource) {\n                return {\n                    ...item,\n                    [key]: value,\n                }\n            } else {\n                if (key === 'homepage') return { ...item, homepage: false }\n                else return item\n            }\n        })\n        props.sendUpdate(\n            'website',\n            {\n                [structureIndex[props.type]]: newStructure,\n            },\n            props.currentWebsiteId\n        )\n    }\n\n    const handleSaveResource = () => {\n        if (!currentResourcesStructureElement) return\n        props.sendUpdate(props.type, {}, currentResource)\n    }\n\n    const handlePublishRevert = (revert?: boolean) => {\n        if (!currentResourcesStructureElement) return\n        props.publishResource(props.type)\n    }\n\n    const [state: State, setState] = useState({\n        searchString: '',\n        searchFocusIndex: 0,\n        searchFoundCount: null,\n        searchStringHasBeenCleared: true,\n        searchOpen: false,\n    })\n\n    const searchMethod = ({ node, path, treeIndex, searchQuery }) => {\n        if (!searchQuery) return false\n        if (node.name.indexOf(searchQuery) > -1) return true\n    }\n\n    const templateOptions = props.templatesStructure\n        .filter(item => !item.generalSettings && !item.hidden)\n        .map(item => ({\n            label: item.name,\n            value: item.name,\n        }))\n\n    const canDropHandle = ({ nextParent, nextPath, prevPath }) => {\n        if (!nextParent || nextParent.generalSettings) return false\n        return true\n    }\n\n    const canDragHandle = ({ node }) => {\n        if (node.generalSettings) return false\n        return true\n    }\n    const generateNodePropsHandle = ({ node }) => ({\n        className: node.id === currentResource ? [classes.Chosen] : null,\n        type: props.type,\n    })\n\n    return (\n        <>\n            <div>\n                <SmallButton\n                    inline\n                    buttonClicked={() => props.addResource(props.type)}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    tooltip=\"Add new resource (page, template or plugin)\"\n                    requiredRights={\n                        props.type === 'page' ? ['content'] : ['developer']\n                    }\n                />\n                {!props.isGlobalSettingsPage ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.addResource(props.type, true)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>'\n                            tooltip=\"Duplicate resource\"\n                            requiredRights={\n                                props.type === 'page'\n                                    ? ['content']\n                                    : ['developer']\n                            }\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                props.deleteResource(props.type)\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                            tooltip=\"Delete resource\"\n                            requiredRights={\n                                props.type === 'page'\n                                    ? ['content']\n                                    : ['developer']\n                            }\n                        />\n                    </>\n                ) : null}\n                {props.type === 'page' && !props.isGlobalSettingsPage ? (\n                    <>\n                        <SmallButton\n                            inline\n                            buttonClicked={() =>\n                                resourceStructureAttributeChange(\n                                    'homepage',\n                                    true\n                                )\n                            }\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"></path></svg>'\n                            tooltip=\"Set as the homepage\"\n                            requiredRights={['content']}\n                        />\n                        <SmallButton\n                            inline\n                            buttonClicked={() => {\n                                if (currentResourcesStructureElement)\n                                    resourceStructureAttributeChange(\n                                        'hidden',\n                                        !currentResourcesStructureElement.hidden\n                                    )\n                            }}\n                            icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                            tooltip=\"Make hidden or visible. <br>Hidden resources do not influence other resources.\"\n                            requiredRights={['content']}\n                        />\n                    </>\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() => handleSaveResource()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    tooltip=\"Save all changes in the resource.<br>Saved changes are not visible on the live version if they are not published.\"\n                    requiredRights={\n                        props.type === 'page' ? ['content'] : ['developer']\n                    }\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() => handlePublishRevert()}\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"></path></svg>'\n                    tooltip=\"Publish last saved changes of the resource.\"\n                    requiredRights={\n                        props.type === 'page' ? ['content'] : ['developer']\n                    }\n                />\n                {props.newVersionResources.includes(currentResource) ? (\n                    <SmallButton\n                        inline\n                        buttonClicked={() =>\n                            props.revertResource(props.type, 'draft')\n                        }\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.89,4,2.01,4.89,2.01,6L2,18c0,1.11,0.89,2,2,2h16c1.11,0,2-0.89,2-2V6C22,4.89,21.11,4,20,4z M8.5,15H7.3 l-2.55-3.5V15H3.5V9h1.25l2.5,3.5V9H8.5V15z M13.5,10.26H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4V10.26z M20.5,14 c0,0.55-0.45,1-1,1h-4c-0.55,0-1-0.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25V14z\"></path></svg>'\n                        tooltip=\"A new version of this resource is available. Press the button to load the new version.\"\n                        requiredRights={\n                            props.type === 'page' ? ['content'] : ['developer']\n                        }\n                    />\n                ) : null}\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.revertResource(props.type, 'published')\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.2,8c-3.8,0-6.8,3.1-6.8,6.8c0,3.8,3,6.8,6.8,6.8s6.8-3.1,6.8-6.8S19,8,15.2,8z M19.9,12.1h-2c-0.2-0.9-0.5-1.7-0.9-2.4   C18.2,10.1,19.3,11,19.9,12.1z M15.2,9.4c0.6,0.8,1,1.7,1.3,2.7h-2.6C14.2,11.2,14.7,10.3,15.2,9.4z M13.5,9.7   c-0.5,0.8-0.8,1.6-1,2.4h-2C11.2,11,12.2,10.1,13.5,9.7z M9.9,16.2c-0.1-0.4-0.2-0.9-0.2-1.4s0.1-0.9,0.2-1.4h2.3   c-0.1,0.4-0.1,0.9-0.1,1.4s0,0.9,0.1,1.4H9.9z M10.5,17.6h2c0.2,0.9,0.5,1.7,0.9,2.4C12.2,19.6,11.2,18.7,10.5,17.6z M15.2,20.3   c-0.6-0.8-1-1.7-1.3-2.7h2.6C16.2,18.6,15.8,19.5,15.2,20.3z M16.8,16.2h-3.2c-0.1-0.4-0.1-0.9-0.1-1.4s0-0.9,0.1-1.4h3.2   c0.1,0.4,0.1,0.9,0.1,1.4S16.9,15.8,16.8,16.2z M17,20c0.4-0.8,0.7-1.6,0.9-2.4h2C19.3,18.7,18.2,19.6,17,20z M18.2,16.2   c0.1-0.4,0.1-0.9,0.1-1.4s0-0.9-0.1-1.4h2.3c0.1,0.4,0.2,0.9,0.2,1.4s-0.1,0.9-0.2,1.4H18.2z M9,10.6H2V3.5l2,2   c4-3.1,8.1-2.1,11.1,0C12.1,5,9.5,6,7,8.5L9,10.6z\"></path></svg>'\n                    tooltip=\"Revert resource to the last published version\"\n                    requiredRights={\n                        props.type === 'page' ? ['content'] : ['developer']\n                    }\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        props.revertResource(props.type, 'draft')\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M18.6,10.1h-7.3c-0.7,0-1.2,0.5-1.2,1.2v8.5c0,0.7,0.5,1.2,1.2,1.2h8.5c0.7,0,1.2-0.5,1.2-1.2v-7.3L18.6,10.1z M15.6,19.8   c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C17.4,19,16.6,19.8,15.6,19.8z M17.4,13.7h-6v-2.4h6V13.7z    M10.1,10.1H3V3l2,2c4-3,8.1-2,11.1,0c-3-0.5-5.6,0.5-8.1,3L10.1,10.1z\"></path></svg>'\n                    tooltip=\"Revert resource to the last saved version\"\n                    requiredRights={\n                        props.type === 'page' ? ['content'] : ['developer']\n                    }\n                />\n                <SmallButton\n                    inline\n                    buttonClicked={() =>\n                        setState({\n                            ...state,\n                            searchOpen: !state.searchOpen,\n                        })\n                    }\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg>'\n                    tooltip=\"Show or hide search\"\n                />\n\n                {props.type === 'page' && currentResourcesStructureElement ? (\n                    !currentResourcesStructureElement.generalSettings ? (\n                        <div className={classes.selectContainer}>\n                            <Select\n                                onChange={option => {\n                                    resourceStructureAttributeChange(\n                                        'template',\n                                        option.value\n                                    )\n                                }}\n                                options={templateOptions}\n                                default={\n                                    currentResourcesStructureElement\n                                        ? templateOptions.findIndex(\n                                              option =>\n                                                  option.value ===\n                                                  currentResourcesStructureElement.template\n                                          )\n                                        : 0\n                                }\n                                requiredRights={['content']}\n                            />\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n            <div className={classes.TreeContainer}>\n                <SortableTree\n                    treeData={treeData}\n                    onChange={handleChange}\n                    nodeContentRenderer={ItemRenderer}\n                    scaffoldBlockPxWidth={22}\n                    isVirtualized={true}\n                    rowHeight={20}\n                    searchQuery={state.searchString}\n                    searchFocusOffset={state.searchFocusIndex}\n                    searchFinishCallback={matches =>\n                        setState({\n                            ...state,\n                            searchFoundCount: matches.length,\n                            searchFocusIndex:\n                                matches.length > 0\n                                    ? state.searchFocusIndex % matches.length\n                                    : 0,\n                        })\n                    }\n                    searchMethod={searchMethod}\n                    style={{ flex: '1 1', height: 'auto !important' }}\n                    canDrag={canDragHandle}\n                    canDrop={canDropHandle}\n                    generateNodeProps={generateNodePropsHandle}\n                />\n            </div>\n            {state.searchOpen ? (\n                <TreeSearch state={state} setState={setState} />\n            ) : null}\n        </>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        newVersionResources: state.newVersionResources,\n        structure: state.mD[structureIndex[props.type]],\n        currentResource: state.mD[currentIndex[props.type]],\n        isGlobalSettingsPage:\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsPageId ||\n            state.mD[currentIndex[props.type]] ===\n                state.mD.globalSettingsTemplateId,\n        currentWebsiteId: state.mD.currentWebsiteId,\n        currentResourcesStructureElement:\n            state.mD[resourceItemIndex[props.type]],\n        templatesStructure: state.mD.templatesStructure,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        revertResource: (mD, type, to) =>\n            dispatch(wsActions.revertResource(mD, type, to)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n        sendUpdate: (type, newResource, id) =>\n            dispatch(wsActions.sendUpdate(type, newResource, id)),\n        publishResource: type => dispatch(wsActions.publishResource(type)),\n        addResource: (type, withChildren) =>\n            dispatch(wsActions.addResource(type, withChildren)),\n        deleteResource: type => dispatch(wsActions.deleteResource(type)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ResourcesTree)\n","import React, { useState, useEffect, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './TextProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport Select from '../../../UI/Select/Select'\nimport checkUserRights from '../../../../utils/checkUserRights'\nimport type { elementType } from '../../../../store/reducer/reducer'\n\ntype Props = {\n    element: elementType,\n    changeProperty: (key: string | {}, value: string) => {},\n    splitText: typeof actions.splitText,\n    textToSpan: typeof actions.textToSpan,\n    requiredRights: Array<string>,\n}\n\nconst TextProperty = (props: Props) => {\n    const [state, setState] = useState({\n        selectionStart: 0,\n        selectionEnd: 0,\n        value: '',\n    })\n\n    const editor = useRef(null)\n\n    useEffect(() => {\n        if (props.elementValues.textContent !== state.value) {\n            setState({\n                selectionStart: 0,\n                selectionEnd: 0,\n                value: props.elementValues.textContent,\n            })\n        }\n    }, [props.elementValues.textContent])\n\n    const setCssMode = item => {\n        props.changeProperty('textMode', item.value)\n    }\n\n    const handleTextChangeCss = value => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        value = value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        props.changeProperty('textContent', value)\n    }\n\n    const handleTextChangeText = e => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        const value = e.target.value.replace(/\\r\\n|\\r|\\n/g, ' ')\n        if (props.elementValues.textMode === 'text')\n            setState({\n                selectionStart: e.target.selectionStart,\n                selectionEnd: e.target.selectionEnd,\n                value,\n            })\n        props.changeProperty('textContent', value)\n    }\n\n    const handleSelectionChange = e => {\n        setState({\n            ...state,\n            selectionStart: e.target.selectionStart,\n            selectionEnd: e.target.selectionEnd,\n        })\n    }\n\n    return props.elementValues ? (\n        <>\n            <div>\n                <div className={classes.SelectContainer}>\n                    <Select\n                        options={[\n                            { value: 'text', label: 'text' },\n                            { value: 'css', label: 'css' },\n                            { value: 'javascript', label: 'javascript' },\n                        ]}\n                        default={\n                            props.elementValues.textMode === 'text'\n                                ? 0\n                                : props.elementValues.textMode === 'css'\n                                ? 1\n                                : 2\n                        }\n                        onChange={setCssMode}\n                        isClearable={false}\n                        requiredRights={props.requiredRights}\n                    />\n                </div>\n\n                {props.elementValues.textMode === 'text' ? (\n                    <>\n                        <SmallButton\n                            title=\"Split\"\n                            buttonClicked={() => {\n                                props.splitText(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                            requiredRights={props.requiredRights}\n                        />\n\n                        <SmallButton\n                            title=\"To span\"\n                            buttonClicked={() => {\n                                props.textToSpan(\n                                    props.type,\n                                    state.selectionStart,\n                                    state.selectionEnd\n                                )\n                            }}\n                            icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                            inline\n                            requiredRights={props.requiredRights}\n                        />\n                    </>\n                ) : (\n                    <SmallButton\n                        buttonClicked={() => {\n                            //$FlowFixMe\n                            editor.current.makeCodePrettier()\n                        }}\n                        icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                        inline\n                        tooltip=\"Beautify the code\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </div>\n            <div className={classes.Editors}>\n                {props.elementValues.textMode === 'text' ? (\n                    <textarea\n                        className={classes.Textarea}\n                        onChange={handleTextChangeText}\n                        value={state.value}\n                        onKeyUp={handleSelectionChange}\n                        onMouseUp={handleSelectionChange}\n                    />\n                ) : (\n                    <Editor\n                        ref={editor}\n                        currentElement={props.element.id}\n                        elementValue={props.elementValues.textContent || ''}\n                        // elementCurrentCursor={element.cursorPosition}\n                        editorMode={props.elementValues.textMode}\n                        handleChange={handleTextChangeCss}\n                        name=\"editorText\"\n                        requiredRights={props.requiredRights}\n                    />\n                )}\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        splitText: (type, start, end) =>\n            dispatch(actions.splitText(type, start, end)),\n        textToSpan: (type, start, end) =>\n            dispatch(actions.textToSpan(type, start, end)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(TextProperty)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../store/actions/index'\nimport * as classes from './ParseProperty.module.css'\nimport SmallButton from '../../../UI/Buttons/SmallButton/SmallButton'\nimport Editor from '../../../Editor/Editor'\nimport checkUserRights from '../../../../utils/checkUserRights'\n\nimport type {\n    resourceType,\n    elementType,\n    initialStateType,\n} from '../../../../store/reducer/reducer'\n\ntype Props = {\n    element: elementType,\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => {},\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>,\n    splitText: typeof actions.splitText,\n    textToSpan: typeof actions.textToSpan,\n    tryWebsiter: $PropertyType<initialStateType, 'tryWebsiter'>,\n    websites: $PropertyType<initialStateType, 'websites'>,\n    loadedWebsite: $PropertyType<initialStateType, 'loadedWebsite'>,\n    userId: $PropertyType<initialStateType, 'userId'>,\n    requiredRights: Array<string>,\n}\n\nconst ParseProperty = (props: Props) => {\n    const [value, setValue] = useState('')\n\n    const handleTextChange = editorValue => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        setValue(editorValue)\n    }\n\n    return props.element ? (\n        <>\n            <div>\n                <SmallButton\n                    title=\"Parse the code\"\n                    buttonClicked={() => {\n                        props.parseHTML(props.type, value)\n                    }}\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z\"></path></svg>'\n                    inline\n                    requiredRights={props.requiredRights}\n                />\n            </div>\n            <div className={classes.Editors}>\n                <Editor\n                    currentElement={props.currentBox}\n                    editorValue=\"\"\n                    editorMode=\"html\"\n                    handleChange={handleTextChange}\n                    name=\"editorParse\"\n                    requiredRights={['developer']}\n                />\n            </div>\n        </>\n    ) : null\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        parseHTML: (type, value) => dispatch(actions.parseHTML(type, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    null,\n    mapDispatchToProps\n)(ParseProperty)\n","export default {\n    websiterMenu: [\n        {\n            value: 'horizontal | vertical',\n            label: 'mode',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'topMenuItemActiveClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuBlockClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemClasses',\n        },\n        {\n            value: ['class'],\n            label: 'popupMenuItemActiveClasses',\n        },\n    ],\n    baseHtmlProps: [\n        {\n            value: 'id',\n            label: 'id',\n        },\n        {\n            value: 'class',\n            label: 'class',\n        },\n    ],\n}\n","import React, { useState, useEffect } from 'react'\n//$FlowFixMe\nimport { Editor } from '@tinymce/tinymce-react'\nimport { connect } from 'react-redux'\nimport checkUserRights from '../../utils/checkUserRights'\n\nimport type { elementType, initialStateType } from '../../store/reducer/reducer'\ntype Props = {\n    elementValue: $PropertyType<elementType, 'propertiesString'>,\n    elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n    editorMode: 'json' | 'css',\n    handleChange: (value: string, cursorPosition: {}) => {},\n    readOnly?: boolean,\n    sizeIsChanging: $PropertyType<initialStateType, 'sizeIsChanging'>,\n    requiredRights: Array<string>,\n    value: string,\n}\n\nconst HTMLEditor = (props: Props) => {\n    const [state, setState] = useState(false)\n    const [value, setValue] = useState(props.value)\n    const [box, setBox] = useState(props.currentBox)\n\n    useEffect(() => {\n        setValue(props.value)\n        setBox(props.currentBox)\n        setState(true)\n    }, [props.currentBox])\n\n    const handleChange = (e, editor) => {\n        if (!props.checkUserRights(props.requiredRights)) {\n            return\n        }\n        props.handleChange(e, editor, box)\n    }\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                flex: '1',\n                flexDirection: 'column',\n                height: '100%',\n                position: 'relative',\n            }}\n        >\n            {!state ? (\n                <Editor\n                    apiKey=\"cgz3v5s8p6m4ivfow51e7pin01evzej1lqy90qmi5z75ly57\"\n                    value={value}\n                    init={{\n                        // skin_url: `../../../skins/`,\n                        readonly: props.readOnly ? 1 : 0,\n                        // height: 500,\n                        plugins: [\n                            'advlist autolink lists link image charmap print preview anchor',\n                            'searchreplace visualblocks code fullscreen',\n                            'insertdatetime media table contextmenu paste',\n                        ],\n                        toolbar:\n                            'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n                        menu: {\n                            file: {\n                                title: 'File',\n                                items: ' print ',\n                            },\n                            edit: {\n                                title: 'Edit',\n                                items:\n                                    'undo redo | cut copy paste | selectall | searchreplace',\n                            },\n                            view: {\n                                title: 'View',\n                                items:\n                                    'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen',\n                            },\n                            insert: {\n                                title: 'Insert',\n                                items:\n                                    'image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime',\n                            },\n                            format: {\n                                title: 'Format',\n                                items:\n                                    'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat',\n                            },\n                            tools: {\n                                title: 'Tools',\n                                items:\n                                    'spellchecker spellcheckerlanguage | code wordcount',\n                            },\n                            table: {\n                                title: 'Table',\n                                items:\n                                    'inserttable | cell row column | tableprops deletetable',\n                            },\n                            help: { title: 'Help', items: 'help' },\n                        },\n                        menubar: true,\n                        image_advtab: true,\n                        // plugins: [\n                        //     'advlist autolink lists link image charmap print preview anchor',\n                        //     'searchreplace visualblocks code fullscreen',\n                        //     'insertdatetime media table paste code help wordcount',\n                        // ],\n                        // toolbar:\n                        //     'insertfile undo redo | formatselect | bold italic backcolor | \\\n                        //  alignleft aligncenter alignright alignjustify | \\\n                        //  bullist numlist outdent indent | removeformat | help | table | ',\n                    }}\n                    onChange={handleChange}\n                    onKeyUp={handleChange}\n                    onMouseUp={handleChange}\n                />\n            ) : (\n                <Refresh setState={setState} />\n            )}\n            {props.sizeIsChanging ? (\n                <div\n                    style={{\n                        width: '100%',\n                        height: '100%',\n                        opacity: '0',\n                        position: 'absolute',\n                    }}\n                />\n            ) : null}\n        </div>\n    )\n}\n\nconst Refresh = props => {\n    useEffect(() => {\n        props.setState(false)\n    })\n    return null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n    return {\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(HTMLEditor)\n\n// import React, { useEffect, useState } from 'react'\n\n// // Initialize the app\n\n// import SunEditor, { buttonList } from 'suneditor-react'\n// import 'suneditor/dist/css/suneditor.min.css'\n// import type { elementType } from '../../../../store/reducer/reducer'\n\n// type Props = {\n//     currentElement: $PropertyType<elementType, 'id'>,\n//     elementValue: $PropertyType<elementType, 'propertiesString'>,\n//     elementCurrentCursor: $PropertyType<elementType, 'cursorPosition'>,\n//     editorMode: 'json' | 'css',\n//     handleChange: (value: string, cursorPosition: {}) => {},\n//     readOnly?: boolean,\n// }\n\n// const HTMLEditor = props => {\n//     const [state, setState] = useState(props.value)\n//     useEffect(() => {\n//         setState(props.value)\n//     }, [props.currentElement, props.currentResource])\n//     return (\n//         <SunEditor\n//             setContents={state}\n//             onChange={props.handleChange}\n//             setOptions={{ buttonList: buttonList.complex }}\n//         />\n//     )\n// }\n\n// export default HTMLEditor\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n// $FlowFixMe\nimport 'react-tabs/style/react-tabs.css'\nimport { connect } from 'react-redux'\n\nimport * as classes from './Properties.module.css'\nimport TextProperty from './TextProperty/TextProperty'\nimport ParseProperty from './ParseProperty/ParseProperty'\nimport MenuItems from './MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport { checkIfCapital } from '../../../utils/basic'\nimport propertiesSuggestedList from './propertiesSuggestedList'\nimport Select from '../../UI/Select/Select'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport {\n    current as currentIndex,\n    resourceDraftIndex,\n} from '../../../utils/resourceTypeIndex'\nimport type { resourceType, elementType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    resourceDraft: resourceType,\n    changeProperty: (key: string | {}, value: string) => ?{},\n    mode: 'page' | 'plugin' | 'template',\n}\n\nconst Properties = (props: Props) => {\n    const { element, elementValues, currentBox, currentResource } = props\n\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const hanglePropertiesChange = (value, cursorPosition) => {\n        if (value) {\n            const changes: elementType = {}\n            changes.cursorPosition = cursorPosition\n            changes['propertiesString'] = value\n            let obj\n            try {\n                obj = JSON.parse(value)\n            } catch (e) {\n                obj = null\n            }\n            if (obj) {\n                changes['properties'] = obj\n                changes['propertiesString'] = JSON.stringify(obj)\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n\n    const handleStyleChange = (value, cursorPosition) => {\n        if (value) {\n            value = value.trim()\n            if (value.length < 6) {\n                value = ''\n            } else {\n                if (value.charAt(0) === '{') {\n                    value = value.slice(1)\n                }\n                if (value.charAt(value.length - 1) === '}') {\n                    value = value.slice(0, value.length - 2)\n                }\n                value = value.trim()\n            }\n            const changes = {\n                style: value,\n                cursorPosition,\n            }\n            props.changeProperty(changes, value)\n        }\n    }\n    const isPlugin = element ? checkIfCapital(element.tag.charAt(0)) : false\n\n    const variableOptions = [\n        {\n            label: 'Plain text',\n            value: 'text',\n        },\n        {\n            label: 'HTML',\n            value: 'html',\n        },\n        {\n            label: 'Menu tems',\n            value: 'menuItems',\n        },\n    ]\n\n    let result = null\n\n    if (element && elementValues && !element.isElementFromCMSVariable) {\n        if (props.mode === 'page') {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                />\n            )\n        } else if (element.isCMSVariable) {\n            result = (\n                <Tabs\n                    className={['react-tabs', classes.reactTabs].join(' ')}\n                    selectedTabPanelClassName={pannelClass}\n                >\n                    <TabList>\n                        <Tab className={tabClass}>Type</Tab>\n                        <Tab className={tabClass}>System name</Tab>\n                        <Tab className={tabClass}>Desription</Tab>\n                        <Tab className={tabClass}>Default value</Tab>\n                    </TabList>\n                    <TabPanel>\n                        <Select\n                            onChange={option =>\n                                props.changeProperty(\n                                    'CMSVariableType',\n                                    option.value\n                                )\n                            }\n                            options={variableOptions}\n                            default={variableOptions.findIndex(\n                                item =>\n                                    item.value === elementValues.CMSVariableType\n                            )}\n                            requiredRights={['developer']}\n                        />\n                    </TabPanel>\n                    <TabPanel>\n                        <Editor\n                            currentElement={currentBox}\n                            elementValue={elementValues.CMSVariableSystemName}\n                            elementCurrentCursor={elementValues.cursorPosition}\n                            editorMode=\"text\"\n                            handleChange={value =>\n                                props.changeProperty(\n                                    'CMSVariableSystemName',\n                                    value\n                                )\n                            }\n                            name=\"editorCMSName\"\n                            requiredRights={['developer']}\n                            currentResource={currentResource}\n                        />\n                    </TabPanel>\n                    <TabPanel>\n                        <Editor\n                            currentElement={currentBox}\n                            elementValue={elementValues.CMSVariableDescription}\n                            elementCurrentCursor={elementValues.cursorPosition}\n                            editorMode=\"text\"\n                            handleChange={value =>\n                                props.changeProperty(\n                                    'CMSVariableDescription',\n                                    value\n                                )\n                            }\n                            name=\"editorCMSDescription\"\n                            requiredRights={['developer']}\n                            currentResource={currentResource}\n                        />\n                    </TabPanel>\n                    <TabPanel>\n                        {elementValues.CMSVariableType === 'html' ? (\n                            <HTMLEditor\n                                value={elementValues.CMSVariableDefaultValue}\n                                handleChange={(e, editor) => {\n                                    props.changeProperty(\n                                        'CMSVariableDefaultValue',\n                                        editor.getContent()\n                                    )\n                                }}\n                                requiredRights={['developer']}\n                            />\n                        ) : elementValues.CMSVariableType === 'menuItems' ? (\n                            <MenuItems\n                                elementValues={elementValues}\n                                element={element}\n                                changeProperty={props.changeProperty}\n                                mode={props.mode}\n                                attrName={\n                                    element.isCMSVariable\n                                        ? 'defaultMenuItems'\n                                        : 'menuItems'\n                                }\n                            />\n                        ) : (\n                            <Editor\n                                currentElement={currentBox}\n                                elementValue={\n                                    elementValues.CMSVariableDefaultValue\n                                }\n                                elementCurrentCursor={\n                                    elementValues.cursorPosition\n                                }\n                                editorMode=\"text\"\n                                handleChange={value =>\n                                    props.changeProperty(\n                                        'CMSVariableDefaultValue',\n                                        value\n                                    )\n                                }\n                                name=\"editorCMSDefaultValue\"\n                                requiredRights={['developer']}\n                                currentResource={currentResource}\n                            />\n                        )}\n                    </TabPanel>\n                </Tabs>\n            )\n        } else if (element.text && !isPlugin) {\n            result = (\n                <TextProperty\n                    type={props.mode}\n                    element={element}\n                    elementValues={elementValues}\n                    changeProperty={props.changeProperty}\n                    currentResource={currentResource}\n                    requiredRights={['developer']}\n                />\n            )\n        } else if (element.tag === 'richEditor') {\n            result = (\n                <HTMLEditor\n                    value={elementValues.textContent}\n                    handleChange={(e, editor, id) => {\n                        props.changeProperty(\n                            'textContent',\n                            editor.getContent(),\n                            id\n                        )\n                    }}\n                    requiredRights={['developer']}\n                    currentBox={currentBox}\n                />\n            )\n        } else if (element.tag === 'parseHTML') {\n            result = (\n                <ParseProperty\n                    type={props.mode}\n                    requiredRights={['developer']}\n                    currentResource={currentResource}\n                    currentBox={currentBox}\n                    element={element}\n                />\n            )\n        } else {\n            result = (\n                <Tabs\n                    className={['react-tabs', classes.reactTabs].join(' ')}\n                    selectedTabPanelClassName={pannelClass}\n                >\n                    <TabList>\n                        {!isPlugin ? (\n                            <Tab className={tabClass}>Style</Tab>\n                        ) : null}\n                        <Tab className={tabClass}>Properties</Tab>\n                        {element.tag === 'websiterMenu' ? (\n                            <Tab className={tabClass}>Items</Tab>\n                        ) : null}\n                    </TabList>\n                    {!isPlugin ? (\n                        <TabPanel>\n                            <Editor\n                                currentElement={currentBox}\n                                elementValue={\n                                    '{ ' + (elementValues.style || '') + ' }'\n                                }\n                                elementCurrentCursor={\n                                    elementValues.cursorPosition\n                                }\n                                editorMode=\"css\"\n                                handleChange={handleStyleChange}\n                                name=\"editorStyle\"\n                                requiredRights={['developer']}\n                                currentResource={currentResource}\n                            />\n                        </TabPanel>\n                    ) : null}\n                    {/* ) : null} */}\n                    <TabPanel>\n                        <Editor\n                            suggestOptions={[\n                                ...(element.tag !== 'menu'\n                                    ? propertiesSuggestedList.baseHtmlProps\n                                    : []),\n                                ...(propertiesSuggestedList[element.tag]\n                                    ? propertiesSuggestedList[element.tag]\n                                    : []),\n                            ]}\n                            currentElement={currentBox}\n                            elementValue={\n                                elementValues.propertiesString || '{}'\n                            }\n                            elementCurrentCursor={elementValues.cursorPosition}\n                            editorMode=\"json\"\n                            handleChange={hanglePropertiesChange}\n                            name=\"editorProperties\"\n                            requiredRights={['developer']}\n                            currentResource={currentResource}\n                        />\n                    </TabPanel>\n                    {element.tag === 'websiterMenu' ? (\n                        <TabPanel>\n                            <MenuItems\n                                elementValues={elementValues}\n                                element={element}\n                                changeProperty={props.changeProperty}\n                                mode={props.mode}\n                                attrName=\"menuItems\"\n                            />\n                        </TabPanel>\n                    ) : null}\n                </Tabs>\n            )\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null\n    if (resourceDraft.structure) {\n        element = resourceDraft.structure.find(\n            item => resourceDraft.currentBox === item.id\n        )\n        if (element) {\n            elementValues = resourceDraft.values[element.id]\n        }\n    }\n\n    return {\n        element,\n        elementValues,\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD[currentIndex[props.mode]],\n    }\n}\n\nexport default connect(mapStateToProps)(Properties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Plugins = (props: Props) => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('plugin', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"plugin\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentPluginDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"plugin\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"plugin\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPluginDraftExists:\n            typeof state.mD.currentPluginDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Plugins)\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n// $FlowFixMe\nimport 'react-tabs/style/react-tabs.css'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../Properties/Properties.module.css'\nimport MenuItems from '../Properties/MenuItems/MenuItems'\nimport Editor from '../../Editor/Editor'\nimport HTMLEditor from '../../HTMLEditor/HTMLEditor'\nimport { resourceDraftIndex } from '../../../utils/resourceTypeIndex'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    changeProperty: (key: string | {}, value: string) => ?{},\n    mode: 'page' | 'plugin' | 'template',\n    currentResource:\n        | $PropertyType<initialStateType, 'currentPlugin'>\n        | $PropertyType<initialStateType, 'currentPage'>\n        | $PropertyType<initialStateType, 'currentTemplate'>,\n}\n\nconst Properties = (props: Props) => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    return props.element && props.templateCMSElementValues ? (\n        <Tabs\n            className={['react-tabs', classes.reactTabs].join(' ')}\n            selectedTabPanelClassName={pannelClass}\n        >\n            <TabList>\n                <Tab className={tabClass}>Value</Tab>\n                <Tab className={tabClass}>Description</Tab>\n                <Tab className={tabClass}>Default value</Tab>\n            </TabList>\n            <TabPanel>\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={props.elementValues.value}\n                        handleChange={(e, editor) => {\n                            props.changeProperty('value', editor.getContent())\n                        }}\n                        requiredRights={['content']}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.elementValues}\n                        element={props.element}\n                        changeProperty={props.changeProperty}\n                        mode={props.mode}\n                        attrName={'menuItems'}\n                    />\n                ) : (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={props.elementValues.value}\n                        elementCurrentCursor={\n                            props.elementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={value =>\n                            props.changeProperty('value', value)\n                        }\n                        name=\"editorPageValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                )}\n            </TabPanel>\n            <TabPanel>\n                <Editor\n                    currentElement={props.currentBox}\n                    elementValue={\n                        props.templateCMSElementValues.CMSVariableDescription\n                    }\n                    elementCurrentCursor={\n                        props.templateCMSElementValues.cursorPosition\n                    }\n                    editorMode=\"text\"\n                    handleChange={() => {}}\n                    readOnly\n                    name=\"editorPageCMSDescription\"\n                    requiredRights={['content']}\n                    currentResource={props.currentResource}\n                />\n            </TabPanel>\n            <TabPanel>\n                {props.templateCMSElementValues.CMSVariableType === 'html' ? (\n                    <HTMLEditor\n                        value={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        handleChange={() => {}}\n                        readOnly={true}\n                    />\n                ) : props.templateCMSElementValues.CMSVariableType ===\n                  'menuItems' ? (\n                    <MenuItems\n                        elementValues={props.templateCMSElementValues}\n                        element={props.element}\n                        changeProperty={() => {}}\n                        mode={props.mode}\n                        attrName={'defaultMenuItems'}\n                    />\n                ) : (\n                    <Editor\n                        currentElement={props.currentBox}\n                        elementValue={\n                            props.templateCMSElementValues\n                                .CMSVariableDefaultValue\n                        }\n                        elementCurrentCursor={\n                            props.templateCMSElementValues.cursorPosition\n                        }\n                        editorMode=\"text\"\n                        handleChange={() => {}}\n                        readOnly\n                        name=\"editorPageCMSDefaultValue\"\n                        requiredRights={['content']}\n                        currentResource={props.currentResource}\n                    />\n                )}\n            </TabPanel>\n        </Tabs>\n    ) : null\n}\n\nconst mapStateToProps = (state, props) => {\n    const resourceDraft = state.mD[resourceDraftIndex[props.mode]]\n    let element = null,\n        elementValues = null,\n        templateCMSElementValues = null\n    if (resourceDraft) {\n        if (resourceDraft.structure) {\n            element = resourceDraft.structure.find(\n                item => resourceDraft.currentBox === item.id\n            )\n            if (element && state.mD.pageTemplateDraft) {\n                elementValues = resourceDraft.values[element.id]\n                templateCMSElementValues =\n                    state.mD.pageTemplateDraft.values[element.id]\n            }\n        }\n    }\n\n    return {\n        element,\n        elementValues,\n        templateCMSElementValues,\n        currentBox: resourceDraft.currentBox,\n        currentResource: state.mD.currentPageId,\n    }\n}\n\nexport default connect(mapStateToProps)(Properties)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport PageProperties from '../../../components/ElementsTreeAndProperties/PageProperties/PageProperties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Pages = (props: Props) => {\n    const handleChangeBoxProperty = (key, value) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('page', key, value)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"page\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type={'width'}\n                />\n            </div>\n            {props.currentPageDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"page\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type={'width2'}\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <PageProperties\n                            mode=\"page\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentPageDraftExists: typeof state.mD.currentPageDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value) =>\n            dispatch(actions.changeBoxPropertyInValues(type, key, value)),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(Pages))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport ResourcesTree from '../../../components/ResourcesTree/ResourcesTree'\nimport ElementsTree from '../../../components/ElementsTreeAndProperties/ElementsTree/ElementsTree'\nimport Properties from '../../../components/ElementsTreeAndProperties/Properties/Properties'\nimport checkUserRights from '../../../utils/checkUserRights'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    changeBoxProperty: typeof actions.changeBoxProperty,\n}\n\nconst Templates = (props: Props) => {\n    const handleChangeBoxProperty = (key, value, id) => {\n        if (props.checkUserRights(['content']))\n            props.changeBoxPropertyInValues('template', key, value, id)\n    }\n\n    return (\n        <div className={classes.Content}>\n            <div\n                className={classes.Container}\n                style={{\n                    flex: '0 0 ' + props.barSizes.width + 'px',\n                }}\n            >\n                <ResourcesTree type=\"template\" />\n                <SizeDragController\n                    addClass={classes.widthControll}\n                    startValue={props.barSizes.width}\n                    type=\"width\"\n                />\n            </div>\n            {props.currentTemplateDraftExists ? (\n                <>\n                    <div\n                        className={classes.Container}\n                        style={{\n                            flex: '0 0 ' + props.barSizes.width2 + 'px',\n                        }}\n                    >\n                        <ElementsTree mode=\"template\" />\n\n                        <SizeDragController\n                            addClass={classes.widthControll}\n                            startValue={props.barSizes.width2}\n                            type=\"width2\"\n                        />\n                    </div>\n                    <div className={classes.LastContainer}>\n                        <Properties\n                            mode=\"template\"\n                            changeProperty={handleChangeBoxProperty}\n                        />\n                    </div>\n                </>\n            ) : null}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        currentTemplateDraftExists:\n            typeof state.mD.currentTemplateDraft != 'undefined',\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBoxPropertyInValues: (type, key, value, id) =>\n            dispatch(\n                actions.changeBoxPropertyInValues(type, key, value, false, id)\n            ),\n        checkUserRights: rights => dispatch(checkUserRights(rights)),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Templates)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../store/actions'\nimport * as classes from '../AdvancedBar.module.css'\nimport { SmallButton } from '../../../components/UI/Buttons/SmallButton/SmallButton'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    // storage: $PropertyType<initialStateType, 'storage'>,\n    maxStorage: $PropertyType<initialStateType, 'maxStorage'>,\n    logout: typeof actions.logout,\n    switchTooltips: typeof actions.switchTooltips,\n    deleteUser: typeof actions.deleteUser,\n}\n\nconst Account = (props: Props) => {\n    // const storageDivTable = (\n    //     <div>\n    //         <table>\n    //             <tbody>\n    //                 <tr>\n    //                     <td>Available:</td>\n    //                     <td>{Math.round(props.maxStorage / 1000000)} MB </td>\n    //                     <td>100%</td>\n    //                 </tr>\n    //                 <tr>\n    //                     <td>Free:</td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (props.maxStorage - props.storage) / 1000000\n    //                         )}{' '}\n    //                         MB\n    //                     </td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (100 * (props.maxStorage - props.storage)) /\n    //                                 props.maxStorage\n    //                         )}\n    //                         %\n    //                     </td>\n    //                 </tr>\n    //                 <tr>\n    //                     <td>Used:</td>\n    //                     <td>{Math.round(props.storage / 1000000)} MB</td>\n    //                     <td>\n    //                         {Math.round(\n    //                             (100 * props.storage) / props.maxStorage\n    //                         )}\n    //                         %\n    //                     </td>\n    //                 </tr>\n    //             </tbody>\n    //         </table>\n    //     </div>\n    // )\n    return (\n        <div className={classes.Content}>\n            <div>\n                {/* <div>\n                    Storage:\n                    <div className={classesAccount.StorageContainer}>\n                        <div className={classesAccount.StorageEmpty}>\n                            {storageDivTable}\n                        </div>\n                        <div className={classesAccount.StorageFill}>\n                            {storageDivTable}\n                        </div>\n                    </div>\n                    <div>{storageDivTable}</div>\n                </div> */}\n                <div style={{ margin: '10px' }}>\n                    User ID:{' '}\n                    <span style={{ userSelect: 'all' }}>{props.userId}</span>\n                </div>\n\n                <SmallButton\n                    buttonClicked={props.logout}\n                    title=\"Logout\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n                <SmallButton\n                    buttonClicked={() => props.logout(true)}\n                    title=\"Logout on all devices\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n                <SmallButton\n                    buttonClicked={props.switchTooltips}\n                    title=\"Switch tooltips\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                    tooltip={\n                        props.tooltipsOff\n                            ? 'Tooltips are off (except this one)'\n                            : 'Tooltips are on'\n                    }\n                />\n                <SmallButton\n                    buttonClicked={props.deleteUser}\n                    title=\"Delete account\"\n                    icon='<svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\"><path d=\"M19 13H5v-2h14v2z\"></path></svg>'\n                    style={{ margin: '10px' }}\n                />\n            </div>\n        </div>\n    )\n}\nconst mapStateToProps = state => {\n    return {\n        loading: state.loading,\n        // storage: state.storage,\n        maxStorage: state.maxStorage,\n        userId: state.userId,\n        tooltipsOff: state.mD.tooltipsOff,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        deleteUser: () => dispatch(actions.deleteUser()),\n        logout: all => dispatch(actions.logout(all)),\n        switchTooltips: () => dispatch(actions.switchTooltips()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Account)\n","import React from 'react'\n\nimport classes from './TextInput.module.css'\n// import SmallButton from '../Buttons/SmallButton/SmallButton';\n\ntype Props = {\n    title?: string,\n    changed?: Function,\n    blur?: Function,\n    value?: string | number,\n    datatestid?: string,\n    wrong?: boolean,\n    inline?: boolean,\n    right?: boolean,\n    minWidth?: number,\n}\n\nexport const TextInput = (props: Props) => {\n    return (\n        <div\n            className={[classes.Div, props.inline ? classes.Inline : ''].join(\n                ' '\n            )}\n        >\n            {props.title}\n            <input\n                data-testid={props.datatestid || 'MyInput'}\n                type=\"text\"\n                className={[\n                    classes.Input,\n                    props.wrong ? classes.Wrong : '',\n                    props.right ? classes.Right : '',\n                ].join(' ')}\n                style={{\n                    minWidth: props.minWidth ? props.minWidth + 'px' : 'auto',\n                }}\n                value={props.value || ''}\n                onChange={e =>\n                    props.changed ? props.changed(e.target.value) : {}\n                }\n                onBlur={e => (props.blur ? props.blur(e.target.value) : {})}\n            />\n        </div>\n    )\n}\n\nexport default TextInput\n","import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from './DomainsProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport TextInput from '../../../../../components/UI/TextInput/TextInput'\nimport Svg from '../../../../../components/Svg/Svg'\nimport * as wsActions from '../../../../../websocketActions'\n\nconst DomainsProperties = (props: Props) => {\n    useEffect(() => {\n        const websiteElement = props.currentWebsiteObject\n        let value = ''\n        if (websiteElement) {\n            value = websiteElement.domain\n        }\n        setDomainValue(value)\n        value = ''\n        if (websiteElement) {\n            value = websiteElement.customDomain || ''\n        }\n        if (value === '__delete__') {\n            value = ''\n        }\n        setCustomDomainValue(value)\n    }, [\n        props.currentWebsiteId,\n        props.currentWebsiteObject.domain,\n        props.currentWebsiteObject.customDomain,\n    ])\n    const [domainValue: string, setDomainValue] = useState('')\n    const [customDomainValue, setCustomDomainValue] = useState('')\n    const website = props.currentWebsiteObject\n    return website ? (\n        <div className={classes.DomainSettings}>\n            <div className={classes.LocalDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        <>\n                            {website.domainHidden ? (\n                                <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                            ) : null}\n                            {website.domainNoIndex ? (\n                                <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z\"></path></svg>' />\n                            ) : null}\n                        </>\n                    ) : null}\n                    <span>Local domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>\n                        https://live.websiter.dev/\n                    </span>\n                    <TextInput\n                        changed={value => setDomainValue(value)}\n                        value={domainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() => {\n                        props.saveDomainName(domainValue, 'domain')\n                        setDomainValue(website.domain)\n                    }}\n                    tooltip=\"Save local domain name\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainHidden',\n                                !website.domainHidden\n                            )\n                    }}\n                    tooltip=\"Hide/show local domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://live.websiter.dev/' + website.domain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'domainNoIndex',\n                                !website.domainNoIndex\n                            )\n                    }}\n                    tooltip=\"Add the <meta name='robots' content='noindex'> tag disallowing search engines to index the website on this domain. The website will remian be indexed on your custom domain.\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n            </div>\n            <div className={classes.CustomDomain}>\n                <div className={classes.Title}>\n                    {website ? (\n                        website.customDomainHidden ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    {website ? (\n                        website.customDomainVerified ? (\n                            <Svg icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>' />\n                        ) : null\n                    ) : null}\n                    <span>Custom domain:</span>\n                </div>\n                <div className={classes.Input}>\n                    <span className={classes.Span}>https://</span>\n                    <TextInput\n                        changed={value => setCustomDomainValue(value)}\n                        value={customDomainValue}\n                        inline\n                        right\n                        minWidth={220}\n                    />\n                </div>\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.saveDomainName(\n                                customDomainValue,\n                                'customDomain'\n                            )\n                        setCustomDomainValue(website.customDomain)\n                    }}\n                    tooltip=\"Save custom domain name\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (website)\n                            props.changeWebsiteProperty(\n                                'customDomainHidden',\n                                !website.customDomainHidden\n                            )\n                    }}\n                    tooltip=\"Hide/show custom domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (domainValue) {\n                            window.open(\n                                'https://' + website.customDomain,\n                                '_blank'\n                            )\n                        }\n                    }}\n                    tooltip=\"Open in a new tab\"\n                    inline\n                />\n                <SmallButton\n                    icon='<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\"><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"></path></svg>'\n                    buttonClicked={() => props.verifyCustomDomain()}\n                    tooltip=\"Verify website ownership\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                <SmallButton\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    buttonClicked={() =>\n                        props.saveDomainName('__delete__', 'customDomain')\n                    }\n                    tooltip=\"Delete custom domain\"\n                    inline\n                    requiredRights={['admin', 'developer']}\n                />\n                {website ? (\n                    website.customDomain && website.cname ? (\n                        <div>\n                            <p>\n                                In order to use your custom domain you need to\n                                create the following CNAME DNS record:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website.cname}\n                                </span>\n                            </p>\n\n                            <p>\n                                Usually it takes 1-3 hours to connect a new\n                                domain. Please, allow this time and check the\n                                status.\n                            </p>\n                            <p>\n                                If you want to verify your domain ownership and\n                                make sure that nobody else could connect this\n                                domain to other website add the following TXT\n                                DNS record and press verify button:\n                            </p>\n                            <p>\n                                <span style={{ userSelect: 'all' }}>\n                                    {website._id}\n                                </span>\n                            </p>\n                        </div>\n                    ) : null\n                ) : null}\n            </div>\n        </div>\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveDomainName: (value, key) =>\n            dispatch(wsActions.saveDomainName(value, key)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        verifyCustomDomain: () => dispatch(wsActions.verifyCustomDomain()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(DomainsProperties)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../../../../store/actions/index'\nimport * as classes from './SharingProperties.module.css'\nimport SmallButton from '../../../../../components/UI/Buttons/SmallButton/SmallButton'\nimport Checkbox from '../../../../../components/UI/Checkbox/Checkbox'\nimport * as wsActions from '../../../../../websocketActions'\n\ntype Props = {\n    currentUserInWebsiteSharing: string,\n    chooseUserInWebsiteSharing: typeof actions.chooseUserInWebsiteSharing,\n}\n\nconst SharingProperties = (props: Props) => {\n    let website = props.currentWebsiteObject\n    if (!website) return null\n    let isOwner\n    let sharingItem = {\n        rights: [],\n    }\n    const newSharing = [...website.sharing]\n    let ownerAccount = newSharing.find(item => item.userId === website.user)\n    if (!ownerAccount) {\n        ownerAccount = {\n            userId: website.user,\n            rights: ['owner', 'admin', 'developer', 'content'],\n        }\n        newSharing.unshift(ownerAccount)\n        props.changeWebsiteProperty('sharing', newSharing)\n    }\n\n    if (website.user === props.userId) isOwner = true\n    sharingItem =\n        newSharing.find(item => item.userId === props.userId) || sharingItem\n\n    return props.currentWebsiteId && website ? (\n        isOwner || sharingItem.rights.includes('admin') ? (\n            <>\n                <SmallButton\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path></svg>'\n                    buttonClicked={() => props.addUserInWebsiteSharing()}\n                    tooltip=\"Share the website with a new user. You need to know the user's id which can be found in the user's Account menu tab. The user will need to refresh page in browser to see the shared website.\"\n                    inline\n                    requiredRights={['admin', 'user']}\n                />\n                <SmallButton\n                    icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"></path></svg>'\n                    buttonClicked={() => {\n                        if (props.currentUserInWebsiteSharing === website.user)\n                            return\n                        props.deleteUserInWebsiteSharing(\n                            props.currentUserInWebsiteSharing\n                        )\n                    }}\n                    tooltip=\"Stop sharing the website with this user.\"\n                    inline\n                    requiredRights={['admin', 'user']}\n                />\n                {website.user === props.userId ? (\n                    <SmallButton\n                        icon='<svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\"><path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"></path></svg>'\n                        buttonClicked={() => props.transferWebsite()}\n                        tooltip=\"Transfer the website to another user.\"\n                        inline\n                        requiredRights={['owner']}\n                    />\n                ) : null}\n                <table className={classes.SharingTable}>\n                    <tbody>\n                        <tr>\n                            <th>User id</th>\n                            <th>Name</th>\n                            <th />\n                            <th>Owner</th>\n                            <th>Admin</th>\n                            <th>Developer</th>\n                            <th>Content manager</th>\n                        </tr>\n                        {newSharing.map((account, index) => (\n                            <tr\n                                key={index}\n                                className={\n                                    props.currentUserInWebsiteSharing ===\n                                    account.userId\n                                        ? classes.Active\n                                        : ''\n                                }\n                                onMouseDown={() =>\n                                    props.chooseUserInWebsiteSharing(\n                                        account.userId\n                                    )\n                                }\n                            >\n                                <td>{account.userId}</td>\n                                <td>\n                                    {account.accountInfo\n                                        ? account.accountInfo.displayName || ''\n                                        : ''}\n                                </td>\n                                <td>\n                                    {account.accountInfo ? (\n                                        account.accountInfo.photos ? (\n                                            account.accountInfo.photos[0] ? (\n                                                <img\n                                                    className={classes.Ava}\n                                                    src={\n                                                        account.accountInfo\n                                                            .photos[0].value\n                                                    }\n                                                    alt=\"User\"\n                                                />\n                                            ) : (\n                                                ''\n                                            )\n                                        ) : (\n                                            ''\n                                        )\n                                    ) : (\n                                        ''\n                                    )}\n                                </td>\n                                <td>\n                                    <Checkbox\n                                        checked={\n                                            website.user === account.userId\n                                                ? true\n                                                : false\n                                        }\n                                        onChange={() => {}}\n                                    />\n                                </td>\n                                {website.user === account.userId ? (\n                                    <td>\n                                        <Checkbox\n                                            checked={true}\n                                            onChange={() => {}}\n                                        />\n                                    </td>\n                                ) : null}\n                                {[\n                                    ...(website.user === account.userId\n                                        ? []\n                                        : ['admin']),\n                                    ...['developer', 'content'],\n                                ].map((right, index) => (\n                                    <td key={index}>\n                                        <Checkbox\n                                            checked={account.rights.includes(\n                                                right\n                                            )}\n                                            onChange={value =>\n                                                props.sharingRightsChange(\n                                                    account.userId,\n                                                    right,\n                                                    value\n                                                )\n                                            }\n                                        />\n                                    </td>\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </>\n        ) : (\n            <p>\n                You are not the owner of the website and you do not have the\n                admin rights.\n            </p>\n        )\n    ) : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentUserInWebsiteSharing: state.currentUserInWebsiteSharing,\n        userId: state.mD.userId,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n        currentWebsiteId: state.mD.currentWebsiteId,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        chooseUserInWebsiteSharing: id =>\n            dispatch(actions.chooseUserInWebsiteSharing(id)),\n        changeWebsiteProperty: (key, value) =>\n            dispatch(wsActions.changeWebsiteProperty(key, value)),\n        addUserInWebsiteSharing: () =>\n            dispatch(wsActions.addUserInWebsiteSharing()),\n        deleteUserInWebsiteSharing: user =>\n            dispatch(wsActions.deleteUserInWebsiteSharing(user)),\n        sharingRightsChange: (user, right, value) =>\n            dispatch(wsActions.sharingRightsChange(user, right, value)),\n        transferWebsite: () => dispatch(wsActions.transferWebsite()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SharingProperties)\n","import React from 'react'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport * as classes from '../../../../components/ElementsTreeAndProperties/Properties/Properties.module.css'\nimport DomainsProperties from './DomainsProperties/DomainsProperties'\nimport SharingProperties from './SharingProperties/SharingProperties'\n\nconst WebsitesProperties = props => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n    return (\n        <Tabs\n            className={['react-tabs', classes.reactTabs].join(' ')}\n            selectedTabPanelClassName={pannelClass}\n        >\n            <TabList>\n                <Tab className={tabClass}>Domains</Tab>\n                <Tab className={tabClass}>Sharing</Tab>\n            </TabList>\n            <TabPanel>\n                <DomainsProperties />\n            </TabPanel>\n            <TabPanel>\n                <SharingProperties />\n            </TabPanel>\n        </Tabs>\n    )\n}\n\nexport default WebsitesProperties\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as classes from '../AdvancedBar.module.css'\nimport WebsitesTree from './WebsitesTree/WebsitesTree'\nimport SizeDragController from '../SizeDragController/SizeDragController'\nimport WebsitesProperties from './WebsitesProperties/WebsitesProperties'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\ntype Props = {\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    notVirtual?: boolean,\n}\n\nconst Websites = (props: Props) => (\n    <div className={classes.Content}>\n        <div\n            className={classes.Container}\n            style={{ flex: '0 0 ' + props.barSizes.width + 'px' }}\n        >\n            {props.websites ? (\n                <WebsitesTree notVirtual={props.notVirtual} />\n            ) : null}\n            <SizeDragController\n                addClass={classes.widthControll}\n                startValue={props.barSizes.width}\n                type=\"width\"\n            />\n        </div>\n        <div className={classes.LastContainer}>\n            {props.currentWebsiteObject ? <WebsitesProperties /> : null}\n        </div>\n    </div>\n)\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        websites: state.mD.websites,\n        currentWebsiteObject: state.mD.currentWebsiteObject,\n    }\n}\n\nexport default connect(mapStateToProps)(Websites)\n","import React, { memo } from 'react'\nimport { connect } from 'react-redux'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\n\nimport * as classes from './AdvancedBar.module.css'\nimport SizeDragController from './SizeDragController/SizeDragController'\nimport * as actions from '../../store/actions'\nimport Images from './Images/Images'\nimport Plugins from './Plugins/Plugins'\nimport Pages from './Pages/Pages'\nimport Templates from './Templates/Templates'\nimport Account from './Account/Account'\nimport Websites from './Websites/Websites'\nimport { useBeforeunload } from 'react-beforeunload'\nimport ReactResizeDetector from 'react-resize-detector'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\n\ntype Props = {\n    undoResourceVersion: typeof actions.undoResourceVersion,\n    redoResourceVersion: typeof actions.redoResourceVersion,\n    setCurrentTopTab: typeof actions.setCurrentTopTab,\n    changeBarSize: typeof actions.changeBarSize,\n    toggleFindMode: typeof actions.toggleFindMode,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n}\n\nconst AdvancedBar = (props: Props) => {\n    const tabClass = ['react-tabs__tab', classes.reactTabsTab].join(' ')\n\n    const pannelClass = [\n        'react-tabs__tab-panel--selected',\n        classes.reactTabsTabPanelSelected,\n    ].join(' ')\n\n    const tabClassSelected = [\n        'react-tabs__tab--selected',\n        classes.TabSelected,\n    ].join(' ')\n\n    const undoRedoTabNames = ['page', 'template', 'plugin', '', '', '', '']\n\n    const handleKeyDown = e => {\n        if (!e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n            props.undoResourceVersion()\n        if (e.shiftKey && e.ctrlKey && (e.key === 'z' || e.key === 'Z'))\n            props.redoResourceVersion()\n    }\n\n    const handleTabSelected = index => {\n        props.setCurrentTopTab(undoRedoTabNames[index])\n        props.changeBarSize()\n        props.toggleFindMode()\n    }\n\n    useBeforeunload(() => {\n        if (props.notSavedResources.length > 0) {\n            setTimeout(() => props.savePropertiesOnLeave(), 1)\n            return 'Some data is not saved.'\n        } else {\n            props.savePropertiesOnLeave()\n            return undefined\n        }\n    })\n\n    const changeBarSize = () => props.changeBarSize()\n\n    return (\n        <div\n            style={{ flex: '0 0 ' + props.barSizes.height + 'px' }}\n            className={classes.mainContainer}\n            tabIndex=\"0\"\n            onKeyDown={e => handleKeyDown(e)}\n        >\n            <div>\n                <SizeDragController\n                    addClass={classes.heightControll}\n                    vertical\n                    startValue={props.barSizes.height}\n                    type=\"height\"\n                />\n                <Tabs\n                    className={['react-tabs', classes.reactTabs].join(' ')}\n                    onSelect={index => handleTabSelected(index)}\n                    selectedTabClassName={tabClassSelected}\n                    selectedTabPanelClassName={pannelClass}\n                >\n                    <TabList className={classes.TabList}>\n                        <Tab className={tabClass}>Pages</Tab>\n                        <Tab className={tabClass}>Templates</Tab>\n                        <Tab className={tabClass}>Plugins</Tab>\n                        <Tab className={tabClass}>Media files</Tab>\n                        <Tab className={tabClass}>Websites</Tab>\n                        <Tab className={tabClass}>Account</Tab>\n                    </TabList>\n\n                    <TabPanel>\n                        <Pages />\n                    </TabPanel>\n                    <TabPanel>\n                        <Templates />\n                    </TabPanel>\n                    <TabPanel>\n                        <Plugins />\n                    </TabPanel>\n                    <TabPanel>\n                        <Images />\n                    </TabPanel>\n                    <TabPanel>\n                        <Websites />\n                    </TabPanel>\n                    <TabPanel>\n                        <Account />\n                    </TabPanel>\n                </Tabs>\n                <ReactResizeDetector\n                    handleWidth\n                    handleHeight\n                    onResize={changeBarSize}\n                />\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        barSizes: state.barSizes,\n        loading: state.loading,\n        notSavedResources: state.notSavedResources,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n        setCurrentTopTab: currentTopTab =>\n            dispatch(actions.setCurrentTopTab(currentTopTab)),\n        undoResourceVersion: () => dispatch(actions.undoResourceVersion()),\n        redoResourceVersion: () => dispatch(actions.redoResourceVersion()),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        savePropertiesOnLeave: () => dispatch(actions.savePropertiesOnLeave()),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(memo(AdvancedBar))\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// MIT License from https://github.com/kaimallea/isMobile\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","import React from 'react'\nimport isMobile from './utils/isMobile'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n    var prefix = menuEventKey || ''\n    return child.key || ''.concat(prefix, 'item_').concat(index)\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n    return ''.concat(eventKey, '-menu-')\n}\nexport function loopMenuItem(children, cb) {\n    var index = -1\n    React.Children.forEach(children, function(c) {\n        index += 1\n\n        if (c && c.type && c.type.isMenuItemGroup) {\n            React.Children.forEach(c.props.children, function(c2) {\n                index += 1\n                cb(c2, index)\n            })\n        } else {\n            cb(c, index)\n        }\n    })\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n    /* istanbul ignore if */\n    if (!children || ret.find) {\n        return\n    }\n\n    React.Children.forEach(children, function(c) {\n        if (c) {\n            var construct = c.type\n\n            if (\n                !construct ||\n                !(\n                    construct.isSubMenu ||\n                    construct.isMenuItem ||\n                    construct.isMenuItemGroup\n                )\n            ) {\n                return\n            }\n\n            if (keys.indexOf(c.key) !== -1) {\n                ret.find = true\n            } else if (c.props.children) {\n                loopMenuItemRecursively(c.props.children, keys, ret)\n            }\n        }\n    })\n}\nexport var menuAllProps = [\n    'defaultSelectedKeys',\n    'selectedKeys',\n    'defaultOpenKeys',\n    'openKeys',\n    'mode',\n    'getPopupContainer',\n    'onSelect',\n    'onDeselect',\n    'onDestroy',\n    'openTransitionName',\n    'openAnimation',\n    'subMenuOpenDelay',\n    'subMenuCloseDelay',\n    'forceSubMenuRender',\n    'triggerSubMenuAction',\n    'level',\n    'selectable',\n    'multiple',\n    'onOpenChange',\n    'visible',\n    'focusable',\n    'defaultActiveFirst',\n    'prefixCls',\n    'inlineIndent',\n    'parentMenu',\n    'title',\n    'rootPrefixCls',\n    'eventKey',\n    'active',\n    'onItemHover',\n    'onTitleMouseEnter',\n    'onTitleMouseLeave',\n    'onTitleClick',\n    'popupAlign',\n    'popupOffset',\n    'isOpen',\n    'renderMenuItem',\n    'manualRef',\n    'subMenuKey',\n    'disabled',\n    'index',\n    'isSelected',\n    'store',\n    'activeKey',\n    'builtinPlacements',\n    'overflowedIndicator',\n    'motion', // the following keys found need to be removed from test regression\n    'attribute',\n    'value',\n    'popupClassName',\n    'inlineCollapsed',\n    'menu',\n    'theme',\n    'itemIcon',\n    'expandIcon',\n] // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n    var width =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect().width\n\n    if (width) {\n        width = +width.toFixed(6)\n    }\n\n    return width || 0\n}\nexport var getPosition = function getPosition(elem) {\n    var rect =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect()\n    return { left: rect.left, right: rect.right }\n}\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n    if (elem && _typeof(elem.style) === 'object') {\n        elem.style[styleProperty] = value\n    }\n}\nexport var isMobileDevice = function isMobileDevice() {\n    return isMobile.any\n}\n","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport var placementsRtl = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  rightTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  leftTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Trigger from 'rc-trigger'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport CSSMotion from 'rc-animate/es/CSSMotion'\nimport classNames from 'classnames'\nimport { connect } from 'mini-store'\nimport SubPopupMenu from './SubPopupMenu'\nimport { placements, placementsRtl } from './placements'\nimport {\n    noop,\n    loopMenuItemRecursively,\n    getMenuIdFromSubMenuEventKey,\n    menuAllProps,\n} from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\nvar guid = 0\nvar popupPlacementMap = {\n    horizontal: 'bottomLeft',\n    vertical: 'rightTop',\n    'vertical-left': 'rightTop',\n    'vertical-right': 'leftTop',\n}\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(\n    store,\n    eventKey,\n    defaultActiveFirst\n) {\n    var menuId = getMenuIdFromSubMenuEventKey(eventKey)\n    var state = store.getState()\n    store.setState({\n        defaultActiveFirst: _objectSpread(\n            {},\n            state.defaultActiveFirst,\n            _defineProperty({}, menuId, defaultActiveFirst)\n        ),\n    })\n}\n\nexport var SubMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubMenu, _React$Component)\n\n        function SubMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubMenu).call(this, props)\n            )\n\n            _this.onDestroy = function(key) {\n                _this.props.onDestroy(key)\n            }\n            /**\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n                var menu = _this.menuInstance\n                var _this$props = _this.props,\n                    isOpen = _this$props.isOpen,\n                    store = _this$props.store\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onTitleClick(e)\n\n                    updateDefaultActiveFirst(store, _this.props.eventKey, true)\n                    return true\n                }\n\n                if (keyCode === KeyCode.RIGHT) {\n                    if (isOpen) {\n                        menu.onKeyDown(e)\n                    } else {\n                        _this.triggerOpenChange(true) // need to update current menu's defaultActiveFirst value\n\n                        updateDefaultActiveFirst(\n                            store,\n                            _this.props.eventKey,\n                            true\n                        )\n                    }\n\n                    return true\n                }\n\n                if (keyCode === KeyCode.LEFT) {\n                    var handled\n\n                    if (isOpen) {\n                        handled = menu.onKeyDown(e)\n                    } else {\n                        return undefined\n                    }\n\n                    if (!handled) {\n                        _this.triggerOpenChange(false)\n\n                        handled = true\n                    }\n\n                    return handled\n                }\n\n                if (\n                    isOpen &&\n                    (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)\n                ) {\n                    return menu.onKeyDown(e)\n                }\n\n                return undefined\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onPopupVisibleChange = function(visible) {\n                _this.triggerOpenChange(\n                    visible,\n                    visible ? 'mouseenter' : 'mouseleave'\n                )\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    key = _this$props2.eventKey,\n                    onMouseEnter = _this$props2.onMouseEnter,\n                    store = _this$props2.store\n                updateDefaultActiveFirst(store, _this.props.eventKey, false)\n                onMouseEnter({\n                    key: key,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props3 = _this.props,\n                    parentMenu = _this$props3.parentMenu,\n                    eventKey = _this$props3.eventKey,\n                    onMouseLeave = _this$props3.onMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleMouseEnter = function(domEvent) {\n                var _this$props4 = _this.props,\n                    key = _this$props4.eventKey,\n                    onItemHover = _this$props4.onItemHover,\n                    onTitleMouseEnter = _this$props4.onTitleMouseEnter\n                onItemHover({\n                    key: key,\n                    hover: true,\n                })\n                onTitleMouseEnter({\n                    key: key,\n                    domEvent: domEvent,\n                })\n            }\n\n            _this.onTitleMouseLeave = function(e) {\n                var _this$props5 = _this.props,\n                    parentMenu = _this$props5.parentMenu,\n                    eventKey = _this$props5.eventKey,\n                    onItemHover = _this$props5.onItemHover,\n                    onTitleMouseLeave = _this$props5.onTitleMouseLeave\n                parentMenu.subMenuInstance = _assertThisInitialized(_this)\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onTitleMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onTitleClick = function(e) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                props.onTitleClick({\n                    key: props.eventKey,\n                    domEvent: e,\n                })\n\n                if (props.triggerSubMenuAction === 'hover') {\n                    return\n                }\n\n                _this.triggerOpenChange(!props.isOpen, 'click')\n\n                updateDefaultActiveFirst(\n                    props.store,\n                    _this.props.eventKey,\n                    false\n                )\n            }\n\n            _this.onSubMenuClick = function(info) {\n                // in the case of overflowed submenu\n                // onClick is not copied over\n                if (typeof _this.props.onClick === 'function') {\n                    _this.props.onClick(_this.addKeyPath(info))\n                }\n            }\n\n            _this.onSelect = function(info) {\n                _this.props.onSelect(info)\n            }\n\n            _this.onDeselect = function(info) {\n                _this.props.onDeselect(info)\n            }\n\n            _this.getPrefixCls = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu')\n            }\n\n            _this.getActiveClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-active')\n            }\n\n            _this.getDisabledClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-disabled')\n            }\n\n            _this.getSelectedClassName = function() {\n                return ''.concat(_this.getPrefixCls(), '-selected')\n            }\n\n            _this.getOpenClassName = function() {\n                return ''.concat(_this.props.rootPrefixCls, '-submenu-open')\n            }\n\n            _this.saveMenuInstance = function(c) {\n                // children menu instance\n                _this.menuInstance = c\n            }\n\n            _this.addKeyPath = function(info) {\n                return _objectSpread({}, info, {\n                    keyPath: (info.keyPath || []).concat(_this.props.eventKey),\n                })\n            }\n\n            _this.triggerOpenChange = function(open, type) {\n                var key = _this.props.eventKey\n\n                var openChange = function openChange() {\n                    _this.onOpenChange({\n                        key: key,\n                        item: _assertThisInitialized(_this),\n                        trigger: type,\n                        open: open,\n                    })\n                }\n\n                if (type === 'mouseenter') {\n                    // make sure mouseenter happen after other menu item's mouseleave\n                    _this.mouseenterTimeout = setTimeout(function() {\n                        openChange()\n                    }, 0)\n                } else {\n                    openChange()\n                }\n            }\n\n            _this.isChildrenSelected = function() {\n                var ret = {\n                    find: false,\n                }\n                loopMenuItemRecursively(\n                    _this.props.children,\n                    _this.props.selectedKeys,\n                    ret\n                )\n                return ret.find\n            }\n\n            _this.isOpen = function() {\n                return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1\n            }\n\n            _this.adjustWidth = function() {\n                /* istanbul ignore if */\n                if (!_this.subMenuTitle || !_this.menuInstance) {\n                    return\n                }\n\n                var popupMenu = ReactDOM.findDOMNode(_this.menuInstance)\n\n                if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n                    return\n                }\n                /* istanbul ignore next */\n\n                popupMenu.style.minWidth = ''.concat(\n                    _this.subMenuTitle.offsetWidth,\n                    'px'\n                )\n            }\n\n            _this.saveSubMenuTitle = function(subMenuTitle) {\n                _this.subMenuTitle = subMenuTitle\n            }\n\n            _this.getBaseProps = function() {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                return {\n                    mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n                    visible: _this.props.isOpen,\n                    level: props.level + 1,\n                    inlineIndent: props.inlineIndent,\n                    focusable: false,\n                    onClick: _this.onSubMenuClick,\n                    onSelect: _this.onSelect,\n                    onDeselect: _this.onDeselect,\n                    onDestroy: _this.onDestroy,\n                    selectedKeys: props.selectedKeys,\n                    eventKey: ''.concat(props.eventKey, '-menu-'),\n                    openKeys: props.openKeys,\n                    motion: props.motion,\n                    onOpenChange: _this.onOpenChange,\n                    subMenuOpenDelay: props.subMenuOpenDelay,\n                    parentMenu: _assertThisInitialized(_this),\n                    subMenuCloseDelay: props.subMenuCloseDelay,\n                    forceSubMenuRender: props.forceSubMenuRender,\n                    triggerSubMenuAction: props.triggerSubMenuAction,\n                    builtinPlacements: props.builtinPlacements,\n                    defaultActiveFirst: props.store.getState()\n                        .defaultActiveFirst[\n                        getMenuIdFromSubMenuEventKey(props.eventKey)\n                    ],\n                    multiple: props.multiple,\n                    prefixCls: props.rootPrefixCls,\n                    id: _this.internalMenuId,\n                    manualRef: _this.saveMenuInstance,\n                    itemIcon: props.itemIcon,\n                    expandIcon: props.expandIcon,\n                    direction: props.direction,\n                }\n            }\n\n            _this.getMotion = function(mode, visible) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    haveRendered = _assertThisInitialize3.haveRendered\n\n                var _this$props6 = _this.props,\n                    motion = _this$props6.motion,\n                    rootPrefixCls = _this$props6.rootPrefixCls // don't show transition on first rendering (no animation for opened menu)\n                // show appear transition if it's not visible (not sure why)\n                // show appear transition if it's not inline mode\n\n                var mergedMotion = _objectSpread({}, motion, {\n                    leavedClassName: ''.concat(rootPrefixCls, '-hidden'),\n                    removeOnLeave: false,\n                    motionAppear: haveRendered || !visible || mode !== 'inline',\n                })\n\n                return mergedMotion\n            }\n\n            var store = props.store,\n                eventKey = props.eventKey\n\n            var _store$getState = store.getState(),\n                defaultActiveFirst = _store$getState.defaultActiveFirst\n\n            _this.isRootMenu = false\n            var value = false\n\n            if (defaultActiveFirst) {\n                value = defaultActiveFirst[eventKey]\n            }\n\n            updateDefaultActiveFirst(store, eventKey, value)\n            return _this\n        }\n\n        _createClass(SubMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.componentDidUpdate()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    var _this2 = this\n\n                    var _this$props7 = this.props,\n                        mode = _this$props7.mode,\n                        parentMenu = _this$props7.parentMenu,\n                        manualRef = _this$props7.manualRef // invoke customized ref to expose component to mixin\n\n                    if (manualRef) {\n                        manualRef(this)\n                    }\n\n                    if (\n                        mode !== 'horizontal' ||\n                        !parentMenu.isRootMenu ||\n                        !this.props.isOpen\n                    ) {\n                        return\n                    }\n\n                    this.minWidthTimeout = setTimeout(function() {\n                        return _this2.adjustWidth()\n                    }, 0)\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var _this$props8 = this.props,\n                        onDestroy = _this$props8.onDestroy,\n                        eventKey = _this$props8.eventKey\n\n                    if (onDestroy) {\n                        onDestroy(eventKey)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.minWidthTimeout) {\n                        clearTimeout(this.minWidthTimeout)\n                    }\n                    /* istanbul ignore if */\n\n                    if (this.mouseenterTimeout) {\n                        clearTimeout(this.mouseenterTimeout)\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    var baseProps = this.getBaseProps() // [Legacy] getMotion must be called before `haveRendered`\n\n                    var mergedMotion = this.getMotion(\n                        baseProps.mode,\n                        baseProps.visible\n                    )\n                    this.haveRendered = true\n                    this.haveOpened =\n                        this.haveOpened ||\n                        baseProps.visible ||\n                        baseProps.forceSubMenuRender // never rendered not planning to, don't render\n\n                    if (!this.haveOpened) {\n                        return React.createElement('div', null)\n                    }\n\n                    var direction = baseProps.direction\n                    return React.createElement(\n                        CSSMotion,\n                        Object.assign(\n                            {\n                                visible: baseProps.visible,\n                            },\n                            mergedMotion\n                        ),\n                        function(_ref) {\n                            var className = _ref.className,\n                                style = _ref.style\n                            var mergedClassName = classNames(\n                                ''.concat(baseProps.prefixCls, '-sub'),\n                                className,\n                                _ref.popupMenuBlockClasses,\n                                _defineProperty(\n                                    {},\n                                    ''.concat(baseProps.prefixCls, '-rtl'),\n                                    direction === 'rtl'\n                                )\n                            )\n                            return React.createElement(\n                                SubPopupMenu,\n                                Object.assign({}, baseProps, {\n                                    id: _this3.internalMenuId,\n                                    className: mergedClassName,\n                                    style: style,\n                                }),\n                                children\n                            )\n                        }\n                    )\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames2\n\n                    var props = _objectSpread({}, this.props)\n\n                    var isOpen = props.isOpen\n                    var prefixCls = this.getPrefixCls()\n                    var isInlineMode = props.mode === 'inline'\n                    var className = classNames(\n                        prefixCls,\n                        ''.concat(prefixCls, '-').concat(props.mode),\n                        ((_classNames2 = {}),\n                        _defineProperty(\n                            _classNames2,\n                            props.className,\n                            !!props.className\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getOpenClassName(),\n                            isOpen\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getActiveClassName(),\n                            props.active || (isOpen && !isInlineMode)\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _defineProperty(\n                            _classNames2,\n                            this.getSelectedClassName(),\n                            this.isChildrenSelected()\n                        ),\n                        _classNames2)\n                    )\n                    className = [\n                        className,\n                        props.isSub\n                            ? props.store.getState().popupMenuItemClasses\n                            : props.store.getState().topMenuItemClasses,\n                    ].join(' ')\n\n                    if (!this.internalMenuId) {\n                        if (props.eventKey) {\n                            this.internalMenuId = ''.concat(\n                                props.eventKey,\n                                '$Menu'\n                            )\n                        } else {\n                            guid += 1\n                            this.internalMenuId = '$__$'.concat(guid, '$Menu')\n                        }\n                    }\n\n                    var mouseEvents = {}\n                    var titleClickEvents = {}\n                    var titleMouseEvents = {}\n\n                    if (!props.disabled) {\n                        mouseEvents = {\n                            onMouseLeave: this.onMouseLeave,\n                            onMouseEnter: this.onMouseEnter,\n                        } // only works in title, not outer li\n\n                        titleClickEvents = {\n                            onClick: this.onTitleClick,\n                        }\n                        titleMouseEvents = {\n                            onMouseEnter: this.onTitleMouseEnter,\n                            onMouseLeave: this.onTitleMouseLeave,\n                        }\n                    }\n\n                    var style = {}\n                    var direction = props.direction\n\n                    if (isInlineMode) {\n                        if (direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    var ariaOwns = {} // only set aria-owns when menu is open\n                    // otherwise it would be an invalid aria-owns value\n                    // since corresponding node cannot be found\n\n                    if (this.props.isOpen) {\n                        ariaOwns = {\n                            'aria-owns': this.internalMenuId,\n                        }\n                    } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n                    var icon = null\n\n                    if (props.mode !== 'horizontal') {\n                        icon = this.props.expandIcon // ReactNode\n\n                        if (typeof this.props.expandIcon === 'function') {\n                            icon = React.createElement(\n                                this.props.expandIcon,\n                                _objectSpread({}, this.props)\n                            )\n                        }\n                    }\n\n                    var title = React.createElement(\n                        'div',\n                        Object.assign(\n                            {\n                                ref: this.saveSubMenuTitle,\n                                style: style,\n                                className: ''.concat(prefixCls, '-title'),\n                                role: 'button',\n                            },\n                            titleMouseEvents,\n                            titleClickEvents,\n                            {\n                                'aria-expanded': isOpen,\n                            },\n                            ariaOwns,\n                            {\n                                'aria-haspopup': 'true',\n                                title:\n                                    typeof props.title === 'string'\n                                        ? props.title\n                                        : undefined,\n                            }\n                        ),\n                        props.title,\n                        icon ||\n                            React.createElement('i', {\n                                className: ''.concat(prefixCls, '-arrow'),\n                            })\n                    )\n                    var children = this.renderChildren(props.children)\n                    var getPopupContainer = props.parentMenu.isRootMenu\n                        ? props.parentMenu.props.getPopupContainer\n                        : function(triggerNode) {\n                              return triggerNode.parentNode\n                          }\n                    var popupPlacement = popupPlacementMap[props.mode]\n                    var popupAlign = props.popupOffset\n                        ? {\n                              offset: props.popupOffset,\n                          }\n                        : {}\n                    var popupClassName =\n                        props.mode === 'inline' ? '' : props.popupClassName\n                    popupClassName +=\n                        direction === 'rtl' ? ' '.concat(prefixCls, '-rtl') : ''\n                    var disabled = props.disabled,\n                        triggerSubMenuAction = props.triggerSubMenuAction,\n                        subMenuOpenDelay = props.subMenuOpenDelay,\n                        forceSubMenuRender = props.forceSubMenuRender,\n                        subMenuCloseDelay = props.subMenuCloseDelay,\n                        builtinPlacements = props.builtinPlacements\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.isSub\n                    var placement =\n                        direction === 'rtl'\n                            ? Object.assign(\n                                  {},\n                                  placementsRtl,\n                                  builtinPlacements\n                              )\n                            : Object.assign({}, placements, builtinPlacements)\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, mouseEvents, {\n                            className: className,\n                            role: 'menuitem',\n                        }),\n                        isInlineMode && title,\n                        isInlineMode && children,\n                        !isInlineMode &&\n                            React.createElement(\n                                Trigger,\n                                {\n                                    prefixCls: prefixCls,\n                                    popupClassName: classNames(\n                                        ''.concat(prefixCls, '-popup'),\n                                        popupClassName\n                                    ),\n                                    getPopupContainer: getPopupContainer,\n                                    builtinPlacements: placement,\n                                    popupPlacement: popupPlacement,\n                                    popupVisible: isOpen,\n                                    popupAlign: popupAlign,\n                                    popup: children,\n                                    action: disabled\n                                        ? []\n                                        : [triggerSubMenuAction],\n                                    mouseEnterDelay: subMenuOpenDelay,\n                                    mouseLeaveDelay: subMenuCloseDelay,\n                                    onPopupVisibleChange: this\n                                        .onPopupVisibleChange,\n                                    forceRender: forceSubMenuRender,\n                                },\n                                title\n                            )\n                    )\n                },\n            },\n        ])\n\n        return SubMenu\n    })(React.Component)\nSubMenu.defaultProps = {\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    onTitleMouseEnter: noop,\n    onTitleMouseLeave: noop,\n    onTitleClick: noop,\n    manualRef: noop,\n    mode: 'vertical',\n    title: '',\n}\nvar connected = connect(function(_ref2, _ref3) {\n    var openKeys = _ref2.openKeys,\n        activeKey = _ref2.activeKey,\n        selectedKeys = _ref2.selectedKeys\n    var eventKey = _ref3.eventKey,\n        subMenuKey = _ref3.subMenuKey\n    return {\n        isOpen: openKeys.indexOf(eventKey) > -1,\n        active: activeKey[subMenuKey] === eventKey,\n        selectedKeys: selectedKeys,\n    }\n})(SubMenu)\nconnected.isSubMenu = true\nexport default connected\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport SubMenu from './SubMenu'\nimport { getWidth, setStyle, menuAllProps, getPosition } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n\nfunction _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i]\n        }\n        return arr2\n    }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed'\nvar FLOAT_PRECISION_ADJUST = 0.5\n\nvar DOMWrap =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(DOMWrap, _React$Component)\n\n        function DOMWrap() {\n            var _this\n\n            _classCallCheck(this, DOMWrap)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(DOMWrap).apply(this, arguments)\n            )\n            _this.resizeObserver = null\n            _this.mutationObserver = null // original scroll size of the list\n\n            _this.originalTotalWidth = 0 // copy of overflowed items\n\n            _this.overflowedItems = [] // cache item of the original items (so we can track the size and order)\n            _this.ulSizes = {}\n            _this.menuItemSizes = []\n            _this.state = {\n                lastVisibleIndex: undefined,\n            } // get all valid menuItem nodes\n\n            _this.getMenuItemNodes = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) < 0\n                    )\n                })\n            }\n\n            _this.getMenuItemNodesOver = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) >= 0\n                    )\n                })\n            }\n\n            _this.getOverflowedSubMenuItem = function(\n                keyPrefix,\n                overflowedItems,\n                renderPlaceholder\n            ) {\n                var _this$props = _this.props,\n                    overflowedIndicator = _this$props.overflowedIndicator,\n                    level = _this$props.level,\n                    mode = _this$props.mode,\n                    prefixCls = _this$props.prefixCls,\n                    theme = _this$props.theme\n\n                if (level !== 1 || mode !== 'horizontal') {\n                    return null\n                } // put all the overflowed item inside a submenu\n                // with a title of overflow indicator ('...')\n\n                var copy = _this.props.children[0]\n\n                var _copy$props = copy.props,\n                    throwAway = _copy$props.children,\n                    title = _copy$props.title,\n                    propStyle = _copy$props.style,\n                    rest = _objectWithoutProperties(_copy$props, [\n                        'children',\n                        'title',\n                        'style',\n                    ])\n\n                var style = _objectSpread({}, propStyle)\n\n                var key = ''.concat(keyPrefix, '-overflowed-indicator')\n                var eventKey = ''.concat(keyPrefix, '-overflowed-indicator')\n\n                if (\n                    overflowedItems.length === 0 &&\n                    renderPlaceholder !== true\n                ) {\n                    style = _objectSpread({}, style, {\n                        display: 'none',\n                    })\n                } else if (renderPlaceholder) {\n                    style = _objectSpread({}, style, {\n                        visibility: 'hidden',\n                        // prevent from taking normal dom space\n                        position: 'absolute',\n                    })\n                    key = ''.concat(key, '-placeholder')\n                    eventKey = ''.concat(eventKey, '-placeholder')\n                }\n\n                var popupClassName = theme\n                    ? ''.concat(prefixCls, '-').concat(theme)\n                    : ''\n                var props = {}\n                menuAllProps.forEach(function(k) {\n                    if (rest[k] !== undefined) {\n                        props[k] = rest[k]\n                    }\n                })\n                return React.createElement(\n                    SubMenu,\n                    Object.assign(\n                        {\n                            title: overflowedIndicator,\n                            className: ''.concat(\n                                prefixCls,\n                                '-overflowed-submenu'\n                            ),\n                            popupClassName: popupClassName,\n                        },\n                        props,\n                        {\n                            key: key,\n                            eventKey: eventKey,\n                            disabled: false,\n                            style: style,\n                        }\n                    ),\n                    overflowedItems\n                )\n            } // memorize rendered menuSize\n\n            _this.setChildrenWidthAndResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var ulChildrenNodes = ul.children\n\n                if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n                    return\n                }\n                var menuItemNodesOver = _this.getMenuItemNodesOver()\n                var currentDisplayState = menuItemNodesOver.map(\n                    item => item.style.display\n                )\n                menuItemNodesOver.forEach(item => {\n                    setStyle(item, 'display', 'none')\n                })\n                var lastOverflowedIndicatorPlaceholder =\n                    ul.children[ulChildrenNodes.length - 1] // need last overflowed indicator for calculating length;\n\n                setStyle(\n                    lastOverflowedIndicatorPlaceholder,\n                    'display',\n                    'inline-block'\n                )\n\n                var menuItemNodes = _this.getMenuItemNodes() // reset display attribute for all hidden elements caused by overflow to calculate updated width\n                // and then reset to original state after width calculation\n                var overflowedItems = menuItemNodes.filter(function(c) {\n                    return (\n                        c.className\n                            .split(' ')\n                            .indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0\n                    )\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'inline-block')\n                })\n                _this.menuItemSizes = menuItemNodes.map(function(c) {\n                    return getPosition(c)\n                })\n                _this.ulSizes = getPosition(ul)\n\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'none')\n                })\n                menuItemNodesOver.forEach(\n                    (item, index) =>\n                        (item.style.display = currentDisplayState[index])\n                )\n                ul.children[ul.children.length - 1].style.display =\n                    'inline-block'\n                _this.overflowedIndicatorWidth = getWidth(\n                    ul.children[ul.children.length - 1]\n                )\n\n                if (_this.menuItemSizes.length > 0) {\n                    _this.originalTotalWidth =\n                        _this.menuItemSizes[_this.menuItemSizes.length - 1]\n                            .right - _this.ulSizes.left\n                }\n\n                _this.handleResize() // prevent the overflowed indicator from taking space;\n\n                setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none')\n            }\n\n            _this.handleResize = function() {\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var width = _this.ulSizes.right - _this.ulSizes.left\n                _this.overflowedItems = []\n\n                var lastVisibleIndex // float number comparison could be problematic\n                // e.g. 0.1 + 0.2 > 0.3 =====> true\n                // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n                if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n                    lastVisibleIndex = -1\n                    _this.menuItemSizes.forEach(function(liWidth, index) {\n                        if (index > 0) {\n                            if (\n                                liWidth.left + _this.overflowedIndicatorWidth <=\n                                _this.ulSizes.right\n                            ) {\n                                lastVisibleIndex += 1\n                            }\n                        }\n                    })\n                }\n\n                _this.setState({\n                    lastVisibleIndex: lastVisibleIndex,\n                })\n            }\n\n            return _this\n        }\n\n        _createClass(DOMWrap, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var _this2 = this\n\n                    this.setChildrenWidthAndResize()\n\n                    if (\n                        this.props.level === 1 &&\n                        this.props.mode === 'horizontal'\n                    ) {\n                        var menuUl = ReactDOM.findDOMNode(this)\n\n                        if (!menuUl) {\n                            return\n                        }\n\n                        this.resizeObserver = new ResizeObserver(function(\n                            entries\n                        ) {\n                            entries.forEach(_this2.setChildrenWidthAndResize)\n                        })\n                        ;[].slice\n                            .call(menuUl.children)\n                            .concat(menuUl)\n                            .forEach(function(el) {\n                                _this2.resizeObserver.observe(el)\n                            })\n\n                        if (typeof MutationObserver !== 'undefined') {\n                            this.mutationObserver = new MutationObserver(\n                                function() {\n                                    _this2.resizeObserver.disconnect()\n                                    ;[].slice\n                                        .call(menuUl.children)\n                                        .concat(menuUl)\n                                        .forEach(function(el) {\n                                            _this2.resizeObserver.observe(el)\n                                        })\n\n                                    _this2.setChildrenWidthAndResize()\n                                }\n                            )\n                            this.mutationObserver.observe(menuUl, {\n                                attributes: false,\n                                childList: true,\n                                subTree: false,\n                            })\n                        }\n                    }\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    if (this.resizeObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n\n                    if (this.mutationObserver) {\n                        this.mutationObserver.disconnect()\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    // need to take care of overflowed items in horizontal mode\n                    var lastVisibleIndex = this.state.lastVisibleIndex\n                    return (children || []).reduce(function(\n                        acc,\n                        childNode,\n                        index\n                    ) {\n                        var item = childNode\n\n                        if (_this3.props.mode === 'horizontal') {\n                            var overflowed = _this3.getOverflowedSubMenuItem(\n                                childNode.props.eventKey,\n                                []\n                            )\n\n                            if (\n                                lastVisibleIndex !== undefined &&\n                                _this3.props.className.indexOf(\n                                    ''.concat(_this3.props.prefixCls, '-root')\n                                ) !== -1\n                            ) {\n                                if (index > lastVisibleIndex) {\n                                    item = React.cloneElement(\n                                        childNode, //  eventKey  openkeys \n                                        {\n                                            style: {\n                                                display: 'none',\n                                            },\n                                            eventKey: ''.concat(\n                                                childNode.props.eventKey,\n                                                '-hidden'\n                                            ),\n\n                                            /**\n                                             * Legacy code. Here `className` never used:\n                                             * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                                             */\n                                            className: ''.concat(\n                                                MENUITEM_OVERFLOWED_CLASSNAME\n                                            ),\n                                        }\n                                    )\n                                }\n\n                                if (index === lastVisibleIndex + 1) {\n                                    _this3.overflowedItems = children\n                                        .slice(lastVisibleIndex + 1)\n                                        .map(function(c) {\n                                            return React.cloneElement(\n                                                c, // children[index].key will become '.$key' in clone by default,\n                                                // we have to overwrite with the correct key explicitly\n                                                {\n                                                    key: c.props.eventKey,\n                                                    mode: 'vertical-left',\n                                                }\n                                            )\n                                        })\n                                    overflowed = _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        _this3.overflowedItems\n                                    )\n                                }\n                            }\n\n                            var ret = [].concat(_toConsumableArray(acc), [\n                                overflowed,\n                                item,\n                            ])\n\n                            if (index === children.length - 1) {\n                                // need a placeholder for calculating overflowed indicator width\n                                ret.push(\n                                    _this3.getOverflowedSubMenuItem(\n                                        childNode.props.eventKey,\n                                        [],\n                                        true\n                                    )\n                                )\n                            }\n\n                            return ret\n                        }\n\n                        return [].concat(_toConsumableArray(acc), [item])\n                    },\n                    [])\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this$props2 = this.props,\n                        visible = _this$props2.visible,\n                        prefixCls = _this$props2.prefixCls,\n                        overflowedIndicator = _this$props2.overflowedIndicator,\n                        mode = _this$props2.mode,\n                        level = _this$props2.level,\n                        tag = _this$props2.tag,\n                        children = _this$props2.children,\n                        theme = _this$props2.theme,\n                        rest = _objectWithoutProperties(_this$props2, [\n                            'visible',\n                            'prefixCls',\n                            'overflowedIndicator',\n                            'mode',\n                            'level',\n                            'tag',\n                            'children',\n                            'theme',\n                        ])\n\n                    var Tag = tag\n                    return React.createElement(\n                        Tag,\n                        Object.assign({}, rest),\n                        this.renderChildren(children)\n                    )\n                },\n            },\n        ])\n\n        return DOMWrap\n    })(React.Component)\n\nDOMWrap.defaultProps = {\n    tag: 'div',\n    className: '',\n}\nexport default DOMWrap\n","import React from 'react'\nimport { connect } from 'mini-store'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport createChainedFunction from 'rc-util/es/createChainedFunction'\nimport shallowEqual from 'shallowequal'\nimport classNames from 'classnames'\nimport {\n    getKeyFromChildrenIndex,\n    loopMenuItem,\n    noop,\n    menuAllProps,\n    isMobileDevice,\n} from './util'\nimport DOMWrap from './DOMWrap'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction allDisabled(arr) {\n    if (!arr.length) {\n        return true\n    }\n\n    return arr.every(function(c) {\n        return !!c.props.disabled\n    })\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n    var state = store.getState()\n    store.setState({\n        activeKey: _objectSpread(\n            {},\n            state.activeKey,\n            _defineProperty({}, menuId, activeKey)\n        ),\n    })\n}\n\nfunction getEventKey(props) {\n    // when eventKey not available ,it's menu and return menu id '0-menu-'\n    return props.eventKey || '0-menu-'\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n    var activeKey = originalActiveKey\n    var children = props.children,\n        eventKey = props.eventKey\n\n    if (activeKey) {\n        var found\n        loopMenuItem(children, function(c, i) {\n            if (\n                c &&\n                c.props &&\n                !c.props.disabled &&\n                activeKey === getKeyFromChildrenIndex(c, eventKey, i)\n            ) {\n                found = true\n            }\n        })\n\n        if (found) {\n            return activeKey\n        }\n    }\n\n    activeKey = null\n\n    if (props.defaultActiveFirst) {\n        loopMenuItem(children, function(c, i) {\n            if (!activeKey && c && !c.props.disabled) {\n                activeKey = getKeyFromChildrenIndex(c, eventKey, i)\n            }\n        })\n        return activeKey\n    }\n\n    return activeKey\n}\nexport function saveRef(c) {\n    if (c) {\n        var index = this.instanceArray.indexOf(c)\n\n        if (index !== -1) {\n            // update component if it's already inside instanceArray\n            this.instanceArray[index] = c\n        } else {\n            // add component if it's not in instanceArray yet;\n            this.instanceArray.push(c)\n        }\n    }\n}\nexport var SubPopupMenu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(SubPopupMenu, _React$Component)\n\n        function SubPopupMenu(props) {\n            var _this\n\n            _classCallCheck(this, SubPopupMenu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(SubPopupMenu).call(this, props)\n            )\n            /**\n             * all keyboard events callbacks run from here at first\n             *\n             * note:\n             *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n             *  which need return code to check if this event is handled\n             */\n\n            _this.onKeyDown = function(e, callback) {\n                var keyCode = e.keyCode\n                var handled\n\n                _this.getFlatInstanceArray().forEach(function(obj) {\n                    if (obj && obj.props.active && obj.onKeyDown) {\n                        handled = obj.onKeyDown(e)\n                    }\n                })\n\n                if (handled) {\n                    return 1\n                }\n\n                var activeItem = null\n\n                if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n                    activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1)\n                }\n\n                if (activeItem) {\n                    e.preventDefault()\n                    updateActiveKey(\n                        _this.props.store,\n                        getEventKey(_this.props),\n                        activeItem.props.eventKey\n                    )\n\n                    if (typeof callback === 'function') {\n                        callback(activeItem)\n                    }\n\n                    return 1\n                }\n\n                return undefined\n            }\n\n            _this.onItemHover = function(e) {\n                var key = e.key,\n                    hover = e.hover\n                updateActiveKey(\n                    _this.props.store,\n                    getEventKey(_this.props),\n                    hover ? key : null\n                )\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                _this.props.onDeselect(selectInfo)\n            }\n\n            _this.onSelect = function(selectInfo) {\n                _this.props.onSelect(selectInfo)\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            }\n\n            _this.onOpenChange = function(e) {\n                _this.props.onOpenChange(e)\n            }\n\n            _this.onDestroy = function(key) {\n                /* istanbul ignore next */\n                _this.props.onDestroy(key)\n            }\n\n            _this.getFlatInstanceArray = function() {\n                return _this.instanceArray\n            }\n\n            _this.step = function(direction) {\n                var children = _this.getFlatInstanceArray()\n\n                var activeKey = _this.props.store.getState().activeKey[\n                    getEventKey(_this.props)\n                ]\n\n                var len = children.length\n\n                if (!len) {\n                    return null\n                }\n\n                if (direction < 0) {\n                    children = children.concat().reverse()\n                } // find current activeIndex\n\n                var activeIndex = -1\n                children.every(function(c, ci) {\n                    if (c && c.props.eventKey === activeKey) {\n                        activeIndex = ci\n                        return false\n                    }\n\n                    return true\n                })\n\n                if (\n                    !_this.props.defaultActiveFirst &&\n                    activeIndex !== -1 &&\n                    allDisabled(children.slice(activeIndex, len - 1))\n                ) {\n                    return undefined\n                }\n\n                var start = (activeIndex + 1) % len\n                var i = start\n\n                do {\n                    var child = children[i]\n\n                    if (!child || child.props.disabled) {\n                        i = (i + 1) % len\n                    } else {\n                        return child\n                    }\n                } while (i !== start)\n\n                return null\n            }\n\n            _this.renderCommonMenuItem = function(child, i, extraProps) {\n                var state = _this.props.store.getState()\n\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                var key = getKeyFromChildrenIndex(child, props.eventKey, i)\n                var childProps = child.props // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n                if (!childProps || typeof child.type === 'string') {\n                    return child\n                }\n\n                var isActive = key === state.activeKey\n\n                var newChildProps = _objectSpread(\n                    {\n                        mode: childProps.mode || props.mode,\n                        level: props.level,\n                        inlineIndent: props.inlineIndent,\n                        renderMenuItem: _this.renderMenuItem,\n                        rootPrefixCls: props.prefixCls,\n                        index: i,\n                        parentMenu: props.parentMenu,\n                        // customized ref function, need to be invoked manually in child's componentDidMount\n                        manualRef: childProps.disabled\n                            ? undefined\n                            : createChainedFunction(\n                                  child.ref,\n                                  saveRef.bind(_assertThisInitialized(_this))\n                              ),\n                        eventKey: key,\n                        active: !childProps.disabled && isActive,\n                        multiple: props.multiple,\n                        onClick: function onClick(e) {\n                            ;(childProps.onClick || noop)(e)\n\n                            _this.onClick(e)\n                        },\n                        onItemHover: _this.onItemHover,\n                        motion: props.motion,\n                        subMenuOpenDelay: props.subMenuOpenDelay,\n                        subMenuCloseDelay: props.subMenuCloseDelay,\n                        forceSubMenuRender: props.forceSubMenuRender,\n                        onOpenChange: _this.onOpenChange,\n                        onDeselect: _this.onDeselect,\n                        onSelect: _this.onSelect,\n                        builtinPlacements: props.builtinPlacements,\n                        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n                        expandIcon:\n                            childProps.expandIcon || _this.props.expandIcon,\n                    },\n                    extraProps,\n                    {\n                        direction: props.direction,\n                    }\n                ) // ref: https://github.com/ant-design/ant-design/issues/13943\n\n                if (props.mode === 'inline' || isMobileDevice()) {\n                    newChildProps.triggerSubMenuAction = 'click'\n                }\n\n                return React.cloneElement(child, newChildProps)\n            }\n\n            _this.renderMenuItem = function(c, i, subMenuKey) {\n                /* istanbul ignore if */\n                if (!c) {\n                    return null\n                }\n\n                var state = _this.props.store.getState()\n\n                var extraProps = {\n                    openKeys: state.openKeys,\n                    selectedKeys: state.selectedKeys,\n                    triggerSubMenuAction: _this.props.triggerSubMenuAction,\n                    subMenuKey: subMenuKey,\n                }\n                return _this.renderCommonMenuItem(c, i, extraProps)\n            }\n\n            props.store.setState({\n                activeKey: _objectSpread(\n                    {},\n                    props.store.getState().activeKey,\n                    _defineProperty(\n                        {},\n                        props.eventKey,\n                        getActiveKey(props, props.activeKey)\n                    )\n                ),\n            })\n            _this.instanceArray = []\n            return _this\n        }\n\n        _createClass(SubPopupMenu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'shouldComponentUpdate',\n                value: function shouldComponentUpdate(nextProps) {\n                    var props = this.props\n                    return (\n                        this.props.visible ||\n                        nextProps.visible ||\n                        !shallowEqual(\n                            [\n                                this.props.className,\n                                props.store.getState().topMenuBlockClasses,\n                                props.store.getState().topMenuItemClasses,\n                                props.store.getState().topMenuItemActiveClasses,\n                                props.store.getState().popupMenuBlockClasses,\n                                props.store.getState().popupMenuItemClasses,\n                                props.store.getState()\n                                    .popupMenuItemActiveClasses,\n                            ],\n                            [\n                                nextProps.className,\n                                nextProps.topMenuBlockClasses,\n                                nextProps.topMenuItemClasses,\n                                nextProps.topMenuItemActiveClasses,\n                                nextProps.popupMenuBlockClasses,\n                                nextProps.popupMenuItemClasses,\n                                nextProps.popupMenuItemActiveClasses,\n                            ]\n                        ) ||\n                        !shallowEqual(this.props.style, nextProps.style)\n                    )\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var props = this.props\n                    var originalActiveKey =\n                        'activeKey' in props\n                            ? props.activeKey\n                            : props.store.getState().activeKey[\n                                  getEventKey(props)\n                              ]\n                    var activeKey = getActiveKey(props, originalActiveKey)\n\n                    if (activeKey !== originalActiveKey) {\n                        updateActiveKey(\n                            props.store,\n                            getEventKey(props),\n                            activeKey\n                        )\n                    } else if ('activeKey' in prevProps) {\n                        // If prev activeKey is not same as current activeKey,\n                        // we should set it.\n                        var prevActiveKey = getActiveKey(\n                            prevProps,\n                            prevProps.activeKey\n                        )\n\n                        if (activeKey !== prevActiveKey) {\n                            updateActiveKey(\n                                props.store,\n                                getEventKey(props),\n                                activeKey\n                            )\n                        }\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this2 = this\n\n                    var props = _extends({}, this.props)\n\n                    this.instanceArray = []\n                    var className = classNames(\n                        props.prefixCls,\n                        props.className,\n                        ''.concat(props.prefixCls, '-').concat(props.mode)\n                    )\n                    var domProps = {\n                        className: [\n                            className,\n                            props.level < 2\n                                ? props.store.getState().topMenuBlockClasses\n                                : props.store.getState().popupMenuBlockClasses,\n                        ].join(' '),\n                        // role could be 'select' and by default set to menu\n                        role: props.role || 'menu',\n                    }\n\n                    if (props.id) {\n                        domProps.id = props.id\n                    }\n\n                    if (props.focusable) {\n                        domProps.tabIndex = 0\n                        domProps.onKeyDown = this.onKeyDown\n                    }\n\n                    var prefixCls = props.prefixCls,\n                        eventKey = props.eventKey,\n                        visible = props.visible,\n                        level = props.level,\n                        mode = props.mode,\n                        overflowedIndicator = props.overflowedIndicator,\n                        theme = props.theme\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Otherwise, the propagated click event will trigger another onClick\n\n                    delete props.onClick\n                    delete props.topMenuBlockClasses\n                    delete props.topMenuItemClasses\n                    delete props.topMenuItemActiveClasses\n                    delete props.popupMenuBlockClasses\n                    delete props.popupMenuItemClasses\n                    delete props.popupMenuItemActiveClasses\n                    delete props.activeKeys\n                    return React.createElement(\n                        DOMWrap,\n                        Object.assign(\n                            {},\n                            props,\n                            {\n                                prefixCls: prefixCls,\n                                mode: mode,\n                                tag: 'ul',\n                                level: level,\n                                theme: theme,\n                                visible: visible,\n                                overflowedIndicator: overflowedIndicator,\n                            },\n                            domProps\n                        ),\n                        React.Children.map(props.children, function(c, i) {\n                            return _this2.renderMenuItem(\n                                c,\n                                i,\n                                eventKey || '0-menu-',\n                                { isSub: level > 1 }\n                            )\n                        })\n                    )\n                },\n            },\n        ])\n\n        return SubPopupMenu\n    })(React.Component)\nSubPopupMenu.defaultProps = {\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    level: 1,\n    inlineIndent: 24,\n    visible: true,\n    focusable: true,\n    style: {},\n    manualRef: noop,\n}\nvar connected = connect()(SubPopupMenu)\nexport default connected\n","import warning from 'rc-util/es/warning'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function getMotion(_ref) {\n    var prefixCls = _ref.prefixCls,\n        motion = _ref.motion,\n        openAnimation = _ref.openAnimation,\n        openTransitionName = _ref.openTransitionName\n\n    if (motion) {\n        return motion\n    }\n\n    if (_typeof(openAnimation) === 'object' && openAnimation) {\n        warning(\n            false,\n            'Object type of `openAnimation` is removed. Please use `motion` instead.'\n        )\n    } else if (typeof openAnimation === 'string') {\n        return {\n            motionName: ''.concat(prefixCls, '-open-').concat(openAnimation),\n        }\n    }\n\n    if (openTransitionName) {\n        return {\n            motionName: openTransitionName,\n        }\n    }\n\n    return null\n}\n","import React from 'react'\nimport { Provider, create } from 'mini-store'\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu'\nimport { noop } from './util'\nimport { getMotion } from './utils/legacyUtil'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar Menu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(Menu, _React$Component)\n\n        function Menu(props) {\n            var _this\n\n            _classCallCheck(this, Menu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(Menu).call(this, props)\n            )\n\n            _this.onSelect = function(selectInfo) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                if (props.selectable) {\n                    // root menu\n                    var _this$store$getState = _this.store.getState(),\n                        _selectedKeys = _this$store$getState.selectedKeys\n\n                    var selectedKey = selectInfo.key\n\n                    if (props.multiple) {\n                        _selectedKeys = _selectedKeys.concat([selectedKey])\n                    } else {\n                        _selectedKeys = [selectedKey]\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys,\n                        })\n                    }\n\n                    props.onSelect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys,\n                        })\n                    )\n                }\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            } // onKeyDown needs to be exposed as a instance method\n            // e.g., in rc-select, we need to navigate menu item while\n            // current active item is rc-select input box rather than the menu itself\n\n            _this.onKeyDown = function(e, callback) {\n                _this.innerMenu.getWrappedInstance().onKeyDown(e, callback)\n            }\n\n            _this.onOpenChange = function(event) {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                var openKeys = _this.store.getState().openKeys.concat()\n\n                var changed = false\n\n                var processSingle = function processSingle(e) {\n                    var oneChanged = false\n\n                    if (e.open) {\n                        oneChanged = openKeys.indexOf(e.key) === -1\n\n                        if (oneChanged) {\n                            openKeys.push(e.key)\n                        }\n                    } else {\n                        var index = openKeys.indexOf(e.key)\n                        oneChanged = index !== -1\n\n                        if (oneChanged) {\n                            openKeys.splice(index, 1)\n                        }\n                    }\n\n                    changed = changed || oneChanged\n                }\n\n                if (Array.isArray(event)) {\n                    // batch change call\n                    event.forEach(processSingle)\n                } else {\n                    processSingle(event)\n                }\n\n                if (changed) {\n                    if (!('openKeys' in _this.props)) {\n                        _this.store.setState({\n                            openKeys: openKeys,\n                        })\n                    }\n\n                    props.onOpenChange(openKeys)\n                }\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize3.props\n\n                if (props.selectable) {\n                    var _selectedKeys2 = _this.store\n                        .getState()\n                        .selectedKeys.concat()\n\n                    var selectedKey = selectInfo.key\n\n                    var index = _selectedKeys2.indexOf(selectedKey)\n\n                    if (index !== -1) {\n                        _selectedKeys2.splice(index, 1)\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys2,\n                        })\n                    }\n\n                    props.onDeselect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys2,\n                        })\n                    )\n                }\n            }\n\n            _this.getOpenTransitionName = function() {\n                var _assertThisInitialize4 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize4.props\n\n                var transitionName = props.openTransitionName\n                var animationName = props.openAnimation\n\n                if (!transitionName && typeof animationName === 'string') {\n                    transitionName = ''\n                        .concat(props.prefixCls, '-open-')\n                        .concat(animationName)\n                }\n\n                return transitionName\n            }\n\n            _this.setInnerMenu = function(node) {\n                _this.innerMenu = node\n            }\n\n            _this.isRootMenu = true\n            var selectedKeys = props.defaultSelectedKeys\n            var openKeys = props.defaultOpenKeys\n\n            if ('selectedKeys' in props) {\n                selectedKeys = props.selectedKeys || []\n            }\n\n            if ('openKeys' in props) {\n                openKeys = props.openKeys || []\n            }\n\n            _this.store = create({\n                selectedKeys: selectedKeys,\n                openKeys: openKeys,\n                activeKey: {\n                    '0-menu-': getActiveKey(props, props.activeKey),\n                },\n            })\n            return _this\n        }\n\n        _createClass(Menu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'updateMiniStore',\n                value: function updateMiniStore() {\n                    if ('selectedKeys' in this.props) {\n                        this.store.setState({\n                            selectedKeys: this.props.selectedKeys || [],\n                        })\n                    }\n\n                    if ('openKeys' in this.props) {\n                        this.store.setState({\n                            openKeys: this.props.openKeys || [],\n                        })\n                    }\n                    this.updateClassesInMiniStore()\n                },\n            },\n            {\n                key: 'updateClassesInMiniStore',\n                value: function updateClassesInMiniStore() {\n                    if ('topMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            topMenuBlockClasses:\n                                this.props.topMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemClasses:\n                                this.props.topMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemActiveClasses:\n                                this.props.topMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuBlockClasses:\n                                this.props.popupMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemClasses:\n                                this.props.popupMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemActiveClasses:\n                                this.props.popupMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('activeKeys' in this.props) {\n                        this.store.setState({\n                            activeKeys: this.props.activeKeys || [],\n                        })\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    this.updateClassesInMiniStore()\n                    var props = _objectSpread({}, this.props)\n\n                    props.className += ' '.concat(props.prefixCls, '-root')\n\n                    if (props.direction === 'rtl') {\n                        props.className += ' '.concat(props.prefixCls, '-rtl')\n                    }\n\n                    props = _objectSpread({}, props, {\n                        onClick: this.onClick,\n                        onOpenChange: this.onOpenChange,\n                        onDeselect: this.onDeselect,\n                        onSelect: this.onSelect,\n                        parentMenu: this,\n                        motion: getMotion(this.props),\n                    })\n                    delete props.openAnimation\n                    delete props.openTransitionName\n                    return React.createElement(\n                        Provider,\n                        {\n                            store: this.store,\n                        },\n                        React.createElement(\n                            SubPopupMenu,\n                            Object.assign({}, props, {\n                                ref: this.setInnerMenu,\n                            }),\n                            this.props.children\n                        )\n                    )\n                },\n            },\n        ])\n\n        return Menu\n    })(React.Component)\n\nMenu.defaultProps = {\n    selectable: true,\n    onClick: noop,\n    onSelect: noop,\n    onOpenChange: noop,\n    onDeselect: noop,\n    defaultSelectedKeys: [],\n    defaultOpenKeys: [],\n    subMenuOpenDelay: 0.1,\n    subMenuCloseDelay: 0.1,\n    triggerSubMenuAction: 'hover',\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    style: {},\n    builtinPlacements: {},\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7'),\n    topMenuBlockClasses: [],\n    topMenuItemClasses: [],\n    topMenuItemActiveClasses: [],\n    popupMenuBlockClasses: [],\n    popupMenuItemClasses: [],\n    popupMenuItemActiveClasses: [],\n    activeKeys: [],\n}\nexport default Menu\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport classNames from 'classnames'\nimport scrollIntoView from 'scroll-into-view-if-needed'\nimport { connect } from 'mini-store'\nimport { noop, menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nexport var MenuItem =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItem, _React$Component)\n\n        function MenuItem() {\n            var _this\n\n            _classCallCheck(this, MenuItem)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItem).apply(this, arguments)\n            )\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onClick(e)\n\n                    return true\n                }\n\n                return undefined\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props = _this.props,\n                    eventKey = _this$props.eventKey,\n                    onItemHover = _this$props.onItemHover,\n                    onMouseLeave = _this$props.onMouseLeave\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    eventKey = _this$props2.eventKey,\n                    onItemHover = _this$props2.onItemHover,\n                    onMouseEnter = _this$props2.onMouseEnter\n                onItemHover({\n                    key: eventKey,\n                    hover: true,\n                })\n                onMouseEnter({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onClick = function(e) {\n                var _this$props3 = _this.props,\n                    eventKey = _this$props3.eventKey,\n                    multiple = _this$props3.multiple,\n                    onClick = _this$props3.onClick,\n                    onSelect = _this$props3.onSelect,\n                    onDeselect = _this$props3.onDeselect,\n                    isSelected = _this$props3.isSelected\n                var info = {\n                    key: eventKey,\n                    keyPath: [eventKey],\n                    item: _assertThisInitialized(_this),\n                    domEvent: e,\n                }\n                onClick(info)\n\n                if (multiple) {\n                    if (isSelected) {\n                        onDeselect(info)\n                    } else {\n                        onSelect(info)\n                    }\n                } else if (!isSelected) {\n                    onSelect(info)\n                }\n            }\n\n            _this.saveNode = function(node) {\n                _this.node = node\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItem, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var _this$props4 = this.props,\n                        active = _this$props4.active,\n                        parentMenu = _this$props4.parentMenu,\n                        eventKey = _this$props4.eventKey //  parentMenu  MenuItem key \n                    // https://github.com/ant-design/ant-design/issues/16181\n\n                    if (\n                        !prevProps.active &&\n                        active &&\n                        (!parentMenu ||\n                            !parentMenu['scrolled-'.concat(eventKey)])\n                    ) {\n                        if (this.node) {\n                            scrollIntoView(this.node, {\n                                scrollMode: 'if-needed',\n                                // eslint-disable-next-line react/no-find-dom-node\n                                boundary: ReactDOM.findDOMNode(parentMenu),\n                                block: 'nearest',\n                            })\n                            parentMenu['scrolled-'.concat(eventKey)] = true\n                        }\n                    } else if (\n                        parentMenu &&\n                        parentMenu['scrolled-'.concat(eventKey)]\n                    ) {\n                        delete parentMenu['scrolled-'.concat(eventKey)]\n                    }\n\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var props = this.props\n\n                    if (props.onDestroy) {\n                        props.onDestroy(props.eventKey)\n                    }\n                },\n            },\n            {\n                key: 'getPrefixCls',\n                value: function getPrefixCls() {\n                    return ''.concat(this.props.rootPrefixCls, '-item')\n                },\n            },\n            {\n                key: 'getActiveClassName',\n                value: function getActiveClassName() {\n                    return ''.concat(this.getPrefixCls(), '-active')\n                },\n            },\n            {\n                key: 'getSelectedClassName',\n                value: function getSelectedClassName() {\n                    return ''.concat(this.getPrefixCls(), '-selected')\n                },\n            },\n            {\n                key: 'getDisabledClassName',\n                value: function getDisabledClassName() {\n                    return ''.concat(this.getPrefixCls(), '-disabled')\n                },\n            },\n            {\n                key: 'callRef',\n                value: function callRef() {\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames\n\n                    var props = _objectSpread({}, this.props)\n\n                    var className = classNames(\n                        this.getPrefixCls(),\n                        props.className,\n                        ((_classNames = {}),\n                        _defineProperty(\n                            _classNames,\n                            this.getActiveClassName(),\n                            !props.disabled && props.active\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getSelectedClassName(),\n                            props.isSelected\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _classNames)\n                    )\n\n                    var attrs = _objectSpread({}, props.attribute, {\n                        title: props.title,\n                        // className: className,\n                        className: [\n                            className,\n                            ...(props.isSub\n                                ? props.store.getState().popupMenuItemClasses\n                                : props.store.getState().topMenuItemClasses),\n                            ...(props.store\n                                .getState()\n                                .activeKeys.includes(this.props.eventKey)\n                                ? props.isSub\n                                    ? props.store.getState()\n                                          .popupMenuItemActiveClasses\n                                    : props.store.getState()\n                                          .topMenuItemActiveClasses\n                                : []),\n                        ].join(' '),\n                        // set to menuitem by default\n                        role: props.role || 'menuitem',\n                        'aria-disabled': props.disabled,\n                    })\n\n                    if (props.role === 'option') {\n                        // overwrite to option\n                        attrs = _objectSpread({}, attrs, {\n                            role: 'option',\n                            'aria-selected': props.isSelected,\n                        })\n                    } else if (props.role === null || props.role === 'none') {\n                        // sometimes we want to specify role inside <li/> element\n                        // <li><a role='menuitem'>Link</a></li> would be a good example\n                        // in this case the role on <li/> should be \"none\" to\n                        // remove the implied listitem role.\n                        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n                        attrs.role = 'none'\n                    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n                    var mouseEvent = {\n                        onClick: props.disabled ? null : this.onClick,\n                        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n                        onMouseEnter: props.disabled ? null : this.onMouseEnter,\n                    }\n\n                    var style = _objectSpread({}, props.style)\n\n                    if (props.mode === 'inline') {\n                        if (props.direction === 'rtl') {\n                            style.paddingRight =\n                                props.inlineIndent * props.level\n                        } else {\n                            style.paddingLeft = props.inlineIndent * props.level\n                        }\n                    }\n\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    })\n                    delete props.direction\n                    var icon = this.props.itemIcon\n\n                    if (typeof this.props.itemIcon === 'function') {\n                        // TODO: This is a bug which should fixed after TS refactor\n                        icon = React.createElement(\n                            this.props.itemIcon,\n                            this.props\n                        )\n                    }\n                    delete props.isSub\n\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, attrs, mouseEvent, {\n                            style: style,\n                            ref: this.saveNode,\n                        }),\n                        props.children,\n                        icon\n                    )\n                },\n            },\n        ])\n\n        return MenuItem\n    })(React.Component)\nMenuItem.isMenuItem = true\nMenuItem.defaultProps = {\n    onSelect: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    manualRef: noop,\n}\nvar connected = connect(function(_ref, _ref2) {\n    var activeKey = _ref.activeKey,\n        selectedKeys = _ref.selectedKeys\n    var eventKey = _ref2.eventKey,\n        subMenuKey = _ref2.subMenuKey\n    return {\n        active: activeKey[subMenuKey] === eventKey,\n        isSelected: selectedKeys.indexOf(eventKey) !== -1,\n    }\n})(MenuItem)\nexport default connected\n","import React from 'react'\nimport { menuAllProps } from './util'\nfunction _typeof(obj) {\n    '@babel/helpers - typeof'\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MenuItemGroup =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItemGroup, _React$Component)\n\n        function MenuItemGroup() {\n            var _this\n\n            _classCallCheck(this, MenuItemGroup)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItemGroup).apply(this, arguments)\n            )\n\n            _this.renderInnerMenuItem = function(item) {\n                var _this$props = _this.props,\n                    renderMenuItem = _this$props.renderMenuItem,\n                    index = _this$props.index\n                return renderMenuItem(item, index, _this.props.subMenuKey)\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItemGroup, [\n            {\n                key: 'render',\n                value: function render() {\n                    var props = _extends({}, this.props)\n\n                    var _props$className = props.className,\n                        className =\n                            _props$className === void 0 ? '' : _props$className,\n                        rootPrefixCls = props.rootPrefixCls\n                    var titleClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-title'\n                    )\n                    var listClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-list'\n                    )\n                    var title = props.title,\n                        children = props.children\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    delete props.direction\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, {\n                            className: ''\n                                .concat(className, ' ')\n                                .concat(rootPrefixCls, '-item-group'),\n                        }),\n                        React.createElement(\n                            'div',\n                            {\n                                className: titleClassName,\n                                title:\n                                    typeof title === 'string'\n                                        ? title\n                                        : undefined,\n                            },\n                            title\n                        ),\n                        React.createElement(\n                            'ul',\n                            {\n                                className: listClassName,\n                            },\n                            React.Children.map(\n                                children,\n                                this.renderInnerMenuItem\n                            )\n                        )\n                    )\n                },\n            },\n        ])\n\n        return MenuItemGroup\n    })(React.Component)\n\nMenuItemGroup.isMenuItemGroup = true\nMenuItemGroup.defaultProps = {\n    disabled: true,\n}\nexport default MenuItemGroup\n","import React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","import React, { useEffect } from 'react'\nimport Menu, { SubMenu, MenuItem } from './MenuModule/index'\nimport buildItemsForMenu from './methods/buildItemsForMenu'\nimport { connect } from 'react-redux'\n\nimport type { elementType, pageType } from '../../../store/reducer/reducer'\n\nexport type Props = {\n    pageInStructure: pageType,\n    element: elementType,\n    document: {},\n    parentPluginProps: $PropertyType<elementType, 'properties'>,\n}\n\nconst activeKeys = []\n\nconst MenuElement = (props: Props) => {\n    useEffect(() => {\n        if (!props.document.getElementById('__menu__popup__container__')) {\n            const container = props.document.createElement('div')\n            container.setAttribute('id', '__menu__popup__container__')\n            container.setAttribute(\n                'style',\n                'z-index:100000;position: absolute;'\n            )\n            props.document.body.appendChild(container)\n        }\n    })\n    const builtItems = buildItemsForMenu(props)\n\n    activeKeys.length = 0\n    const menuElements = builtItems.map((item, index) => {\n        if (item.children.length === 0) {\n            const key = item.id + '_' + index\n            if (\n                item.url === props.pageInStructure.url ||\n                (item.url === '' && props.pageInStructure.homepage)\n            )\n                activeKeys.push(key)\n            return (\n                <MenuItem\n                    key={key}\n                    className={item.properties ? item.properties.class : ''}\n                >\n                    <div\n                        style={{ height: '100%', width: '100%' }}\n                        onClick={() => (window.location = item.url)}\n                    >\n                        {item.name}\n                    </div>\n                </MenuItem>\n            )\n        } else {\n            return (\n                <SubMenu1\n                    item={item}\n                    key={item.id + '_' + index}\n                    pageInStructure={props.pageInStructure}\n                />\n            )\n        }\n    })\n    return (\n        <Menu\n            prefixCls={'systemclass_menu'}\n            // $FlowFixMe\n            getPopupContainer={() =>\n                props.document.getElementById('__menu__popup__container__')\n            }\n            topMenuBlockClasses={\n                props.elementValues.properties.topMenuBlockClasses\n            }\n            topMenuItemClasses={\n                props.elementValues.properties.topMenuItemClasses\n            }\n            topMenuItemActiveClasses={\n                props.elementValues.properties.topMenuItemActiveClasses\n            }\n            popupMenuBlockClasses={\n                props.elementValues.properties.popupMenuBlockClasses\n            }\n            popupMenuItemClasses={\n                props.elementValues.properties.popupMenuItemClasses\n            }\n            popupMenuItemActiveClasses={\n                props.elementValues.properties.popupMenuItemActiveClasses\n            }\n            mode={props.elementValues.properties.mode}\n            selectable={false}\n            triggerSubMenuAction={props.elementValues.properties.trigger}\n            activeKeys={activeKeys}\n        >\n            {menuElements}\n        </Menu>\n    )\n}\n\nconst SubMenu1 = props => {\n    const { ...other } = props\n    return (\n        <SubMenu {...other} title={props.item.name}>\n            {props.item.children.map((item, index) => {\n                if (item.children.length === 0) {\n                    const key = item.id + '_' + index\n                    if (\n                        item.url === props.pageInStructure.url ||\n                        (item.url === '' && props.pageInStructure.homepage)\n                    )\n                        activeKeys.push(key)\n                    return (\n                        <MenuItem key={key}>\n                            <div\n                                style={{ height: '100%', width: '100%' }}\n                                onClick={() => (window.location = item.url)}\n                            >\n                                {item.name}\n                            </div>\n                        </MenuItem>\n                    )\n                } else {\n                    return (\n                        <SubMenu2\n                            item={item}\n                            {...other}\n                            key={item.id + '_' + index}\n                            pageInStructure={props.pageInStructure}\n                        />\n                    )\n                }\n            })}\n        </SubMenu>\n    )\n}\n\nconst SubMenu2 = SubMenu1\n\nconst mapStateToProps = state => {\n    return {\n        pagesStructure: state.mD.pagesStructure,\n        pageInStructure: state.mD.currentPageItem,\n    }\n}\n\nexport default connect(mapStateToProps)(MenuElement)\n","import { buildTree } from '../../../../utils/basic'\n\nimport type { Props } from '../Menu'\n\nexport default (props: Props) => {\n    const buildMenuItems = menuItems => {\n        let structureAfterVariables = []\n        const structure = []\n        if (menuItems) {\n            menuItems.forEach(item => {\n                if (item.generatedFrom === 'variable') {\n                    if (props.parentPluginProps[item.name]) {\n                        structureAfterVariables = [\n                            ...structureAfterVariables,\n                            ...props.parentPluginProps[item.name],\n                        ]\n                    }\n                } else {\n                    structureAfterVariables.push(item)\n                }\n            })\n\n            structureAfterVariables.forEach(item => {\n                if (item.generatedFrom === 'all') {\n                    props.pagesStructure.forEach(page => {\n                        if (!hiddenPages.includes(page.id)) {\n                            structure.push({\n                                name: page.name,\n                                properties: item.properties,\n                                id: item.id + page.id,\n                                path: [\n                                    ...item.path,\n                                    ...page.path.map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.all) {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.path.includes(item.generatedFrom) &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id + page.id,\n                                name: page.name,\n                                properties: item.properties,\n                                path: [\n                                    ...item.path,\n                                    ...page.path\n                                        .slice(\n                                            page.path.indexOf(\n                                                item.generatedFrom\n                                            ) - 1\n                                        )\n                                        .map(l => item.id + l),\n                                ],\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom !== 'link') {\n                    props.pagesStructure.forEach(page => {\n                        if (\n                            page.id === item.generatedFrom &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id,\n                                name: item.name,\n                                properties: item.properties,\n                                path: item.path,\n                                url: page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom === 'link') {\n                    structure.push({\n                        id: item.id,\n                        name: item.name,\n                        path: item.path,\n                        url: item.properties ? item.properties.url || '' : '',\n                        properties: item.properties,\n                    })\n                }\n            })\n        }\n        return structure\n    }\n    const hiddenPages = []\n    props.pagesStructure.forEach(page => {\n        if (page.hidden) hiddenPages.push(page.id)\n    })\n    props.pagesStructure.forEach(page => {\n        page.path.forEach(id => {\n            if (hiddenPages.includes(id)) {\n                hiddenPages.push(page.id)\n            }\n        })\n    })\n\n    return buildTree(buildMenuItems(props.elementValues.menuItems))\n}\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\nimport type Props from '../BuilderElement'\n\nexport const setBoxProperties = (\n    box: HTMLElement,\n    refinedProperties: {},\n    props: Props\n) => {\n    while (box.attributes.length > 0)\n        box.removeAttribute(box.attributes[0].name)\n    if (props.elementValues.style) {\n        const style = props.elementValues.style.replace(\n            //eslint-disable-next-line\n            /\\$[^:;\\$\\s]*\\$/g,\n            match => {\n                const inheritedPropertyName = getInheritedPropertyName(match)\n                return inheritedPropertyName\n                    ? props.parentPluginProps[inheritedPropertyName] || ''\n                    : ''\n            }\n        )\n        box.setAttribute('style', style)\n    }\n\n    for (let attribute in refinedProperties) {\n        const attr = attribute.toLowerCase()\n        switch (attr) {\n            case 'style':\n                break\n            case '':\n                break\n            default:\n                box.setAttribute(attr, refinedProperties[attr])\n                break\n        }\n    }\n}\n\nexport const saveHoveredElementRect = (box: HTMLElement, props: Props) => {\n    const rect = box.getBoundingClientRect()\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    const scrollY = iframe ? iframe.contentWindow.pageYOffset : 0\n    const scrollX = iframe ? iframe.contentWindow.pageXOffset : 0\n\n    props.saveHoveredElementRect(\n        [\n            ...props.pluginsPathArray,\n            {\n                id: props.element.id,\n                plugin: null,\n            },\n        ],\n        {\n            left: rect.left + scrollX,\n            top: rect.top + scrollY,\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top,\n        }\n    )\n}\n","import { getInheritedPropertyName } from '../../../../utils/basic'\n\nimport { CloudFrontUrl, bucket } from '../../../../awsConfig'\n\nimport type Props from '../BuilderElement'\n\nexport default (props: Props) => {\n    const result = {}\n    for (let attribute in props.elementValues.properties) {\n        const inheritedPropertyName = getInheritedPropertyName(\n            props.elementValues.properties[attribute]\n        )\n        result[attribute] = inheritedPropertyName\n            ? props.parentPluginProps[inheritedPropertyName]\n            : props.elementValues.properties[attribute]\n        if (result[attribute])\n            result[attribute] = JSON.parse(\n                JSON.stringify(result[attribute]).replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            )\n        if (attribute === 'src') {\n            let url = result[attribute] || ''\n            const path = url.split('/')\n            if (path.length > 1) {\n                if (path[0] === 'websiter') {\n                    path.shift()\n                    let width, height\n                    if (path.length > 1) {\n                        const sizes = path[path.length - 1]\n                        const indexW = sizes.indexOf('w')\n                        const indexH = sizes.indexOf('h')\n                        if (indexW > -1 && indexH > -1) {\n                            if (indexW < indexH) {\n                                width = sizes.substr(indexW + 1, indexH - 1)\n                                height = sizes.substr(indexH + 1)\n                            } else {\n                                height = sizes.substr(indexH + 1, indexW - 1)\n                                width = sizes.substr(indexW + 1)\n                            }\n                        } else {\n                            if (indexW > -1) width = sizes.substr(indexW + 1)\n                            if (indexH > -1) height = sizes.substr(indexH + 1)\n                        }\n                    }\n\n                    if (isNaN(width)) width = null\n                    else width = parseInt(width)\n                    if (isNaN(height)) height = null\n                    else height = parseInt(height)\n\n                    if (width || height) {\n                        path.pop()\n                    }\n\n                    const imageRequest = JSON.stringify({\n                        bucket: bucket,\n                        key: path.join('/'),\n                        edits: {\n                            resize: {\n                                width: width || '',\n                                height: height || null,\n                                fit: 'cover',\n                                background: { r: 0, g: 0, b: 0, alpha: 0 },\n                            },\n                            toFormat: 'png',\n                        },\n                    })\n\n                    url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n                    result[attribute] = url\n                }\n            }\n        }\n    }\n    return {\n        refinedProperties: { ...props.parentPluginProps, ...result },\n        ownRefinedProperties: result,\n    }\n}\n\nexport const refinePropertiesFromCMS = mD => {\n    const refine = (currentPageDraft, pageTemplateDraft) => {\n        const result = {}\n        if (pageTemplateDraft && currentPageDraft)\n            pageTemplateDraft.structure.forEach(item => {\n                if (item.path.length > 0) {\n                    if (item.path[0] === 'element_02') {\n                        const resourceVariable =\n                            currentPageDraft.values[item.id]\n\n                        const itemValues = pageTemplateDraft.values[item.id]\n                        if (itemValues.CMSVariableSystemName)\n                            if (itemValues.CMSVariableType === 'menuItems') {\n                                result[\n                                    itemValues.CMSVariableSystemName\n                                ] = resourceVariable\n                                    ? resourceVariable.menuItems\n                                        ? resourceVariable.menuItems.length > 0\n                                            ? resourceVariable.menuItems\n                                            : itemValues.defaultMenuItems\n                                        : itemValues.defaultMenuItems\n                                    : itemValues.defaultMenuItems\n                            } else {\n                                result[\n                                    itemValues.CMSVariableSystemName\n                                ] = resourceVariable\n                                    ? resourceVariable.value ||\n                                      itemValues.CMSVariableDefaultValue\n                                    : itemValues.CMSVariableDefaultValue\n                            }\n                    }\n                }\n            })\n        return result\n    }\n    const refinedPropertiesPage = refine(\n        mD.currentPageFSBDraft,\n        mD.pageTemplateFSBDraft\n    )\n    const refinedPropertiesGlobal = refine(\n        mD.globalSettingsPageDraft,\n        mD.globalSettingsTemplateDraft\n    )\n    return { ...refinedPropertiesGlobal, ...refinedPropertiesPage }\n}\n","import type Props from '../BuilderElement'\n\nexport const hoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    e.stopPropagation()\n    // let Tag = props.element.tag || 'div'\n\n    // Tag = Tag.length > 0 ? Tag : 'div'\n    // const isPlugin = checkIfCapital(Tag.charAt(0))\n    // const isPlugin = true\n    if (props.findMode === 'page') {\n        props.hoverBox(\n            // isPlugin ?\n            props.routePlugin || props.element.id,\n            //  : props.element.id,\n            'page',\n            true\n        )\n    } else if (props.findMode === 'plugin') {\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n            props.hoverBox(props.element.id, 'plugin', true)\n        }\n    }\n}\n\nexport const unhoverBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode) {\n        e.stopPropagation()\n        props.unhoverBox()\n    }\n}\n\nexport const chooseBox = (e: SyntheticMouseEvent<>, props: Props) => {\n    if (props.findMode === 'page') {\n        e.stopPropagation()\n        props.chooseBox(\n            props.findMode, /// not sure\n            props.routePlugin || props.element.id\n        )\n    } else if (props.findMode === 'plugin') {\n        e.stopPropagation()\n        if (props.sourcePlugin) {\n            props.chooseResource(props.sourcePlugin, 'plugin')\n\n            props.chooseBox(\n                props.findMode, /// not sure\n                props.element.id\n            )\n        }\n    }\n    props.toggleFindMode()\n}\n","export const emptyTags = [\n    'area',\n    'base',\n    'br',\n    'col',\n    'embed',\n    'hr',\n    'img',\n    'input',\n    'keygen',\n    'link',\n    'meta',\n    'param',\n    'source',\n    'track',\n    'wbr',\n]\n\nexport const headTags = [\n    'meta',\n    'title',\n    'link',\n    'base',\n    'style',\n    'script',\n    'noscript',\n    'text',\n]\n","import React, { useRef, useEffect, memo } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport Menu from '../Menu/Menu'\nimport { getCurrentResourceValue } from '../../../utils/basic'\n\nimport * as actions from '../../../store/actions/index'\nimport { checkIfCapital, getInheritedPropertyName } from '../../../utils/basic'\n\nimport { setBoxProperties } from './methods/useEffect'\nimport refineProperties from './methods/refineProperties'\nimport { hoverBox, unhoverBox, chooseBox } from './methods/boxMethods'\nimport { emptyTags, headTags } from './methods/tagsLibrary'\n// import debounceRender from 'react-debounce-render'\n\nimport parse from 'html-react-parser'\nimport sanitize from 'sanitize-html'\n\nimport type {\n    elementType,\n    resourceType,\n    initialStateType,\n} from '../../../store/reducer/reducer'\n\nexport type Props = {\n    element: elementType,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n    structure: $PropertyType<resourceType, 'structure'>,\n    document: {},\n    pluginsPathArray: Array<{\n        id: string,\n        plugin: string,\n    }>,\n    findMode: $PropertyType<initialStateType, 'findMode'>,\n    parentPluginProps: $PropertyType<elementType, 'properties'>,\n    sourcePlugin: string,\n    routePlugin: string,\n    hoverBox: typeof actions.hoverBox,\n    chooseResource: typeof actions.chooseResource,\n    unhoverBox: typeof actions.unhoverBox,\n    chooseBox: typeof actions.chooseBox,\n    toggleFindMode: typeof actions.toggleFindMode,\n    childrenForPlugin: Array<elementType>,\n    isHead?: boolean,\n}\n\nconst _BuilderElement = (props: Props) => {\n    const elementRef = useRef(null)\n\n    useEffect(() => {\n        const box = elementRef.current\n        if (box && ownRefinedProperties) {\n            if (Tag === 'script') {\n                //$FlowFixMe\n                const newScript = props.document.createElement(Tag)\n                newScript.textContent = box.textContent\n                setBoxProperties(newScript, ownRefinedProperties, props)\n                box.parentNode.appendChild(newScript)\n\n                // box.parentNode.removeChild(box)\n            } else {\n                // saveHoveredElementRect(box, props)\n                setBoxProperties(box, ownRefinedProperties, props)\n            }\n        }\n    })\n\n    if (!props.elementValues) {\n        return null\n    }\n\n    const { refinedProperties, ownRefinedProperties } = refineProperties(props)\n\n    const currentPath = [...props.element.path, props.element.id]\n\n    let Tag = props.element.tag || 'div'\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n\n    if (props.element.childrenTo) {\n        return null\n    } else if (props.element.isChildren) {\n        const childrenMainElement = props.childrenForPlugin.find(\n            itemInn =>\n                itemInn.childrenTo === props.element.id &&\n                itemInn.forPlugin === props.sourcePlugin\n        )\n\n        if (childrenMainElement) {\n            const newStructure = props.childrenForPlugin.filter(itemInn =>\n                itemInn.path.includes(childrenMainElement.id)\n            )\n\n            return newStructure\n                .filter(itemInn => {\n                    if (itemInn.path.length > 0) {\n                        if (\n                            itemInn.path[itemInn.path.length - 1] ===\n                            childrenMainElement.id\n                        )\n                            return true\n                    }\n                    return false\n                })\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={newStructure}\n                        element={item}\n                        document={props.document}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={childrenMainElement.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        currentResource={item.fromResource}\n                        isHead={props.isHead}\n                    />\n                ))\n        }\n        return null\n    } else if (props.element.isElementFromCMSVariable) {\n        const inheritedPropertyName = props.element.tag\n\n        let parseText = ''\n        if (inheritedPropertyName) {\n            if (props.parentPluginProps[inheritedPropertyName]) {\n                parseText = props.parentPluginProps[inheritedPropertyName]\n            }\n        }\n\n        return parse(\n            sanitize(parseText, {\n                allowedTags: false,\n                allowedAttributes: false,\n            })\n        )\n    } else if (checkIfCapital(Tag.charAt(0))) {\n        const plugin = props.pluginsStructure.find(item => item.name === Tag)\n        if (plugin) {\n            const childrenForPlugin = [\n                ...props.structure\n                    .filter(itemInn => itemInn.path.includes(props.element.id))\n                    .map(itemInn => ({\n                        ...itemInn,\n                        fromResource: props.currentResource,\n                    })),\n                ...(props.childrenForPlugin ? props.childrenForPlugin : []),\n            ]\n            if (\n                props.pluginsPathArray.find(item => item.plugin === plugin.id)\n            ) {\n                return null\n            }\n            return (\n                <PluginElement\n                    pluginsStructure={props.pluginsStructure}\n                    plugin={plugin}\n                    tag={Tag}\n                    document={props.document}\n                    routePlugin={props.routePlugin || props.element.id}\n                    pluginsPathArray={[\n                        ...props.pluginsPathArray,\n                        {\n                            id: props.element.id,\n                            plugin: plugin.id,\n                        },\n                    ]}\n                    parentPluginProps={refinedProperties}\n                    childrenForPlugin={childrenForPlugin}\n                    currentResource={plugin.id}\n                    isHead={props.isHead}\n                />\n            )\n        }\n        return null\n    } else if (!props.isHead || headTags.includes(Tag)) {\n        if (Tag === 'websiterMenu') {\n            return (\n                <div\n                    //$FlowFixMe\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                >\n                    <Menu\n                        element={props.element}\n                        elementValues={props.elementValues}\n                        document={props.document}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                    />\n                </div>\n            )\n        } else if (Tag === 'richEditor') {\n            return parse(\n                sanitize(props.elementValues.textContent, {\n                    allowedTags: false,\n                    allowedAttributes: false,\n                })\n            )\n        } else if (props.element.text) {\n            if (props.elementValues.textContent) {\n                return props.elementValues.textContent.replace(\n                    // /\\$[^:;\\$\\s]*\\$/g,\n                    /\\$[A-Za-z0-9]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            } else {\n                return props.isHead ? '' : null\n            }\n        } else {\n            return emptyTags.includes(Tag) ? (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                />\n            ) : (\n                <Tag\n                    ref={elementRef}\n                    onMouseEnter={e => hoverBox(e, props)}\n                    onMouseMove={e => hoverBox(e, props)}\n                    onMouseLeave={e => unhoverBox(e, props)}\n                    onMouseDown={e => chooseBox(e, props)}\n                    {...omit(props.isHead ? ownRefinedProperties : {}, [\n                        'class',\n                        'for',\n                    ])}\n                >\n                    {Tag !== 'menu'\n                        ? props.structure\n                              .filter(item => isEqual(item.path, currentPath))\n                              .map(item => (\n                                  <BuilderElement\n                                      key={item.id}\n                                      structure={props.structure.filter(\n                                          itemInn =>\n                                              itemInn.path.includes(item.id)\n                                      )}\n                                      element={item}\n                                      document={props.document}\n                                      pluginsPathArray={props.pluginsPathArray}\n                                      sourcePlugin={props.sourcePlugin}\n                                      routePlugin={props.routePlugin}\n                                      parentPluginProps={\n                                          props.parentPluginProps\n                                      }\n                                      childrenForPlugin={\n                                          props.childrenForPlugin\n                                      }\n                                      currentResource={props.currentResource}\n                                  />\n                              ))\n                        : null}\n                </Tag>\n            )\n        }\n    } else {\n        return null\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    const sourceResource = props.sourcePlugin || props.currentResource\n\n    let elementValues\n    if (sourceResource)\n        elementValues = getCurrentResourceValue(\n            sourceResource,\n            state.resourcesObjects\n        ).values[props.element.id]\n\n    return {\n        findMode: state.findMode,\n        elementValues,\n        pluginsStructure: state.mD.pluginsStructure,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveHoveredElementRect: (path, size) =>\n            dispatch(actions.saveHoveredElementRect(path, size)),\n        hoverBox: (id, mode, fromFrame) =>\n            dispatch(actions.hoverBox(id, mode, fromFrame)),\n        unhoverBox: () => dispatch(actions.unhoverBox()),\n        chooseBox: (id, currentResource) =>\n            dispatch(actions.chooseBox(id, currentResource)),\n        toggleFindMode: value => dispatch(actions.toggleFindMode(value)),\n        chooseResource: (id, type, mD) =>\n            dispatch(actions.chooseResource(id, type, mD)),\n    }\n}\n\nconst BuilderElement = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(\n    // debounceRender(\n    memo(\n        _BuilderElement,\n        (prevProps, nextProps) => isEqual(prevProps, nextProps)\n        //  &&\n        // isEqual(prevProps.structure, nextProps.structure) &&\n        // isEqual(prevProps.parentPluginProps, nextProps.parentPluginProps)\n    )\n    // ,\n    //     300\n    // )\n)\n\nexport default BuilderElement\n\nconst PluginElementRaw = props => {\n    if (!props.plugin.hidden && props.pluginStructure) {\n        //Pass children to plugin\n\n        return props.pluginStructure\n            .filter(itemInn =>\n                isEqual(itemInn.path, [\n                    props.pluginStructure.filter(\n                        item => item.path.length === 0\n                    )[0].id,\n                ])\n            )\n            .map(itemInn => (\n                <BuilderElement\n                    key={itemInn.id}\n                    structure={props.pluginStructure}\n                    element={itemInn}\n                    document={props.document}\n                    sourcePlugin={props.plugin.id}\n                    routePlugin={props.routePlugin}\n                    pluginsPathArray={props.pluginsPathArray}\n                    parentPluginProps={props.parentPluginProps}\n                    childrenForPlugin={props.childrenForPlugin}\n                    currentResource={props.currentResource}\n                    isHead={props.isHead}\n                />\n            ))\n    }\n\n    return null\n}\n\nconst mapStateToPropsPlugin = (state, props) => {\n    const plugin = getCurrentResourceValue(\n        props.plugin.id,\n        state.resourcesObjects\n    )\n    return {\n        pluginStructure: plugin ? plugin.structure : [],\n    }\n}\n//props.mD.resourcesObjects[plugin.id]\nconst PluginElement = connect(mapStateToPropsPlugin)(PluginElementRaw)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport isEmpty from 'lodash/isEmpty'\n\nimport type { initialStateType } from '../../../store/reducer/reducer'\n\nexport type Props = {\n    currentPlugin: $PropertyType<initialStateType, 'currentPlugin'>,\n    hoverMode: $PropertyType<initialStateType, 'hoverMode'>,\n    hoveredElementSize: $PropertyType<initialStateType, 'hoveredElementSize'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n}\n\nconst HoveredBoxHighlight = (props: Props) => {\n    const iframe = ((document.getElementById(\n        'builderFrame'\n    ): any): HTMLIFrameElement)\n    //const innerDoc = iframe.contentDocument || iframe.contentWindow.document\n    if (!iframe) return null\n    const scrollY = iframe.contentWindow.pageYOffset\n    const scrollX = iframe.contentWindow.pageXOffset\n\n    const result = []\n    const parents = []\n    const addHoverBoxes = parent => {\n        if (!isEmpty(parent.children)) {\n            for (const item in parent.children) {\n                addHoverBoxes(parent.children[item])\n            }\n        } else {\n            result.push(\n                <div\n                    key={result.length}\n                    style={{\n                        background: 'blue',\n                        opacity: '.3',\n                        position: 'fixed',\n                        left: parent.left - scrollX + 'px',\n                        top: parent.top - scrollY + 'px',\n                        width: parent.width + 'px',\n                        height: parent.height + 'px',\n                        pointerEvents: 'none',\n                        zIndex: '2147483647',\n                        border: 'none',\n                        margin: '0px',\n                        padding: '0px',\n                        borderRadius: '0px',\n                        boxShadow: 'none',\n                        backgroundImage: 'none',\n                    }}\n                />\n            )\n        }\n    }\n    const findParents = children => {\n        for (const item in children) {\n            if (children[item].plugin === props.currentPlugin) {\n                for (const innerItem in children[item].children) {\n                    if (innerItem === props.hoveredElementId) {\n                        parents.push(children[item].children[innerItem])\n                    }\n                }\n            } else {\n                findParents(children[item].children)\n            }\n        }\n    }\n    if (props.hoveredElementId) {\n        if (props.hoverMode === 'page') {\n            if (props.hoveredElementSize[props.hoveredElementId]) {\n                addHoverBoxes(props.hoveredElementSize[props.hoveredElementId])\n            }\n        } else if (props.hoverMode === 'plugin') {\n            findParents(props.hoveredElementSize)\n            parents.forEach(element => {\n                addHoverBoxes(element)\n            })\n        }\n    }\n    return result\n}\n\nconst mapStateToProps = state => {\n    return {\n        hoveredElementId: -100,\n        hoveredElementSize: state.hoveredElementSize,\n        hoverMode: state.hoverMode,\n        currentPlugin: state.currentPlugin,\n    }\n}\n\nexport default connect(mapStateToProps)(HoveredBoxHighlight)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport * as classes from './Overlay.module.css'\n\nconst Overlay = props => {\n    return props.sizeIsChanging ? <div className={classes.Overlay} /> : null\n}\n\nconst mapStateToProps = state => {\n    return {\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nexport default connect(mapStateToProps)(Overlay)\n","import React, { Component, useRef, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport isEqual from 'lodash/isEqual'\nimport omit from 'lodash/omit'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport * as classes from './SiteBuilder.module.css'\nimport * as actions from '../../store/actions/index'\nimport Frame, { FrameContextConsumer } from './Frame/index'\nimport BuilderElement from './BuilderElement/BuilderElement'\nimport HoveredBoxHighlight from './HoveredBoxHighlight/HoveredBoxHighlight'\nimport { systemClassMenu } from './systemClasses'\n// import saveRect from './methods/saveRect'\nimport { Provider } from 'react-redux'\nimport { renderToString } from 'react-dom/server'\nimport { store } from '../../index'\nimport refineProperties, {\n    refinePropertiesFromCMS,\n} from './BuilderElement/methods/refineProperties'\nimport refreshPageStructure from './methods/refreshPageStructure'\nimport Overlay from '../../components/UI/Overlay/Overlay'\n\nimport type { initialStateType } from '../../store/reducer/reducer'\n\nexport type Props = {\n    zoom: $PropertyType<initialStateType, 'pageZoom'>,\n    hoveredElementId: $PropertyType<initialStateType, 'hoveredElementId'>,\n    isRefreshing: $PropertyType<initialStateType, 'isRefreshing'>,\n    notSavedResources: $PropertyType<initialStateType, 'notSavedResources'>,\n    barSizes: $PropertyType<initialStateType, 'barSizes'>,\n    markRefreshing: typeof actions.markRefreshing,\n    savePropertiesOnLeave: typeof actions.savePropertiesOnLeave,\n    saveHoveredElementRect: typeof actions.saveHoveredElementRect,\n    markShouldRefreshing: typeof actions.markShouldRefreshing,\n    shouldRefresh?: boolean,\n    saveElementsStructure: typeof actions.saveElementsStructure,\n    currentSiteBuilderMode: $PropertyType<\n        initialStateType,\n        'currentSiteBuilderMode'\n    >,\n}\n\ntype State = {\n    headValue: string,\n}\n\nclass SiteBuilder extends Component<Props, State> {\n    state = {\n        headValue: '',\n    }\n\n    // componentDidMount() {\n    //     //saveRect(this.props)\n    // }\n    head = ''\n\n    shouldComponentUpdate(nextProps) {\n        return !this.props.sizeIsChanging && !nextProps.sizeIsChanging\n    }\n\n    componentWillReceiveProps(newProps: Props) {\n        const refreshStructure = (\n            pageDraftStructure,\n            templateDraftStructure,\n            globalSettings\n        ) => {\n            if (pageDraftStructure && templateDraftStructure) {\n                const newStructure = refreshPageStructure(\n                    pageDraftStructure,\n                    templateDraftStructure\n                )\n                if (\n                    !isEqual(\n                        newStructure.map(item =>\n                            omit(item, [\n                                'expanded',\n                                'children',\n                                'itemPath',\n                                'itemIndex',\n                            ])\n                        ),\n                        pageDraftStructure.map(item =>\n                            omit(item, [\n                                'expanded',\n                                'children',\n                                'itemPath',\n                                'itemIndex',\n                            ])\n                        )\n                    )\n                ) {\n                    this.props.saveElementsStructureFromBuilder(\n                        'page',\n                        newStructure,\n                        globalSettings\n                    )\n                    return\n                }\n            }\n            return true\n        }\n        if (newProps.pagesStructure) {\n            if (\n                !refreshStructure(\n                    newProps.currentPageDraftStructureGlobalSettings,\n                    newProps.pageTemplateDraftStructureGlobalSettings,\n                    true\n                )\n            )\n                return\n\n            if (\n                newProps.currentPageDraftStructure &&\n                newProps.pageTemplateDraftStructure\n            ) {\n                if (\n                    !refreshStructure(\n                        newProps.currentPageDraftStructure,\n                        newProps.pageTemplateDraftStructure\n                    )\n                )\n                    return\n\n                const newHead = newProps.pageTemplateDraftStructure\n                    .filter(itemInn =>\n                        isEqual(itemInn.path, ['element_01', 'element_0'])\n                    )\n                    .map(itemInn => {\n                        return (\n                            <BuilderElement\n                                key={itemInn.id}\n                                structure={newProps.pageTemplateDraftStructure}\n                                element={itemInn}\n                                hoveredElementId={newProps.hoveredElementId}\n                                document={document}\n                                pluginsPathArray={[]}\n                                parentPluginProps={newProps.refinedProperties}\n                                isHead\n                                currentResource={newProps.pageTemplateId}\n                            />\n                        )\n                    })\n\n                const newHeadString =\n                    renderToString(\n                        <Provider store={store}>{newHead}</Provider>\n                    ) || ''\n                if (\n                    newHeadString !== this.state.headValue ||\n                    newProps.shouldRefresh\n                ) {\n                    this.props.markRefreshing(true)\n                    this.props.markShouldRefreshing()\n                    this.setState({ headValue: newHeadString })\n                }\n            }\n        }\n    }\n\n    render() {\n        let frame = null\n\n        if (\n            this.props.pageTemplateDraftStructure &&\n            this.props.currentPageDraftStructure\n        ) {\n            const { props } = this\n            const zoom = props.zoom / 100\n            const size = 100 / zoom + '%'\n            const structure = props.pageTemplateDraftStructure\n\n            const bodyProps = cloneDeep(props.bodyValues.properties)\n            const bodyStyle = props.bodyValues.style\n            if (bodyStyle) bodyProps.style = bodyStyle\n\n            const htmlProps = cloneDeep(props.htmlValues.properties)\n            const htmlStyle = props.htmlValues.style\n            if (htmlStyle) htmlProps.style = htmlStyle\n\n            frame = this.props.isRefreshing ? (\n                <StopRefresh />\n            ) : (\n                <>\n                    <Frame\n                        id=\"builderFrame\"\n                        key={1}\n                        style={{\n                            width: size,\n                            height: size,\n                            msZoom: zoom,\n                            MozTransform: `scale(${zoom})`,\n                            MozTransformOrigin: '0 0',\n                            OTransform: `scale(${zoom})`,\n                            OTransformOrigin: '0 0',\n                            WebkitTransform: `scale(${zoom})`,\n                            WebkitTransformOrigin: '0 0',\n                            border: 'none',\n                            margin: '0',\n                            padding: '0',\n                            position: 'absolute',\n                        }}\n                        bodyProps={bodyProps}\n                        htmlProps={htmlProps}\n                        initialContent={\n                            systemClassMenu + ' ' + this.state.headValue\n                            // +\n                            // ' <script src=\"src/tinymce_5.1.5.zip\"></script>'\n                        }\n                    >\n                        <FrameContextConsumer>\n                            {({ document, window }) => {\n                                return structure\n                                    ? structure\n                                          .filter(itemInn =>\n                                              isEqual(itemInn.path, [\n                                                  'element_01',\n                                                  'element_1',\n                                              ])\n                                          )\n                                          .map(itemInn => (\n                                              <BuilderElement\n                                                  key={itemInn.id}\n                                                  structure={structure}\n                                                  element={itemInn}\n                                                  hoveredElementId={\n                                                      props.hoveredElementId\n                                                  }\n                                                  document={document}\n                                                  pluginsPathArray={[]}\n                                                  parentPluginProps={\n                                                      props.refinedProperties\n                                                  }\n                                                  currentResource={\n                                                      props.pageTemplateId\n                                                  }\n                                              />\n                                          ))\n                                    : null\n                            }}\n                        </FrameContextConsumer>\n                        <HoveredBoxHighlight />\n                    </Frame>\n                </>\n            )\n        }\n\n        return (\n            <main\n                data-testid=\"siteBuilderLayoutMain\"\n                className={classes.Content}\n            >\n                {frame}\n                <Overlay />\n            </main>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const refinedProperties = refinePropertiesFromCMS(state.mD)\n\n    let bodyRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    let htmlRawValues = {\n        properties: {},\n        style: '',\n    }\n\n    if (state.mD.pageTemplateFSBDraft) {\n        bodyRawValues = state.mD.pageTemplateFSBDraft.values.element_1\n        htmlRawValues = state.mD.pageTemplateFSBDraft.values.element_01\n    }\n\n    const bodyValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: bodyRawValues,\n        }),\n        style: bodyRawValues.style,\n    }\n\n    const htmlValues = {\n        properties: refineProperties({\n            parentPluginProps: refinedProperties,\n            elementValues: htmlRawValues,\n        }),\n        style: htmlRawValues.style,\n    }\n\n    return {\n        zoom: state.pageZoom,\n        isRefreshing: state.isRefreshing,\n        shouldRefresh: state.shouldRefresh,\n        pagesStructure: state.mD.pagesStructure,\n        currentPageDraftStructure: state.mD.currentPageFSBDraft\n            ? state.mD.currentPageFSBDraft.structure\n            : null,\n        pageTemplateDraftStructure: state.mD.pageTemplateFSBDraft\n            ? state.mD.pageTemplateFSBDraft.structure\n            : null,\n        currentPageDraftStructureGlobalSettings: state.mD\n            .globalSettingsPageDraft\n            ? state.mD.globalSettingsPageDraft.structure\n            : null,\n        pageTemplateDraftStructureGlobalSettings: state.mD\n            .globalSettingsTemplateDraft\n            ? state.mD.globalSettingsTemplateDraft.structure\n            : null,\n        refinedProperties,\n        bodyValues,\n        htmlValues,\n        pageTemplateId: state.mD.pageTemplateFSBId,\n        sizeIsChanging: state.sizeIsChanging,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        markRefreshing: refreshing =>\n            dispatch(actions.markRefreshing(refreshing)),\n        saveHoveredElementRect: (id, size) =>\n            dispatch(actions.saveHoveredElementRect(id, size)),\n        markShouldRefreshing: value =>\n            dispatch(actions.markShouldRefreshing(value)),\n        saveElementsStructure: (type, structure) =>\n            dispatch(actions.saveElementsStructure(type, structure)),\n        saveElementsStructureFromBuilder: (type, structure, globalSettings) =>\n            dispatch(\n                actions.saveElementsStructureFromBuilder(\n                    type,\n                    structure,\n                    globalSettings\n                )\n            ),\n    }\n}\n\nconst StopRefresh = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(props => {\n    const span = useRef(null)\n    useEffect(() => {\n        if (span.current) {\n            props.markRefreshing(false)\n        }\n    })\n    return <span ref={span} style={{ display: 'none' }} />\n})\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SiteBuilder)\n","import type { resourceType } from '../../../store/reducer/reducer'\n\nexport default (\n    resourceDraftStructure: resourceType,\n    templateDraftStructure: resourceType\n) => {\n    if (!resourceDraftStructure || !templateDraftStructure) return\n\n    const pageStructure = resourceDraftStructure\n    if (!pageStructure) return\n\n    const templateStructure = templateDraftStructure\n    if (!templateStructure) return\n\n    //$FlowFixMe\n    return templateStructure\n        .filter(item => {\n            if (item.path.length > 0)\n                if (item.path[0] === 'element_02') return true\n            return false\n        })\n        .map((item, index) => ({\n            ...item,\n            path: item.path.slice(1),\n        }))\n}\n","import React, { memo, useCallback } from 'react'\nimport { connect } from 'react-redux'\n\nimport * as actions from '../../store/actions'\nimport AdvancedBar from '../../containers/AdvancedBar/AdvancedBar'\nimport SiteBuilder from '../../containers/SiteBuilder/SiteBuilder'\nimport ReserveWebsite from '../ReserveWebsite/ReserveWebsite'\n\nimport { DndProvider } from 'react-dnd'\nimport MultiBackend from 'react-dnd-multi-backend'\nimport HTML5toTouch from 'react-dnd-multi-backend/dist/esm/HTML5toTouch'\nimport { useDragLayer } from 'react-dnd'\nimport throttle from 'lodash/throttle'\n\ntype Props = {}\n\nconst SiteBuilderLayout = (props: Props) => {\n    return (\n        <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n            {props.userObject ? (\n                <div\n                    style={{\n                        flexDirection: 'column',\n                        display: 'flex',\n                        flexWrap: 'nowrap',\n                        height: '100%',\n                    }}\n                >\n                    <SiteBuilder />\n                    <AdvancedBar />\n                </div>\n            ) : (\n                'Loading...'\n            )}\n            <ReserveWebsite />\n            <ResizeLayer />\n        </DndProvider>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        userObject: state.mD.userObject,\n    }\n}\n\nexport default connect(mapStateToProps)(SiteBuilderLayout)\n\nconst ResizeLayerInn = props => {\n    const { item, currentOffset } = useDragLayer(monitor => ({\n        item: monitor.getItem(),\n        currentOffset: monitor.getDifferenceFromInitialOffset(),\n    }))\n    const delayedChange = useCallback(\n        throttle(initiator => props.changeBarSize(initiator), 50),\n        []\n    )\n    if (item) {\n        if (item.type === 'barSizes') {\n            const value =\n                item.id === 'height'\n                    ? item.startValue - currentOffset.y\n                    : item.startValue + currentOffset.x\n\n            delayedChange({ key: item.id, value })\n        }\n    }\n    return <div />\n}\n\nconst mapDispatchToPropsResize = dispatch => {\n    return {\n        changeBarSize: initiator => dispatch(actions.changeBarSize(initiator)),\n    }\n}\n\nconst ResizeLayer = connect(\n    null,\n    mapDispatchToPropsResize\n)(memo(ResizeLayerInn, () => true))\n"],"sourceRoot":""}