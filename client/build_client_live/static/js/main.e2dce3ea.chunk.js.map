{"version":3,"sources":["Menu/MenuModule/utils/isMobile.js","Menu/MenuModule/util.js","Menu/MenuModule/placements.js","Menu/MenuModule/SubMenu.js","Menu/MenuModule/DOMWrap.js","Menu/MenuModule/SubPopupMenu.js","Menu/MenuModule/utils/legacyUtil.js","Menu/MenuModule/Menu.js","Menu/MenuModule/MenuItem.js","Menu/MenuModule/MenuItemGroup.js","Menu/MenuModule/Divider.js","Menu/MenuModule/index.js","utils/basic.js","Menu/Menu.js","Menu/methods/buildItemsForMenu.js","BuilderElement/methods/useEffect.js","BuilderElement/BuilderElement.js","BuilderElement/methods/refineProperties.js","awsConfig.js","App.js","serviceWorker.js","index.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","obj","key","value","defineProperty","configurable","writable","_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","applePhone","appleIpod","appleTablet","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackberry","otherBlackberry10","otherOpera","otherChrome","otherFirefox","match","regex","userAgent","test","isMobile","ua","navigator","tmp","split","result","apple","phone","ipod","tablet","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","defaultResult","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","noop","getKeyFromChildrenIndex","child","menuEventKey","index","prefix","concat","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","children","cb","React","c","type","isMenuItemGroup","props","c2","menuAllProps","isMobileDevice","autoAdjustOverflow","adjustX","adjustY","placements","topLeft","points","overflow","offset","bottomLeft","leftTop","rightTop","_typeof","constructor","_defineProperties","descriptor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","p","guid","popupPlacementMap","horizontal","vertical","updateDefaultActiveFirst","store","defaultActiveFirst","menuId","state","getState","setState","SubMenu","_React$Component","_this","instance","Constructor","_classCallCheck","this","onDestroy","onKeyDown","e","keyCode","menu","menuInstance","_this$props","isOpen","KeyCode","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","UP","DOWN","onOpenChange","onPopupVisibleChange","visible","onMouseEnter","_this$props2","domEvent","onMouseLeave","_this$props3","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props4","onItemHover","hover","onTitleMouseLeave","_this$props5","triggerSubMenuAction","onSubMenuClick","info","onClick","addKeyPath","onSelect","onDeselect","getPrefixCls","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","saveMenuInstance","keyPath","open","openChange","item","trigger","mouseenterTimeout","setTimeout","isChildrenSelected","ret","find","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","indexOf","selectedKeys","openKeys","adjustWidth","subMenuTitle","popupMenu","ReactDOM","offsetWidth","style","minWidth","saveSubMenuTitle","isRootMenu","protoProps","staticProps","subClass","superClass","create","_inherits","componentDidUpdate","_this2","_this$props6","mode","manualRef","minWidthTimeout","_this$props7","clearTimeout","_this3","baseProps","level","inlineIndent","focusable","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","id","internalMenuId","itemIcon","expandIcon","haveRendered","haveOpened","mergedMotion","leavedClassName","removeOnLeave","motionAppear","CSSMotion","assign","_ref","className","mergedClassName","classNames","popupMenuBlockClasses","SubPopupMenu","_classNames","isInlineMode","active","disabled","isSub","popupMenuItemClasses","topMenuItemClasses","join","mouseEvents","titleClickEvents","titleMouseEvents","paddingLeft","ariaOwns","icon","title","ref","renderChildren","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","popupClassName","role","Trigger","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","forceRender","defaultProps","connected","connect","_ref2","_ref3","activeKey","subMenuKey","_toConsumableArray","arr2","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","canUseDOM","window","document","createElement","require","DOMWrap","resizeObserver","mutationObserver","originalTotalWidth","overflowedItems","menuItemSizes","lastVisibleIndex","getMenuItemNodes","ul","slice","node","getOverflowedSubMenuItem","keyPrefix","renderPlaceholder","overflowedIndicator","theme","setChildrenWidthAndResize","handleResize","menuUl","ResizeObserver","entries","el","observe","MutationObserver","disconnect","attributes","childList","subTree","reduce","acc","childNode","tag","rest","Tag","_extends","hasOwnProperty","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","saveRef","instanceArray","callback","getFlatInstanceArray","activeItem","step","preventDefault","selectInfo","direction","len","reverse","activeIndex","every","ci","start","renderCommonMenuItem","extraProps","childProps","isActive","newChildProps","renderMenuItem","createChainedFunction","bind","addProps","nextProps","shallowEqual","topMenuBlockClasses","topMenuItemActiveClasses","popupMenuItemActiveClasses","prevProps","domProps","tabIndex","activeKeys","map","getMotion","openAnimation","openTransitionName","warning","motionName","Menu","selectable","_selectedKeys","selectedKey","innerMenu","getWrappedInstance","event","changed","processSingle","oneChanged","splice","_selectedKeys2","getOpenTransitionName","transitionName","animationName","setInnerMenu","defaultSelectedKeys","defaultOpenKeys","updateMiniStore","updateClassesInMiniStore","Provider","MenuItem","isSelected","saveNode","callRef","scrollIntoView","onlyScrollIfNeeded","attrs","attribute","includes","mouseEvent","_possibleConstructorReturn","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","buildTree","items","buildItem","path","getInheritedPropertyName","charAt","substr","SubMenu1","name","url","mD","baseUrl","pageInStructure","homepage","height","width","location","SubMenu2","MenuElement","builtItems","hiddenPages","pagesStructure","page","hidden","menuItems","structureAfterVariables","structure","generatedFrom","parentPluginProps","properties","l","all","buildMenuItems","elementValues","buildItemsForMenu","innerItems","itemClass","console","log","body","setBoxProperties","box","refinedProperties","removeAttribute","element","replace","inheritedPropertyName","setAttribute","attr","toLowerCase","BuilderElement","elementRef","useRef","useEffect","current","newScript","textContent","appendChild","removeChild","resourceDraft","values","JSON","parse","stringify","shift","sizes","indexW","indexH","isNaN","parseInt","pop","imageRequest","bucket","edits","resize","fit","background","r","g","b","alpha","toFormat","btoa","refineProperties","currentPath","childrenTo","isChildren","childrenMainElement","childrenForPlugin","itemInn","forPlugin","sourcePlugin","newStructure","pluginsPathArray","routePlugin","currentResource","isHead","isElementFromCMSVariable","parseText","sanitize","allowedTags","allowedAttributes","char","toUpperCase","checkIfCapital","plugin","pluginsStructure","pluginResource","resourcesObjects","isEqual","text","innerResult","isHeadOrBody","omit","axios","defaults","baseURL","headers","post","put","delete","common","Accept","App","template","domainNoIndex","loaded","href","then","response","data","catch","currentPageItemInStructure","bodyElement","bodyProps","bodyStyle","htmlElement","htmlProps","htmlStyle","documentElement","pageTemplateDraft","currentPageDraft","resourceVariable","itemValues","CMSVariableSystemName","CMSVariableType","defaultMenuItems","CMSVariableDefaultValue","refinePropertiesFromCMS","pageResult","head","innerHTML","renderToString","position","color","bottom","Component","Boolean","hostname","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e2dce3ea.chunk.js","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// MIT License from https://github.com/kaimallea/isMobile\nvar applePhone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i; // Match 'Android' AND 'Mobile'\n\nvar androidTablet = /Android/i;\nvar amazonPhone = /\\bAndroid(?:.+)SD4930UR\\b/i;\nvar amazonTablet = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i; // Match 'Windows' AND 'ARM'\n\nvar otherBlackberry = /BlackBerry/i;\nvar otherBlackberry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i; // Match 'Mobile' AND 'Firefox'\n\nfunction match(regex, userAgent) {\n  return regex.test(userAgent);\n}\n\nfunction isMobile(userAgent) {\n  var ua = userAgent || (typeof navigator !== 'undefined' ? navigator.userAgent : ''); // Facebook mobile app's integrated browser adds a bunch of strings that\n  // match everything. Strip it out if it exists.\n\n  var tmp = ua.split('[FBAN');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp = tmp;\n\n    var _tmp2 = _slicedToArray(_tmp, 1);\n\n    ua = _tmp2[0];\n  } // Twitter mobile app's integrated browser on iPad adds a \"Twitter for\n  // iPhone\" string. Same probably happens on other tablet platforms.\n  // This will confuse detection so strip it out if it exists.\n\n\n  tmp = ua.split('Twitter');\n\n  if (typeof tmp[1] !== 'undefined') {\n    var _tmp3 = tmp;\n\n    var _tmp4 = _slicedToArray(_tmp3, 1);\n\n    ua = _tmp4[0];\n  }\n\n  var result = {\n    apple: {\n      phone: match(applePhone, ua) && !match(windowsPhone, ua),\n      ipod: match(appleIpod, ua),\n      tablet: !match(applePhone, ua) && match(appleTablet, ua) && !match(windowsPhone, ua),\n      device: (match(applePhone, ua) || match(appleIpod, ua) || match(appleTablet, ua)) && !match(windowsPhone, ua)\n    },\n    amazon: {\n      phone: match(amazonPhone, ua),\n      tablet: !match(amazonPhone, ua) && match(amazonTablet, ua),\n      device: match(amazonPhone, ua) || match(amazonTablet, ua)\n    },\n    android: {\n      phone: !match(windowsPhone, ua) && match(amazonPhone, ua) || !match(windowsPhone, ua) && match(androidPhone, ua),\n      tablet: !match(windowsPhone, ua) && !match(amazonPhone, ua) && !match(androidPhone, ua) && (match(amazonTablet, ua) || match(androidTablet, ua)),\n      device: !match(windowsPhone, ua) && (match(amazonPhone, ua) || match(amazonTablet, ua) || match(androidPhone, ua) || match(androidTablet, ua)) || match(/\\bokhttp\\b/i, ua)\n    },\n    windows: {\n      phone: match(windowsPhone, ua),\n      tablet: match(windowsTablet, ua),\n      device: match(windowsPhone, ua) || match(windowsTablet, ua)\n    },\n    other: {\n      blackberry: match(otherBlackberry, ua),\n      blackberry10: match(otherBlackberry10, ua),\n      opera: match(otherOpera, ua),\n      firefox: match(otherFirefox, ua),\n      chrome: match(otherChrome, ua),\n      device: match(otherBlackberry, ua) || match(otherBlackberry10, ua) || match(otherOpera, ua) || match(otherFirefox, ua) || match(otherChrome, ua)\n    },\n    // Additional\n    any: null,\n    phone: null,\n    tablet: null\n  };\n  result.any = result.apple.device || result.android.device || result.windows.device || result.other.device; // excludes 'other' devices and ipods, targeting touchscreen phones\n\n  result.phone = result.apple.phone || result.android.phone || result.windows.phone;\n  result.tablet = result.apple.tablet || result.android.tablet || result.windows.tablet;\n  return result;\n}\n\nvar defaultResult = _objectSpread({}, isMobile(), {\n  isMobile: isMobile\n});\n\nexport default defaultResult;","import * as React from 'react'\nimport isMobile from './utils/isMobile'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n    var prefix = menuEventKey || ''\n    return child.key || ''.concat(prefix, 'item_').concat(index)\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n    return ''.concat(eventKey, '-menu-')\n}\nexport function loopMenuItem(children, cb) {\n    var index = -1\n    React.Children.forEach(children, function(c) {\n        index += 1\n\n        if (c && c.type && c.type.isMenuItemGroup) {\n            React.Children.forEach(c.props.children, function(c2) {\n                index += 1\n                cb(c2, index)\n            })\n        } else {\n            cb(c, index)\n        }\n    })\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n    /* istanbul ignore if */\n    if (!children || ret.find) {\n        return\n    }\n\n    React.Children.forEach(children, function(c) {\n        if (c) {\n            var construct = c.type\n\n            if (\n                !construct ||\n                !(\n                    construct.isSubMenu ||\n                    construct.isMenuItem ||\n                    construct.isMenuItemGroup\n                )\n            ) {\n                return\n            }\n\n            if (keys.indexOf(c.key) !== -1) {\n                ret.find = true\n            } else if (c.props.children) {\n                loopMenuItemRecursively(c.props.children, keys, ret)\n            }\n        }\n    })\n}\nexport var menuAllProps = [\n    'defaultSelectedKeys',\n    'selectedKeys',\n    'defaultOpenKeys',\n    'openKeys',\n    'mode',\n    'getPopupContainer',\n    'onSelect',\n    'onDeselect',\n    'onDestroy',\n    'openTransitionName',\n    'openAnimation',\n    'subMenuOpenDelay',\n    'subMenuCloseDelay',\n    'forceSubMenuRender',\n    'triggerSubMenuAction',\n    'level',\n    'selectable',\n    'multiple',\n    'onOpenChange',\n    'visible',\n    'focusable',\n    'defaultActiveFirst',\n    'prefixCls',\n    'inlineIndent',\n    'parentMenu',\n    'title',\n    'rootPrefixCls',\n    'eventKey',\n    'active',\n    'onItemHover',\n    'onTitleMouseEnter',\n    'onTitleMouseLeave',\n    'onTitleClick',\n    'popupAlign',\n    'popupOffset',\n    'isOpen',\n    'renderMenuItem',\n    'manualRef',\n    'subMenuKey',\n    'disabled',\n    'index',\n    'isSelected',\n    'store',\n    'activeKey',\n    'builtinPlacements',\n    'overflowedIndicator',\n    'motion', // the following keys found need to be removed from test regression\n    'attribute',\n    'value',\n    'popupClassName',\n    'inlineCollapsed',\n    'menu',\n    'theme',\n    'itemIcon',\n    'expandIcon',\n] // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n    var width =\n        elem &&\n        typeof elem.getBoundingClientRect === 'function' &&\n        elem.getBoundingClientRect().width\n\n    if (width) {\n        width = +width.toFixed(6)\n    }\n\n    return width || 0\n}\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n    if (elem && _typeof(elem.style) === 'object') {\n        elem.style[styleProperty] = value\n    }\n}\nexport var isMobileDevice = function isMobileDevice() {\n    return isMobile.any\n}\n","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport KeyCode from \"rc-util/es/KeyCode\"; // import Animate from 'rc-animate';\n\nimport CSSMotion from \"rc-animate/es/CSSMotion\";\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _objectSpread({}, state.defaultActiveFirst, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nexport var SubMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubMenu).call(this, props));\n\n    _this.onDestroy = function (key) {\n      _this.props.onDestroy(key);\n    };\n    /**\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      var menu = _this.menuInstance;\n      var _this$props = _this.props,\n          isOpen = _this$props.isOpen,\n          store = _this$props.store;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onTitleClick(e);\n\n        updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (isOpen) {\n          menu.onKeyDown(e);\n        } else {\n          _this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n\n          updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        }\n\n        return true;\n      }\n\n      if (keyCode === KeyCode.LEFT) {\n        var handled;\n\n        if (isOpen) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n\n        if (!handled) {\n          _this.triggerOpenChange(false);\n\n          handled = true;\n        }\n\n        return handled;\n      }\n\n      if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n\n      return undefined;\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onPopupVisibleChange = function (visible) {\n      _this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          key = _this$props2.eventKey,\n          onMouseEnter = _this$props2.onMouseEnter,\n          store = _this$props2.store;\n      updateDefaultActiveFirst(store, _this.props.eventKey, false);\n      onMouseEnter({\n        key: key,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props3 = _this.props,\n          parentMenu = _this$props3.parentMenu,\n          eventKey = _this$props3.eventKey,\n          onMouseLeave = _this$props3.onMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleMouseEnter = function (domEvent) {\n      var _this$props4 = _this.props,\n          key = _this$props4.eventKey,\n          onItemHover = _this$props4.onItemHover,\n          onTitleMouseEnter = _this$props4.onTitleMouseEnter;\n      onItemHover({\n        key: key,\n        hover: true\n      });\n      onTitleMouseEnter({\n        key: key,\n        domEvent: domEvent\n      });\n    };\n\n    _this.onTitleMouseLeave = function (e) {\n      var _this$props5 = _this.props,\n          parentMenu = _this$props5.parentMenu,\n          eventKey = _this$props5.eventKey,\n          onItemHover = _this$props5.onItemHover,\n          onTitleMouseLeave = _this$props5.onTitleMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onTitleMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleClick = function (e) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      props.onTitleClick({\n        key: props.eventKey,\n        domEvent: e\n      });\n\n      if (props.triggerSubMenuAction === 'hover') {\n        return;\n      }\n\n      _this.triggerOpenChange(!props.isOpen, 'click');\n\n      updateDefaultActiveFirst(props.store, _this.props.eventKey, false);\n    };\n\n    _this.onSubMenuClick = function (info) {\n      // in the case of overflowed submenu\n      // onClick is not copied over\n      if (typeof _this.props.onClick === 'function') {\n        _this.props.onClick(_this.addKeyPath(info));\n      }\n    };\n\n    _this.onSelect = function (info) {\n      _this.props.onSelect(info);\n    };\n\n    _this.onDeselect = function (info) {\n      _this.props.onDeselect(info);\n    };\n\n    _this.getPrefixCls = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu\");\n    };\n\n    _this.getActiveClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-active\");\n    };\n\n    _this.getDisabledClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-disabled\");\n    };\n\n    _this.getSelectedClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-selected\");\n    };\n\n    _this.getOpenClassName = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu-open\");\n    };\n\n    _this.saveMenuInstance = function (c) {\n      // children menu instance\n      _this.menuInstance = c;\n    };\n\n    _this.addKeyPath = function (info) {\n      return _objectSpread({}, info, {\n        keyPath: (info.keyPath || []).concat(_this.props.eventKey)\n      });\n    };\n\n    _this.triggerOpenChange = function (open, type) {\n      var key = _this.props.eventKey;\n\n      var openChange = function openChange() {\n        _this.onOpenChange({\n          key: key,\n          item: _assertThisInitialized(_this),\n          trigger: type,\n          open: open\n        });\n      };\n\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        _this.mouseenterTimeout = setTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    };\n\n    _this.isChildrenSelected = function () {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(_this.props.children, _this.props.selectedKeys, ret);\n      return ret.find;\n    };\n\n    _this.isOpen = function () {\n      return _this.props.openKeys.indexOf(_this.props.eventKey) !== -1;\n    };\n\n    _this.adjustWidth = function () {\n      /* istanbul ignore if */\n      if (!_this.subMenuTitle || !_this.menuInstance) {\n        return;\n      }\n\n      var popupMenu = ReactDOM.findDOMNode(_this.menuInstance);\n\n      if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      popupMenu.style.minWidth = \"\".concat(_this.subMenuTitle.offsetWidth, \"px\");\n    };\n\n    _this.saveSubMenuTitle = function (subMenuTitle) {\n      _this.subMenuTitle = subMenuTitle;\n    };\n\n    var store = props.store,\n        eventKey = props.eventKey;\n\n    var _store$getState = store.getState(),\n        defaultActiveFirst = _store$getState.defaultActiveFirst;\n\n    _this.isRootMenu = false;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          mode = _this$props6.mode,\n          parentMenu = _this$props6.parentMenu,\n          manualRef = _this$props6.manualRef; // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = setTimeout(function () {\n        return _this2.adjustWidth();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props7 = this.props,\n          onDestroy = _this$props7.onDestroy,\n          eventKey = _this$props7.eventKey;\n\n      if (onDestroy) {\n        onDestroy(eventKey);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.minWidthTimeout) {\n        clearTimeout(this.minWidthTimeout);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.mouseenterTimeout) {\n        clearTimeout(this.mouseenterTimeout);\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren(children) {\n      var _this3 = this;\n\n      var props = this.props;\n      var baseProps = {\n        mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n        visible: this.props.isOpen,\n        level: props.level + 1,\n        inlineIndent: props.inlineIndent,\n        focusable: false,\n        onClick: this.onSubMenuClick,\n        onSelect: this.onSelect,\n        onDeselect: this.onDeselect,\n        onDestroy: this.onDestroy,\n        selectedKeys: props.selectedKeys,\n        eventKey: \"\".concat(props.eventKey, \"-menu-\"),\n        openKeys: props.openKeys,\n        motion: props.motion,\n        onOpenChange: this.onOpenChange,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        parentMenu: this,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        triggerSubMenuAction: props.triggerSubMenuAction,\n        builtinPlacements: props.builtinPlacements,\n        defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n        multiple: props.multiple,\n        prefixCls: props.rootPrefixCls,\n        id: this.internalMenuId,\n        manualRef: this.saveMenuInstance,\n        itemIcon: props.itemIcon,\n        expandIcon: props.expandIcon,\n      };\n      var haveRendered = this.haveRendered;\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return React.createElement(\"div\", null);\n      } // ================== Motion ==================\n      // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n\n      var mergedMotion = _objectSpread({}, props.motion, {\n        leavedClassName: \"\".concat(props.rootPrefixCls, \"-hidden\"),\n        removeOnLeave: false,\n        motionAppear: haveRendered || !baseProps.visible || baseProps.mode !== 'inline'\n      });\n\n      return React.createElement(CSSMotion, Object.assign({\n        visible: baseProps.visible\n      }, mergedMotion), function (_ref) {\n        var className = _ref.className,\n            style = _ref.style;\n        var mergedClassName = classNames(\"\".concat(baseProps.prefixCls, \"-sub\"), className, _ref.popupMenuBlockClasses );\n        return React.createElement(SubPopupMenu, Object.assign({}, baseProps, {\n          id: _this3.internalMenuId,\n          className: mergedClassName,\n          style: style\n        }), children);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var props = _objectSpread({}, this.props);\n\n      var isOpen = props.isOpen;\n      var prefixCls = this.getPrefixCls();\n      var isInlineMode = props.mode === 'inline';\n      var className = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(props.mode), (_classNames = {}, _defineProperty(_classNames, props.className, !!props.className), _defineProperty(_classNames, this.getOpenClassName(), isOpen), _defineProperty(_classNames, this.getActiveClassName(), props.active || isOpen && !isInlineMode), _defineProperty(_classNames, this.getDisabledClassName(), props.disabled), _defineProperty(_classNames, this.getSelectedClassName(), this.isChildrenSelected()), _classNames));\n        className= [className, props.isSub ? props.store.getState().popupMenuItemClasses :props.store.getState().topMenuItemClasses].join(' ')\n\n      if (!this.internalMenuId) {\n        if (props.eventKey) {\n          this.internalMenuId = \"\".concat(props.eventKey, \"$Menu\");\n        } else {\n          guid += 1;\n          this.internalMenuId = \"$__$\".concat(guid, \"$Menu\");\n        }\n      }\n\n      var mouseEvents = {};\n      var titleClickEvents = {};\n      var titleMouseEvents = {};\n\n      if (!props.disabled) {\n        mouseEvents = {\n          onMouseLeave: this.onMouseLeave,\n          onMouseEnter: this.onMouseEnter\n        }; // only works in title, not outer li\n\n        titleClickEvents = {\n          onClick: this.onTitleClick\n        };\n        titleMouseEvents = {\n          onMouseEnter: this.onTitleMouseEnter,\n          onMouseLeave: this.onTitleMouseLeave\n        };\n      }\n\n      var style = {};\n\n      if (isInlineMode) {\n        style.paddingLeft = props.inlineIndent * props.level;\n      }\n\n      var ariaOwns = {}; // only set aria-owns when menu is open\n      // otherwise it would be an invalid aria-owns value\n      // since corresponding node cannot be found\n\n      if (this.props.isOpen) {\n        ariaOwns = {\n          'aria-owns': this.internalMenuId\n        };\n      } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n\n      var icon = null;\n\n      if (props.mode !== 'horizontal') {\n        icon = this.props.expandIcon; // ReactNode\n\n        if (typeof this.props.expandIcon === 'function') {\n          icon = React.createElement(this.props.expandIcon, _objectSpread({}, this.props));\n        }\n      }\n      var title = React.createElement(\"div\", Object.assign({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: \"\".concat(prefixCls, \"-title\"),\n      }, titleMouseEvents, titleClickEvents, {\n        \"aria-expanded\": isOpen\n      }, ariaOwns, {\n        \"aria-haspopup\": \"true\",\n        title: typeof props.title === 'string' ? props.title : undefined\n      }), props.title, icon || React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow\")\n      }));\n      var children = this.renderChildren(props.children);\n      var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n        return triggerNode.parentNode;\n      };\n      var popupPlacement = popupPlacementMap[props.mode];\n      var popupAlign = props.popupOffset ? {\n        offset: props.popupOffset\n      } : {};\n      var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n      var disabled = props.disabled,\n          triggerSubMenuAction = props.triggerSubMenuAction,\n          subMenuOpenDelay = props.subMenuOpenDelay,\n          forceSubMenuRender = props.forceSubMenuRender,\n          subMenuCloseDelay = props.subMenuCloseDelay,\n          builtinPlacements = props.builtinPlacements;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      delete props.isSub;\n      return React.createElement(\"li\", Object.assign({}, props, mouseEvents, {\n        className: className,\n        role: \"menuitem\"\n      }), isInlineMode && title, isInlineMode && children, !isInlineMode && React.createElement(Trigger, {\n        prefixCls: prefixCls,\n        popupClassName: \"\".concat(prefixCls, \"-popup \").concat(popupClassName),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: Object.assign({}, placements, builtinPlacements),\n        popupPlacement: popupPlacement,\n        popupVisible: isOpen,\n        popupAlign: popupAlign,\n        popup: children,\n        action: disabled ? [] : [triggerSubMenuAction],\n        mouseEnterDelay: subMenuOpenDelay,\n        mouseLeaveDelay: subMenuCloseDelay,\n        onPopupVisibleChange: this.onPopupVisibleChange,\n        forceRender: forceSubMenuRender\n      }, title));\n    }\n  }]);\n\n  return SubMenu;\n}(React.Component);\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: '',\n};\nvar connected = connect(function (_ref2, _ref3) {\n  var openKeys = _ref2.openKeys,\n      activeKey = _ref2.activeKey,\n      selectedKeys = _ref2.selectedKeys;\n  var eventKey = _ref3.eventKey,\n      subMenuKey = _ref3.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys,\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport SubMenu from './SubMenu'\nimport { getWidth, setStyle, menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _toConsumableArray(arr) {\n    return (\n        _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    )\n}\n\nfunction _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance')\n}\n\nfunction _iterableToArray(iter) {\n    if (\n        Symbol.iterator in Object(iter) ||\n        Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n        return Array.from(iter)\n}\n\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i]\n        }\n        return arr2\n    }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar canUseDOM = !!(\n    typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement\n)\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed'\nvar FLOAT_PRECISION_ADJUST = 0.5 // Fix ssr\n\nif (canUseDOM) {\n    // eslint-disable-next-line global-require\n    require('mutationobserver-shim')\n}\n\nvar DOMWrap =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(DOMWrap, _React$Component)\n\n        function DOMWrap() {\n            var _this\n\n            _classCallCheck(this, DOMWrap)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(DOMWrap).apply(this, arguments)\n            )\n            _this.resizeObserver = null\n            _this.mutationObserver = null // original scroll size of the list\n\n            _this.originalTotalWidth = 0 // copy of overflowed items\n\n            _this.overflowedItems = [] // cache item of the original items (so we can track the size and order)\n\n            _this.menuItemSizes = []\n            _this.state = {\n                lastVisibleIndex: undefined,\n            } // get all valid menuItem nodes\n\n            _this.getMenuItemNodes = function() {\n                var prefixCls = _this.props.prefixCls\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return []\n                } // filter out all overflowed indicator placeholder\n\n                return [].slice.call(ul.children).filter(function(node) {\n                    return (\n                        node.className\n                            .split(' ')\n                            .indexOf(\n                                ''.concat(prefixCls, '-overflowed-submenu')\n                            ) < 0\n                    )\n                })\n            }\n\n            _this.getOverflowedSubMenuItem = function(\n                keyPrefix,\n                overflowedItems,\n                renderPlaceholder\n            ) {\n                var _this$props = _this.props,\n                    overflowedIndicator = _this$props.overflowedIndicator,\n                    level = _this$props.level,\n                    mode = _this$props.mode,\n                    prefixCls = _this$props.prefixCls,\n                    theme = _this$props.theme\n\n                return null\n                if (level !== 1 || mode !== 'horizontal') {\n                    return null\n                } // put all the overflowed item inside a submenu\n                // with a title of overflow indicator ('...')\n\n                var copy = _this.props.children[0]\n\n                var _copy$props = copy.props,\n                    throwAway = _copy$props.children,\n                    title = _copy$props.title,\n                    propStyle = _copy$props.style,\n                    rest = _objectWithoutProperties(_copy$props, [\n                        'children',\n                        'title',\n                        'style',\n                    ])\n\n                var style = _objectSpread({}, propStyle)\n\n                var key = ''.concat(keyPrefix, '-overflowed-indicator')\n                var eventKey = ''.concat(keyPrefix, '-overflowed-indicator')\n\n                if (\n                    overflowedItems.length === 0 &&\n                    renderPlaceholder !== true\n                ) {\n                    style = _objectSpread({}, style, {\n                        display: 'none',\n                    })\n                } else if (renderPlaceholder) {\n                    style = _objectSpread({}, style, {\n                        visibility: 'hidden',\n                        // prevent from taking normal dom space\n                        position: 'absolute',\n                    })\n                    key = ''.concat(key, '-placeholder')\n                    eventKey = ''.concat(eventKey, '-placeholder')\n                }\n\n                var popupClassName = theme\n                    ? ''.concat(prefixCls, '-').concat(theme)\n                    : ''\n                var props = {}\n                menuAllProps.forEach(function(k) {\n                    if (rest[k] !== undefined) {\n                        props[k] = rest[k]\n                    }\n                })\n                return React.createElement(\n                    SubMenu,\n                    Object.assign(\n                        {\n                            title: overflowedIndicator,\n                            className: ''.concat(\n                                prefixCls,\n                                '-overflowed-submenu'\n                            ),\n                            popupClassName: popupClassName,\n                        },\n                        props,\n                        {\n                            key: key,\n                            eventKey: eventKey,\n                            disabled: false,\n                            style: style,\n                        }\n                    ),\n                    overflowedItems\n                )\n            } // memorize rendered menuSize\n\n            _this.setChildrenWidthAndResize = function() {\n                return\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var ulChildrenNodes = ul.children\n\n                if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n                    return\n                }\n\n                var lastOverflowedIndicatorPlaceholder =\n                    ul.children[ulChildrenNodes.length - 1] // need last overflowed indicator for calculating length;\n\n                setStyle(\n                    lastOverflowedIndicatorPlaceholder,\n                    'display',\n                    'inline-block'\n                )\n\n                var menuItemNodes = _this.getMenuItemNodes() // reset display attribute for all hidden elements caused by overflow to calculate updated width\n                // and then reset to original state after width calculation\n\n                var overflowedItems = menuItemNodes.filter(function(c) {\n                    return (\n                        c.className\n                            .split(' ')\n                            .indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0\n                    )\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'inline-block')\n                })\n                _this.menuItemSizes = menuItemNodes.map(function(c) {\n                    return getWidth(c)\n                })\n                overflowedItems.forEach(function(c) {\n                    setStyle(c, 'display', 'none')\n                })\n                _this.overflowedIndicatorWidth = getWidth(\n                    ul.children[ul.children.length - 1]\n                )\n                _this.originalTotalWidth = _this.menuItemSizes.reduce(function(\n                    acc,\n                    cur\n                ) {\n                    return acc + cur\n                },\n                0)\n\n                _this.handleResize() // prevent the overflowed indicator from taking space;\n\n                setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none')\n            }\n\n            _this.handleResize = function() {\n                /////// edit !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n                return\n                if (_this.props.mode !== 'horizontal') {\n                    return\n                }\n\n                var ul = ReactDOM.findDOMNode(_assertThisInitialized(_this))\n\n                if (!ul) {\n                    return\n                }\n\n                var width = getWidth(ul)\n                _this.overflowedItems = []\n                var currentSumWidth = 0 // index for last visible child in horizontal mode\n\n                var lastVisibleIndex // float number comparison could be problematic\n                // e.g. 0.1 + 0.2 > 0.3 =====> true\n                // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n\n                if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n                    lastVisibleIndex = -1\n\n                    _this.menuItemSizes.forEach(function(liWidth) {\n                        currentSumWidth += liWidth\n\n                        if (\n                            currentSumWidth + _this.overflowedIndicatorWidth <=\n                            width\n                        ) {\n                            lastVisibleIndex += 1\n                        }\n                    })\n                }\n\n                _this.setState({\n                    lastVisibleIndex: lastVisibleIndex,\n                })\n            }\n\n            return _this\n        }\n\n        _createClass(DOMWrap, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    var _this2 = this\n\n                    this.setChildrenWidthAndResize()\n\n                    if (\n                        this.props.level === 1 &&\n                        this.props.mode === 'horizontal'\n                    ) {\n                        var menuUl = ReactDOM.findDOMNode(this)\n\n                        if (!menuUl) {\n                            return\n                        }\n\n                        this.resizeObserver = new ResizeObserver(function(\n                            entries\n                        ) {\n                            entries.forEach(_this2.setChildrenWidthAndResize)\n                        })\n                        ;[].slice\n                            .call(menuUl.children)\n                            .concat(menuUl)\n                            .forEach(function(el) {\n                                _this2.resizeObserver.observe(el)\n                            })\n\n                        if (typeof MutationObserver !== 'undefined') {\n                            this.mutationObserver = new MutationObserver(\n                                function() {\n                                    _this2.resizeObserver.disconnect()\n                                    ;[].slice\n                                        .call(menuUl.children)\n                                        .concat(menuUl)\n                                        .forEach(function(el) {\n                                            _this2.resizeObserver.observe(el)\n                                        })\n\n                                    _this2.setChildrenWidthAndResize()\n                                }\n                            )\n                            this.mutationObserver.observe(menuUl, {\n                                attributes: false,\n                                childList: true,\n                                subTree: false,\n                            })\n                        }\n                    }\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    if (this.resizeObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n\n                    if (this.mutationObserver) {\n                        this.resizeObserver.disconnect()\n                    }\n                },\n            },\n            {\n                key: 'renderChildren',\n                value: function renderChildren(children) {\n                    var _this3 = this\n\n                    // need to take care of overflowed items in horizontal mode\n                    var lastVisibleIndex = this.state.lastVisibleIndex\n                    return (children || []).reduce(function(\n                        acc,\n                        childNode,\n                        index\n                    ) {\n                        var item = childNode\n\n                        // if (_this3.props.mode === 'horizontal') {\n                        //   var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n\n                        //   if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(\"\".concat(_this3.props.prefixCls, \"-root\")) !== -1) {\n                        //     if (index > lastVisibleIndex) {\n                        //       item = React.cloneElement(childNode, //  eventKey  openkeys \n                        //       {\n                        //         style: {\n                        //           display: 'none'\n                        //         },\n                        //         eventKey: \"\".concat(childNode.props.eventKey, \"-hidden\"),\n\n                        //         /**\n                        //          * Legacy code. Here `className` never used:\n                        //          * https://github.com/react-component/menu/commit/4cd6b49fce9d116726f4ea00dda85325d6f26500#diff-e2fa48f75c2dd2318295cde428556a76R240\n                        //          */\n                        //         className: \"\".concat(MENUITEM_OVERFLOWED_CLASSNAME)\n                        //       });\n                        //     }\n\n                        //     if (index === lastVisibleIndex + 1) {\n                        //       _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n                        //         return React.cloneElement(c, // children[index].key will become '.$key' in clone by default,\n                        //         // we have to overwrite with the correct key explicitly\n                        //         {\n                        //           key: c.props.eventKey,\n                        //           mode: 'vertical-left'\n                        //         });\n                        //       });\n                        //       overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n                        //     }\n                        //   }\n\n                        //   var ret = [].concat(_toConsumableArray(acc), [overflowed, item]);\n\n                        //   if (index === children.length - 1) {\n                        //     // need a placeholder for calculating overflowed indicator width\n                        //     ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n                        //   }\n\n                        //   return ret;\n                        // }\n\n                        return [].concat(_toConsumableArray(acc), [item])\n                    },\n                    [])\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _this$props2 = this.props,\n                        visible = _this$props2.visible,\n                        prefixCls = _this$props2.prefixCls,\n                        overflowedIndicator = _this$props2.overflowedIndicator,\n                        mode = _this$props2.mode,\n                        level = _this$props2.level,\n                        tag = _this$props2.tag,\n                        children = _this$props2.children,\n                        theme = _this$props2.theme,\n                        rest = _objectWithoutProperties(_this$props2, [\n                            'visible',\n                            'prefixCls',\n                            'overflowedIndicator',\n                            'mode',\n                            'level',\n                            'tag',\n                            'children',\n                            'theme',\n                        ])\n\n                    var Tag = tag\n                    return React.createElement(\n                        Tag,\n                        Object.assign({}, rest),\n                        this.renderChildren(children)\n                    )\n                },\n            },\n        ])\n\n        return DOMWrap\n    })(React.Component)\n\nDOMWrap.defaultProps = {\n    tag: 'div',\n    className: '',\n}\nexport default DOMWrap\n","import * as React from 'react';\nimport { connect } from 'mini-store';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport createChainedFunction from \"rc-util/es/createChainedFunction\";\nimport shallowEqual from 'shallowequal';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var state = store.getState();\n  store.setState({\n    activeKey: _objectSpread({}, state.activeKey, _defineProperty({}, menuId, activeKey))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  function SubPopupMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubPopupMenu).call(this, props));\n    /**\n     * all keyboard events callbacks run from here at first\n     *\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e, callback) {\n      var keyCode = e.keyCode;\n      var handled;\n\n      _this.getFlatInstanceArray().forEach(function (obj) {\n        if (obj && obj.props.active && obj.onKeyDown) {\n          handled = obj.onKeyDown(e);\n        }\n      });\n\n      if (handled) {\n        return 1;\n      }\n\n      var activeItem = null;\n\n      if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n        activeItem = _this.step(keyCode === KeyCode.UP ? -1 : 1);\n      }\n\n      if (activeItem) {\n        e.preventDefault();\n        updateActiveKey(_this.props.store, getEventKey(_this.props), activeItem.props.eventKey);\n\n        if (typeof callback === 'function') {\n          callback(activeItem);\n        }\n\n        return 1;\n      }\n\n      return undefined;\n    };\n\n    _this.onItemHover = function (e) {\n      var key = e.key,\n          hover = e.hover;\n      updateActiveKey(_this.props.store, getEventKey(_this.props), hover ? key : null);\n    };\n\n    _this.onDeselect = function (selectInfo) {\n      _this.props.onDeselect(selectInfo);\n    };\n\n    _this.onSelect = function (selectInfo) {\n      _this.props.onSelect(selectInfo);\n    };\n\n    _this.onClick = function (e) {\n      _this.props.onClick(e);\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onDestroy = function (key) {\n      /* istanbul ignore next */\n      _this.props.onDestroy(key);\n    };\n\n    _this.getFlatInstanceArray = function () {\n      return _this.instanceArray;\n    };\n\n    _this.step = function (direction) {\n      var children = _this.getFlatInstanceArray();\n\n      var activeKey = _this.props.store.getState().activeKey[getEventKey(_this.props)];\n\n      var len = children.length;\n\n      if (!len) {\n        return null;\n      }\n\n      if (direction < 0) {\n        children = children.concat().reverse();\n      } // find current activeIndex\n\n\n      var activeIndex = -1;\n      children.every(function (c, ci) {\n        if (c && c.props.eventKey === activeKey) {\n          activeIndex = ci;\n          return false;\n        }\n\n        return true;\n      });\n\n      if (!_this.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n        return undefined;\n      }\n\n      var start = (activeIndex + 1) % len;\n      var i = start;\n\n      do {\n        var child = children[i];\n\n        if (!child || child.props.disabled) {\n          i = (i + 1) % len;\n        } else {\n          return child;\n        }\n      } while (i !== start);\n\n      return null;\n    };\n\n    _this.renderCommonMenuItem = function (child, i, extraProps) {\n      var state = _this.props.store.getState();\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n      var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n      if (!childProps || typeof child.type === 'string') {\n        return child;\n      }\n\n      var isActive = key === state.activeKey;\n\n      var newChildProps = _objectSpread({\n        mode: childProps.mode || props.mode,\n        level: props.level,\n        inlineIndent: props.inlineIndent,\n        renderMenuItem: _this.renderMenuItem,\n        rootPrefixCls: props.prefixCls,\n        index: i,\n        parentMenu: props.parentMenu,\n        // customized ref function, need to be invoked manually in child's componentDidMount\n        manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_assertThisInitialized(_this))),\n        eventKey: key,\n        active: !childProps.disabled && isActive,\n        multiple: props.multiple,\n        onClick: function onClick(e) {\n          (childProps.onClick || noop)(e);\n\n          _this.onClick(e);\n        },\n        onItemHover: _this.onItemHover,\n        motion: props.motion,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        onOpenChange: _this.onOpenChange,\n        onDeselect: _this.onDeselect,\n        onSelect: _this.onSelect,\n        builtinPlacements: props.builtinPlacements,\n        itemIcon: childProps.itemIcon || _this.props.itemIcon,\n        expandIcon: childProps.expandIcon || _this.props.expandIcon\n      }, extraProps); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n      if (props.mode === 'inline' || isMobileDevice()) {\n        newChildProps.triggerSubMenuAction = 'click';\n      }\n\n      return React.cloneElement(child, newChildProps);\n    };\n\n    _this.renderMenuItem = function (c, i, subMenuKey, addProps) {\n      /* istanbul ignore if */\n      if (!c) {\n        return null;\n      }\n\n      var state = _this.props.store.getState();\n\n      var extraProps = {\n        openKeys: state.openKeys,\n        selectedKeys: state.selectedKeys,\n        triggerSubMenuAction: _this.props.triggerSubMenuAction,\n        subMenuKey: subMenuKey,\n        ...addProps\n      };\n      return _this.renderCommonMenuItem(c, i, extraProps);\n    };\n\n    props.store.setState({\n      activeKey: _objectSpread({}, props.store.getState().activeKey, _defineProperty({}, props.eventKey, getActiveKey(props, props.activeKey)))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  _createClass(SubPopupMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // invoke customized ref to expose component to mixin\n      if (this.props.manualRef) {\n        this.props.manualRef(this);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n        var props = this.props\n      return this.props.visible || nextProps.visible || !shallowEqual([this.props.className, props.store.getState().topMenuBlockClasses,    props.store.getState().topMenuItemClasses,    props.store.getState().topMenuItemActiveClasses,    props.store.getState().popupMenuBlockClasses,    props.store.getState().popupMenuItemClasses,    props.store.getState().popupMenuItemActiveClasses], [nextProps.className, nextProps.topMenuBlockClasses,    nextProps.topMenuItemClasses,    nextProps.topMenuItemActiveClasses,    nextProps.popupMenuBlockClasses,    nextProps.popupMenuItemClasses,    nextProps.popupMenuItemActiveClasses]) || !shallowEqual(this.props.style, nextProps.style);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n      var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n      var activeKey = getActiveKey(props, originalActiveKey);\n\n      if (activeKey !== originalActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      } else if ('activeKey' in prevProps) {\n        // If prev activeKey is not same as current activeKey,\n        // we should set it.\n        var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n        if (activeKey !== prevActiveKey) {\n          updateActiveKey(props.store, getEventKey(props), activeKey);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      this.instanceArray = [];\n      var className = classNames(props.prefixCls, props.className, \"\".concat(props.prefixCls, \"-\").concat(props.mode));\n      \n      var domProps = {\n        className: [className, props.level < 2 ? props.store.getState().topMenuBlockClasses : props.store.getState().popupMenuBlockClasses].join(' '),\n        // role could be 'select' and by default set to menu\n        role: props.role || 'menu'\n      };\n\n      if (props.id) {\n        domProps.id = props.id;\n      }\n\n      if (props.focusable) {\n        domProps.tabIndex = 0;\n        domProps.onKeyDown = this.onKeyDown;\n      }\n\n      var prefixCls = props.prefixCls,\n          eventKey = props.eventKey,\n          visible = props.visible,\n          level = props.level,\n          mode = props.mode,\n          overflowedIndicator = props.overflowedIndicator,\n          theme = props.theme;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Otherwise, the propagated click event will trigger another onClick\n\n      delete props.onClick;\n      delete props.topMenuBlockClasses;\n      delete props.topMenuItemClasses;\n      delete props.topMenuItemActiveClasses;\n      delete props.popupMenuBlockClasses;\n      delete props.popupMenuItemClasses;\n      delete props.popupMenuItemActiveClasses;\n      delete props.activeKeys;\n      return React.createElement(DOMWrap, Object.assign({}, props, {\n        prefixCls: prefixCls,\n        mode: mode,\n        tag: \"ul\",\n        level: level,\n        theme: theme,\n        visible: visible,\n        overflowedIndicator: overflowedIndicator\n      }, domProps), React.Children.map(props.children, function (c, i) {\n        return _this2.renderMenuItem(c, i, eventKey || '0-menu-', {isSub: level>1});\n      }));\n    }\n  }]);\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop,\n};\nvar connected = connect()(SubPopupMenu);\nexport default connected;","import warning from 'rc-util/es/warning'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nexport function getMotion(_ref) {\n    var prefixCls = _ref.prefixCls,\n        motion = _ref.motion,\n        openAnimation = _ref.openAnimation,\n        openTransitionName = _ref.openTransitionName\n\n    if (motion) {\n        return motion\n    }\n\n    if (_typeof(openAnimation) === 'object' && openAnimation) {\n        warning(\n            false,\n            'Object type of `openAnimation` is removed. Please use `motion` instead.'\n        )\n    } else if (typeof openAnimation === 'string') {\n        return {\n            motionName: ''.concat(prefixCls, '-open-').concat(openAnimation),\n        }\n    }\n\n    if (openTransitionName) {\n        return {\n            motionName: openTransitionName,\n        }\n    }\n\n    return null\n}\n","import * as React from 'react'\nimport { Provider, create } from 'mini-store'\nimport SubPopupMenu, { getActiveKey } from './SubPopupMenu'\nimport { noop } from './util'\nimport { getMotion } from './utils/legacyUtil'\n\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar Menu =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(Menu, _React$Component)\n\n        function Menu(props) {\n            var _this\n\n            _classCallCheck(this, Menu)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(Menu).call(this, props)\n            )\n\n            _this.onSelect = function(selectInfo) {\n                var _assertThisInitialize = _assertThisInitialized(_this),\n                    props = _assertThisInitialize.props\n\n                if (props.selectable) {\n                    // root menu\n                    var _this$store$getState = _this.store.getState(),\n                        _selectedKeys = _this$store$getState.selectedKeys\n\n                    var selectedKey = selectInfo.key\n\n                    if (props.multiple) {\n                        _selectedKeys = _selectedKeys.concat([selectedKey])\n                    } else {\n                        _selectedKeys = [selectedKey]\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys,\n                        })\n                    }\n\n                    props.onSelect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys,\n                        })\n                    )\n                }\n            }\n\n            _this.onClick = function(e) {\n                _this.props.onClick(e)\n            } // onKeyDown needs to be exposed as a instance method\n            // e.g., in rc-select, we need to navigate menu item while\n            // current active item is rc-select input box rather than the menu itself\n\n            _this.onKeyDown = function(e, callback) {\n                _this.innerMenu.getWrappedInstance().onKeyDown(e, callback)\n            }\n\n            _this.onOpenChange = function(event) {\n                var _assertThisInitialize2 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize2.props\n\n                var openKeys = _this.store.getState().openKeys.concat()\n\n                var changed = false\n\n                var processSingle = function processSingle(e) {\n                    var oneChanged = false\n\n                    if (e.open) {\n                        oneChanged = openKeys.indexOf(e.key) === -1\n\n                        if (oneChanged) {\n                            openKeys.push(e.key)\n                        }\n                    } else {\n                        var index = openKeys.indexOf(e.key)\n                        oneChanged = index !== -1\n\n                        if (oneChanged) {\n                            openKeys.splice(index, 1)\n                        }\n                    }\n\n                    changed = changed || oneChanged\n                }\n\n                if (Array.isArray(event)) {\n                    // batch change call\n                    event.forEach(processSingle)\n                } else {\n                    processSingle(event)\n                }\n\n                if (changed) {\n                    if (!('openKeys' in _this.props)) {\n                        _this.store.setState({\n                            openKeys: openKeys,\n                        })\n                    }\n\n                    props.onOpenChange(openKeys)\n                }\n            }\n\n            _this.onDeselect = function(selectInfo) {\n                var _assertThisInitialize3 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize3.props\n\n                if (props.selectable) {\n                    var _selectedKeys2 = _this.store\n                        .getState()\n                        .selectedKeys.concat()\n\n                    var selectedKey = selectInfo.key\n\n                    var index = _selectedKeys2.indexOf(selectedKey)\n\n                    if (index !== -1) {\n                        _selectedKeys2.splice(index, 1)\n                    }\n\n                    if (!('selectedKeys' in props)) {\n                        _this.store.setState({\n                            selectedKeys: _selectedKeys2,\n                        })\n                    }\n\n                    props.onDeselect(\n                        _objectSpread({}, selectInfo, {\n                            selectedKeys: _selectedKeys2,\n                        })\n                    )\n                }\n            }\n\n            _this.getOpenTransitionName = function() {\n                var _assertThisInitialize4 = _assertThisInitialized(_this),\n                    props = _assertThisInitialize4.props\n\n                var transitionName = props.openTransitionName\n                var animationName = props.openAnimation\n\n                if (!transitionName && typeof animationName === 'string') {\n                    transitionName = ''\n                        .concat(props.prefixCls, '-open-')\n                        .concat(animationName)\n                }\n\n                return transitionName\n            }\n\n            _this.setInnerMenu = function(node) {\n                _this.innerMenu = node\n            }\n\n            _this.isRootMenu = true\n            var selectedKeys = props.defaultSelectedKeys\n            var openKeys = props.defaultOpenKeys\n\n            if ('selectedKeys' in props) {\n                selectedKeys = props.selectedKeys || []\n            }\n\n            if ('openKeys' in props) {\n                openKeys = props.openKeys || []\n            }\n\n            _this.store = create({\n                selectedKeys: selectedKeys,\n                openKeys: openKeys,\n                activeKey: {\n                    '0-menu-': getActiveKey(props, props.activeKey),\n                },\n            })\n            return _this\n        }\n\n        _createClass(Menu, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate() {\n                    this.updateMiniStore()\n                },\n            },\n            {\n                key: 'updateMiniStore',\n                value: function updateMiniStore() {\n                    if ('selectedKeys' in this.props) {\n                        this.store.setState({\n                            selectedKeys: this.props.selectedKeys || [],\n                        })\n                    }\n\n                    if ('openKeys' in this.props) {\n                        this.store.setState({\n                            openKeys: this.props.openKeys || [],\n                        })\n                    }\n\n                    this.updateClassesInMiniStore()\n                },\n            },\n            {\n                key: 'updateClassesInMiniStore',\n                value: function updateClassesInMiniStore() {\n                    if ('topMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            topMenuBlockClasses:\n                                this.props.topMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemClasses:\n                                this.props.topMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('topMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            topMenuItemActiveClasses:\n                                this.props.topMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuBlockClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuBlockClasses:\n                                this.props.popupMenuBlockClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemClasses:\n                                this.props.popupMenuItemClasses || [],\n                        })\n                    }\n\n                    if ('popupMenuItemActiveClasses' in this.props) {\n                        this.store.setState({\n                            popupMenuItemActiveClasses:\n                                this.props.popupMenuItemActiveClasses || [],\n                        })\n                    }\n\n                    if ('activeKeys' in this.props) {\n                        this.store.setState({\n                            activeKeys: this.props.activeKeys || [],\n                        })\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    this.updateClassesInMiniStore()\n                    var props = _objectSpread({}, this.props)\n\n                    props.className += ' '.concat(props.prefixCls, '-root')\n                    props = _objectSpread({}, props, {\n                        onClick: this.onClick,\n                        onOpenChange: this.onOpenChange,\n                        onDeselect: this.onDeselect,\n                        onSelect: this.onSelect,\n                        parentMenu: this,\n                        motion: getMotion(this.props),\n                    })\n                    delete props.openAnimation\n                    delete props.openTransitionName\n                    return React.createElement(\n                        Provider,\n                        {\n                            store: this.store,\n                        },\n                        React.createElement(\n                            SubPopupMenu,\n                            Object.assign({}, props, {\n                                ref: this.setInnerMenu,\n                            }),\n                            this.props.children\n                        )\n                    )\n                },\n            },\n        ])\n\n        return Menu\n    })(React.Component)\n\nMenu.defaultProps = {\n    selectable: true,\n    onClick: noop,\n    onSelect: noop,\n    onOpenChange: noop,\n    onDeselect: noop,\n    defaultSelectedKeys: [],\n    defaultOpenKeys: [],\n    subMenuOpenDelay: 0.1,\n    subMenuCloseDelay: 0.1,\n    triggerSubMenuAction: 'hover',\n    prefixCls: 'rc-menu',\n    className: '',\n    mode: 'vertical',\n    style: {},\n    builtinPlacements: {},\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7'),\n    topMenuBlockClasses: [],\n    topMenuItemClasses: [],\n    topMenuItemActiveClasses: [],\n    popupMenuBlockClasses: [],\n    popupMenuItemClasses: [],\n    popupMenuItemActiveClasses: [],\n    activeKeys: [],\n}\nexport default Menu\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport KeyCode from 'rc-util/es/KeyCode'\nimport classNames from 'classnames'\nimport scrollIntoView from 'dom-scroll-into-view'\nimport { connect } from 'mini-store'\nimport { noop, menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object)\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object)\n        if (enumerableOnly)\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\n            })\n        keys.push.apply(keys, symbols)\n    }\n    return keys\n}\n\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        if (i % 2) {\n            ownKeys(source, true).forEach(function(key) {\n                _defineProperty(target, key, source[key])\n            })\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(\n                target,\n                Object.getOwnPropertyDescriptors(source)\n            )\n        } else {\n            ownKeys(source).forEach(function(key) {\n                Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(source, key)\n                )\n            })\n        }\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nexport var MenuItem =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItem, _React$Component)\n\n        function MenuItem() {\n            var _this\n\n            _classCallCheck(this, MenuItem)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItem).apply(this, arguments)\n            )\n\n            _this.onKeyDown = function(e) {\n                var keyCode = e.keyCode\n\n                if (keyCode === KeyCode.ENTER) {\n                    _this.onClick(e)\n\n                    return true\n                }\n\n                return undefined\n            }\n\n            _this.onMouseLeave = function(e) {\n                var _this$props = _this.props,\n                    eventKey = _this$props.eventKey,\n                    onItemHover = _this$props.onItemHover,\n                    onMouseLeave = _this$props.onMouseLeave\n                onItemHover({\n                    key: eventKey,\n                    hover: false,\n                })\n                onMouseLeave({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onMouseEnter = function(e) {\n                var _this$props2 = _this.props,\n                    eventKey = _this$props2.eventKey,\n                    onItemHover = _this$props2.onItemHover,\n                    onMouseEnter = _this$props2.onMouseEnter\n                onItemHover({\n                    key: eventKey,\n                    hover: true,\n                })\n                onMouseEnter({\n                    key: eventKey,\n                    domEvent: e,\n                })\n            }\n\n            _this.onClick = function(e) {\n                var _this$props3 = _this.props,\n                    eventKey = _this$props3.eventKey,\n                    multiple = _this$props3.multiple,\n                    onClick = _this$props3.onClick,\n                    onSelect = _this$props3.onSelect,\n                    onDeselect = _this$props3.onDeselect,\n                    isSelected = _this$props3.isSelected\n                var info = {\n                    key: eventKey,\n                    keyPath: [eventKey],\n                    item: _assertThisInitialized(_this),\n                    domEvent: e,\n                }\n                onClick(info)\n\n                if (multiple) {\n                    if (isSelected) {\n                        onDeselect(info)\n                    } else {\n                        onSelect(info)\n                    }\n                } else if (!isSelected) {\n                    onSelect(info)\n                }\n            }\n\n            _this.saveNode = function(node) {\n                _this.node = node\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItem, [\n            {\n                key: 'componentDidMount',\n                value: function componentDidMount() {\n                    // invoke customized ref to expose component to mixin\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentDidUpdate',\n                value: function componentDidUpdate(prevProps) {\n                    var _this$props4 = this.props,\n                        active = _this$props4.active,\n                        parentMenu = _this$props4.parentMenu,\n                        eventKey = _this$props4.eventKey //  parentMenu  MenuItem key \n                    // https://github.com/ant-design/ant-design/issues/16181\n\n                    if (\n                        !prevProps.active &&\n                        active &&\n                        (!parentMenu ||\n                            !parentMenu['scrolled-'.concat(eventKey)])\n                    ) {\n                        if (this.node) {\n                            scrollIntoView(\n                                this.node,\n                                ReactDOM.findDOMNode(parentMenu),\n                                {\n                                    onlyScrollIfNeeded: true,\n                                }\n                            )\n                            parentMenu['scrolled-'.concat(eventKey)] = true\n                        }\n                    } else if (\n                        parentMenu &&\n                        parentMenu['scrolled-'.concat(eventKey)]\n                    ) {\n                        delete parentMenu['scrolled-'.concat(eventKey)]\n                    }\n\n                    this.callRef()\n                },\n            },\n            {\n                key: 'componentWillUnmount',\n                value: function componentWillUnmount() {\n                    var props = this.props\n\n                    if (props.onDestroy) {\n                        props.onDestroy(props.eventKey)\n                    }\n                },\n            },\n            {\n                key: 'getPrefixCls',\n                value: function getPrefixCls() {\n                    return ''.concat(this.props.rootPrefixCls, '-item')\n                },\n            },\n            {\n                key: 'getActiveClassName',\n                value: function getActiveClassName() {\n                    return ''.concat(this.getPrefixCls(), '-active')\n                },\n            },\n            {\n                key: 'getSelectedClassName',\n                value: function getSelectedClassName() {\n                    return ''.concat(this.getPrefixCls(), '-selected')\n                },\n            },\n            {\n                key: 'getDisabledClassName',\n                value: function getDisabledClassName() {\n                    return ''.concat(this.getPrefixCls(), '-disabled')\n                },\n            },\n            {\n                key: 'callRef',\n                value: function callRef() {\n                    if (this.props.manualRef) {\n                        this.props.manualRef(this)\n                    }\n                },\n            },\n            {\n                key: 'render',\n                value: function render() {\n                    var _classNames\n\n                    var props = _objectSpread({}, this.props)\n                    var className = classNames(\n                        this.getPrefixCls(),\n                        props.className,\n                        ((_classNames = {}),\n                        _defineProperty(\n                            _classNames,\n                            this.getActiveClassName(),\n                            !props.disabled && props.active\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getSelectedClassName(),\n                            props.isSelected\n                        ),\n                        _defineProperty(\n                            _classNames,\n                            this.getDisabledClassName(),\n                            props.disabled\n                        ),\n                        _classNames)\n                    )\n\n                    var attrs = _objectSpread({}, props.attribute, {\n                        title: props.title,\n                        className: [\n                            className,\n                            ...(props.isSub\n                                ? props.store.getState().popupMenuItemClasses\n                                : props.store.getState().topMenuItemClasses),\n                            ...(props.store\n                                .getState()\n                                .activeKeys.includes(this.props.eventKey)\n                                ? props.isSub\n                                    ? props.store.getState()\n                                          .popupMenuItemActiveClasses\n                                    : props.store.getState()\n                                          .topMenuItemActiveClasses\n                                : []),\n                        ].join(' '),\n                        // set to menuitem by default\n                        role: props.role || 'menuitem',\n                        'aria-disabled': props.disabled,\n                    })\n\n                    if (props.role === 'option') {\n                        // overwrite to option\n                        attrs = _objectSpread({}, attrs, {\n                            role: 'option',\n                            'aria-selected': props.isSelected,\n                        })\n                    } else if (props.role === null || props.role === 'none') {\n                        // sometimes we want to specify role inside <li/> element\n                        // <li><a role='menuitem'>Link</a></li> would be a good example\n                        // in this case the role on <li/> should be \"none\" to\n                        // remove the implied listitem role.\n                        // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n                        attrs.role = 'none'\n                    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n                    var mouseEvent = {\n                        onClick: props.disabled ? null : this.onClick,\n                        onMouseLeave: props.disabled ? null : this.onMouseLeave,\n                        onMouseEnter: props.disabled ? null : this.onMouseEnter,\n                    }\n\n                    var style = _objectSpread({}, props.style)\n\n                    if (props.mode === 'inline') {\n                        style.paddingLeft = props.inlineIndent * props.level\n                    }\n\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    })\n                    var icon = this.props.itemIcon\n\n                    if (typeof this.props.itemIcon === 'function') {\n                        // TODO: This is a bug which should fixed after TS refactor\n                        icon = React.createElement(\n                            this.props.itemIcon,\n                            this.props\n                        )\n                    }\n                    delete props.isSub\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, attrs, mouseEvent, {\n                            style: style,\n                            ref: this.saveNode,\n                        }),\n                        props.children,\n                        icon\n                    )\n                },\n            },\n        ])\n\n        return MenuItem\n    })(React.Component)\nMenuItem.isMenuItem = true\nMenuItem.defaultProps = {\n    onSelect: noop,\n    onMouseEnter: noop,\n    onMouseLeave: noop,\n    manualRef: noop,\n}\nvar connected = connect(function(_ref, _ref2) {\n    var activeKey = _ref.activeKey,\n        selectedKeys = _ref.selectedKeys\n    var eventKey = _ref2.eventKey,\n        subMenuKey = _ref2.subMenuKey\n    return {\n        active: activeKey[subMenuKey] === eventKey,\n        isSelected: selectedKeys.indexOf(eventKey) !== -1,\n    }\n})(MenuItem)\nexport default connected\n","import * as React from 'react'\nimport { menuAllProps } from './util'\nfunction _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n        _typeof = function _typeof(obj) {\n            return typeof obj\n        }\n    } else {\n        _typeof = function _typeof(obj) {\n            return obj &&\n                typeof Symbol === 'function' &&\n                obj.constructor === Symbol &&\n                obj !== Symbol.prototype\n                ? 'symbol'\n                : typeof obj\n        }\n    }\n    return _typeof(obj)\n}\n\nfunction _extends() {\n    _extends =\n        Object.assign ||\n        function(target) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i]\n                for (var key in source) {\n                    if (Object.prototype.hasOwnProperty.call(source, key)) {\n                        target[key] = source[key]\n                    }\n                }\n            }\n            return target\n        }\n    return _extends.apply(this, arguments)\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function')\n    }\n}\n\nfunction _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i]\n        descriptor.enumerable = descriptor.enumerable || false\n        descriptor.configurable = true\n        if ('value' in descriptor) descriptor.writable = true\n        Object.defineProperty(target, descriptor.key, descriptor)\n    }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps)\n    if (staticProps) _defineProperties(Constructor, staticProps)\n    return Constructor\n}\n\nfunction _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === 'object' || typeof call === 'function')) {\n        return call\n    }\n    return _assertThisInitialized(self)\n}\n\nfunction _assertThisInitialized(self) {\n    if (self === void 0) {\n        throw new ReferenceError(\n            \"this hasn't been initialised - super() hasn't been called\"\n        )\n    }\n    return self\n}\n\nfunction _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n        ? Object.getPrototypeOf\n        : function _getPrototypeOf(o) {\n              return o.__proto__ || Object.getPrototypeOf(o)\n          }\n    return _getPrototypeOf(o)\n}\n\nfunction _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n        throw new TypeError(\n            'Super expression must either be null or a function'\n        )\n    }\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: { value: subClass, writable: true, configurable: true },\n    })\n    if (superClass) _setPrototypeOf(subClass, superClass)\n}\n\nfunction _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n        Object.setPrototypeOf ||\n        function _setPrototypeOf(o, p) {\n            o.__proto__ = p\n            return o\n        }\n    return _setPrototypeOf(o, p)\n}\n\nvar MenuItemGroup =\n    /*#__PURE__*/\n    (function(_React$Component) {\n        _inherits(MenuItemGroup, _React$Component)\n\n        function MenuItemGroup() {\n            var _this\n\n            _classCallCheck(this, MenuItemGroup)\n\n            _this = _possibleConstructorReturn(\n                this,\n                _getPrototypeOf(MenuItemGroup).apply(this, arguments)\n            )\n\n            _this.renderInnerMenuItem = function(item) {\n                var _this$props = _this.props,\n                    renderMenuItem = _this$props.renderMenuItem,\n                    index = _this$props.index\n                return renderMenuItem(item, index, _this.props.subMenuKey)\n            }\n\n            return _this\n        }\n\n        _createClass(MenuItemGroup, [\n            {\n                key: 'render',\n                value: function render() {\n                    var props = _extends({}, this.props)\n\n                    var _props$className = props.className,\n                        className =\n                            _props$className === void 0 ? '' : _props$className,\n                        rootPrefixCls = props.rootPrefixCls\n                    var titleClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-title'\n                    )\n                    var listClassName = ''.concat(\n                        rootPrefixCls,\n                        '-item-group-list'\n                    )\n                    var title = props.title,\n                        children = props.children\n                    menuAllProps.forEach(function(key) {\n                        return delete props[key]\n                    }) // Set onClick to null, to ignore propagated onClick event\n\n                    delete props.onClick\n                    return React.createElement(\n                        'li',\n                        Object.assign({}, props, {\n                            className: ''\n                                .concat(className, ' ')\n                                .concat(rootPrefixCls, '-item-group'),\n                        }),\n                        React.createElement(\n                            'div',\n                            {\n                                className: titleClassName,\n                                title:\n                                    typeof title === 'string'\n                                        ? title\n                                        : undefined,\n                            },\n                            title\n                        ),\n                        React.createElement(\n                            'ul',\n                            {\n                                className: listClassName,\n                            },\n                            React.Children.map(\n                                children,\n                                this.renderInnerMenuItem\n                            )\n                        )\n                    )\n                },\n            },\n        ])\n\n        return MenuItemGroup\n    })(React.Component)\n\nMenuItemGroup.isMenuItemGroup = true\nMenuItemGroup.defaultProps = {\n    disabled: true,\n}\nexport default MenuItemGroup\n","import * as React from 'react';\n\nvar Divider = function Divider(_ref) {\n  var className = _ref.className,\n      rootPrefixCls = _ref.rootPrefixCls,\n      style = _ref.style;\n  return React.createElement(\"li\", {\n    className: \"\".concat(className, \" \").concat(rootPrefixCls, \"-item-divider\"),\n    style: style\n  });\n};\n\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","export const checkIfCapital = (char: string) => {\n    if (char === char.toUpperCase() && char !== char.toLowerCase()) {\n        return true\n    }\n}\nfunction _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {}\n        var ownKeys = Object.keys(source)\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(\n                Object.getOwnPropertySymbols(source).filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(\n                        source,\n                        sym\n                    ).enumerable\n                })\n            )\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key])\n        })\n    }\n    return target\n}\n\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true,\n        })\n    } else {\n        obj[key] = value\n    }\n    return obj\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {}\n    var target = _objectWithoutPropertiesLoose(source, excluded)\n    var key, i\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source)\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n            key = sourceSymbolKeys[i]\n            if (excluded.indexOf(key) >= 0) continue\n            if (!Object.prototype.propertyIsEnumerable.call(source, key))\n                continue\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {}\n    var target = {}\n    var sourceKeys = Object.keys(source)\n    var key, i\n    for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i]\n        if (excluded.indexOf(key) >= 0) continue\n        target[key] = source[key]\n    }\n    return target\n}\n\nexport function buildTree(items) {\n    var buildItem = function buildItem(item) {\n        var path = item.path,\n            data = _objectWithoutProperties(item, ['path'])\n\n        return _objectSpread({}, data, {\n            children: items\n                .filter(function(child) {\n                    return child.path[child.path.length - 1] === item.id\n                })\n                .map(function(child) {\n                    return buildItem(child)\n                }),\n        })\n    }\n\n    var tree = items\n        .filter(function(item) {\n            return item.path.length === 0\n        })\n        .map(function(item) {\n            return buildItem(item)\n        })\n    return tree\n}\n\nexport const getInheritedPropertyName = (value: string) => {\n    const length = value.length\n    if (length > 2) {\n        if (value.charAt(0) === '$' && value.charAt(length - 1) === '$') {\n            return value.substr(1, length - 2)\n        }\n    }\n    return false\n}\n","import React from 'react'\nimport Menu, { SubMenu, MenuItem } from './MenuModule/index'\nimport buildItemsForMenu from './methods/buildItemsForMenu'\n\nconst activeKeys = []\n\nconst MenuElement = props => {\n    const builtItems = buildItemsForMenu(props)\n    activeKeys.length = 0\n\n    const innerItems = builtItems.map((item, index) => {\n        if (item.children.length === 0) {\n            const key = item.id + '_' + index\n            if (\n                item.url === props.mD.baseUrl + props.pageInStructure.url ||\n                (item.url === '' && props.pageInStructure.homepage)\n            )\n                activeKeys.push(key)\n            return (\n                <MenuItem\n                    key={item.id + '_' + index}\n                    className={item.properties ? item.properties.itemClass : ''}\n                >\n                    <div\n                        style={{ height: '100%', width: '100%' }}\n                        onClick={() => (window.location = item.url)}\n                    >\n                        {item.name}\n                    </div>\n                </MenuItem>\n            )\n        } else {\n            return (\n                <SubMenu1\n                    item={item}\n                    key={item.id + '_' + index}\n                    pageInStructure={props.pageInStructure}\n                />\n            )\n        }\n    })\n    console.log(props.elementValues)\n    return (\n        <Menu\n            prefixCls={'systemclass_menu'}\n            getPopupContainer={document.body}\n            topMenuBlockClasses={\n                props.elementValues.properties.topMenuBlockClasses\n            }\n            topMenuItemClasses={\n                props.elementValues.properties.topMenuItemClasses\n            }\n            topMenuItemActiveClasses={\n                props.elementValues.properties.topMenuItemActiveClasses\n            }\n            popupMenuBlockClasses={\n                props.elementValues.properties.popupMenuBlockClasses\n            }\n            popupMenuItemClasses={\n                props.elementValues.properties.popupMenuItemClasses\n            }\n            popupMenuItemActiveClasses={\n                props.elementValues.properties.popupMenuItemActiveClasses\n            }\n            mode={props.elementValues.properties.mode}\n            selectable={false}\n            triggerSubMenuAction={props.elementValues.properties.trigger}\n            activeKeys={activeKeys}\n        >\n            {innerItems}\n        </Menu>\n    )\n}\n\nconst SubMenu1 = props => {\n    const { ...other } = props\n    return (\n        <SubMenu {...other} title={props.item.name}>\n            {props.item.children.map((item, index) => {\n                if (item.children.length === 0) {\n                    const key = item.id + '_' + index\n                    if (\n                        item.url ===\n                            props.mD.baseUrl + props.pageInStructure.url ||\n                        (item.url === '' && props.pageInStructure.homepage)\n                    )\n                        activeKeys.push(key)\n                    return (\n                        <MenuItem key={key}>\n                            <div\n                                style={{ height: '100%', width: '100%' }}\n                                onClick={() => (window.location = item.url)}\n                            >\n                                {item.name}\n                            </div>\n                        </MenuItem>\n                    )\n                } else {\n                    return (\n                        <SubMenu2\n                            item={item}\n                            {...other}\n                            key={item.id + '_' + index}\n                            pageInStructure={props.pageInStructure}\n                        />\n                    )\n                }\n            })}\n        </SubMenu>\n    )\n}\n\nconst SubMenu2 = SubMenu1\n\nexport default MenuElement\n","import { buildTree } from '../../utils/basic'\n\nexport default props => {\n    const buildMenuItems = menuItems => {\n        let structureAfterVariables = []\n        const structure = []\n        if (menuItems) {\n            menuItems.forEach(item => {\n                if (item.generatedFrom === 'variable') {\n                    if (props.parentPluginProps[item.name]) {\n                        structureAfterVariables = [\n                            ...structureAfterVariables,\n                            ...props.parentPluginProps[item.name],\n                        ]\n                    }\n                } else {\n                    structureAfterVariables.push(item)\n                }\n            })\n\n            structureAfterVariables.forEach(item => {\n                if (item.generatedFrom === 'all') {\n                    props.mD.pagesStructure.forEach(page => {\n                        if (!hiddenPages.includes(page.id)) {\n                            structure.push({\n                                name: page.name,\n                                properties: item.properties,\n                                id: item.id + page.id,\n                                path: [\n                                    ...item.path,\n                                    ...page.path.map(l => item.id + l),\n                                ],\n                                url: props.mD.baseUrl + page.url,\n                            })\n                        }\n                    })\n                } else if (item.all) {\n                    props.mD.pagesStructure.forEach(page => {\n                        if (\n                            page.path.includes(item.generatedFrom) &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id + page.id,\n                                name: page.name,\n                                properties: item.properties,\n                                path: [\n                                    ...item.path,\n                                    ...page.path\n                                        .slice(\n                                            page.path.indexOf(\n                                                item.generatedFrom\n                                            ) - 1\n                                        )\n                                        .map(l => item.id + l),\n                                ],\n                                url: props.mD.baseUrl + page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom !== 'link') {\n                    props.mD.pagesStructure.forEach(page => {\n                        if (\n                            page.id === item.generatedFrom &&\n                            !hiddenPages.includes(page.id)\n                        ) {\n                            structure.push({\n                                id: item.id,\n                                name: item.name,\n                                properties: item.properties,\n                                path: item.path,\n                                url: props.mD.baseUrl + page.url,\n                            })\n                        }\n                    })\n                } else if (item.generatedFrom === 'link') {\n                    structure.push({\n                        id: item.id,\n                        name: item.name,\n                        path: item.path,\n                        url: item.properties ? item.properties.url || '' : '',\n                        properties: item.properties,\n                    })\n                }\n            })\n        }\n        return structure\n    }\n    const hiddenPages = []\n    props.mD.pagesStructure.forEach(page => {\n        if (page.hidden) hiddenPages.push(page.id)\n    })\n    props.mD.pagesStructure.forEach(page => {\n        page.path.forEach(id => {\n            if (hiddenPages.includes(id)) {\n                hiddenPages.push(page.id)\n            }\n        })\n    })\n\n    return buildTree(buildMenuItems(props.elementValues.menuItems))\n}\n","import { getInheritedPropertyName } from '../../utils/basic'\n\nimport type Props from '../BuilderElement'\n\nexport const setBoxProperties = (\n    box: HTMLElement,\n    refinedProperties: {},\n    props: Props\n) => {\n    while (box.attributes.length > 0)\n        box.removeAttribute(box.attributes[0].name)\n    if (props.element.style) {\n        const style = props.element.style.replace(/\\$[^:;\\$\\s]*\\$/g, match => {\n            const inheritedPropertyName = getInheritedPropertyName(match)\n            return inheritedPropertyName\n                ? props.parentPluginProps[inheritedPropertyName] || ''\n                : ''\n        })\n        box.setAttribute('style', style)\n    }\n\n    for (let attribute in refinedProperties) {\n        const attr = attribute.toLowerCase()\n        switch (attr) {\n            case 'style':\n                break\n            case '':\n                break\n            case 'href':\n                if (\n                    refinedProperties[attr].indexOf('http://') > -1 ||\n                    refinedProperties[attr].indexOf('https://') > -1\n                ) {\n                    box.setAttribute('href', refinedProperties[attr])\n                } else {\n                    box.setAttribute(\n                        'href',\n                        props.mD.baseUrl + refinedProperties[attr]\n                    )\n                }\n                break\n            default:\n                box.setAttribute(attr, refinedProperties[attr])\n                break\n        }\n    }\n}\n","import React, { useRef, useEffect } from 'react'\nimport { isEqual, omit } from 'lodash'\nimport parse from 'html-react-parser'\nimport sanitize from 'sanitize-html'\nimport Menu from '../Menu/Menu'\n\nimport { checkIfCapital, getInheritedPropertyName } from '../utils/basic'\nimport { setBoxProperties } from './methods/useEffect'\nimport refineProperties from './methods/refineProperties'\n\ntype Props = {\n    element: pageStructureElementType,\n    structure: pageStructureType,\n    pagesStructure: filesStructureType,\n    pluginsStructure: filesStructureType,\n    resourcesObjects: resourcesObjectsType,\n    pluginsPathArray: Array<{}>,\n}\n\nconst _BuilderElement = (props: Props) => {\n    const elementRef = useRef(null)\n\n    useEffect(() => {\n        const box = elementRef.current\n        if (box) {\n            if (Tag === 'script') {\n                const newScript = document.createElement('script')\n                newScript.textContent = box.textContent\n                setBoxProperties(newScript, refinedProperties, props)\n                box.parentNode.appendChild(newScript)\n                box.parentNode.removeChild(box)\n            } else {\n                setBoxProperties(box, refinedProperties, props)\n            }\n        }\n    })\n    const elementValues = props.resourceDraft.values[props.element.id] || {}\n    const refinedProperties = refineProperties({ ...props, elementValues })\n\n    const currentPath = [...props.element.path, props.element.id]\n\n    let Tag = props.element.tag || 'div'\n\n    /* Tag = Tag.replace(/[^a-zA-Z]/g, '') */\n\n    Tag = Tag.length > 0 ? Tag : 'div'\n\n    let result = null\n    if (props.element.childrenTo) {\n        result = null\n    } else if (props.element.isChildren) {\n        const childrenMainElement = props.childrenForPlugin.find(\n            itemInn =>\n                itemInn.childrenTo === props.element.id &&\n                itemInn.forPlugin === props.sourcePlugin\n        )\n\n        if (childrenMainElement) {\n            const newStructure = props.childrenForPlugin.filter(itemInn =>\n                itemInn.path.includes(childrenMainElement.id)\n            )\n\n            result = newStructure\n                .filter(itemInn => {\n                    if (itemInn.path.length > 0) {\n                        if (\n                            itemInn.path[itemInn.path.length - 1] ===\n                            childrenMainElement.id\n                        )\n                            return true\n                    }\n                    return false\n                })\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={newStructure}\n                        element={item}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={childrenMainElement.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        resourceDraft={props.resourceDraft}\n                        currentResource={props.currentResource}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        pageInStructure={props.pageInStructure}\n                        isHead={props.isHead}\n                        mD={props.mD}\n                    />\n                ))\n        }\n    } else if (props.element.isElementFromCMSVariable) {\n        const inheritedPropertyName = props.element.tag\n\n        let parseText = ''\n\n        if (inheritedPropertyName) {\n            if (props.parentPluginProps[inheritedPropertyName]) {\n                parseText = props.parentPluginProps[inheritedPropertyName]\n            }\n        }\n\n        return parse(\n            sanitize(parseText, {\n                allowedTags: false,\n                allowedAttributes: false,\n            })\n        )\n    } else if (checkIfCapital(Tag.charAt(0))) {\n        const plugin = props.mD.pluginsStructure.find(item => item.name === Tag)\n        if (plugin) {\n            if (!plugin.hidden) {\n                const pluginResource = props.mD.resourcesObjects[plugin.id]\n\n                //Pass children to plugin\n                const childrenForPlugin = [\n                    ...props.structure.filter(itemInn =>\n                        itemInn.path.includes(props.element.id)\n                    ),\n                    ...(props.childrenForPlugin ? props.childrenForPlugin : []),\n                ]\n\n                if (!pluginResource.structure) return\n\n                result = pluginResource.structure\n                    .filter(itemInn =>\n                        isEqual(itemInn.path, [\n                            pluginResource.structure.filter(\n                                item => item.path.length === 0\n                            )[0].id,\n                        ])\n                    )\n                    .map(itemInn => {\n                        if (\n                            props.pluginsPathArray.find(\n                                item => item.plugin === plugin.id\n                            )\n                        ) {\n                            return null\n                        }\n                        return (\n                            <BuilderElement\n                                key={itemInn.id}\n                                structure={pluginResource.structure}\n                                element={itemInn}\n                                sourcePlugin={plugin.id}\n                                routePlugin={\n                                    props.routePlugin || props.element.id\n                                }\n                                pluginsPathArray={[\n                                    ...props.pluginsPathArray,\n                                    {\n                                        id: props.element.id,\n                                        plugin: plugin.id,\n                                    },\n                                ]}\n                                resourceDraft={pluginResource}\n                                currentResource={props.currentResource}\n                                parentPluginProps={refinedProperties}\n                                childrenForPlugin={childrenForPlugin}\n                                pageInStructure={props.pageInStructure}\n                                isHead={props.isHead}\n                                mD={props.mD}\n                            />\n                        )\n                    })\n            }\n        }\n    } else {\n        if (Tag === 'websiterMenu') {\n            result = (\n                <div ref={elementRef}>\n                    <Menu\n                        element={props.element}\n                        elementValues={elementValues}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        pageInStructure={props.pageInStructure}\n                        mD={props.mD}\n                    />\n                </div>\n            )\n        } else if (Tag === 'richEditor') {\n            return parse(\n                sanitize(elementValues.textContent, {\n                    allowedTags: false,\n                    allowedAttributes: false,\n                })\n            )\n        } else if (props.element.text) {\n            if (elementValues.textContent) {\n                result = elementValues.textContent.replace(\n                    /\\$[^:;\\$\\s]*\\$/g,\n                    match => {\n                        const inheritedPropertyName = getInheritedPropertyName(\n                            match\n                        )\n                        return inheritedPropertyName\n                            ? props.parentPluginProps[inheritedPropertyName] ||\n                                  ''\n                            : ''\n                    }\n                )\n            }\n        } else {\n            const innerResult = props.structure\n                .filter(item => isEqual(item.path, currentPath))\n                .map(item => (\n                    <BuilderElement\n                        key={item.id}\n                        structure={props.structure}\n                        element={item}\n                        pluginsPathArray={props.pluginsPathArray}\n                        sourcePlugin={props.sourcePlugin}\n                        routePlugin={props.routePlugin}\n                        resourceDraft={props.resourceDraft}\n                        currentResource={props.currentResource}\n                        parentPluginProps={props.parentPluginProps}\n                        childrenForPlugin={props.childrenForPlugin}\n                        pageInStructure={props.pageInStructure}\n                        isHead={props.isHead}\n                        mD={props.mD}\n                    />\n                ))\n\n            if (props.isHeadOrBody) result = innerResult\n            else {\n                if (\n                    [\n                        'area',\n                        'base',\n                        'br',\n                        'col',\n                        'embed',\n                        'hr',\n                        'img',\n                        'input',\n                        'keygen',\n                        'link',\n                        'meta',\n                        'param',\n                        'source',\n                        'track',\n                        'wbr',\n                    ].includes(Tag)\n                ) {\n                    if (props.isHead) {\n                        result = (\n                            <Tag\n                                {...omit(refinedProperties, ['class', 'for'])}\n                            />\n                        )\n                    } else {\n                        result = <Tag ref={elementRef} />\n                    }\n                } else {\n                    if (props.isHead) {\n                        result = (\n                            <Tag {...omit(refinedProperties, ['class', 'for'])}>\n                                {innerResult}\n                            </Tag>\n                        )\n                    } else {\n                        result = <Tag ref={elementRef}>{innerResult}</Tag>\n                    }\n                }\n            }\n        }\n    }\n    if (props.isHead && !props.isHeadOrBody) return result\n    else return result\n}\n\nconst BuilderElement = _BuilderElement\n\nexport default BuilderElement\n","import { getInheritedPropertyName } from '../../utils/basic'\nimport { CloudFrontUrl, bucket } from '../../awsConfig'\n\nimport type Props from '../BuilderElement'\n\nexport default (props: Props) => {\n    const result = {}\n    for (let attribute in props.elementValues.properties) {\n        const inheritedPropertyName = getInheritedPropertyName(\n            props.elementValues.properties[attribute]\n        )\n        result[attribute] = inheritedPropertyName\n            ? props.parentPluginProps[inheritedPropertyName]\n            : props.elementValues.properties[attribute]\n        result[attribute] = JSON.parse(\n            JSON.stringify(result[attribute]).replace(\n                // /\\$[^:;\\$\\s]*\\$/g,\n                /\\$[A-Za-z0-9]*\\$/g,\n                match => {\n                    const inheritedPropertyName = getInheritedPropertyName(\n                        match\n                    )\n                    return inheritedPropertyName\n                        ? props.parentPluginProps[inheritedPropertyName] || ''\n                        : ''\n                }\n            )\n        )\n        if (attribute === 'src') {\n            let url = result[attribute] || ''\n            const path = url.split('/')\n            if (path.length > 1) {\n                if (path[0] === 'websiter') {\n                    path.shift()\n                    let width, height\n                    if (path.length > 1) {\n                        const sizes = path[path.length - 1]\n                        const indexW = sizes.indexOf('w')\n                        const indexH = sizes.indexOf('h')\n                        if (indexW > -1 && indexH > -1) {\n                            if (indexW < indexH) {\n                                width = sizes.substr(indexW + 1, indexH - 1)\n                                height = sizes.substr(indexH + 1)\n                            } else {\n                                height = sizes.substr(indexH + 1, indexW - 1)\n                                width = sizes.substr(indexW + 1)\n                            }\n                        } else {\n                            if (indexW > -1) width = sizes.substr(indexW + 1)\n                            if (indexH > -1) height = sizes.substr(indexH + 1)\n                        }\n                    }\n\n                    if (isNaN(width)) width = null\n                    else width = parseInt(width)\n                    if (isNaN(height)) height = null\n                    else height = parseInt(height)\n\n                    if (width || height) {\n                        path.pop()\n                    }\n\n                    const imageRequest = JSON.stringify({\n                        bucket: bucket,\n                        key: path.join('/'),\n                        edits: {\n                            resize: {\n                                width: width || '',\n                                height: height || null,\n                                fit: 'cover',\n                                background: { r: 0, g: 0, b: 0, alpha: 0 },\n                            },\n                            toFormat: 'png',\n                        },\n                    })\n\n                    url = `${CloudFrontUrl}/${btoa(imageRequest)}`\n                    result[attribute] = url\n                }\n            }\n        }\n    }\n    return result\n}\n\nexport const refinePropertiesFromCMS = mD => {\n    const result = {}\n    if (mD.pageTemplateDraft && mD.currentPageDraft)\n        mD.pageTemplateDraft.structure.forEach(item => {\n            if (item.path.length > 0) {\n                if (item.path[0] === 'element_02') {\n                    const resourceVariable = mD.currentPageDraft.values[item.id]\n\n                    const itemValues = mD.pageTemplateDraft.values[item.id]\n                    if (itemValues.CMSVariableSystemName)\n                        if (itemValues.CMSVariableType === 'menuItems') {\n                            result[\n                                itemValues.CMSVariableSystemName\n                            ] = resourceVariable\n                                ? resourceVariable.menuItems\n                                    ? resourceVariable.menuItems.length > 0\n                                        ? resourceVariable.menuItems\n                                        : itemValues.defaultMenuItems\n                                    : itemValues.defaultMenuItems\n                                : itemValues.defaultMenuItems\n                        } else {\n                            result[\n                                itemValues.CMSVariableSystemName\n                            ] = resourceVariable\n                                ? resourceVariable.value ||\n                                  itemValues.CMSVariableDefaultValue\n                                : itemValues.CMSVariableDefaultValue\n                        }\n                }\n            }\n        })\n    return result\n}\n","export const bucket = 'websiter'\nexport const CloudFrontUrl = 'https://d397lp77nj14b9.cloudfront.net/'\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport isEqual from 'lodash/isEqual'\nimport BuilderElement from './BuilderElement/BuilderElement'\nimport { renderToString } from 'react-dom/server'\nimport { refinePropertiesFromCMS } from './BuilderElement/methods/refineProperties'\n\nif (process.env.NODE_ENV === 'development') {\n    axios.defaults.baseURL = 'http://api.websiter.dev:5000'\n} else {\n    axios.defaults.baseURL = 'https://api.websiter.dev'\n}\n\naxios.defaults.headers.post['Content-Type'] = 'application/json'\naxios.defaults.headers.put['Content-Type'] = 'application/json'\naxios.defaults.headers.delete['Content-Type'] = 'application/json'\naxios.defaults.headers.common.Accept = 'application/json'\n\nclass App extends Component {\n    mD = {\n        resourcesObjects: {},\n        page: '',\n        template: '',\n        structure: [],\n        pagesStructure: [],\n        pluginsStructure: [],\n        baseUrl: '',\n        domainNoIndex: false,\n    }\n\n    state = {\n        loaded: false,\n    }\n\n    componentDidMount() {\n        return axios\n            .post(\n                '/api/resources/live',\n                JSON.stringify({\n                    url: window.location.href,\n                })\n            )\n            .then(response => {\n                this.mD = {\n                    ...response.data,\n                    structure:\n                        response.data.resourcesObjects[response.data.template]\n                            .structure,\n                }\n                console.log(this.mD)\n                this.setState({ loaded: true })\n            })\n            .catch(err => {})\n    }\n\n    render() {\n        const { mD } = this\n\n        const currentPageItemInStructure = mD.pagesStructure.find(\n            item => item.id === mD.page\n        )\n        if (mD.structure.length > 0) {\n            const bodyElement = mD.structure.filter(\n                item => item.path.length === 1\n            )[1]\n            const bodyProps = bodyElement.properties\n            const bodyStyle = bodyElement.style\n            if (bodyStyle) bodyProps.style = bodyStyle\n            for (let attr in bodyProps) {\n                document.body.setAttribute(attr, bodyProps[attr])\n            }\n\n            const htmlElement = mD.structure.filter(\n                item => item.path.length === 0\n            )[0]\n            const htmlProps = htmlElement.properties\n            const htmlStyle = htmlElement.style\n            if (htmlStyle) htmlProps.style = htmlStyle\n            for (let attr in htmlProps) {\n                document.documentElement.setAttribute(attr, htmlProps[attr])\n            }\n\n            const refinedProperties = refinePropertiesFromCMS({\n                pageTemplateDraft: mD.resourcesObjects[mD.template],\n                currentPageDraft: mD.resourcesObjects[mD.page],\n            })\n            const pageResult = mD.structure\n                .filter(itemInn => isEqual(itemInn.path, ['element_01']))\n                .map((itemInn, index) => {\n                    const result = (\n                        <BuilderElement\n                            key={itemInn.id}\n                            structure={mD.structure}\n                            element={itemInn}\n                            resourceDraft={\n                                mD.template\n                                    ? mD.resourcesObjects[mD.template]\n                                    : {}\n                            }\n                            currentResource={mD.page}\n                            isHead={index === 0}\n                            isHeadOrBody={true}\n                            pluginsPathArray={[]}\n                            pageInStructure={currentPageItemInStructure}\n                            parentPluginProps={refinedProperties}\n                            mD={mD}\n                        />\n                    )\n                    if (index === 0) {\n                        document.head.innerHTML =\n                            document.head.innerHTML +\n                            (mD.domainNoIndex && mD.baseUrl\n                                ? '<meta name=\"robots\" content=\"noindex\">'\n                                : ' ') +\n                            renderToString(result)\n\n                        return null\n                    } else {\n                        return result\n                    }\n                })\n            return (\n                <>\n                    {pageResult}{' '}\n                    <div\n                        style={{\n                            position: 'fixed',\n                            width: '100%',\n                            height: '50px',\n                            background: 'black',\n                            color: 'white',\n                            bottom: '0px',\n                        }}\n                    >\n                        This website has been built with and is hosted on\n                        <a href=\"https://websiter.dev/\">Websiter.dev</a>.{' '}\n                        <a href=\"https://websiter.dev/\">\n                            Build your website with the power of Websiter.\n                        </a>\n                    </div>\n                </>\n            )\n        } else {\n            return null\n        }\n    }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.body);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}